/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------------------------------------------*/

var sme=Object.create;var ab=Object.defineProperty;var ame=Object.getOwnPropertyDescriptor;var cme=Object.getOwnPropertyNames;var ume=Object.getPrototypeOf,lme=Object.prototype.hasOwnProperty;var k=(t,e)=>()=>(t&&(e=t(t=0)),e);var b=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ua=(t,e)=>{for(var n in e)ab(t,n,{get:e[n],enumerable:!0})},MB=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cme(e))!lme.call(t,i)&&i!==n&&ab(t,i,{get:()=>e[i],enumerable:!(r=ame(e,i))||r.enumerable});return t};var B=(t,e,n)=>(n=t!=null?sme(ume(t)):{},MB(e||!t||!t.__esModule?ab(n,"default",{value:t,enumerable:!0}):n,t)),Xi=t=>MB(ab({},"__esModule",{value:!0}),t);var Pr=b((LWe,BB)=>{"use strict";var fme=Object.create,ub=Object.defineProperty,dme=Object.getOwnPropertyDescriptor,jB=Object.getOwnPropertyNames,pme=Object.getPrototypeOf,mme=Object.prototype.hasOwnProperty,hme=(t,e)=>function(){return e||(0,t[jB(t)[0]])((e={exports:{}}).exports,e),e.exports},gme=(t,e)=>{for(var n in e)ub(t,n,{get:e[n],enumerable:!0})},HB=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of jB(e))!mme.call(t,i)&&i!==n&&ub(t,i,{get:()=>e[i],enumerable:!(r=dme(e,i))||r.enumerable});return t},vme=(t,e,n)=>(n=t!=null?fme(pme(t)):{},HB(e||!t||!t.__esModule?ub(n,"default",{value:t,enumerable:!0}):n,t)),yme=t=>HB(ub({},"__esModule",{value:!0}),t),xme=hme({"node_modules/request-light/lib/node/main.js"(t){(()=>{var e={46:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u,c,{signal:l}={}){return new Promise((f,d)=>{function p(){l==null||l.removeEventListener("abort",p),u.removeListener(c,m),u.removeListener("error",h)}function m(...g){p(),f(g)}function h(g){p(),d(g)}l==null||l.addEventListener("abort",p),u.on(c,m),u.on("error",h)})}},54:function(s,a,u){"use strict";var c=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};let l=u(361),f=c(u(374)),d=c(u(304)),p=f.default("agent-base");function m(){let{stack:g}=new Error;return typeof g=="string"&&g.split(`
`).some(v=>v.indexOf("(https.js:")!==-1||v.indexOf("node:https:")!==-1)}function h(g,v){return new h.Agent(g,v)}(function(g){class v extends l.EventEmitter{constructor(y,w){super();let _=w;typeof y=="function"?this.callback=y:y&&(_=y),this.timeout=null,_&&typeof _.timeout=="number"&&(this.timeout=_.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:m()?443:80}set defaultPort(y){this.explicitDefaultPort=y}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:m()?"https:":"http:"}set protocol(y){this.explicitProtocol=y}callback(y,w,_){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(y,w){let _=Object.assign({},w);typeof _.secureEndpoint!="boolean"&&(_.secureEndpoint=m()),_.host==null&&(_.host="localhost"),_.port==null&&(_.port=_.secureEndpoint?443:80),_.protocol==null&&(_.protocol=_.secureEndpoint?"https:":"http:"),_.host&&_.path&&delete _.path,delete _.agent,delete _.hostname,delete _._defaultAgent,delete _.defaultPort,delete _.createConnection,y._last=!0,y.shouldKeepAlive=!1;let T=!1,P=null,E=_.timeout||this.timeout,C=D=>{y._hadError||(y.emit("error",D),y._hadError=!0)},S=()=>{P=null,T=!0;let D=new Error(`A "socket" was not created for HTTP request before ${E}ms`);D.code="ETIMEOUT",C(D)},I=D=>{T||(P!==null&&(clearTimeout(P),P=null),C(D))},R=D=>{if(T)return;if(P!=null&&(clearTimeout(P),P=null),A=D,!!A&&typeof A.addRequest=="function")return p("Callback returned another Agent instance %o",D.constructor.name),void D.addRequest(y,_);var A;if(D)return D.once("free",()=>{this.freeSocket(D,_)}),void y.onSocket(D);let N=new Error(`no Duplex stream was returned to agent-base for \`${y.method} ${y.path}\``);C(N)};if(typeof this.callback=="function"){this.promisifiedCallback||(this.callback.length>=3?(p("Converting legacy callback function to promise"),this.promisifiedCallback=d.default(this.callback)):this.promisifiedCallback=this.callback),typeof E=="number"&&E>0&&(P=setTimeout(S,E)),"port"in _&&typeof _.port!="number"&&(_.port=Number(_.port));try{p("Resolving socket for %o request: %o",_.protocol,`${y.method} ${y.path}`),Promise.resolve(this.promisifiedCallback(y,_)).then(R,I)}catch(D){Promise.reject(D).catch(I)}}else C(new Error("`callback` is not defined"))}freeSocket(y,w){p("Freeing socket %o %o",y.constructor.name,w),y.destroy()}destroy(){p("Destroying agent %o",this.constructor.name)}}g.Agent=v,g.prototype=g.Agent.prototype})(h||(h={})),s.exports=h},304:(s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(u){return function(c,l){return new Promise((f,d)=>{u.call(this,c,l,(p,m)=>{p?d(p):f(m)})})}}},370:function(s,a,u){"use strict";var c=this&&this.__awaiter||function(y,w,_,T){return new(_||(_=Promise))(function(P,E){function C(R){try{I(T.next(R))}catch(D){E(D)}}function S(R){try{I(T.throw(R))}catch(D){E(D)}}function I(R){var D;R.done?P(R.value):(D=R.value,D instanceof _?D:new _(function(A){A(D)})).then(C,S)}I((T=T.apply(y,w||[])).next())})},l=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(a,"__esModule",{value:!0});let f=l(u(808)),d=l(u(404)),p=l(u(310)),m=l(u(374)),h=l(u(46)),g=u(54),v=(0,m.default)("http-proxy-agent");class x extends g.Agent{constructor(w){let _;if(_=typeof w=="string"?p.default.parse(w):w,!_)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");v("Creating new HttpProxyAgent instance: %o",_),super(_);let T=Object.assign({},_);var P;this.secureProxy=_.secureProxy||typeof(P=T.protocol)=="string"&&/^https:?$/i.test(P),T.host=T.hostname||T.host,typeof T.port=="string"&&(T.port=parseInt(T.port,10)),!T.port&&T.host&&(T.port=this.secureProxy?443:80),T.host&&T.path&&(delete T.path,delete T.pathname),this.proxy=T}callback(w,_){return c(this,void 0,void 0,function*(){let{proxy:T,secureProxy:P}=this,E=p.default.parse(w.path),C;if(E.protocol||(E.protocol="http:"),E.hostname||(E.hostname=_.hostname||_.host||null),E.port==null&&(_.port,1)&&(E.port=String(_.port)),E.port==="80"&&(E.port=""),w.path=p.default.format(E),T.auth&&w.setHeader("Proxy-Authorization",`Basic ${Buffer.from(T.auth).toString("base64")}`),P?(v("Creating `tls.Socket`: %o",T),C=d.default.connect(T)):(v("Creating `net.Socket`: %o",T),C=f.default.connect(T)),w._header){let S,I;v("Regenerating stored HTTP header string for request"),w._header=null,w._implicitHeader(),w.output&&w.output.length>0?(v("Patching connection write() output buffer with updated header"),S=w.output[0],I=S.indexOf(`\r
\r
`)+4,w.output[0]=w._header+S.substring(I),v("Output buffer: %o",w.output)):w.outputData&&w.outputData.length>0&&(v("Patching connection write() output buffer with updated header"),S=w.outputData[0].data,I=S.indexOf(`\r
\r
`)+4,w.outputData[0].data=w._header+S.substring(I),v("Output buffer: %o",w.outputData[0].data))}return yield(0,h.default)(C,"connect"),C})}}a.default=x},201:function(s,a,u){"use strict";let c=(this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}})(u(370));function l(f){return new c.default(f)}(function(f){f.HttpProxyAgent=c.default,f.prototype=c.default.prototype})(l||(l={})),s.exports=l},146:function(s,a,u){"use strict";var c=this&&this.__awaiter||function(_,T,P,E){return new(P||(P=Promise))(function(C,S){function I(A){try{D(E.next(A))}catch(N){S(N)}}function R(A){try{D(E.throw(A))}catch(N){S(N)}}function D(A){var N;A.done?C(A.value):(N=A.value,N instanceof P?N:new P(function(O){O(N)})).then(I,R)}D((E=E.apply(_,T||[])).next())})},l=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(a,"__esModule",{value:!0});let f=l(u(808)),d=l(u(404)),p=l(u(310)),m=l(u(491)),h=l(u(374)),g=u(54),v=l(u(829)),x=h.default("https-proxy-agent:agent");class y extends g.Agent{constructor(T){let P;if(P=typeof T=="string"?p.default.parse(T):T,!P)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");x("creating new HttpsProxyAgent instance: %o",P),super(P);let E=Object.assign({},P);var C;this.secureProxy=P.secureProxy||typeof(C=E.protocol)=="string"&&/^https:?$/i.test(C),E.host=E.hostname||E.host,typeof E.port=="string"&&(E.port=parseInt(E.port,10)),!E.port&&E.host&&(E.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in E)&&(E.ALPNProtocols=["http 1.1"]),E.host&&E.path&&(delete E.path,delete E.pathname),this.proxy=E}callback(T,P){return c(this,void 0,void 0,function*(){let{proxy:E,secureProxy:C}=this,S;C?(x("Creating `tls.Socket`: %o",E),S=d.default.connect(E)):(x("Creating `net.Socket`: %o",E),S=f.default.connect(E));let I=Object.assign({},E.headers),R=`CONNECT ${P.host}:${P.port} HTTP/1.1\r
`;E.auth&&(I["Proxy-Authorization"]=`Basic ${Buffer.from(E.auth).toString("base64")}`);let{host:D,port:A,secureEndpoint:N}=P;(function(L,H){return!!(!H&&L===80||H&&L===443)})(A,N)||(D+=`:${A}`),I.Host=D,I.Connection="close";for(let L of Object.keys(I))R+=`${L}: ${I[L]}\r
`;let O=v.default(S);S.write(`${R}\r
`);let{statusCode:M,buffered:j}=yield O;if(M===200){if(T.once("socket",w),P.secureEndpoint){x("Upgrading socket connection to TLS");let L=P.servername||P.host;return d.default.connect(Object.assign(Object.assign({},function(H,...$){let V={},re;for(re in H)$.includes(re)||(V[re]=H[re]);return V}(P,"host","hostname","path","port")),{socket:S,servername:L}))}return S}S.destroy();let W=new f.default.Socket({writable:!1});return W.readable=!0,T.once("socket",L=>{x("replaying proxy buffer for failed request"),m.default(L.listenerCount("data")>0),L.push(j),L.push(null)}),W})}}function w(_){_.resume()}a.default=y},18:function(s,a,u){"use strict";let c=(this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}})(u(146));function l(f){return new c.default(f)}(function(f){f.HttpsProxyAgent=c.default,f.prototype=c.default.prototype})(l||(l={})),s.exports=l},829:function(s,a,u){"use strict";var c=this&&this.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(a,"__esModule",{value:!0});let l=c(u(374)).default("https-proxy-agent:parse-proxy-response");a.default=function(f){return new Promise((d,p)=>{let m=0,h=[];function g(){let y=f.read();y?function(w){h.push(w),m+=w.length;let _=Buffer.concat(h,m);if(_.indexOf(`\r
\r
`)===-1)return l("have not received end of HTTP headers yet..."),void g();let T=_.toString("ascii",0,_.indexOf(`\r
`)),P=+T.split(" ")[1];l("got proxy server response: %o",T),d({statusCode:P,buffered:_})}(y):f.once("readable",g)}function v(y){l("onclose had error %o",y)}function x(){l("onend")}f.on("error",function y(w){f.removeListener("end",x),f.removeListener("error",y),f.removeListener("close",v),f.removeListener("readable",g),l("onerror %o",w),p(w)}),f.on("close",v),f.on("end",x),g()})}},539:function(s,a,u){"use strict";var c,l=this&&this.__extends||(c=function(C,S){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,R){I.__proto__=R}||function(I,R){for(var D in R)Object.prototype.hasOwnProperty.call(R,D)&&(I[D]=R[D])},c(C,S)},function(C,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");function I(){this.constructor=C}c(C,S),C.prototype=S===null?Object.create(S):(I.prototype=S.prototype,new I)}),f=this&&this.__assign||function(){return f=Object.assign||function(C){for(var S,I=1,R=arguments.length;I<R;I++)for(var D in S=arguments[I])Object.prototype.hasOwnProperty.call(S,D)&&(C[D]=S[D]);return C},f.apply(this,arguments)};Object.defineProperty(a,"__esModule",{value:!0}),a.getErrorStatusDescription=a.xhr=a.configure=void 0;var d=u(685),p=u(687),m=u(310),h=u(472),g=u(796),v=u(201),x=u(18);if(process.env.VSCODE_NLS_CONFIG){var y=process.env.VSCODE_NLS_CONFIG;h.config(JSON.parse(y))}var w=h.loadMessageBundle(),_=void 0,T=!0;function P(C){var S;return new Promise(function(I,R){var D=(0,m.parse)(C.url),A={hostname:D.hostname,agent:!!C.agent&&C.agent,port:D.port?parseInt(D.port):D.protocol==="https:"?443:80,path:D.path,method:C.type||"GET",headers:C.headers,rejectUnauthorized:typeof C.strictSSL!="boolean"||C.strictSSL};C.user&&C.password&&(A.auth=C.user+":"+C.password);var N=function(O){if(O.statusCode>=300&&O.statusCode<400&&C.followRedirects&&C.followRedirects>0&&O.headers.location){var M=O.headers.location;M.startsWith("/")&&(M=(0,m.format)({protocol:D.protocol,hostname:D.hostname,port:D.port,pathname:M})),I(P(function(j){for(var W=[],L=1;L<arguments.length;L++)W[L-1]=arguments[L];return W.forEach(function(H){return Object.keys(H).forEach(function($){return j[$]=H[$]})}),j}({},C,{url:M,followRedirects:C.followRedirects-1})))}else I({req:S,res:O})};(S=D.protocol==="https:"?p.request(A,N):d.request(A,N)).on("error",R),C.timeout&&S.setTimeout(C.timeout),C.data&&S.write(C.data),S.end(),C.token&&(C.token.isCancellationRequested&&S.destroy(new E),C.token.onCancellationRequested(function(){S.destroy(new E)}))})}a.configure=function(C,S){_=C,T=S},a.xhr=function(C){return typeof(C=f({},C)).strictSSL!="boolean"&&(C.strictSSL=T),C.agent||(C.agent=function(S,I){I===void 0&&(I={});var R=(0,m.parse)(S),D=I.proxyUrl||function(O){return O.protocol==="http:"?process.env.HTTP_PROXY||process.env.http_proxy||null:O.protocol==="https:"&&(process.env.HTTPS_PROXY||process.env.https_proxy||process.env.HTTP_PROXY||process.env.http_proxy)||null}(R);if(!D)return null;var A=(0,m.parse)(D);if(!/^https?:$/.test(A.protocol))return null;var N={host:A.hostname,port:Number(A.port),auth:A.auth,rejectUnauthorized:typeof I.strictSSL!="boolean"||I.strictSSL,protocol:A.protocol};return R.protocol==="http:"?v(N):x(N)}(C.url,{proxyUrl:_,strictSSL:T})),typeof C.followRedirects!="number"&&(C.followRedirects=5),P(C).then(function(S){return new Promise(function(I,R){var D,A,N=S.res,O=N,M=!1,j=N.headers&&N.headers["content-encoding"];if(j&&(D=C.type,A=S.res.statusCode,!(D==="HEAD"||A>=100&&A<200||A===204||A===304))){var W={flush:g.constants.Z_SYNC_FLUSH,finishFlush:g.constants.Z_SYNC_FLUSH};if(j==="gzip"){var L=g.createGunzip(W);N.pipe(L),O=L}else if(j==="deflate"){var H=g.createInflate(W);N.pipe(H),O=H}}var $=[];O.on("data",function(V){return $.push(V)}),O.on("end",function(){if(!M){if(M=!0,C.followRedirects>0&&(N.statusCode>=300&&N.statusCode<=303||N.statusCode===307)){var V=N.headers.location;if(V.startsWith("/")){var re=(0,m.parse)(C.url);V=(0,m.format)({protocol:re.protocol,hostname:re.hostname,port:re.port,pathname:V})}if(V){var ye={type:C.type,url:V,user:C.user,password:C.password,headers:C.headers,timeout:C.timeout,followRedirects:C.followRedirects-1,data:C.data,token:C.token};return void(0,a.xhr)(ye).then(I,R)}}var Ce=Buffer.concat($),Te={responseText:Ce.toString(),body:Ce,status:N.statusCode,headers:N.headers||{}};N.statusCode>=200&&N.statusCode<300||N.statusCode===1223?I(Te):R(Te)}}),O.on("error",function(V){var re;re=E.is(V)?V:{responseText:w("error","Unable to access {0}. Error: {1}",C.url,V.message),body:Buffer.concat($),status:500,headers:{}},M=!0,R(re)}),C.token&&(C.token.isCancellationRequested&&O.destroy(new E),C.token.onCancellationRequested(function(){O.destroy(new E)}))})},function(S){var I;return I=E.is(S)?S:{responseText:C.agent?w("error.cannot.connect.proxy","Unable to connect to {0} through a proxy. Error: {1}",C.url,S.message):w("error.cannot.connect","Unable to connect to {0}. Error: {1}",C.url,S.message),body:Buffer.concat([]),status:404,headers:{}},Promise.reject(I)})},a.getErrorStatusDescription=function(C){if(!(C<400))switch(C){case 400:return w("status.400","Bad request. The request cannot be fulfilled due to bad syntax.");case 401:return w("status.401","Unauthorized. The server is refusing to respond.");case 403:return w("status.403","Forbidden. The server is refusing to respond.");case 404:return w("status.404","Not Found. The requested location could not be found.");case 405:return w("status.405","Method not allowed. A request was made using a request method not supported by that location.");case 406:return w("status.406","Not Acceptable. The server can only generate a response that is not accepted by the client.");case 407:return w("status.407","Proxy Authentication Required. The client must first authenticate itself with the proxy.");case 408:return w("status.408","Request Timeout. The server timed out waiting for the request.");case 409:return w("status.409","Conflict. The request could not be completed because of a conflict in the request.");case 410:return w("status.410","Gone. The requested page is no longer available.");case 411:return w("status.411",'Length Required. The "Content-Length" is not defined.');case 412:return w("status.412","Precondition Failed. The precondition given in the request evaluated to false by the server.");case 413:return w("status.413","Request Entity Too Large. The server will not accept the request, because the request entity is too large.");case 414:return w("status.414","Request-URI Too Long. The server will not accept the request, because the URL is too long.");case 415:return w("status.415","Unsupported Media Type. The server will not accept the request, because the media type is not supported.");case 500:return w("status.500","Internal Server Error.");case 501:return w("status.501","Not Implemented. The server either does not recognize the request method, or it lacks the ability to fulfill the request.");case 503:return w("status.503","Service Unavailable. The server is currently unavailable (overloaded or down).");default:return w("status.416","HTTP status code {0}",C)}};var E=function(C){function S(){var I=C.call(this,"The user aborted a request")||this;return I.name="AbortError",Object.setPrototypeOf(I,S.prototype),I}return l(S,C),S.is=function(I){return I instanceof S},S}(Error)},800:(s,a,u)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.localize=a.format=a.setPseudo=a.isPseudo=a.isDefined=a.BundleFormat=a.MessageFormat=void 0;var c,l,f,d=u(926);function p(h){return h!==void 0}function m(h,g){return a.isPseudo&&(h="\uFF3B"+h.replace(/[aouei]/g,"$&$&")+"\uFF3D"),g.length===0?h:h.replace(/\{(\d+)\}/g,function(v,x){var y=x[0],w=g[y],_=v;return typeof w=="string"?_=w:typeof w!="number"&&typeof w!="boolean"&&w!=null||(_=String(w)),_})}(f=a.MessageFormat||(a.MessageFormat={})).file="file",f.bundle="bundle",f.both="both",(l=a.BundleFormat||(a.BundleFormat={})).standalone="standalone",l.languagePack="languagePack",function(h){h.is=function(g){var v=g;return v&&p(v.key)&&p(v.comment)}}(c||(c={})),a.isDefined=p,a.isPseudo=!1,a.setPseudo=function(h){a.isPseudo=h},a.format=m,a.localize=function(h,g){for(var v=[],x=2;x<arguments.length;x++)v[x-2]=arguments[x];return m(g,v)},a.loadMessageBundle=function(h){return(0,d.default)().loadMessageBundle(h)},a.config=function(h){return(0,d.default)().config(h)}},926:(s,a)=>{"use strict";var u;function c(){if(u===void 0)throw new Error("No runtime abstraction layer installed");return u}Object.defineProperty(a,"__esModule",{value:!0}),function(l){l.install=function(f){if(f===void 0)throw new Error("No runtime abstraction layer provided");u=f}}(c||(c={})),a.default=c},472:(s,a,u)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.config=a.loadMessageBundle=a.BundleFormat=a.MessageFormat=void 0;var c=u(17),l=u(147),f=u(926),d=u(800),p=u(800);Object.defineProperty(a,"MessageFormat",{enumerable:!0,get:function(){return p.MessageFormat}}),Object.defineProperty(a,"BundleFormat",{enumerable:!0,get:function(){return p.BundleFormat}});var m,h,g=Object.prototype.toString;function v(S){return g.call(S)==="[object Number]"}function x(S){return g.call(S)==="[object String]"}function y(S){return JSON.parse(l.readFileSync(S,"utf8"))}function w(S){return function(I,R){for(var D=[],A=2;A<arguments.length;A++)D[A-2]=arguments[A];return v(I)?I>=S.length?void console.error(`Broken localize call found. Index out of bounds. Stacktrace is
: `.concat(new Error("").stack)):(0,d.format)(S[I],D):x(R)?(console.warn("Message ".concat(R," didn't get externalized correctly.")),(0,d.format)(R,D)):void console.error(`Broken localize call found. Stacktrace is
: `.concat(new Error("").stack))}}function _(S,I){return m[S]=I,I}function T(S){try{return function(I){var R=y(c.join(I,"nls.metadata.json")),D=Object.create(null);for(var A in R){var N=R[A];D[A]=N.messages}return D}(S)}catch(I){return void console.log("Generating default bundle from meta data failed.",I)}}function P(S,I){var R;if(h.languagePackSupport===!0&&h.cacheRoot!==void 0&&h.languagePackId!==void 0&&h.translationsConfigFile!==void 0&&h.translationsConfig!==void 0)try{R=function(A,N){var O,M,j,W=c.join(h.cacheRoot,"".concat(A.id,"-").concat(A.hash,".json")),L=!1,H=!1;try{return O=JSON.parse(l.readFileSync(W,{encoding:"utf8",flag:"r"})),M=W,j=new Date,l.utimes(M,j,j,function(){}),O}catch($){if($.code==="ENOENT")H=!0;else{if(!($ instanceof SyntaxError))throw $;console.log("Syntax error parsing message bundle: ".concat($.message,".")),l.unlink(W,function(V){V&&console.error("Deleting corrupted bundle ".concat(W," failed."))}),L=!0}}if(O=function($,V){var re=h.translationsConfig[$.id];if(re){var ye=y(re).contents,Ce=y(c.join(V,"nls.metadata.json")),Te=Object.create(null);for(var wt in Ce){var Pe=Ce[wt],ze=ye["".concat($.outDir,"/").concat(wt)];if(ze){for(var In=[],vi=0;vi<Pe.keys.length;vi++){var hs=Pe.keys[vi],ic=ze[x(hs)?hs:hs.key];ic===void 0&&(ic=Pe.messages[vi]),In.push(ic)}Te[wt]=In}else Te[wt]=Pe.messages}return Te}}(A,N),!O||L)return O;if(H)try{l.writeFileSync(W,JSON.stringify(O),{encoding:"utf8",flag:"wx"})}catch($){if($.code==="EEXIST")return O;throw $}return O}(S,I)}catch(A){console.log("Load or create bundle failed ",A)}if(!R){if(h.languagePackSupport)return T(I);var D=function(A){for(var N=h.language;N;){var O=c.join(A,"nls.bundle.".concat(N,".json"));if(l.existsSync(O))return O;var M=N.lastIndexOf("-");N=M>0?N.substring(0,M):void 0}if(N===void 0&&(O=c.join(A,"nls.bundle.json"),l.existsSync(O)))return O}(I);if(D)try{return y(D)}catch(A){console.log("Loading in the box message bundle failed.",A)}R=T(I)}return R}function E(S){if(!S)return d.localize;var I=c.extname(S);if(I&&(S=S.substr(0,S.length-I.length)),h.messageFormat===d.MessageFormat.both||h.messageFormat===d.MessageFormat.bundle){var R=function(L){for(var H,$=c.dirname(L);H=c.join($,"nls.metadata.header.json"),!l.existsSync(H);){var V=c.dirname($);if(V===$){H=void 0;break}$=V}return H}(S);if(R){var D=c.dirname(R),A=m[D];if(A===void 0)try{var N=JSON.parse(l.readFileSync(R,"utf8"));try{var O=P(N,D);A=_(D,O?{header:N,nlsBundle:O}:null)}catch(L){console.error("Failed to load nls bundle",L),A=_(D,null)}}catch(L){console.error("Failed to read header file",L),A=_(D,null)}if(A){var M=S.substr(D.length+1).replace(/\\/g,"/"),j=A.nlsBundle[M];return j===void 0?(console.error("Messages for file ".concat(S," not found. See console for details.")),function(){return"Messages not found."}):w(j)}}}if(h.messageFormat===d.MessageFormat.both||h.messageFormat===d.MessageFormat.file)try{var W=y(function(L){var H;if(!(h.cacheLanguageResolution&&H)){if(d.isPseudo||!h.language)H=".nls.json";else for(var $=h.language;$;){var V=".nls."+$+".json";if(l.existsSync(L+V)){H=V;break}var re=$.lastIndexOf("-");re>0?$=$.substring(0,re):(H=".nls.json",$=null)}h.cacheLanguageResolution}return L+H}(S));return Array.isArray(W)?w(W):(0,d.isDefined)(W.messages)&&(0,d.isDefined)(W.keys)?w(W.messages):(console.error("String bundle '".concat(S,"' uses an unsupported format.")),function(){return"File bundle has unsupported format. See console for details"})}catch(L){L.code!=="ENOENT"&&console.error("Failed to load single file bundle",L)}return console.error("Failed to load message bundle for file ".concat(S)),function(){return"Failed to load message bundle. See console for details."}}function C(S){return S&&(x(S.locale)&&(h.locale=S.locale.toLowerCase(),h.language=h.locale,m=Object.create(null)),S.messageFormat!==void 0&&(h.messageFormat=S.messageFormat),S.bundleFormat===d.BundleFormat.standalone&&h.languagePackSupport===!0&&(h.languagePackSupport=!1)),(0,d.setPseudo)(h.locale==="pseudo"),E}(function(){if(h={locale:void 0,language:void 0,languagePackSupport:!1,cacheLanguageResolution:!0,messageFormat:d.MessageFormat.bundle},x(process.env.VSCODE_NLS_CONFIG))try{var S=JSON.parse(process.env.VSCODE_NLS_CONFIG),I=void 0;if(S.availableLanguages){var R=S.availableLanguages["*"];x(R)&&(I=R)}if(x(S.locale)&&(h.locale=S.locale.toLowerCase()),I===void 0?h.language=h.locale:I!=="en"&&(h.language=I),function(A){return A===!0||A===!1}(S._languagePackSupport)&&(h.languagePackSupport=S._languagePackSupport),x(S._cacheRoot)&&(h.cacheRoot=S._cacheRoot),x(S._languagePackId)&&(h.languagePackId=S._languagePackId),x(S._translationsConfigFile)){h.translationsConfigFile=S._translationsConfigFile;try{h.translationsConfig=y(h.translationsConfigFile)}catch{if(S._corruptedFile){var D=c.dirname(S._corruptedFile);l.exists(D,function(N){N&&l.writeFile(S._corruptedFile,"corrupted","utf8",function(O){console.error(O)})})}}}}catch{}(0,d.setPseudo)(h.locale==="pseudo"),m=Object.create(null)})(),a.loadMessageBundle=E,a.config=C,f.default.install(Object.freeze({loadMessageBundle:E,config:C}))},374:(s,a)=>{function u(){}Object.defineProperty(a,"__esModule",{value:!0}),a.default=function(c){return u}},491:s=>{"use strict";s.exports=require("assert")},361:s=>{"use strict";s.exports=require("events")},147:s=>{"use strict";s.exports=require("fs")},685:s=>{"use strict";s.exports=require("http")},687:s=>{"use strict";s.exports=require("https")},808:s=>{"use strict";s.exports=require("net")},17:s=>{"use strict";s.exports=require("path")},404:s=>{"use strict";s.exports=require("tls")},310:s=>{"use strict";s.exports=require("url")},796:s=>{"use strict";s.exports=require("zlib")}},n={},r=function s(a){var u=n[a];if(u!==void 0)return u.exports;var c=n[a]={exports:{}};return e[a].call(c.exports,c,c.exports,s),c.exports}(539),i=t;for(var o in r)i[o]=r[o];r.__esModule&&Object.defineProperty(i,"__esModule",{value:!0})})()}}),$B={};gme($B,{config:()=>Cme,t:()=>Sme});BB.exports=yme($B);var wme=require("fs"),Eme=require("fs/promises"),UB=vme(xme());async function _me(t){if(t.protocol==="file:")return await(0,Eme.readFile)(t,"utf8");if(t.protocol==="http:"||t.protocol==="https:")try{let e=await(0,UB.xhr)({url:t.toString(),followRedirects:5,headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"}});return new TextDecoder().decode(e.body)}catch(e){throw new Error(e.responseText??(0,UB.getErrorStatusDescription)(e.status)??e.toString())}throw new Error("Unsupported protocol")}function bme(t){return(0,wme.readFileSync)(t,"utf8")}var cm;function Cme(t){if("contents"in t){typeof t.contents=="string"?cm=JSON.parse(t.contents):cm=t.contents;return}if("fsPath"in t){let e=bme(t.fsPath),n=JSON.parse(e);cm=qB(n)?n.contents.bundle:n;return}if(t.uri){let e=t.uri;return typeof t.uri=="string"&&(e=new URL(t.uri)),new Promise((n,r)=>{let i=_me(e).then(o=>{try{let s=JSON.parse(o);cm=qB(s)?s.contents.bundle:s}catch(s){r(s)}}).catch(o=>{r(o)});n(i)})}}function Sme(...t){let e=t[0],n,r,i;if(typeof e=="string"?(n=e,r=e,t.splice(0,1),i=!t||typeof t[0]!="object"?t:t[0]):(r=e.message,n=r,e.comment&&e.comment.length>0&&(n+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{}),!cm)return wy(r,i);let o=cm[n];return o?typeof o=="string"?wy(o,i):o.comment?wy(o.message,i):wy(r,i):wy(r,i)}var Tme=/{([^}]+)}/g;function wy(t,e){return t.replace(Tme,(n,r)=>e[r]??n)}function qB(t){var e;return typeof((e=t==null?void 0:t.contents)==null?void 0:e.bundle)=="object"&&typeof(t==null?void 0:t.version)=="string"}});var mV=b((r3e,pV)=>{var fm=1e3,dm=fm*60,pm=dm*60,kf=pm*24,Bme=kf*7,Vme=kf*365.25;pV.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Wme(t);if(n==="number"&&isFinite(t))return e.long?zme(t):Gme(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Wme(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Vme;case"weeks":case"week":case"w":return n*Bme;case"days":case"day":case"d":return n*kf;case"hours":case"hour":case"hrs":case"hr":case"h":return n*pm;case"minutes":case"minute":case"mins":case"min":case"m":return n*dm;case"seconds":case"second":case"secs":case"sec":case"s":return n*fm;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function Gme(t){var e=Math.abs(t);return e>=kf?Math.round(t/kf)+"d":e>=pm?Math.round(t/pm)+"h":e>=dm?Math.round(t/dm)+"m":e>=fm?Math.round(t/fm)+"s":t+"ms"}function zme(t){var e=Math.abs(t);return e>=kf?xb(t,e,kf,"day"):e>=pm?xb(t,e,pm,"hour"):e>=dm?xb(t,e,dm,"minute"):e>=fm?xb(t,e,fm,"second"):t+" ms"}function xb(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}});var TD=b((i3e,hV)=>{function Yme(t){n.debug=n,n.default=n,n.coerce=u,n.disable=o,n.enable=i,n.enabled=s,n.humanize=mV(),n.destroy=c,Object.keys(t).forEach(l=>{n[l]=t[l]}),n.names=[],n.skips=[],n.formatters={};function e(l){let f=0;for(let d=0;d<l.length;d++)f=(f<<5)-f+l.charCodeAt(d),f|=0;return n.colors[Math.abs(f)%n.colors.length]}n.selectColor=e;function n(l){let f,d=null,p,m;function h(...g){if(!h.enabled)return;let v=h,x=Number(new Date),y=x-(f||x);v.diff=y,v.prev=f,v.curr=x,f=x,g[0]=n.coerce(g[0]),typeof g[0]!="string"&&g.unshift("%O");let w=0;g[0]=g[0].replace(/%([a-zA-Z%])/g,(T,P)=>{if(T==="%%")return"%";w++;let E=n.formatters[P];if(typeof E=="function"){let C=g[w];T=E.call(v,C),g.splice(w,1),w--}return T}),n.formatArgs.call(v,g),(v.log||n.log).apply(v,g)}return h.namespace=l,h.useColors=n.useColors(),h.color=n.selectColor(l),h.extend=r,h.destroy=n.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==n.namespaces&&(p=n.namespaces,m=n.enabled(l)),m),set:g=>{d=g}}),typeof n.init=="function"&&n.init(h),h}function r(l,f){let d=n(this.namespace+(typeof f>"u"?":":f)+l);return d.log=this.log,d}function i(l){n.save(l),n.namespaces=l,n.names=[],n.skips=[];let f,d=(typeof l=="string"?l:"").split(/[\s,]+/),p=d.length;for(f=0;f<p;f++)d[f]&&(l=d[f].replace(/\*/g,".*?"),l[0]==="-"?n.skips.push(new RegExp("^"+l.slice(1)+"$")):n.names.push(new RegExp("^"+l+"$")))}function o(){let l=[...n.names.map(a),...n.skips.map(a).map(f=>"-"+f)].join(",");return n.enable(""),l}function s(l){if(l[l.length-1]==="*")return!0;let f,d;for(f=0,d=n.skips.length;f<d;f++)if(n.skips[f].test(l))return!1;for(f=0,d=n.names.length;f<d;f++)if(n.names[f].test(l))return!0;return!1}function a(l){return l.toString().substring(2,l.toString().length-2).replace(/\.\*\?$/,"*")}function u(l){return l instanceof Error?l.stack||l.message:l}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}hV.exports=Yme});var gV=b((Qi,wb)=>{Qi.formatArgs=Xme;Qi.save=Qme;Qi.load=Jme;Qi.useColors=Kme;Qi.storage=Zme();Qi.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Qi.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Kme(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Xme(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+wb.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}Qi.log=console.debug||console.log||(()=>{});function Qme(t){try{t?Qi.storage.setItem("debug",t):Qi.storage.removeItem("debug")}catch{}}function Jme(){let t;try{t=Qi.storage.getItem("debug")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Zme(){try{return localStorage}catch{}}wb.exports=TD()(Qi);var{formatters:ehe}=wb.exports;ehe.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var yV=b((o3e,vV)=>{"use strict";vV.exports=(t,e)=>{e=e||process.argv;let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return r!==-1&&(i===-1?!0:r<i)}});var wV=b((s3e,xV)=>{"use strict";var the=require("os"),ys=yV(),Rr=process.env,mm;ys("no-color")||ys("no-colors")||ys("color=false")?mm=!1:(ys("color")||ys("colors")||ys("color=true")||ys("color=always"))&&(mm=!0);"FORCE_COLOR"in Rr&&(mm=Rr.FORCE_COLOR.length===0||parseInt(Rr.FORCE_COLOR,10)!==0);function nhe(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function rhe(t){if(mm===!1)return 0;if(ys("color=16m")||ys("color=full")||ys("color=truecolor"))return 3;if(ys("color=256"))return 2;if(t&&!t.isTTY&&mm!==!0)return 0;let e=mm?1:0;if(process.platform==="win32"){let n=the.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in Rr)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(n=>n in Rr)||Rr.CI_NAME==="codeship"?1:e;if("TEAMCITY_VERSION"in Rr)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Rr.TEAMCITY_VERSION)?1:0;if(Rr.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Rr){let n=parseInt((Rr.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Rr.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Rr.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Rr.TERM)||"COLORTERM"in Rr?1:(Rr.TERM==="dumb",e)}function ID(t){let e=rhe(t);return nhe(e)}xV.exports={supportsColor:ID,stdout:ID(process.stdout),stderr:ID(process.stderr)}});var _V=b((dr,_b)=>{var ihe=require("tty"),Eb=require("util");dr.init=fhe;dr.log=che;dr.formatArgs=she;dr.save=uhe;dr.load=lhe;dr.useColors=ohe;dr.destroy=Eb.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");dr.colors=[6,2,3,4,5,1];try{let t=wV();t&&(t.stderr||t).level>=2&&(dr.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}dr.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,o)=>o.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function ohe(){return"colors"in dr.inspectOpts?!!dr.inspectOpts.colors:ihe.isatty(process.stderr.fd)}function she(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),o=`  ${i};1m${e} \x1B[0m`;t[0]=o+t[0].split(`
`).join(`
`+o),t.push(i+"m+"+_b.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=ahe()+e+" "+t[0]}function ahe(){return dr.inspectOpts.hideDate?"":new Date().toISOString()+" "}function che(...t){return process.stderr.write(Eb.format(...t)+`
`)}function uhe(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function lhe(){return process.env.DEBUG}function fhe(t){t.inspectOpts={};let e=Object.keys(dr.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=dr.inspectOpts[e[n]]}_b.exports=TD()(dr);var{formatters:EV}=_b.exports;EV.o=function(t){return this.inspectOpts.colors=this.useColors,Eb.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};EV.O=function(t){return this.inspectOpts.colors=this.useColors,Eb.inspect(t,this.inspectOpts)}});var ku=b((a3e,PD)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?PD.exports=gV():PD.exports=_V()});var CV=b((c3e,bV)=>{var Py;bV.exports=function(){if(!Py){try{Py=ku()("follow-redirects")}catch{}typeof Py!="function"&&(Py=function(){})}Py.apply(null,arguments)}});var hm=b((u3e,OD)=>{var Of=require("url"),RD=Of.URL,dhe=require("http"),phe=require("https"),IV=require("stream").Writable,PV=require("assert"),RV=CV(),DD=["abort","aborted","connect","error","socket","timeout"],kD=Object.create(null);DD.forEach(function(t){kD[t]=function(e,n,r){this._redirectable.emit(t,e,n,r)}});var mhe=Ay("ERR_INVALID_URL","Invalid URL",TypeError),SV=Ay("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),hhe=Ay("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),ghe=Ay("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),vhe=Ay("ERR_STREAM_WRITE_AFTER_END","write after end");function Ji(t,e){IV.call(this),this._sanitizeOptions(t),this._options=t,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e&&this.on("response",e);var n=this;this._onNativeResponse=function(r){n._processResponse(r)},this._performRequest()}Ji.prototype=Object.create(IV.prototype);Ji.prototype.abort=function(){DV(this._currentRequest),this.emit("abort")};Ji.prototype.write=function(t,e,n){if(this._ending)throw new vhe;if(!Nf(t)&&!whe(t))throw new TypeError("data should be a string, Buffer or Uint8Array");if(Ry(e)&&(n=e,e=null),t.length===0){n&&n();return}this._requestBodyLength+t.length<=this._options.maxBodyLength?(this._requestBodyLength+=t.length,this._requestBodyBuffers.push({data:t,encoding:e}),this._currentRequest.write(t,e,n)):(this.emit("error",new ghe),this.abort())};Ji.prototype.end=function(t,e,n){if(Ry(t)?(n=t,t=e=null):Ry(e)&&(n=e,e=null),!t)this._ended=this._ending=!0,this._currentRequest.end(null,null,n);else{var r=this,i=this._currentRequest;this.write(t,e,function(){r._ended=!0,i.end(null,null,n)}),this._ending=!0}};Ji.prototype.setHeader=function(t,e){this._options.headers[t]=e,this._currentRequest.setHeader(t,e)};Ji.prototype.removeHeader=function(t){delete this._options.headers[t],this._currentRequest.removeHeader(t)};Ji.prototype.setTimeout=function(t,e){var n=this;function r(s){s.setTimeout(t),s.removeListener("timeout",s.destroy),s.addListener("timeout",s.destroy)}function i(s){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout(function(){n.emit("timeout"),o()},t),r(s)}function o(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",o),n.removeListener("error",o),n.removeListener("response",o),e&&n.removeListener("timeout",e),n.socket||n._currentRequest.removeListener("socket",i)}return e&&this.on("timeout",e),this.socket?i(this.socket):this._currentRequest.once("socket",i),this.on("socket",r),this.on("abort",o),this.on("error",o),this.on("response",o),this};["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(t){Ji.prototype[t]=function(e,n){return this._currentRequest[t](e,n)}});["aborted","connection","socket"].forEach(function(t){Object.defineProperty(Ji.prototype,t,{get:function(){return this._currentRequest[t]}})});Ji.prototype._sanitizeOptions=function(t){if(t.headers||(t.headers={}),t.host&&(t.hostname||(t.hostname=t.host),delete t.host),!t.pathname&&t.path){var e=t.path.indexOf("?");e<0?t.pathname=t.path:(t.pathname=t.path.substring(0,e),t.search=t.path.substring(e))}};Ji.prototype._performRequest=function(){var t=this._options.protocol,e=this._options.nativeProtocols[t];if(!e){this.emit("error",new TypeError("Unsupported protocol "+t));return}if(this._options.agents){var n=t.slice(0,-1);this._options.agent=this._options.agents[n]}var r=this._currentRequest=e.request(this._options,this._onNativeResponse);r._redirectable=this;for(var i of DD)r.on(i,kD[i]);if(this._currentUrl=/^\//.test(this._options.path)?Of.format(this._options):this._options.path,this._isRedirect){var o=0,s=this,a=this._requestBodyBuffers;(function u(c){if(r===s._currentRequest)if(c)s.emit("error",c);else if(o<a.length){var l=a[o++];r.finished||r.write(l.data,l.encoding,u)}else s._ended&&r.end()})()}};Ji.prototype._processResponse=function(t){var e=t.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:t.headers,statusCode:e});var n=t.headers.location;if(!n||this._options.followRedirects===!1||e<300||e>=400){t.responseUrl=this._currentUrl,t.redirects=this._redirects,this.emit("response",t),this._requestBodyBuffers=[];return}if(DV(this._currentRequest),t.destroy(),++this._redirectCount>this._options.maxRedirects){this.emit("error",new hhe);return}var r,i=this._options.beforeRedirect;i&&(r=Object.assign({Host:t.req.getHeader("host")},this._options.headers));var o=this._options.method;((e===301||e===302)&&this._options.method==="POST"||e===303&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],AD(/^content-/i,this._options.headers));var s=AD(/^host$/i,this._options.headers),a=Of.parse(this._currentUrl),u=s||a.host,c=/^\w+:/.test(n)?this._currentUrl:Of.format(Object.assign(a,{host:u})),l;try{l=Of.resolve(c,n)}catch(m){this.emit("error",new SV({cause:m}));return}RV("redirecting to",l),this._isRedirect=!0;var f=Of.parse(l);if(Object.assign(this._options,f),(f.protocol!==a.protocol&&f.protocol!=="https:"||f.host!==u&&!xhe(f.host,u))&&AD(/^(?:authorization|cookie)$/i,this._options.headers),Ry(i)){var d={headers:t.headers,statusCode:e},p={url:c,method:o,headers:r};try{i(this._options,d,p)}catch(m){this.emit("error",m);return}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(m){this.emit("error",new SV({cause:m}))}};function AV(t){var e={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(t).forEach(function(r){var i=r+":",o=n[i]=t[r],s=e[r]=Object.create(o);function a(c,l,f){if(Nf(c)){var d;try{d=TV(new RD(c))}catch{d=Of.parse(c)}if(!Nf(d.protocol))throw new mhe({input:c});c=d}else RD&&c instanceof RD?c=TV(c):(f=l,l=c,c={protocol:i});return Ry(l)&&(f=l,l=null),l=Object.assign({maxRedirects:e.maxRedirects,maxBodyLength:e.maxBodyLength},c,l),l.nativeProtocols=n,!Nf(l.host)&&!Nf(l.hostname)&&(l.hostname="::1"),PV.equal(l.protocol,i,"protocol mismatch"),RV("options",l),new Ji(l,f)}function u(c,l,f){var d=s.request(c,l,f);return d.end(),d}Object.defineProperties(s,{request:{value:a,configurable:!0,enumerable:!0,writable:!0},get:{value:u,configurable:!0,enumerable:!0,writable:!0}})}),e}function yhe(){}function TV(t){var e={protocol:t.protocol,hostname:t.hostname.startsWith("[")?t.hostname.slice(1,-1):t.hostname,hash:t.hash,search:t.search,pathname:t.pathname,path:t.pathname+t.search,href:t.href};return t.port!==""&&(e.port=Number(t.port)),e}function AD(t,e){var n;for(var r in e)t.test(r)&&(n=e[r],delete e[r]);return n===null||typeof n>"u"?void 0:String(n).trim()}function Ay(t,e,n){function r(i){Error.captureStackTrace(this,this.constructor),Object.assign(this,i||{}),this.code=t,this.message=this.cause?e+": "+this.cause.message:e}return r.prototype=new(n||Error),r.prototype.constructor=r,r.prototype.name="Error ["+t+"]",r}function DV(t){for(var e of DD)t.removeListener(e,kD[e]);t.on("error",yhe),t.abort()}function xhe(t,e){PV(Nf(t)&&Nf(e));var n=t.length-e.length-1;return n>0&&t[n]==="."&&t.endsWith(e)}function Nf(t){return typeof t=="string"||t instanceof String}function Ry(t){return typeof t=="function"}function whe(t){return typeof t=="object"&&"length"in t}OD.exports=AV({http:dhe,https:phe});OD.exports.wrap=AV});var gm=b((l3e,OV)=>{"use strict";var kV=new Map([["C","cwd"],["f","file"],["z","gzip"],["P","preservePaths"],["U","unlink"],["strip-components","strip"],["stripComponents","strip"],["keep-newer","newer"],["keepNewer","newer"],["keep-newer-files","newer"],["keepNewerFiles","newer"],["k","keep"],["keep-existing","keep"],["keepExisting","keep"],["m","noMtime"],["no-mtime","noMtime"],["p","preserveOwner"],["L","follow"],["h","follow"]]);OV.exports=t=>t?Object.keys(t).map(e=>[kV.has(e)?kV.get(e):e,t[e]]).reduce((e,n)=>(e[n[0]]=n[1],e),Object.create(null)):{}});var Rb=b((f3e,BV)=>{"use strict";var NV=typeof process=="object"&&process?process:{stdout:null,stderr:null},Ehe=require("events"),LV=require("stream"),_he=require("string_decoder"),FV=_he.StringDecoder,sc=Symbol("EOF"),ac=Symbol("maybeEmitEnd"),Ou=Symbol("emittedEnd"),bb=Symbol("emittingEnd"),Dy=Symbol("emittedError"),Cb=Symbol("closed"),MV=Symbol("read"),Sb=Symbol("flush"),UV=Symbol("flushChunk"),wi=Symbol("encoding"),cc=Symbol("decoder"),Tb=Symbol("flowing"),ky=Symbol("paused"),vm=Symbol("resume"),hn=Symbol("buffer"),da=Symbol("pipes"),er=Symbol("bufferLength"),ND=Symbol("bufferPush"),LD=Symbol("bufferShift"),pr=Symbol("objectMode"),gn=Symbol("destroyed"),FD=Symbol("error"),MD=Symbol("emitData"),qV=Symbol("emitEnd"),UD=Symbol("emitEnd2"),uc=Symbol("async"),qD=Symbol("abort"),Ib=Symbol("aborted"),Lf=Symbol("signal"),Oy=t=>Promise.resolve().then(t),$V=global._MP_NO_ITERATOR_SYMBOLS_!=="1",jV=$V&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),HV=$V&&Symbol.iterator||Symbol("iterator not implemented"),bhe=t=>t==="end"||t==="finish"||t==="prefinish",Che=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,She=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Pb=class{constructor(e,n,r){this.src=e,this.dest=n,this.opts=r,this.ondrain=()=>e[vm](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},jD=class extends Pb{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,n,r){super(e,n,r),this.proxyErrors=i=>n.emit("error",i),e.on("error",this.proxyErrors)}},Ny=class extends LV{constructor(e){super(),this[Tb]=!1,this[ky]=!1,this[da]=[],this[hn]=[],this[pr]=e&&e.objectMode||!1,this[pr]?this[wi]=null:this[wi]=e&&e.encoding||null,this[wi]==="buffer"&&(this[wi]=null),this[uc]=e&&!!e.async||!1,this[cc]=this[wi]?new FV(this[wi]):null,this[sc]=!1,this[Ou]=!1,this[bb]=!1,this[Cb]=!1,this[Dy]=null,this.writable=!0,this.readable=!0,this[er]=0,this[gn]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[hn]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[da]}),this[Lf]=e&&e.signal,this[Ib]=!1,this[Lf]&&(this[Lf].addEventListener("abort",()=>this[qD]()),this[Lf].aborted&&this[qD]())}get bufferLength(){return this[er]}get encoding(){return this[wi]}set encoding(e){if(this[pr])throw new Error("cannot set encoding in objectMode");if(this[wi]&&e!==this[wi]&&(this[cc]&&this[cc].lastNeed||this[er]))throw new Error("cannot change encoding");this[wi]!==e&&(this[cc]=e?new FV(e):null,this[hn].length&&(this[hn]=this[hn].map(n=>this[cc].write(n)))),this[wi]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[pr]}set objectMode(e){this[pr]=this[pr]||!!e}get async(){return this[uc]}set async(e){this[uc]=this[uc]||!!e}[qD](){this[Ib]=!0,this.emit("abort",this[Lf].reason),this.destroy(this[Lf].reason)}get aborted(){return this[Ib]}set aborted(e){}write(e,n,r){if(this[Ib])return!1;if(this[sc])throw new Error("write after end");if(this[gn])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let i=this[uc]?Oy:o=>o();return!this[pr]&&!Buffer.isBuffer(e)&&(She(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Che(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[pr]?(this.flowing&&this[er]!==0&&this[Sb](!0),this.flowing?this.emit("data",e):this[ND](e),this[er]!==0&&this.emit("readable"),r&&i(r),this.flowing):e.length?(typeof e=="string"&&!(n===this[wi]&&!this[cc].lastNeed)&&(e=Buffer.from(e,n)),Buffer.isBuffer(e)&&this[wi]&&(e=this[cc].write(e)),this.flowing&&this[er]!==0&&this[Sb](!0),this.flowing?this.emit("data",e):this[ND](e),this[er]!==0&&this.emit("readable"),r&&i(r),this.flowing):(this[er]!==0&&this.emit("readable"),r&&i(r),this.flowing)}read(e){if(this[gn])return null;if(this[er]===0||e===0||e>this[er])return this[ac](),null;this[pr]&&(e=null),this[hn].length>1&&!this[pr]&&(this.encoding?this[hn]=[this[hn].join("")]:this[hn]=[Buffer.concat(this[hn],this[er])]);let n=this[MV](e||null,this[hn][0]);return this[ac](),n}[MV](e,n){return e===n.length||e===null?this[LD]():(this[hn][0]=n.slice(e),n=n.slice(0,e),this[er]-=e),this.emit("data",n),!this[hn].length&&!this[sc]&&this.emit("drain"),n}end(e,n,r){return typeof e=="function"&&(r=e,e=null),typeof n=="function"&&(r=n,n="utf8"),e&&this.write(e,n),r&&this.once("end",r),this[sc]=!0,this.writable=!1,(this.flowing||!this[ky])&&this[ac](),this}[vm](){this[gn]||(this[ky]=!1,this[Tb]=!0,this.emit("resume"),this[hn].length?this[Sb]():this[sc]?this[ac]():this.emit("drain"))}resume(){return this[vm]()}pause(){this[Tb]=!1,this[ky]=!0}get destroyed(){return this[gn]}get flowing(){return this[Tb]}get paused(){return this[ky]}[ND](e){this[pr]?this[er]+=1:this[er]+=e.length,this[hn].push(e)}[LD](){return this[pr]?this[er]-=1:this[er]-=this[hn][0].length,this[hn].shift()}[Sb](e){do;while(this[UV](this[LD]())&&this[hn].length);!e&&!this[hn].length&&!this[sc]&&this.emit("drain")}[UV](e){return this.emit("data",e),this.flowing}pipe(e,n){if(this[gn])return;let r=this[Ou];return n=n||{},e===NV.stdout||e===NV.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&e.end():(this[da].push(n.proxyErrors?new jD(this,e,n):new Pb(this,e,n)),this[uc]?Oy(()=>this[vm]()):this[vm]()),e}unpipe(e){let n=this[da].find(r=>r.dest===e);n&&(this[da].splice(this[da].indexOf(n),1),n.unpipe())}addListener(e,n){return this.on(e,n)}on(e,n){let r=super.on(e,n);return e==="data"&&!this[da].length&&!this.flowing?this[vm]():e==="readable"&&this[er]!==0?super.emit("readable"):bhe(e)&&this[Ou]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Dy]&&(this[uc]?Oy(()=>n.call(this,this[Dy])):n.call(this,this[Dy])),r}get emittedEnd(){return this[Ou]}[ac](){!this[bb]&&!this[Ou]&&!this[gn]&&this[hn].length===0&&this[sc]&&(this[bb]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Cb]&&this.emit("close"),this[bb]=!1)}emit(e,n,...r){if(e!=="error"&&e!=="close"&&e!==gn&&this[gn])return;if(e==="data")return!this[pr]&&!n?!1:this[uc]?Oy(()=>this[MD](n)):this[MD](n);if(e==="end")return this[qV]();if(e==="close"){if(this[Cb]=!0,!this[Ou]&&!this[gn])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[Dy]=n,super.emit(FD,n);let o=!this[Lf]||this.listeners("error").length?super.emit("error",n):!1;return this[ac](),o}else if(e==="resume"){let o=super.emit("resume");return this[ac](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let i=super.emit(e,n,...r);return this[ac](),i}[MD](e){for(let r of this[da])r.dest.write(e)===!1&&this.pause();let n=super.emit("data",e);return this[ac](),n}[qV](){this[Ou]||(this[Ou]=!0,this.readable=!1,this[uc]?Oy(()=>this[UD]()):this[UD]())}[UD](){if(this[cc]){let n=this[cc].end();if(n){for(let r of this[da])r.dest.write(n);super.emit("data",n)}}for(let n of this[da])n.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[pr]||(e.dataLength=0);let n=this.promise();return this.on("data",r=>{e.push(r),this[pr]||(e.dataLength+=r.length)}),n.then(()=>e)}concat(){return this[pr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[pr]?Promise.reject(new Error("cannot concat in objectMode")):this[wi]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,n)=>{this.on(gn,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>e())})}[jV](){let e=!1,n=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return n();let i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[sc])return n();let o=null,s=null,a=f=>{this.removeListener("data",u),this.removeListener("end",c),this.removeListener(gn,l),n(),s(f)},u=f=>{this.removeListener("error",a),this.removeListener("end",c),this.removeListener(gn,l),this.pause(),o({value:f,done:!!this[sc]})},c=()=>{this.removeListener("error",a),this.removeListener("data",u),this.removeListener(gn,l),n(),o({done:!0})},l=()=>a(new Error("stream destroyed"));return new Promise((f,d)=>{s=d,o=f,this.once(gn,l),this.once("error",a),this.once("end",c),this.once("data",u)})},throw:n,return:n,[jV](){return this}}}[HV](){let e=!1,n=()=>(this.pause(),this.removeListener(FD,n),this.removeListener(gn,n),this.removeListener("end",n),e=!0,{done:!0}),r=()=>{if(e)return n();let i=this.read();return i===null?n():{value:i}};return this.once("end",n),this.once(FD,n),this.once(gn,n),{next:r,throw:n,return:n,[HV](){return this}}}destroy(e){return this[gn]?(e?this.emit("error",e):this.emit(gn),this):(this[gn]=!0,this[hn].length=0,this[er]=0,typeof this.close=="function"&&!this[Cb]&&this.close(),e?this.emit("error",e):this.emit(gn),this)}static isStream(e){return!!e&&(e instanceof Ny||e instanceof LV||e instanceof Ehe&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}};BV.exports=Ny});var WV=b((d3e,VV)=>{var The=require("zlib").constants||{ZLIB_VERNUM:4736};VV.exports=Object.freeze(Object.assign(Object.create(null),{Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_VERSION_ERROR:-6,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,DEFLATE:1,INFLATE:2,GZIP:3,GUNZIP:4,DEFLATERAW:5,INFLATERAW:6,UNZIP:7,BROTLI_DECODE:8,BROTLI_ENCODE:9,Z_MIN_WINDOWBITS:8,Z_MAX_WINDOWBITS:15,Z_DEFAULT_WINDOWBITS:15,Z_MIN_CHUNK:64,Z_MAX_CHUNK:1/0,Z_DEFAULT_CHUNK:16384,Z_MIN_MEMLEVEL:1,Z_MAX_MEMLEVEL:9,Z_DEFAULT_MEMLEVEL:8,Z_MIN_LEVEL:-1,Z_MAX_LEVEL:9,Z_DEFAULT_LEVEL:-1,BROTLI_OPERATION_PROCESS:0,BROTLI_OPERATION_FLUSH:1,BROTLI_OPERATION_FINISH:2,BROTLI_OPERATION_EMIT_METADATA:3,BROTLI_MODE_GENERIC:0,BROTLI_MODE_TEXT:1,BROTLI_MODE_FONT:2,BROTLI_DEFAULT_MODE:0,BROTLI_MIN_QUALITY:0,BROTLI_MAX_QUALITY:11,BROTLI_DEFAULT_QUALITY:11,BROTLI_MIN_WINDOW_BITS:10,BROTLI_MAX_WINDOW_BITS:24,BROTLI_LARGE_MAX_WINDOW_BITS:30,BROTLI_DEFAULT_WINDOW:22,BROTLI_MIN_INPUT_BLOCK_BITS:16,BROTLI_MAX_INPUT_BLOCK_BITS:24,BROTLI_PARAM_MODE:0,BROTLI_PARAM_QUALITY:1,BROTLI_PARAM_LGWIN:2,BROTLI_PARAM_LGBLOCK:3,BROTLI_PARAM_DISABLE_LITERAL_CONTEXT_MODELING:4,BROTLI_PARAM_SIZE_HINT:5,BROTLI_PARAM_LARGE_WINDOW:6,BROTLI_PARAM_NPOSTFIX:7,BROTLI_PARAM_NDIRECT:8,BROTLI_DECODER_RESULT_ERROR:0,BROTLI_DECODER_RESULT_SUCCESS:1,BROTLI_DECODER_RESULT_NEEDS_MORE_INPUT:2,BROTLI_DECODER_RESULT_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_PARAM_DISABLE_RING_BUFFER_REALLOCATION:0,BROTLI_DECODER_PARAM_LARGE_WINDOW:1,BROTLI_DECODER_NO_ERROR:0,BROTLI_DECODER_SUCCESS:1,BROTLI_DECODER_NEEDS_MORE_INPUT:2,BROTLI_DECODER_NEEDS_MORE_OUTPUT:3,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_NIBBLE:-1,BROTLI_DECODER_ERROR_FORMAT_RESERVED:-2,BROTLI_DECODER_ERROR_FORMAT_EXUBERANT_META_NIBBLE:-3,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_ALPHABET:-4,BROTLI_DECODER_ERROR_FORMAT_SIMPLE_HUFFMAN_SAME:-5,BROTLI_DECODER_ERROR_FORMAT_CL_SPACE:-6,BROTLI_DECODER_ERROR_FORMAT_HUFFMAN_SPACE:-7,BROTLI_DECODER_ERROR_FORMAT_CONTEXT_MAP_REPEAT:-8,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_1:-9,BROTLI_DECODER_ERROR_FORMAT_BLOCK_LENGTH_2:-10,BROTLI_DECODER_ERROR_FORMAT_TRANSFORM:-11,BROTLI_DECODER_ERROR_FORMAT_DICTIONARY:-12,BROTLI_DECODER_ERROR_FORMAT_WINDOW_BITS:-13,BROTLI_DECODER_ERROR_FORMAT_PADDING_1:-14,BROTLI_DECODER_ERROR_FORMAT_PADDING_2:-15,BROTLI_DECODER_ERROR_FORMAT_DISTANCE:-16,BROTLI_DECODER_ERROR_DICTIONARY_NOT_SET:-19,BROTLI_DECODER_ERROR_INVALID_ARGUMENTS:-20,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MODES:-21,BROTLI_DECODER_ERROR_ALLOC_TREE_GROUPS:-22,BROTLI_DECODER_ERROR_ALLOC_CONTEXT_MAP:-25,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_1:-26,BROTLI_DECODER_ERROR_ALLOC_RING_BUFFER_2:-27,BROTLI_DECODER_ERROR_ALLOC_BLOCK_TYPE_TREES:-30,BROTLI_DECODER_ERROR_UNREACHABLE:-31},The))});var tW=b((p3e,eW)=>{"use strict";var GV=typeof process=="object"&&process?process:{stdout:null,stderr:null},Ihe=require("events"),zV=require("stream"),YV=require("string_decoder").StringDecoder,lc=Symbol("EOF"),fc=Symbol("maybeEmitEnd"),Nu=Symbol("emittedEnd"),Ab=Symbol("emittingEnd"),Ly=Symbol("emittedError"),Db=Symbol("closed"),KV=Symbol("read"),kb=Symbol("flush"),XV=Symbol("flushChunk"),Ei=Symbol("encoding"),dc=Symbol("decoder"),Ob=Symbol("flowing"),Fy=Symbol("paused"),ym=Symbol("resume"),tr=Symbol("bufferLength"),HD=Symbol("bufferPush"),$D=Symbol("bufferShift"),Ar=Symbol("objectMode"),Dr=Symbol("destroyed"),BD=Symbol("emitData"),QV=Symbol("emitEnd"),VD=Symbol("emitEnd2"),pc=Symbol("async"),My=t=>Promise.resolve().then(t),JV=global._MP_NO_ITERATOR_SYMBOLS_!=="1",Phe=JV&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Rhe=JV&&Symbol.iterator||Symbol("iterator not implemented"),Ahe=t=>t==="end"||t==="finish"||t==="prefinish",Dhe=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,khe=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),Nb=class{constructor(e,n,r){this.src=e,this.dest=n,this.opts=r,this.ondrain=()=>e[ym](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},WD=class extends Nb{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,n,r){super(e,n,r),this.proxyErrors=i=>n.emit("error",i),e.on("error",this.proxyErrors)}};eW.exports=class ZV extends zV{constructor(e){super(),this[Ob]=!1,this[Fy]=!1,this.pipes=[],this.buffer=[],this[Ar]=e&&e.objectMode||!1,this[Ar]?this[Ei]=null:this[Ei]=e&&e.encoding||null,this[Ei]==="buffer"&&(this[Ei]=null),this[pc]=e&&!!e.async||!1,this[dc]=this[Ei]?new YV(this[Ei]):null,this[lc]=!1,this[Nu]=!1,this[Ab]=!1,this[Db]=!1,this[Ly]=null,this.writable=!0,this.readable=!0,this[tr]=0,this[Dr]=!1}get bufferLength(){return this[tr]}get encoding(){return this[Ei]}set encoding(e){if(this[Ar])throw new Error("cannot set encoding in objectMode");if(this[Ei]&&e!==this[Ei]&&(this[dc]&&this[dc].lastNeed||this[tr]))throw new Error("cannot change encoding");this[Ei]!==e&&(this[dc]=e?new YV(e):null,this.buffer.length&&(this.buffer=this.buffer.map(n=>this[dc].write(n)))),this[Ei]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[Ar]}set objectMode(e){this[Ar]=this[Ar]||!!e}get async(){return this[pc]}set async(e){this[pc]=this[pc]||!!e}write(e,n,r){if(this[lc])throw new Error("write after end");if(this[Dr])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let i=this[pc]?My:o=>o();return!this[Ar]&&!Buffer.isBuffer(e)&&(khe(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Dhe(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[Ar]?(this.flowing&&this[tr]!==0&&this[kb](!0),this.flowing?this.emit("data",e):this[HD](e),this[tr]!==0&&this.emit("readable"),r&&i(r),this.flowing):e.length?(typeof e=="string"&&!(n===this[Ei]&&!this[dc].lastNeed)&&(e=Buffer.from(e,n)),Buffer.isBuffer(e)&&this[Ei]&&(e=this[dc].write(e)),this.flowing&&this[tr]!==0&&this[kb](!0),this.flowing?this.emit("data",e):this[HD](e),this[tr]!==0&&this.emit("readable"),r&&i(r),this.flowing):(this[tr]!==0&&this.emit("readable"),r&&i(r),this.flowing)}read(e){if(this[Dr])return null;if(this[tr]===0||e===0||e>this[tr])return this[fc](),null;this[Ar]&&(e=null),this.buffer.length>1&&!this[Ar]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[tr])]);let n=this[KV](e||null,this.buffer[0]);return this[fc](),n}[KV](e,n){return e===n.length||e===null?this[$D]():(this.buffer[0]=n.slice(e),n=n.slice(0,e),this[tr]-=e),this.emit("data",n),!this.buffer.length&&!this[lc]&&this.emit("drain"),n}end(e,n,r){return typeof e=="function"&&(r=e,e=null),typeof n=="function"&&(r=n,n="utf8"),e&&this.write(e,n),r&&this.once("end",r),this[lc]=!0,this.writable=!1,(this.flowing||!this[Fy])&&this[fc](),this}[ym](){this[Dr]||(this[Fy]=!1,this[Ob]=!0,this.emit("resume"),this.buffer.length?this[kb]():this[lc]?this[fc]():this.emit("drain"))}resume(){return this[ym]()}pause(){this[Ob]=!1,this[Fy]=!0}get destroyed(){return this[Dr]}get flowing(){return this[Ob]}get paused(){return this[Fy]}[HD](e){this[Ar]?this[tr]+=1:this[tr]+=e.length,this.buffer.push(e)}[$D](){return this.buffer.length&&(this[Ar]?this[tr]-=1:this[tr]-=this.buffer[0].length),this.buffer.shift()}[kb](e){do;while(this[XV](this[$D]()));!e&&!this.buffer.length&&!this[lc]&&this.emit("drain")}[XV](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,n){if(this[Dr])return;let r=this[Nu];return n=n||{},e===GV.stdout||e===GV.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&e.end():(this.pipes.push(n.proxyErrors?new WD(this,e,n):new Nb(this,e,n)),this[pc]?My(()=>this[ym]()):this[ym]()),e}unpipe(e){let n=this.pipes.find(r=>r.dest===e);n&&(this.pipes.splice(this.pipes.indexOf(n),1),n.unpipe())}addListener(e,n){return this.on(e,n)}on(e,n){let r=super.on(e,n);return e==="data"&&!this.pipes.length&&!this.flowing?this[ym]():e==="readable"&&this[tr]!==0?super.emit("readable"):Ahe(e)&&this[Nu]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Ly]&&(this[pc]?My(()=>n.call(this,this[Ly])):n.call(this,this[Ly])),r}get emittedEnd(){return this[Nu]}[fc](){!this[Ab]&&!this[Nu]&&!this[Dr]&&this.buffer.length===0&&this[lc]&&(this[Ab]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[Db]&&this.emit("close"),this[Ab]=!1)}emit(e,n,...r){if(e!=="error"&&e!=="close"&&e!==Dr&&this[Dr])return;if(e==="data")return n?this[pc]?My(()=>this[BD](n)):this[BD](n):!1;if(e==="end")return this[QV]();if(e==="close"){if(this[Db]=!0,!this[Nu]&&!this[Dr])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[Ly]=n;let o=super.emit("error",n);return this[fc](),o}else if(e==="resume"){let o=super.emit("resume");return this[fc](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let i=super.emit(e,n,...r);return this[fc](),i}[BD](e){for(let r of this.pipes)r.dest.write(e)===!1&&this.pause();let n=super.emit("data",e);return this[fc](),n}[QV](){this[Nu]||(this[Nu]=!0,this.readable=!1,this[pc]?My(()=>this[VD]()):this[VD]())}[VD](){if(this[dc]){let n=this[dc].end();if(n){for(let r of this.pipes)r.dest.write(n);super.emit("data",n)}}for(let n of this.pipes)n.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[Ar]||(e.dataLength=0);let n=this.promise();return this.on("data",r=>{e.push(r),this[Ar]||(e.dataLength+=r.length)}),n.then(()=>e)}concat(){return this[Ar]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[Ar]?Promise.reject(new Error("cannot concat in objectMode")):this[Ei]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,n)=>{this.on(Dr,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>e())})}[Phe](){return{next:()=>{let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[lc])return Promise.resolve({done:!0});let r=null,i=null,o=c=>{this.removeListener("data",s),this.removeListener("end",a),i(c)},s=c=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),r({value:c,done:!!this[lc]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),r({done:!0})},u=()=>o(new Error("stream destroyed"));return new Promise((c,l)=>{i=l,r=c,this.once(Dr,u),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[Rhe](){return{next:()=>{let n=this.read();return{value:n,done:n===null}}}}destroy(e){return this[Dr]?(e?this.emit("error",e):this.emit(Dr),this):(this[Dr]=!0,this.buffer.length=0,this[tr]=0,typeof this.close=="function"&&!this[Db]&&this.close(),e?this.emit("error",e):this.emit(Dr),this)}static isStream(e){return!!e&&(e instanceof ZV||e instanceof zV||e instanceof Ihe&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var ak=b(Zi=>{"use strict";var XD=require("assert"),Lu=require("buffer").Buffer,iW=require("zlib"),Ff=Zi.constants=WV(),Ohe=tW(),nW=Lu.concat,Mf=Symbol("_superWrite"),wm=class extends Error{constructor(e){super("zlib: "+e.message),this.code=e.code,this.errno=e.errno,this.code||(this.code="ZLIB_ERROR"),this.message="zlib: "+e.message,Error.captureStackTrace(this,this.constructor)}get name(){return"ZlibError"}},Nhe=Symbol("opts"),Uy=Symbol("flushFlag"),rW=Symbol("finishFlushFlag"),sk=Symbol("fullFlushFlag"),Dt=Symbol("handle"),Lb=Symbol("onError"),xm=Symbol("sawError"),GD=Symbol("level"),zD=Symbol("strategy"),YD=Symbol("ended"),m3e=Symbol("_defaultFullFlush"),Fb=class extends Ohe{constructor(e,n){if(!e||typeof e!="object")throw new TypeError("invalid options for ZlibBase constructor");super(e),this[xm]=!1,this[YD]=!1,this[Nhe]=e,this[Uy]=e.flush,this[rW]=e.finishFlush;try{this[Dt]=new iW[n](e)}catch(r){throw new wm(r)}this[Lb]=r=>{this[xm]||(this[xm]=!0,this.close(),this.emit("error",r))},this[Dt].on("error",r=>this[Lb](new wm(r))),this.once("end",()=>this.close)}close(){this[Dt]&&(this[Dt].close(),this[Dt]=null,this.emit("close"))}reset(){if(!this[xm])return XD(this[Dt],"zlib binding closed"),this[Dt].reset()}flush(e){this.ended||(typeof e!="number"&&(e=this[sk]),this.write(Object.assign(Lu.alloc(0),{[Uy]:e})))}end(e,n,r){return e&&this.write(e,n),this.flush(this[rW]),this[YD]=!0,super.end(null,null,r)}get ended(){return this[YD]}write(e,n,r){if(typeof n=="function"&&(r=n,n="utf8"),typeof e=="string"&&(e=Lu.from(e,n)),this[xm])return;XD(this[Dt],"zlib binding closed");let i=this[Dt]._handle,o=i.close;i.close=()=>{};let s=this[Dt].close;this[Dt].close=()=>{},Lu.concat=c=>c;let a;try{let c=typeof e[Uy]=="number"?e[Uy]:this[Uy];a=this[Dt]._processChunk(e,c),Lu.concat=nW}catch(c){Lu.concat=nW,this[Lb](new wm(c))}finally{this[Dt]&&(this[Dt]._handle=i,i.close=o,this[Dt].close=s,this[Dt].removeAllListeners("error"))}this[Dt]&&this[Dt].on("error",c=>this[Lb](new wm(c)));let u;if(a)if(Array.isArray(a)&&a.length>0){u=this[Mf](Lu.from(a[0]));for(let c=1;c<a.length;c++)u=this[Mf](a[c])}else u=this[Mf](Lu.from(a));return r&&r(),u}[Mf](e){return super.write(e)}},mc=class extends Fb{constructor(e,n){e=e||{},e.flush=e.flush||Ff.Z_NO_FLUSH,e.finishFlush=e.finishFlush||Ff.Z_FINISH,super(e,n),this[sk]=Ff.Z_FULL_FLUSH,this[GD]=e.level,this[zD]=e.strategy}params(e,n){if(!this[xm]){if(!this[Dt])throw new Error("cannot switch params when binding is closed");if(!this[Dt].params)throw new Error("not supported in this implementation");if(this[GD]!==e||this[zD]!==n){this.flush(Ff.Z_SYNC_FLUSH),XD(this[Dt],"zlib binding closed");let r=this[Dt].flush;this[Dt].flush=(i,o)=>{this.flush(i),o()};try{this[Dt].params(e,n)}finally{this[Dt].flush=r}this[Dt]&&(this[GD]=e,this[zD]=n)}}}},QD=class extends mc{constructor(e){super(e,"Deflate")}},JD=class extends mc{constructor(e){super(e,"Inflate")}},KD=Symbol("_portable"),ZD=class extends mc{constructor(e){super(e,"Gzip"),this[KD]=e&&!!e.portable}[Mf](e){return this[KD]?(this[KD]=!1,e[9]=255,super[Mf](e)):super[Mf](e)}},ek=class extends mc{constructor(e){super(e,"Gunzip")}},tk=class extends mc{constructor(e){super(e,"DeflateRaw")}},nk=class extends mc{constructor(e){super(e,"InflateRaw")}},rk=class extends mc{constructor(e){super(e,"Unzip")}},Mb=class extends Fb{constructor(e,n){e=e||{},e.flush=e.flush||Ff.BROTLI_OPERATION_PROCESS,e.finishFlush=e.finishFlush||Ff.BROTLI_OPERATION_FINISH,super(e,n),this[sk]=Ff.BROTLI_OPERATION_FLUSH}},ik=class extends Mb{constructor(e){super(e,"BrotliCompress")}},ok=class extends Mb{constructor(e){super(e,"BrotliDecompress")}};Zi.Deflate=QD;Zi.Inflate=JD;Zi.Gzip=ZD;Zi.Gunzip=ek;Zi.DeflateRaw=tk;Zi.InflateRaw=nk;Zi.Unzip=rk;typeof iW.BrotliCompress=="function"?(Zi.BrotliCompress=ik,Zi.BrotliDecompress=ok):Zi.BrotliCompress=Zi.BrotliDecompress=class{constructor(){throw new Error("Brotli is not supported in this version of Node.js")}}});var Em=b((v3e,oW)=>{var Lhe=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform;oW.exports=Lhe!=="win32"?t=>t:t=>t&&t.replace(/\\/g,"/")});var Ub=b((x3e,sW)=>{"use strict";var Fhe=Rb(),ck=Em(),uk=Symbol("slurp");sW.exports=class extends Fhe{constructor(e,n,r){switch(super(),this.pause(),this.extended=n,this.globalExtended=r,this.header=e,this.startBlockSize=512*Math.ceil(e.size/512),this.blockRemain=this.startBlockSize,this.remain=e.size,this.type=e.type,this.meta=!1,this.ignore=!1,this.type){case"File":case"OldFile":case"Link":case"SymbolicLink":case"CharacterDevice":case"BlockDevice":case"Directory":case"FIFO":case"ContiguousFile":case"GNUDumpDir":break;case"NextFileHasLongLinkpath":case"NextFileHasLongPath":case"OldGnuLongPath":case"GlobalExtendedHeader":case"ExtendedHeader":case"OldExtendedHeader":this.meta=!0;break;default:this.ignore=!0}this.path=ck(e.path),this.mode=e.mode,this.mode&&(this.mode=this.mode&4095),this.uid=e.uid,this.gid=e.gid,this.uname=e.uname,this.gname=e.gname,this.size=e.size,this.mtime=e.mtime,this.atime=e.atime,this.ctime=e.ctime,this.linkpath=ck(e.linkpath),this.uname=e.uname,this.gname=e.gname,n&&this[uk](n),r&&this[uk](r,!0)}write(e){let n=e.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");let r=this.remain,i=this.blockRemain;return this.remain=Math.max(0,r-n),this.blockRemain=Math.max(0,i-n),this.ignore?!0:r>=n?super.write(e):super.write(e.slice(0,r))}[uk](e,n){for(let r in e)e[r]!==null&&e[r]!==void 0&&!(n&&r==="path")&&(this[r]=r==="path"||r==="linkpath"?ck(e[r]):e[r])}}});var lk=b(qb=>{"use strict";qb.name=new Map([["0","File"],["","OldFile"],["1","Link"],["2","SymbolicLink"],["3","CharacterDevice"],["4","BlockDevice"],["5","Directory"],["6","FIFO"],["7","ContiguousFile"],["g","GlobalExtendedHeader"],["x","ExtendedHeader"],["A","SolarisACL"],["D","GNUDumpDir"],["I","Inode"],["K","NextFileHasLongLinkpath"],["L","NextFileHasLongPath"],["M","ContinuationFile"],["N","OldGnuLongPath"],["S","SparseFile"],["V","TapeVolumeHeader"],["X","OldExtendedHeader"]]);qb.code=new Map(Array.from(qb.name).map(t=>[t[1],t[0]]))});var lW=b((E3e,uW)=>{"use strict";var Mhe=(t,e)=>{if(Number.isSafeInteger(t))t<0?qhe(t,e):Uhe(t,e);else throw Error("cannot encode number outside of javascript safe integer range");return e},Uhe=(t,e)=>{e[0]=128;for(var n=e.length;n>1;n--)e[n-1]=t&255,t=Math.floor(t/256)},qhe=(t,e)=>{e[0]=255;var n=!1;t=t*-1;for(var r=e.length;r>1;r--){var i=t&255;t=Math.floor(t/256),n?e[r-1]=aW(i):i===0?e[r-1]=0:(n=!0,e[r-1]=cW(i))}},jhe=t=>{let e=t[0],n=e===128?$he(t.slice(1,t.length)):e===255?Hhe(t):null;if(n===null)throw Error("invalid base256 encoding");if(!Number.isSafeInteger(n))throw Error("parsed number outside of javascript safe integer range");return n},Hhe=t=>{for(var e=t.length,n=0,r=!1,i=e-1;i>-1;i--){var o=t[i],s;r?s=aW(o):o===0?s=o:(r=!0,s=cW(o)),s!==0&&(n-=s*Math.pow(256,e-i-1))}return n},$he=t=>{for(var e=t.length,n=0,r=e-1;r>-1;r--){var i=t[r];i!==0&&(n+=i*Math.pow(256,e-r-1))}return n},aW=t=>(255^t)&255,cW=t=>(255^t)+1&255;uW.exports={encode:Mhe,parse:jhe}});var bm=b((_3e,dW)=>{"use strict";var fk=lk(),_m=require("path").posix,fW=lW(),dk=Symbol("slurp"),eo=Symbol("type"),hk=class{constructor(e,n,r,i){this.cksumValid=!1,this.needPax=!1,this.nullBlock=!1,this.block=null,this.path=null,this.mode=null,this.uid=null,this.gid=null,this.size=null,this.mtime=null,this.cksum=null,this[eo]="0",this.linkpath=null,this.uname=null,this.gname=null,this.devmaj=0,this.devmin=0,this.atime=null,this.ctime=null,Buffer.isBuffer(e)?this.decode(e,n||0,r,i):e&&this.set(e)}decode(e,n,r,i){if(n||(n=0),!e||!(e.length>=n+512))throw new Error("need 512 bytes for header");if(this.path=Uf(e,n,100),this.mode=Fu(e,n+100,8),this.uid=Fu(e,n+108,8),this.gid=Fu(e,n+116,8),this.size=Fu(e,n+124,12),this.mtime=pk(e,n+136,12),this.cksum=Fu(e,n+148,12),this[dk](r),this[dk](i,!0),this[eo]=Uf(e,n+156,1),this[eo]===""&&(this[eo]="0"),this[eo]==="0"&&this.path.slice(-1)==="/"&&(this[eo]="5"),this[eo]==="5"&&(this.size=0),this.linkpath=Uf(e,n+157,100),e.slice(n+257,n+265).toString()==="ustar\x0000")if(this.uname=Uf(e,n+265,32),this.gname=Uf(e,n+297,32),this.devmaj=Fu(e,n+329,8),this.devmin=Fu(e,n+337,8),e[n+475]!==0){let s=Uf(e,n+345,155);this.path=s+"/"+this.path}else{let s=Uf(e,n+345,130);s&&(this.path=s+"/"+this.path),this.atime=pk(e,n+476,12),this.ctime=pk(e,n+488,12)}let o=8*32;for(let s=n;s<n+148;s++)o+=e[s];for(let s=n+156;s<n+512;s++)o+=e[s];this.cksumValid=o===this.cksum,this.cksum===null&&o===8*32&&(this.nullBlock=!0)}[dk](e,n){for(let r in e)e[r]!==null&&e[r]!==void 0&&!(n&&r==="path")&&(this[r]=e[r])}encode(e,n){if(e||(e=this.block=Buffer.alloc(512),n=0),n||(n=0),!(e.length>=n+512))throw new Error("need 512 bytes for header");let r=this.ctime||this.atime?130:155,i=Bhe(this.path||"",r),o=i[0],s=i[1];this.needPax=i[2],this.needPax=qf(e,n,100,o)||this.needPax,this.needPax=Mu(e,n+100,8,this.mode)||this.needPax,this.needPax=Mu(e,n+108,8,this.uid)||this.needPax,this.needPax=Mu(e,n+116,8,this.gid)||this.needPax,this.needPax=Mu(e,n+124,12,this.size)||this.needPax,this.needPax=mk(e,n+136,12,this.mtime)||this.needPax,e[n+156]=this[eo].charCodeAt(0),this.needPax=qf(e,n+157,100,this.linkpath)||this.needPax,e.write("ustar\x0000",n+257,8),this.needPax=qf(e,n+265,32,this.uname)||this.needPax,this.needPax=qf(e,n+297,32,this.gname)||this.needPax,this.needPax=Mu(e,n+329,8,this.devmaj)||this.needPax,this.needPax=Mu(e,n+337,8,this.devmin)||this.needPax,this.needPax=qf(e,n+345,r,s)||this.needPax,e[n+475]!==0?this.needPax=qf(e,n+345,155,s)||this.needPax:(this.needPax=qf(e,n+345,130,s)||this.needPax,this.needPax=mk(e,n+476,12,this.atime)||this.needPax,this.needPax=mk(e,n+488,12,this.ctime)||this.needPax);let a=8*32;for(let u=n;u<n+148;u++)a+=e[u];for(let u=n+156;u<n+512;u++)a+=e[u];return this.cksum=a,Mu(e,n+148,8,this.cksum),this.cksumValid=!0,this.needPax}set(e){for(let n in e)e[n]!==null&&e[n]!==void 0&&(this[n]=e[n])}get type(){return fk.name.get(this[eo])||this[eo]}get typeKey(){return this[eo]}set type(e){fk.code.has(e)?this[eo]=fk.code.get(e):this[eo]=e}},Bhe=(t,e)=>{let r=t,i="",o,s=_m.parse(t).root||".";if(Buffer.byteLength(r)<100)o=[r,i,!1];else{i=_m.dirname(r),r=_m.basename(r);do Buffer.byteLength(r)<=100&&Buffer.byteLength(i)<=e?o=[r,i,!1]:Buffer.byteLength(r)>100&&Buffer.byteLength(i)<=e?o=[r.slice(0,100-1),i,!0]:(r=_m.join(_m.basename(i),r),i=_m.dirname(i));while(i!==s&&!o);o||(o=[t.slice(0,100-1),"",!0])}return o},Uf=(t,e,n)=>t.slice(e,e+n).toString("utf8").replace(/\0.*/,""),pk=(t,e,n)=>Vhe(Fu(t,e,n)),Vhe=t=>t===null?null:new Date(t*1e3),Fu=(t,e,n)=>t[e]&128?fW.parse(t.slice(e,e+n)):Ghe(t,e,n),Whe=t=>isNaN(t)?null:t,Ghe=(t,e,n)=>Whe(parseInt(t.slice(e,e+n).toString("utf8").replace(/\0.*$/,"").trim(),8)),zhe={12:8589934591,8:2097151},Mu=(t,e,n,r)=>r===null?!1:r>zhe[n]||r<0?(fW.encode(r,t.slice(e,e+n)),!0):(Yhe(t,e,n,r),!1),Yhe=(t,e,n,r)=>t.write(Khe(r,n),e,n,"ascii"),Khe=(t,e)=>Xhe(Math.floor(t).toString(8),e),Xhe=(t,e)=>(t.length===e-1?t:new Array(e-t.length-1).join("0")+t+" ")+"\0",mk=(t,e,n,r)=>r===null?!1:Mu(t,e,n,r.getTime()/1e3),Qhe=new Array(156).join("\0"),qf=(t,e,n,r)=>r===null?!1:(t.write(r+Qhe,e,n,"utf8"),r.length!==Buffer.byteLength(r)||r.length>n);dW.exports=hk});var jb=b((b3e,pW)=>{"use strict";var Jhe=bm(),Zhe=require("path"),qy=class{constructor(e,n){this.atime=e.atime||null,this.charset=e.charset||null,this.comment=e.comment||null,this.ctime=e.ctime||null,this.gid=e.gid||null,this.gname=e.gname||null,this.linkpath=e.linkpath||null,this.mtime=e.mtime||null,this.path=e.path||null,this.size=e.size||null,this.uid=e.uid||null,this.uname=e.uname||null,this.dev=e.dev||null,this.ino=e.ino||null,this.nlink=e.nlink||null,this.global=n||!1}encode(){let e=this.encodeBody();if(e==="")return null;let n=Buffer.byteLength(e),r=512*Math.ceil(1+n/512),i=Buffer.allocUnsafe(r);for(let o=0;o<512;o++)i[o]=0;new Jhe({path:("PaxHeader/"+Zhe.basename(this.path)).slice(0,99),mode:this.mode||420,uid:this.uid||null,gid:this.gid||null,size:n,mtime:this.mtime||null,type:this.global?"GlobalExtendedHeader":"ExtendedHeader",linkpath:"",uname:this.uname||"",gname:this.gname||"",devmaj:0,devmin:0,atime:this.atime||null,ctime:this.ctime||null}).encode(i),i.write(e,512,n,"utf8");for(let o=n+512;o<i.length;o++)i[o]=0;return i}encodeBody(){return this.encodeField("path")+this.encodeField("ctime")+this.encodeField("atime")+this.encodeField("dev")+this.encodeField("ino")+this.encodeField("nlink")+this.encodeField("charset")+this.encodeField("comment")+this.encodeField("gid")+this.encodeField("gname")+this.encodeField("linkpath")+this.encodeField("mtime")+this.encodeField("size")+this.encodeField("uid")+this.encodeField("uname")}encodeField(e){if(this[e]===null||this[e]===void 0)return"";let n=this[e]instanceof Date?this[e].getTime()/1e3:this[e],r=" "+(e==="dev"||e==="ino"||e==="nlink"?"SCHILY.":"")+e+"="+n+`
`,i=Buffer.byteLength(r),o=Math.floor(Math.log(i)/Math.log(10))+1;return i+o>=Math.pow(10,o)&&(o+=1),o+i+r}};qy.parse=(t,e,n)=>new qy(ege(tge(t),e),n);var ege=(t,e)=>e?Object.keys(t).reduce((n,r)=>(n[r]=t[r],n),e):t,tge=t=>t.replace(/\n$/,"").split(`
`).reduce(nge,Object.create(null)),nge=(t,e)=>{let n=parseInt(e,10);if(n!==Buffer.byteLength(e)+1)return t;e=e.slice((n+" ").length);let r=e.split("="),i=r.shift().replace(/^SCHILY\.(dev|ino|nlink)/,"$1");if(!i)return t;let o=r.join("=");return t[i]=/^([A-Z]+\.)?([mac]|birth|creation)time$/.test(i)?new Date(o*1e3):/^[0-9]+$/.test(o)?+o:o,t};pW.exports=qy});var Cm=b((C3e,mW)=>{mW.exports=t=>{let e=t.length-1,n=-1;for(;e>-1&&t.charAt(e)==="/";)n=e,e--;return n===-1?t:t.slice(0,n)}});var Hb=b((S3e,hW)=>{"use strict";hW.exports=t=>class extends t{warn(e,n,r={}){this.file&&(r.file=this.file),this.cwd&&(r.cwd=this.cwd),r.code=n instanceof Error&&n.code||e,r.tarCode=e,!this.strict&&r.recoverable!==!1?(n instanceof Error&&(r=Object.assign(n,r),n=n.message),this.emit("warn",r.tarCode,n,r)):n instanceof Error?this.emit("error",Object.assign(n,r)):this.emit("error",Object.assign(new Error(`${e}: ${n}`),r))}}});var vk=b((I3e,gW)=>{"use strict";var $b=["|","<",">","?",":"],gk=$b.map(t=>String.fromCharCode(61440+t.charCodeAt(0))),rge=new Map($b.map((t,e)=>[t,gk[e]])),ige=new Map(gk.map((t,e)=>[t,$b[e]]));gW.exports={encode:t=>$b.reduce((e,n)=>e.split(n).join(rge.get(n)),t),decode:t=>gk.reduce((e,n)=>e.split(n).join(ige.get(n)),t)}});var yk=b((P3e,yW)=>{var{isAbsolute:oge,parse:vW}=require("path").win32;yW.exports=t=>{let e="",n=vW(t);for(;oge(t)||n.root;){let r=t.charAt(0)==="/"&&t.slice(0,4)!=="//?/"?"/":n.root;t=t.slice(r.length),e+=r,n=vW(t)}return[e,t]}});var wW=b((R3e,xW)=>{"use strict";xW.exports=(t,e,n)=>(t&=4095,n&&(t=(t|384)&-19),e&&(t&256&&(t|=64),t&32&&(t|=8),t&4&&(t|=1)),t)});var Pk=b((k3e,NW)=>{"use strict";var IW=Rb(),PW=jb(),RW=bm(),ma=require("fs"),EW=require("path"),pa=Em(),sge=Cm(),AW=(t,e)=>e?(t=pa(t).replace(/^\.(\/|$)/,""),sge(e)+"/"+t):pa(t),age=16*1024*1024,_W=Symbol("process"),bW=Symbol("file"),CW=Symbol("directory"),wk=Symbol("symlink"),SW=Symbol("hardlink"),jy=Symbol("header"),Bb=Symbol("read"),Ek=Symbol("lstat"),Vb=Symbol("onlstat"),_k=Symbol("onread"),bk=Symbol("onreadlink"),Ck=Symbol("openfile"),Sk=Symbol("onopenfile"),Uu=Symbol("close"),Wb=Symbol("mode"),Tk=Symbol("awaitDrain"),xk=Symbol("ondrain"),ha=Symbol("prefix"),TW=Symbol("hadError"),DW=Hb(),cge=vk(),kW=yk(),OW=wW(),Gb=DW(class extends IW{constructor(e,n){if(n=n||{},super(n),typeof e!="string")throw new TypeError("path is required");this.path=pa(e),this.portable=!!n.portable,this.myuid=process.getuid&&process.getuid()||0,this.myuser=process.env.USER||"",this.maxReadSize=n.maxReadSize||age,this.linkCache=n.linkCache||new Map,this.statCache=n.statCache||new Map,this.preservePaths=!!n.preservePaths,this.cwd=pa(n.cwd||process.cwd()),this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.mtime=n.mtime||null,this.prefix=n.prefix?pa(n.prefix):null,this.fd=null,this.blockLen=null,this.blockRemain=null,this.buf=null,this.offset=null,this.length=null,this.pos=null,this.remain=null,typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[i,o]=kW(this.path);i&&(this.path=o,r=i)}this.win32=!!n.win32||process.platform==="win32",this.win32&&(this.path=cge.decode(this.path.replace(/\\/g,"/")),e=e.replace(/\\/g,"/")),this.absolute=pa(n.absolute||EW.resolve(this.cwd,e)),this.path===""&&(this.path="./"),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.statCache.has(this.absolute)?this[Vb](this.statCache.get(this.absolute)):this[Ek]()}emit(e,...n){return e==="error"&&(this[TW]=!0),super.emit(e,...n)}[Ek](){ma.lstat(this.absolute,(e,n)=>{if(e)return this.emit("error",e);this[Vb](n)})}[Vb](e){this.statCache.set(this.absolute,e),this.stat=e,e.isFile()||(e.size=0),this.type=lge(e),this.emit("stat",e),this[_W]()}[_W](){switch(this.type){case"File":return this[bW]();case"Directory":return this[CW]();case"SymbolicLink":return this[wk]();default:return this.end()}}[Wb](e){return OW(e,this.type==="Directory",this.portable)}[ha](e){return AW(e,this.prefix)}[jy](){this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.header=new RW({path:this[ha](this.path),linkpath:this.type==="Link"?this[ha](this.linkpath):this.linkpath,mode:this[Wb](this.stat.mode),uid:this.portable?null:this.stat.uid,gid:this.portable?null:this.stat.gid,size:this.stat.size,mtime:this.noMtime?null:this.mtime||this.stat.mtime,type:this.type,uname:this.portable?null:this.stat.uid===this.myuid?this.myuser:"",atime:this.portable?null:this.stat.atime,ctime:this.portable?null:this.stat.ctime}),this.header.encode()&&!this.noPax&&super.write(new PW({atime:this.portable?null:this.header.atime,ctime:this.portable?null:this.header.ctime,gid:this.portable?null:this.header.gid,mtime:this.noMtime?null:this.mtime||this.header.mtime,path:this[ha](this.path),linkpath:this.type==="Link"?this[ha](this.linkpath):this.linkpath,size:this.header.size,uid:this.portable?null:this.header.uid,uname:this.portable?null:this.header.uname,dev:this.portable?null:this.stat.dev,ino:this.portable?null:this.stat.ino,nlink:this.portable?null:this.stat.nlink}).encode()),super.write(this.header.block)}[CW](){this.path.slice(-1)!=="/"&&(this.path+="/"),this.stat.size=0,this[jy](),this.end()}[wk](){ma.readlink(this.absolute,(e,n)=>{if(e)return this.emit("error",e);this[bk](n)})}[bk](e){this.linkpath=pa(e),this[jy](),this.end()}[SW](e){this.type="Link",this.linkpath=pa(EW.relative(this.cwd,e)),this.stat.size=0,this[jy](),this.end()}[bW](){if(this.stat.nlink>1){let e=this.stat.dev+":"+this.stat.ino;if(this.linkCache.has(e)){let n=this.linkCache.get(e);if(n.indexOf(this.cwd)===0)return this[SW](n)}this.linkCache.set(e,this.absolute)}if(this[jy](),this.stat.size===0)return this.end();this[Ck]()}[Ck](){ma.open(this.absolute,"r",(e,n)=>{if(e)return this.emit("error",e);this[Sk](n)})}[Sk](e){if(this.fd=e,this[TW])return this[Uu]();this.blockLen=512*Math.ceil(this.stat.size/512),this.blockRemain=this.blockLen;let n=Math.min(this.blockLen,this.maxReadSize);this.buf=Buffer.allocUnsafe(n),this.offset=0,this.pos=0,this.remain=this.stat.size,this.length=this.buf.length,this[Bb]()}[Bb](){let{fd:e,buf:n,offset:r,length:i,pos:o}=this;ma.read(e,n,r,i,o,(s,a)=>{if(s)return this[Uu](()=>this.emit("error",s));this[_k](a)})}[Uu](e){ma.close(this.fd,e)}[_k](e){if(e<=0&&this.remain>0){let i=new Error("encountered unexpected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Uu](()=>this.emit("error",i))}if(e>this.remain){let i=new Error("did not encounter expected EOF");return i.path=this.absolute,i.syscall="read",i.code="EOF",this[Uu](()=>this.emit("error",i))}if(e===this.remain)for(let i=e;i<this.length&&e<this.blockRemain;i++)this.buf[i+this.offset]=0,e++,this.remain++;let n=this.offset===0&&e===this.buf.length?this.buf:this.buf.slice(this.offset,this.offset+e);this.write(n)?this[xk]():this[Tk](()=>this[xk]())}[Tk](e){this.once("drain",e)}write(e){if(this.blockRemain<e.length){let n=new Error("writing more data than expected");return n.path=this.absolute,this.emit("error",n)}return this.remain-=e.length,this.blockRemain-=e.length,this.pos+=e.length,this.offset+=e.length,super.write(e)}[xk](){if(!this.remain)return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),this[Uu](e=>e?this.emit("error",e):this.end());this.offset>=this.length&&(this.buf=Buffer.allocUnsafe(Math.min(this.blockRemain,this.buf.length)),this.offset=0),this.length=this.buf.length-this.offset,this[Bb]()}}),Ik=class extends Gb{[Ek](){this[Vb](ma.lstatSync(this.absolute))}[wk](){this[bk](ma.readlinkSync(this.absolute))}[Ck](){this[Sk](ma.openSync(this.absolute,"r"))}[Bb](){let e=!0;try{let{fd:n,buf:r,offset:i,length:o,pos:s}=this,a=ma.readSync(n,r,i,o,s);this[_k](a),e=!1}finally{if(e)try{this[Uu](()=>{})}catch{}}}[Tk](e){e()}[Uu](e){ma.closeSync(this.fd),e()}},uge=DW(class extends IW{constructor(e,n){n=n||{},super(n),this.preservePaths=!!n.preservePaths,this.portable=!!n.portable,this.strict=!!n.strict,this.noPax=!!n.noPax,this.noMtime=!!n.noMtime,this.readEntry=e,this.type=e.type,this.type==="Directory"&&this.portable&&(this.noMtime=!0),this.prefix=n.prefix||null,this.path=pa(e.path),this.mode=this[Wb](e.mode),this.uid=this.portable?null:e.uid,this.gid=this.portable?null:e.gid,this.uname=this.portable?null:e.uname,this.gname=this.portable?null:e.gname,this.size=e.size,this.mtime=this.noMtime?null:n.mtime||e.mtime,this.atime=this.portable?null:e.atime,this.ctime=this.portable?null:e.ctime,this.linkpath=pa(e.linkpath),typeof n.onwarn=="function"&&this.on("warn",n.onwarn);let r=!1;if(!this.preservePaths){let[i,o]=kW(this.path);i&&(this.path=o,r=i)}this.remain=e.size,this.blockRemain=e.startBlockSize,this.header=new RW({path:this[ha](this.path),linkpath:this.type==="Link"?this[ha](this.linkpath):this.linkpath,mode:this.mode,uid:this.portable?null:this.uid,gid:this.portable?null:this.gid,size:this.size,mtime:this.noMtime?null:this.mtime,type:this.type,uname:this.portable?null:this.uname,atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime}),r&&this.warn("TAR_ENTRY_INFO",`stripping ${r} from absolute path`,{entry:this,path:r+this.path}),this.header.encode()&&!this.noPax&&super.write(new PW({atime:this.portable?null:this.atime,ctime:this.portable?null:this.ctime,gid:this.portable?null:this.gid,mtime:this.noMtime?null:this.mtime,path:this[ha](this.path),linkpath:this.type==="Link"?this[ha](this.linkpath):this.linkpath,size:this.size,uid:this.portable?null:this.uid,uname:this.portable?null:this.uname,dev:this.portable?null:this.readEntry.dev,ino:this.portable?null:this.readEntry.ino,nlink:this.portable?null:this.readEntry.nlink}).encode()),super.write(this.header.block),e.pipe(this)}[ha](e){return AW(e,this.prefix)}[Wb](e){return OW(e,this.type==="Directory",this.portable)}write(e){let n=e.length;if(n>this.blockRemain)throw new Error("writing more to entry than is appropriate");return this.blockRemain-=n,super.write(e)}end(){return this.blockRemain&&super.write(Buffer.alloc(this.blockRemain)),super.end()}});Gb.Sync=Ik;Gb.Tar=uge;var lge=t=>t.isFile()?"File":t.isDirectory()?"Directory":t.isSymbolicLink()?"SymbolicLink":"Unsupported";NW.exports=Gb});var FW=b((O3e,LW)=>{"use strict";LW.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}});var zb=b((N3e,MW)=>{"use strict";MW.exports=ct;ct.Node=jf;ct.create=ct;function ct(t){var e=this;if(e instanceof ct||(e=new ct),e.tail=null,e.head=null,e.length=0,t&&typeof t.forEach=="function")t.forEach(function(i){e.push(i)});else if(arguments.length>0)for(var n=0,r=arguments.length;n<r;n++)e.push(arguments[n]);return e}ct.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e};ct.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}};ct.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}};ct.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)dge(this,arguments[t]);return this.length};ct.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)pge(this,arguments[t]);return this.length};ct.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}};ct.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}};ct.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;n!==null;r++)t.call(e,n.value,r,this),n=n.next};ct.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;n!==null;r--)t.call(e,n.value,r,this),n=n.prev};ct.prototype.get=function(t){for(var e=0,n=this.head;n!==null&&e<t;e++)n=n.next;if(e===t&&n!==null)return n.value};ct.prototype.getReverse=function(t){for(var e=0,n=this.tail;n!==null&&e<t;e++)n=n.prev;if(e===t&&n!==null)return n.value};ct.prototype.map=function(t,e){e=e||this;for(var n=new ct,r=this.head;r!==null;)n.push(t.call(e,r.value,this)),r=r.next;return n};ct.prototype.mapReverse=function(t,e){e=e||this;for(var n=new ct,r=this.tail;r!==null;)n.push(t.call(e,r.value,this)),r=r.prev;return n};ct.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else if(this.head)r=this.head.next,n=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=0;r!==null;i++)n=t(n,r.value,i),r=r.next;return n};ct.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else if(this.tail)r=this.tail.prev,n=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var i=this.length-1;r!==null;i--)n=t(n,r.value,i),r=r.prev;return n};ct.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;n!==null;e++)t[e]=n.value,n=n.next;return t};ct.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;n!==null;e++)t[e]=n.value,n=n.prev;return t};ct.prototype.slice=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new ct;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(;i!==null&&r<e;r++,i=i.next)n.push(i.value);return n};ct.prototype.sliceReverse=function(t,e){e=e||this.length,e<0&&(e+=this.length),t=t||0,t<0&&(t+=this.length);var n=new ct;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var r=this.length,i=this.tail;i!==null&&r>e;r--)i=i.prev;for(;i!==null&&r>t;r--,i=i.prev)n.push(i.value);return n};ct.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,i=this.head;i!==null&&r<t;r++)i=i.next;for(var o=[],r=0;i&&r<e;r++)o.push(i.value),i=this.removeNode(i);i===null&&(i=this.tail),i!==this.head&&i!==this.tail&&(i=i.prev);for(var r=0;r<n.length;r++)i=fge(this,i,n[r]);return o};ct.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;n!==null;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};function fge(t,e,n){var r=e===t.head?new jf(n,null,e,t):new jf(n,e,e.next,t);return r.next===null&&(t.tail=r),r.prev===null&&(t.head=r),t.length++,r}function dge(t,e){t.tail=new jf(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function pge(t,e){t.head=new jf(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function jf(t,e,n,r){if(!(this instanceof jf))return new jf(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}try{FW()(ct)}catch{}});var nC=b((F3e,VW)=>{"use strict";var eC=class{constructor(e,n){this.path=e||"./",this.absolute=n,this.entry=null,this.stat=null,this.readdir=null,this.pending=!1,this.ignore=!1,this.piped=!1}},mge=Rb(),hge=ak(),gge=Ub(),Mk=Pk(),vge=Mk.Sync,yge=Mk.Tar,xge=zb(),UW=Buffer.alloc(1024),Xb=Symbol("onStat"),Yb=Symbol("ended"),ga=Symbol("queue"),Sm=Symbol("current"),Hf=Symbol("process"),Kb=Symbol("processing"),qW=Symbol("processJob"),va=Symbol("jobs"),Rk=Symbol("jobDone"),Qb=Symbol("addFSEntry"),jW=Symbol("addTarEntry"),Ok=Symbol("stat"),Nk=Symbol("readdir"),Jb=Symbol("onreaddir"),Zb=Symbol("pipe"),HW=Symbol("entry"),Ak=Symbol("entryOpt"),Lk=Symbol("writeEntryClass"),BW=Symbol("write"),Dk=Symbol("ondrain"),tC=require("fs"),$W=require("path"),wge=Hb(),kk=Em(),Uk=wge(class extends mge{constructor(e){super(e),e=e||Object.create(null),this.opt=e,this.file=e.file||"",this.cwd=e.cwd||process.cwd(),this.maxReadSize=e.maxReadSize,this.preservePaths=!!e.preservePaths,this.strict=!!e.strict,this.noPax=!!e.noPax,this.prefix=kk(e.prefix||""),this.linkCache=e.linkCache||new Map,this.statCache=e.statCache||new Map,this.readdirCache=e.readdirCache||new Map,this[Lk]=Mk,typeof e.onwarn=="function"&&this.on("warn",e.onwarn),this.portable=!!e.portable,this.zip=null,e.gzip?(typeof e.gzip!="object"&&(e.gzip={}),this.portable&&(e.gzip.portable=!0),this.zip=new hge.Gzip(e.gzip),this.zip.on("data",n=>super.write(n)),this.zip.on("end",n=>super.end()),this.zip.on("drain",n=>this[Dk]()),this.on("resume",n=>this.zip.resume())):this.on("drain",this[Dk]),this.noDirRecurse=!!e.noDirRecurse,this.follow=!!e.follow,this.noMtime=!!e.noMtime,this.mtime=e.mtime||null,this.filter=typeof e.filter=="function"?e.filter:n=>!0,this[ga]=new xge,this[va]=0,this.jobs=+e.jobs||4,this[Kb]=!1,this[Yb]=!1}[BW](e){return super.write(e)}add(e){return this.write(e),this}end(e){return e&&this.write(e),this[Yb]=!0,this[Hf](),this}write(e){if(this[Yb])throw new Error("write after end");return e instanceof gge?this[jW](e):this[Qb](e),this.flowing}[jW](e){let n=kk($W.resolve(this.cwd,e.path));if(!this.filter(e.path,e))e.resume();else{let r=new eC(e.path,n,!1);r.entry=new yge(e,this[Ak](r)),r.entry.on("end",i=>this[Rk](r)),this[va]+=1,this[ga].push(r)}this[Hf]()}[Qb](e){let n=kk($W.resolve(this.cwd,e));this[ga].push(new eC(e,n)),this[Hf]()}[Ok](e){e.pending=!0,this[va]+=1;let n=this.follow?"stat":"lstat";tC[n](e.absolute,(r,i)=>{e.pending=!1,this[va]-=1,r?this.emit("error",r):this[Xb](e,i)})}[Xb](e,n){this.statCache.set(e.absolute,n),e.stat=n,this.filter(e.path,n)||(e.ignore=!0),this[Hf]()}[Nk](e){e.pending=!0,this[va]+=1,tC.readdir(e.absolute,(n,r)=>{if(e.pending=!1,this[va]-=1,n)return this.emit("error",n);this[Jb](e,r)})}[Jb](e,n){this.readdirCache.set(e.absolute,n),e.readdir=n,this[Hf]()}[Hf](){if(!this[Kb]){this[Kb]=!0;for(let e=this[ga].head;e!==null&&this[va]<this.jobs;e=e.next)if(this[qW](e.value),e.value.ignore){let n=e.next;this[ga].removeNode(e),e.next=n}this[Kb]=!1,this[Yb]&&!this[ga].length&&this[va]===0&&(this.zip?this.zip.end(UW):(super.write(UW),super.end()))}}get[Sm](){return this[ga]&&this[ga].head&&this[ga].head.value}[Rk](e){this[ga].shift(),this[va]-=1,this[Hf]()}[qW](e){if(!e.pending){if(e.entry){e===this[Sm]&&!e.piped&&this[Zb](e);return}if(e.stat||(this.statCache.has(e.absolute)?this[Xb](e,this.statCache.get(e.absolute)):this[Ok](e)),!!e.stat&&!e.ignore&&!(!this.noDirRecurse&&e.stat.isDirectory()&&!e.readdir&&(this.readdirCache.has(e.absolute)?this[Jb](e,this.readdirCache.get(e.absolute)):this[Nk](e),!e.readdir))){if(e.entry=this[HW](e),!e.entry){e.ignore=!0;return}e===this[Sm]&&!e.piped&&this[Zb](e)}}}[Ak](e){return{onwarn:(n,r,i)=>this.warn(n,r,i),noPax:this.noPax,cwd:this.cwd,absolute:e.absolute,preservePaths:this.preservePaths,maxReadSize:this.maxReadSize,strict:this.strict,portable:this.portable,linkCache:this.linkCache,statCache:this.statCache,noMtime:this.noMtime,mtime:this.mtime,prefix:this.prefix}}[HW](e){this[va]+=1;try{return new this[Lk](e.path,this[Ak](e)).on("end",()=>this[Rk](e)).on("error",n=>this.emit("error",n))}catch(n){this.emit("error",n)}}[Dk](){this[Sm]&&this[Sm].entry&&this[Sm].entry.resume()}[Zb](e){e.piped=!0,e.readdir&&e.readdir.forEach(i=>{let o=e.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[Qb](s+i)});let n=e.entry,r=this.zip;r?n.on("data",i=>{r.write(i)||n.pause()}):n.on("data",i=>{super.write(i)||n.pause()})}pause(){return this.zip&&this.zip.pause(),super.pause()}}),Fk=class extends Uk{constructor(e){super(e),this[Lk]=vge}pause(){}resume(){}[Ok](e){let n=this.follow?"statSync":"lstatSync";this[Xb](e,tC[n](e.absolute))}[Nk](e,n){this[Jb](e,tC.readdirSync(e.absolute))}[Zb](e){let n=e.entry,r=this.zip;e.readdir&&e.readdir.forEach(i=>{let o=e.path,s=o==="./"?"":o.replace(/\/*$/,"/");this[Qb](s+i)}),r?n.on("data",i=>{r.write(i)}):n.on("data",i=>{super[BW](i)})}};Uk.Sync=Fk;VW.exports=Uk});var e3=b((M3e,ZW)=>{"use strict";var WW=typeof process=="object"&&process?process:{stdout:null,stderr:null},Ege=require("events"),GW=require("stream"),zW=require("string_decoder").StringDecoder,hc=Symbol("EOF"),gc=Symbol("maybeEmitEnd"),qu=Symbol("emittedEnd"),rC=Symbol("emittingEnd"),Hy=Symbol("emittedError"),iC=Symbol("closed"),YW=Symbol("read"),oC=Symbol("flush"),KW=Symbol("flushChunk"),_i=Symbol("encoding"),vc=Symbol("decoder"),sC=Symbol("flowing"),$y=Symbol("paused"),Tm=Symbol("resume"),nr=Symbol("bufferLength"),qk=Symbol("bufferPush"),jk=Symbol("bufferShift"),kr=Symbol("objectMode"),Or=Symbol("destroyed"),Hk=Symbol("emitData"),XW=Symbol("emitEnd"),$k=Symbol("emitEnd2"),yc=Symbol("async"),By=t=>Promise.resolve().then(t),QW=global._MP_NO_ITERATOR_SYMBOLS_!=="1",_ge=QW&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),bge=QW&&Symbol.iterator||Symbol("iterator not implemented"),Cge=t=>t==="end"||t==="finish"||t==="prefinish",Sge=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,Tge=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t),aC=class{constructor(e,n,r){this.src=e,this.dest=n,this.opts=r,this.ondrain=()=>e[Tm](),n.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}},Bk=class extends aC{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,n,r){super(e,n,r),this.proxyErrors=i=>n.emit("error",i),e.on("error",this.proxyErrors)}};ZW.exports=class JW extends GW{constructor(e){super(),this[sC]=!1,this[$y]=!1,this.pipes=[],this.buffer=[],this[kr]=e&&e.objectMode||!1,this[kr]?this[_i]=null:this[_i]=e&&e.encoding||null,this[_i]==="buffer"&&(this[_i]=null),this[yc]=e&&!!e.async||!1,this[vc]=this[_i]?new zW(this[_i]):null,this[hc]=!1,this[qu]=!1,this[rC]=!1,this[iC]=!1,this[Hy]=null,this.writable=!0,this.readable=!0,this[nr]=0,this[Or]=!1}get bufferLength(){return this[nr]}get encoding(){return this[_i]}set encoding(e){if(this[kr])throw new Error("cannot set encoding in objectMode");if(this[_i]&&e!==this[_i]&&(this[vc]&&this[vc].lastNeed||this[nr]))throw new Error("cannot change encoding");this[_i]!==e&&(this[vc]=e?new zW(e):null,this.buffer.length&&(this.buffer=this.buffer.map(n=>this[vc].write(n)))),this[_i]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[kr]}set objectMode(e){this[kr]=this[kr]||!!e}get async(){return this[yc]}set async(e){this[yc]=this[yc]||!!e}write(e,n,r){if(this[hc])throw new Error("write after end");if(this[Or])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof n=="function"&&(r=n,n="utf8"),n||(n="utf8");let i=this[yc]?By:o=>o();return!this[kr]&&!Buffer.isBuffer(e)&&(Tge(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):Sge(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[kr]?(this.flowing&&this[nr]!==0&&this[oC](!0),this.flowing?this.emit("data",e):this[qk](e),this[nr]!==0&&this.emit("readable"),r&&i(r),this.flowing):e.length?(typeof e=="string"&&!(n===this[_i]&&!this[vc].lastNeed)&&(e=Buffer.from(e,n)),Buffer.isBuffer(e)&&this[_i]&&(e=this[vc].write(e)),this.flowing&&this[nr]!==0&&this[oC](!0),this.flowing?this.emit("data",e):this[qk](e),this[nr]!==0&&this.emit("readable"),r&&i(r),this.flowing):(this[nr]!==0&&this.emit("readable"),r&&i(r),this.flowing)}read(e){if(this[Or])return null;if(this[nr]===0||e===0||e>this[nr])return this[gc](),null;this[kr]&&(e=null),this.buffer.length>1&&!this[kr]&&(this.encoding?this.buffer=[this.buffer.join("")]:this.buffer=[Buffer.concat(this.buffer,this[nr])]);let n=this[YW](e||null,this.buffer[0]);return this[gc](),n}[YW](e,n){return e===n.length||e===null?this[jk]():(this.buffer[0]=n.slice(e),n=n.slice(0,e),this[nr]-=e),this.emit("data",n),!this.buffer.length&&!this[hc]&&this.emit("drain"),n}end(e,n,r){return typeof e=="function"&&(r=e,e=null),typeof n=="function"&&(r=n,n="utf8"),e&&this.write(e,n),r&&this.once("end",r),this[hc]=!0,this.writable=!1,(this.flowing||!this[$y])&&this[gc](),this}[Tm](){this[Or]||(this[$y]=!1,this[sC]=!0,this.emit("resume"),this.buffer.length?this[oC]():this[hc]?this[gc]():this.emit("drain"))}resume(){return this[Tm]()}pause(){this[sC]=!1,this[$y]=!0}get destroyed(){return this[Or]}get flowing(){return this[sC]}get paused(){return this[$y]}[qk](e){this[kr]?this[nr]+=1:this[nr]+=e.length,this.buffer.push(e)}[jk](){return this.buffer.length&&(this[kr]?this[nr]-=1:this[nr]-=this.buffer[0].length),this.buffer.shift()}[oC](e){do;while(this[KW](this[jk]()));!e&&!this.buffer.length&&!this[hc]&&this.emit("drain")}[KW](e){return e?(this.emit("data",e),this.flowing):!1}pipe(e,n){if(this[Or])return;let r=this[qu];return n=n||{},e===WW.stdout||e===WW.stderr?n.end=!1:n.end=n.end!==!1,n.proxyErrors=!!n.proxyErrors,r?n.end&&e.end():(this.pipes.push(n.proxyErrors?new Bk(this,e,n):new aC(this,e,n)),this[yc]?By(()=>this[Tm]()):this[Tm]()),e}unpipe(e){let n=this.pipes.find(r=>r.dest===e);n&&(this.pipes.splice(this.pipes.indexOf(n),1),n.unpipe())}addListener(e,n){return this.on(e,n)}on(e,n){let r=super.on(e,n);return e==="data"&&!this.pipes.length&&!this.flowing?this[Tm]():e==="readable"&&this[nr]!==0?super.emit("readable"):Cge(e)&&this[qu]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[Hy]&&(this[yc]?By(()=>n.call(this,this[Hy])):n.call(this,this[Hy])),r}get emittedEnd(){return this[qu]}[gc](){!this[rC]&&!this[qu]&&!this[Or]&&this.buffer.length===0&&this[hc]&&(this[rC]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[iC]&&this.emit("close"),this[rC]=!1)}emit(e,n,...r){if(e!=="error"&&e!=="close"&&e!==Or&&this[Or])return;if(e==="data")return n?this[yc]?By(()=>this[Hk](n)):this[Hk](n):!1;if(e==="end")return this[XW]();if(e==="close"){if(this[iC]=!0,!this[qu]&&!this[Or])return;let o=super.emit("close");return this.removeAllListeners("close"),o}else if(e==="error"){this[Hy]=n;let o=super.emit("error",n);return this[gc](),o}else if(e==="resume"){let o=super.emit("resume");return this[gc](),o}else if(e==="finish"||e==="prefinish"){let o=super.emit(e);return this.removeAllListeners(e),o}let i=super.emit(e,n,...r);return this[gc](),i}[Hk](e){for(let r of this.pipes)r.dest.write(e)===!1&&this.pause();let n=super.emit("data",e);return this[gc](),n}[XW](){this[qu]||(this[qu]=!0,this.readable=!1,this[yc]?By(()=>this[$k]()):this[$k]())}[$k](){if(this[vc]){let n=this[vc].end();if(n){for(let r of this.pipes)r.dest.write(n);super.emit("data",n)}}for(let n of this.pipes)n.end();let e=super.emit("end");return this.removeAllListeners("end"),e}collect(){let e=[];this[kr]||(e.dataLength=0);let n=this.promise();return this.on("data",r=>{e.push(r),this[kr]||(e.dataLength+=r.length)}),n.then(()=>e)}concat(){return this[kr]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[kr]?Promise.reject(new Error("cannot concat in objectMode")):this[_i]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,n)=>{this.on(Or,()=>n(new Error("stream destroyed"))),this.on("error",r=>n(r)),this.on("end",()=>e())})}[_ge](){return{next:()=>{let n=this.read();if(n!==null)return Promise.resolve({done:!1,value:n});if(this[hc])return Promise.resolve({done:!0});let r=null,i=null,o=c=>{this.removeListener("data",s),this.removeListener("end",a),i(c)},s=c=>{this.removeListener("error",o),this.removeListener("end",a),this.pause(),r({value:c,done:!!this[hc]})},a=()=>{this.removeListener("error",o),this.removeListener("data",s),r({done:!0})},u=()=>o(new Error("stream destroyed"));return new Promise((c,l)=>{i=l,r=c,this.once(Or,u),this.once("error",o),this.once("end",a),this.once("data",s)})}}}[bge](){return{next:()=>{let n=this.read();return{value:n,done:n===null}}}}destroy(e){return this[Or]?(e?this.emit("error",e):this.emit(Or),this):(this[Or]=!0,this.buffer.length=0,this[nr]=0,typeof this.close=="function"&&!this[iC]&&this.close(),e?this.emit("error",e):this.emit(Or),this)}static isStream(e){return!!e&&(e instanceof JW||e instanceof GW||e instanceof Ege&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}});var Nm=b(Wy=>{"use strict";var Ige=e3(),Pge=require("events").EventEmitter,bi=require("fs"),Gk=bi.writev;if(!Gk){let t=process.binding("fs"),e=t.FSReqWrap||t.FSReqCallback;Gk=(n,r,i,o)=>{let s=(u,c)=>o(u,c,r),a=new e;a.oncomplete=s,t.writeBuffers(n,r,i,a)}}var km=Symbol("_autoClose"),xs=Symbol("_close"),Vy=Symbol("_ended"),Ct=Symbol("_fd"),t3=Symbol("_finished"),Hu=Symbol("_flags"),Vk=Symbol("_flush"),zk=Symbol("_handleChunk"),Yk=Symbol("_makeBuf"),dC=Symbol("_mode"),cC=Symbol("_needDrain"),Am=Symbol("_onerror"),Om=Symbol("_onopen"),Wk=Symbol("_onread"),Pm=Symbol("_onwrite"),$u=Symbol("_open"),xc=Symbol("_path"),$f=Symbol("_pos"),ya=Symbol("_queue"),Rm=Symbol("_read"),n3=Symbol("_readSize"),ju=Symbol("_reading"),uC=Symbol("_remain"),r3=Symbol("_size"),lC=Symbol("_write"),Im=Symbol("_writing"),fC=Symbol("_defaultFlag"),Dm=Symbol("_errored"),pC=class extends Ige{constructor(e,n){if(n=n||{},super(n),this.readable=!0,this.writable=!1,typeof e!="string")throw new TypeError("path must be a string");this[Dm]=!1,this[Ct]=typeof n.fd=="number"?n.fd:null,this[xc]=e,this[n3]=n.readSize||16*1024*1024,this[ju]=!1,this[r3]=typeof n.size=="number"?n.size:1/0,this[uC]=this[r3],this[km]=typeof n.autoClose=="boolean"?n.autoClose:!0,typeof this[Ct]=="number"?this[Rm]():this[$u]()}get fd(){return this[Ct]}get path(){return this[xc]}write(){throw new TypeError("this is a readable stream")}end(){throw new TypeError("this is a readable stream")}[$u](){bi.open(this[xc],"r",(e,n)=>this[Om](e,n))}[Om](e,n){e?this[Am](e):(this[Ct]=n,this.emit("open",n),this[Rm]())}[Yk](){return Buffer.allocUnsafe(Math.min(this[n3],this[uC]))}[Rm](){if(!this[ju]){this[ju]=!0;let e=this[Yk]();if(e.length===0)return process.nextTick(()=>this[Wk](null,0,e));bi.read(this[Ct],e,0,e.length,null,(n,r,i)=>this[Wk](n,r,i))}}[Wk](e,n,r){this[ju]=!1,e?this[Am](e):this[zk](n,r)&&this[Rm]()}[xs](){if(this[km]&&typeof this[Ct]=="number"){let e=this[Ct];this[Ct]=null,bi.close(e,n=>n?this.emit("error",n):this.emit("close"))}}[Am](e){this[ju]=!0,this[xs](),this.emit("error",e)}[zk](e,n){let r=!1;return this[uC]-=e,e>0&&(r=super.write(e<n.length?n.slice(0,e):n)),(e===0||this[uC]<=0)&&(r=!1,this[xs](),super.end()),r}emit(e,n){switch(e){case"prefinish":case"finish":break;case"drain":typeof this[Ct]=="number"&&this[Rm]();break;case"error":return this[Dm]?void 0:(this[Dm]=!0,super.emit(e,n));default:return super.emit(e,n)}}},Kk=class extends pC{[$u](){let e=!0;try{this[Om](null,bi.openSync(this[xc],"r")),e=!1}finally{e&&this[xs]()}}[Rm](){let e=!0;try{if(!this[ju]){this[ju]=!0;do{let n=this[Yk](),r=n.length===0?0:bi.readSync(this[Ct],n,0,n.length,null);if(!this[zk](r,n))break}while(!0);this[ju]=!1}e=!1}finally{e&&this[xs]()}}[xs](){if(this[km]&&typeof this[Ct]=="number"){let e=this[Ct];this[Ct]=null,bi.closeSync(e),this.emit("close")}}},mC=class extends Pge{constructor(e,n){n=n||{},super(n),this.readable=!1,this.writable=!0,this[Dm]=!1,this[Im]=!1,this[Vy]=!1,this[cC]=!1,this[ya]=[],this[xc]=e,this[Ct]=typeof n.fd=="number"?n.fd:null,this[dC]=n.mode===void 0?438:n.mode,this[$f]=typeof n.start=="number"?n.start:null,this[km]=typeof n.autoClose=="boolean"?n.autoClose:!0;let r=this[$f]!==null?"r+":"w";this[fC]=n.flags===void 0,this[Hu]=this[fC]?r:n.flags,this[Ct]===null&&this[$u]()}emit(e,n){if(e==="error"){if(this[Dm])return;this[Dm]=!0}return super.emit(e,n)}get fd(){return this[Ct]}get path(){return this[xc]}[Am](e){this[xs](),this[Im]=!0,this.emit("error",e)}[$u](){bi.open(this[xc],this[Hu],this[dC],(e,n)=>this[Om](e,n))}[Om](e,n){this[fC]&&this[Hu]==="r+"&&e&&e.code==="ENOENT"?(this[Hu]="w",this[$u]()):e?this[Am](e):(this[Ct]=n,this.emit("open",n),this[Vk]())}end(e,n){return e&&this.write(e,n),this[Vy]=!0,!this[Im]&&!this[ya].length&&typeof this[Ct]=="number"&&this[Pm](null,0),this}write(e,n){return typeof e=="string"&&(e=Buffer.from(e,n)),this[Vy]?(this.emit("error",new Error("write() after end()")),!1):this[Ct]===null||this[Im]||this[ya].length?(this[ya].push(e),this[cC]=!0,!1):(this[Im]=!0,this[lC](e),!0)}[lC](e){bi.write(this[Ct],e,0,e.length,this[$f],(n,r)=>this[Pm](n,r))}[Pm](e,n){e?this[Am](e):(this[$f]!==null&&(this[$f]+=n),this[ya].length?this[Vk]():(this[Im]=!1,this[Vy]&&!this[t3]?(this[t3]=!0,this[xs](),this.emit("finish")):this[cC]&&(this[cC]=!1,this.emit("drain"))))}[Vk](){if(this[ya].length===0)this[Vy]&&this[Pm](null,0);else if(this[ya].length===1)this[lC](this[ya].pop());else{let e=this[ya];this[ya]=[],Gk(this[Ct],e,this[$f],(n,r)=>this[Pm](n,r))}}[xs](){if(this[km]&&typeof this[Ct]=="number"){let e=this[Ct];this[Ct]=null,bi.close(e,n=>n?this.emit("error",n):this.emit("close"))}}},Xk=class extends mC{[$u](){let e;if(this[fC]&&this[Hu]==="r+")try{e=bi.openSync(this[xc],this[Hu],this[dC])}catch(n){if(n.code==="ENOENT")return this[Hu]="w",this[$u]();throw n}else e=bi.openSync(this[xc],this[Hu],this[dC]);this[Om](null,e)}[xs](){if(this[km]&&typeof this[Ct]=="number"){let e=this[Ct];this[Ct]=null,bi.closeSync(e),this.emit("close")}}[lC](e){let n=!0;try{this[Pm](null,bi.writeSync(this[Ct],e,0,e.length,this[$f])),n=!1}finally{if(n)try{this[xs]()}catch{}}}};Wy.ReadStream=pC;Wy.ReadStreamSync=Kk;Wy.WriteStream=mC;Wy.WriteStreamSync=Xk});var EC=b((j3e,f3)=>{"use strict";var Rge=Hb(),Age=bm(),Dge=require("events"),kge=zb(),Oge=1024*1024,Nge=Ub(),i3=jb(),Lge=ak(),{nextTick:Fge}=require("process"),Qk=Buffer.from([31,139]),Ao=Symbol("state"),Bf=Symbol("writeEntry"),wc=Symbol("readEntry"),Jk=Symbol("nextEntry"),o3=Symbol("processEntry"),Do=Symbol("extendedHeader"),Gy=Symbol("globalExtendedHeader"),Bu=Symbol("meta"),s3=Symbol("emitMeta"),qt=Symbol("buffer"),Ec=Symbol("queue"),Vf=Symbol("ended"),a3=Symbol("emittedEnd"),Wf=Symbol("emit"),Ci=Symbol("unzip"),hC=Symbol("consumeChunk"),gC=Symbol("consumeChunkSub"),Zk=Symbol("consumeBody"),c3=Symbol("consumeMeta"),u3=Symbol("consumeHeader"),vC=Symbol("consuming"),eO=Symbol("bufferConcat"),tO=Symbol("maybeEnd"),zy=Symbol("writing"),Vu=Symbol("aborted"),yC=Symbol("onDone"),Gf=Symbol("sawValidEntry"),xC=Symbol("sawNullBlock"),wC=Symbol("sawEOF"),l3=Symbol("closeStream"),Mge=t=>!0;f3.exports=Rge(class extends Dge{constructor(e){e=e||{},super(e),this.file=e.file||"",this[Gf]=null,this.on(yC,n=>{(this[Ao]==="begin"||this[Gf]===!1)&&this.warn("TAR_BAD_ARCHIVE","Unrecognized archive format")}),e.ondone?this.on(yC,e.ondone):this.on(yC,n=>{this.emit("prefinish"),this.emit("finish"),this.emit("end")}),this.strict=!!e.strict,this.maxMetaEntrySize=e.maxMetaEntrySize||Oge,this.filter=typeof e.filter=="function"?e.filter:Mge,this.writable=!0,this.readable=!1,this[Ec]=new kge,this[qt]=null,this[wc]=null,this[Bf]=null,this[Ao]="begin",this[Bu]="",this[Do]=null,this[Gy]=null,this[Vf]=!1,this[Ci]=null,this[Vu]=!1,this[xC]=!1,this[wC]=!1,this.on("end",()=>this[l3]()),typeof e.onwarn=="function"&&this.on("warn",e.onwarn),typeof e.onentry=="function"&&this.on("entry",e.onentry)}[u3](e,n){this[Gf]===null&&(this[Gf]=!1);let r;try{r=new Age(e,n,this[Do],this[Gy])}catch(i){return this.warn("TAR_ENTRY_INVALID",i)}if(r.nullBlock)this[xC]?(this[wC]=!0,this[Ao]==="begin"&&(this[Ao]="header"),this[Wf]("eof")):(this[xC]=!0,this[Wf]("nullBlock"));else if(this[xC]=!1,!r.cksumValid)this.warn("TAR_ENTRY_INVALID","checksum failure",{header:r});else if(!r.path)this.warn("TAR_ENTRY_INVALID","path is required",{header:r});else{let i=r.type;if(/^(Symbolic)?Link$/.test(i)&&!r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath required",{header:r});else if(!/^(Symbolic)?Link$/.test(i)&&r.linkpath)this.warn("TAR_ENTRY_INVALID","linkpath forbidden",{header:r});else{let o=this[Bf]=new Nge(r,this[Do],this[Gy]);if(!this[Gf])if(o.remain){let s=()=>{o.invalid||(this[Gf]=!0)};o.on("end",s)}else this[Gf]=!0;o.meta?o.size>this.maxMetaEntrySize?(o.ignore=!0,this[Wf]("ignoredEntry",o),this[Ao]="ignore",o.resume()):o.size>0&&(this[Bu]="",o.on("data",s=>this[Bu]+=s),this[Ao]="meta"):(this[Do]=null,o.ignore=o.ignore||!this.filter(o.path,o),o.ignore?(this[Wf]("ignoredEntry",o),this[Ao]=o.remain?"ignore":"header",o.resume()):(o.remain?this[Ao]="body":(this[Ao]="header",o.end()),this[wc]?this[Ec].push(o):(this[Ec].push(o),this[Jk]())))}}}[l3](){Fge(()=>this.emit("close"))}[o3](e){let n=!0;return e?Array.isArray(e)?this.emit.apply(this,e):(this[wc]=e,this.emit("entry",e),e.emittedEnd||(e.on("end",r=>this[Jk]()),n=!1)):(this[wc]=null,n=!1),n}[Jk](){do;while(this[o3](this[Ec].shift()));if(!this[Ec].length){let e=this[wc];!e||e.flowing||e.size===e.remain?this[zy]||this.emit("drain"):e.once("drain",r=>this.emit("drain"))}}[Zk](e,n){let r=this[Bf],i=r.blockRemain,o=i>=e.length&&n===0?e:e.slice(n,n+i);return r.write(o),r.blockRemain||(this[Ao]="header",this[Bf]=null,r.end()),o.length}[c3](e,n){let r=this[Bf],i=this[Zk](e,n);return this[Bf]||this[s3](r),i}[Wf](e,n,r){!this[Ec].length&&!this[wc]?this.emit(e,n,r):this[Ec].push([e,n,r])}[s3](e){switch(this[Wf]("meta",this[Bu]),e.type){case"ExtendedHeader":case"OldExtendedHeader":this[Do]=i3.parse(this[Bu],this[Do],!1);break;case"GlobalExtendedHeader":this[Gy]=i3.parse(this[Bu],this[Gy],!0);break;case"NextFileHasLongPath":case"OldGnuLongPath":this[Do]=this[Do]||Object.create(null),this[Do].path=this[Bu].replace(/\0.*/,"");break;case"NextFileHasLongLinkpath":this[Do]=this[Do]||Object.create(null),this[Do].linkpath=this[Bu].replace(/\0.*/,"");break;default:throw new Error("unknown meta: "+e.type)}}abort(e){this[Vu]=!0,this.emit("abort",e),this.warn("TAR_ABORT",e,{recoverable:!1})}write(e){if(this[Vu])return;if(this[Ci]===null&&e){if(this[qt]&&(e=Buffer.concat([this[qt],e]),this[qt]=null),e.length<Qk.length)return this[qt]=e,!0;for(let r=0;this[Ci]===null&&r<Qk.length;r++)e[r]!==Qk[r]&&(this[Ci]=!1);if(this[Ci]===null){let r=this[Vf];this[Vf]=!1,this[Ci]=new Lge.Unzip,this[Ci].on("data",o=>this[hC](o)),this[Ci].on("error",o=>this.abort(o)),this[Ci].on("end",o=>{this[Vf]=!0,this[hC]()}),this[zy]=!0;let i=this[Ci][r?"end":"write"](e);return this[zy]=!1,i}}this[zy]=!0,this[Ci]?this[Ci].write(e):this[hC](e),this[zy]=!1;let n=this[Ec].length?!1:this[wc]?this[wc].flowing:!0;return!n&&!this[Ec].length&&this[wc].once("drain",r=>this.emit("drain")),n}[eO](e){e&&!this[Vu]&&(this[qt]=this[qt]?Buffer.concat([this[qt],e]):e)}[tO](){if(this[Vf]&&!this[a3]&&!this[Vu]&&!this[vC]){this[a3]=!0;let e=this[Bf];if(e&&e.blockRemain){let n=this[qt]?this[qt].length:0;this.warn("TAR_BAD_ARCHIVE",`Truncated input (needed ${e.blockRemain} more bytes, only ${n} available)`,{entry:e}),this[qt]&&e.write(this[qt]),e.end()}this[Wf](yC)}}[hC](e){if(this[vC])this[eO](e);else if(!e&&!this[qt])this[tO]();else{if(this[vC]=!0,this[qt]){this[eO](e);let n=this[qt];this[qt]=null,this[gC](n)}else this[gC](e);for(;this[qt]&&this[qt].length>=512&&!this[Vu]&&!this[wC];){let n=this[qt];this[qt]=null,this[gC](n)}this[vC]=!1}(!this[qt]||this[Vf])&&this[tO]()}[gC](e){let n=0,r=e.length;for(;n+512<=r&&!this[Vu]&&!this[wC];)switch(this[Ao]){case"begin":case"header":this[u3](e,n),n+=512;break;case"ignore":case"body":n+=this[Zk](e,n);break;case"meta":n+=this[c3](e,n);break;default:throw new Error("invalid state: "+this[Ao])}n<r&&(this[qt]?this[qt]=Buffer.concat([e.slice(n),this[qt]]):this[qt]=e.slice(n))}end(e){this[Vu]||(this[Ci]?this[Ci].end(e):(this[Vf]=!0,this.write(e)))}})});var _C=b((H3e,h3)=>{"use strict";var Uge=gm(),p3=EC(),Lm=require("fs"),qge=Nm(),d3=require("path"),nO=Cm();h3.exports=(t,e,n)=>{typeof t=="function"?(n=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(n=e,e=null),e?e=Array.from(e):e=[];let r=Uge(t);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return e.length&&Hge(r,e),r.noResume||jge(r),r.file&&r.sync?$ge(r):r.file?Bge(r,n):m3(r)};var jge=t=>{let e=t.onentry;t.onentry=e?n=>{e(n),n.resume()}:n=>n.resume()},Hge=(t,e)=>{let n=new Map(e.map(o=>[nO(o),!0])),r=t.filter,i=(o,s)=>{let a=s||d3.parse(o).root||".",u=o===a?!1:n.has(o)?n.get(o):i(d3.dirname(o),a);return n.set(o,u),u};t.filter=r?(o,s)=>r(o,s)&&i(nO(o)):o=>i(nO(o))},$ge=t=>{let e=m3(t),n=t.file,r=!0,i;try{let o=Lm.statSync(n),s=t.maxReadSize||16*1024*1024;if(o.size<s)e.end(Lm.readFileSync(n));else{let a=0,u=Buffer.allocUnsafe(s);for(i=Lm.openSync(n,"r");a<o.size;){let c=Lm.readSync(i,u,0,s,a);a+=c,e.write(u.slice(0,c))}e.end()}r=!1}finally{if(r&&i)try{Lm.closeSync(i)}catch{}}},Bge=(t,e)=>{let n=new p3(t),r=t.maxReadSize||16*1024*1024,i=t.file,o=new Promise((s,a)=>{n.on("error",a),n.on("end",s),Lm.stat(i,(u,c)=>{if(u)a(u);else{let l=new qge.ReadStream(i,{readSize:r,size:c.size});l.on("error",a),l.pipe(n)}})});return e?o.then(e,e):o},m3=t=>new p3(t)});var E3=b(($3e,w3)=>{"use strict";var Vge=gm(),bC=nC(),g3=Nm(),v3=_C(),y3=require("path");w3.exports=(t,e,n)=>{if(typeof e=="function"&&(n=e),Array.isArray(t)&&(e=t,t={}),!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");e=Array.from(e);let r=Vge(t);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return r.file&&r.sync?Wge(r,e):r.file?Gge(r,e,n):r.sync?zge(r,e):Yge(r,e)};var Wge=(t,e)=>{let n=new bC.Sync(t),r=new g3.WriteStreamSync(t.file,{mode:t.mode||438});n.pipe(r),x3(n,e)},Gge=(t,e,n)=>{let r=new bC(t),i=new g3.WriteStream(t.file,{mode:t.mode||438});r.pipe(i);let o=new Promise((s,a)=>{i.on("error",a),i.on("close",s),r.on("error",a)});return rO(r,e),n?o.then(n,n):o},x3=(t,e)=>{e.forEach(n=>{n.charAt(0)==="@"?v3({file:y3.resolve(t.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>t.add(r)}):t.add(n)}),t.end()},rO=(t,e)=>{for(;e.length;){let n=e.shift();if(n.charAt(0)==="@")return v3({file:y3.resolve(t.cwd,n.slice(1)),noResume:!0,onentry:r=>t.add(r)}).then(r=>rO(t,e));t.add(n)}t.end()},zge=(t,e)=>{let n=new bC.Sync(t);return x3(n,e),n},Yge=(t,e)=>{let n=new bC(t);return rO(n,e),n}});var iO=b((B3e,P3)=>{"use strict";var Kge=gm(),_3=nC(),to=require("fs"),b3=Nm(),C3=_C(),S3=require("path"),T3=bm();P3.exports=(t,e,n)=>{let r=Kge(t);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),r.sync?Xge(r,e):Jge(r,e,n)};var Xge=(t,e)=>{let n=new _3.Sync(t),r=!0,i,o;try{try{i=to.openSync(t.file,"r+")}catch(u){if(u.code==="ENOENT")i=to.openSync(t.file,"w+");else throw u}let s=to.fstatSync(i),a=Buffer.alloc(512);e:for(o=0;o<s.size;o+=512){for(let l=0,f=0;l<512;l+=f){if(f=to.readSync(i,a,l,a.length-l,o+l),o===0&&a[0]===31&&a[1]===139)throw new Error("cannot append to compressed archives");if(!f)break e}let u=new T3(a);if(!u.cksumValid)break;let c=512*Math.ceil(u.size/512);if(o+c+512>s.size)break;o+=c,t.mtimeCache&&t.mtimeCache.set(u.path,u.mtime)}r=!1,Qge(t,n,o,i,e)}finally{if(r)try{to.closeSync(i)}catch{}}},Qge=(t,e,n,r,i)=>{let o=new b3.WriteStreamSync(t.file,{fd:r,start:n});e.pipe(o),Zge(e,i)},Jge=(t,e,n)=>{e=Array.from(e);let r=new _3(t),i=(s,a,u)=>{let c=(m,h)=>{m?to.close(s,g=>u(m)):u(null,h)},l=0;if(a===0)return c(null,0);let f=0,d=Buffer.alloc(512),p=(m,h)=>{if(m)return c(m);if(f+=h,f<512&&h)return to.read(s,d,f,d.length-f,l+f,p);if(l===0&&d[0]===31&&d[1]===139)return c(new Error("cannot append to compressed archives"));if(f<512)return c(null,l);let g=new T3(d);if(!g.cksumValid)return c(null,l);let v=512*Math.ceil(g.size/512);if(l+v+512>a||(l+=v+512,l>=a))return c(null,l);t.mtimeCache&&t.mtimeCache.set(g.path,g.mtime),f=0,to.read(s,d,0,512,l,p)};to.read(s,d,0,512,l,p)},o=new Promise((s,a)=>{r.on("error",a);let u="r+",c=(l,f)=>{if(l&&l.code==="ENOENT"&&u==="r+")return u="w+",to.open(t.file,u,c);if(l)return a(l);to.fstat(f,(d,p)=>{if(d)return to.close(f,()=>a(d));i(f,p.size,(m,h)=>{if(m)return a(m);let g=new b3.WriteStream(t.file,{fd:f,start:h});r.pipe(g),g.on("error",a),g.on("close",s),I3(r,e)})})};to.open(t.file,u,c)});return n?o.then(n,n):o},Zge=(t,e)=>{e.forEach(n=>{n.charAt(0)==="@"?C3({file:S3.resolve(t.cwd,n.slice(1)),sync:!0,noResume:!0,onentry:r=>t.add(r)}):t.add(n)}),t.end()},I3=(t,e)=>{for(;e.length;){let n=e.shift();if(n.charAt(0)==="@")return C3({file:S3.resolve(t.cwd,n.slice(1)),noResume:!0,onentry:r=>t.add(r)}).then(r=>I3(t,e));t.add(n)}t.end()}});var A3=b((V3e,R3)=>{"use strict";var eve=gm(),tve=iO();R3.exports=(t,e,n)=>{let r=eve(t);if(!r.file)throw new TypeError("file is required");if(r.gzip)throw new TypeError("cannot append to compressed archives");if(!e||!Array.isArray(e)||!e.length)throw new TypeError("no files or directories specified");return e=Array.from(e),nve(r),tve(r,e,n)};var nve=t=>{let e=t.filter;t.mtimeCache||(t.mtimeCache=new Map),t.filter=e?(n,r)=>e(n,r)&&!(t.mtimeCache.get(n)>r.mtime):(n,r)=>!(t.mtimeCache.get(n)>r.mtime)}});var O3=b((W3e,k3)=>{var{promisify:D3}=require("util"),Wu=require("fs"),rve=t=>{if(!t)t={mode:511,fs:Wu};else if(typeof t=="object")t={mode:511,fs:Wu,...t};else if(typeof t=="number")t={mode:t,fs:Wu};else if(typeof t=="string")t={mode:parseInt(t,8),fs:Wu};else throw new TypeError("invalid options argument");return t.mkdir=t.mkdir||t.fs.mkdir||Wu.mkdir,t.mkdirAsync=D3(t.mkdir),t.stat=t.stat||t.fs.stat||Wu.stat,t.statAsync=D3(t.stat),t.statSync=t.statSync||t.fs.statSync||Wu.statSync,t.mkdirSync=t.mkdirSync||t.fs.mkdirSync||Wu.mkdirSync,t};k3.exports=rve});var L3=b((G3e,N3)=>{var ive=process.env.__TESTING_MKDIRP_PLATFORM__||process.platform,{resolve:ove,parse:sve}=require("path"),ave=t=>{if(/\0/.test(t))throw Object.assign(new TypeError("path must be a string without null bytes"),{path:t,code:"ERR_INVALID_ARG_VALUE"});if(t=ove(t),ive==="win32"){let e=/[*|"<>?:]/,{root:n}=sve(t);if(e.test(t.substr(n.length)))throw Object.assign(new Error("Illegal characters in path."),{path:t,code:"EINVAL"})}return t};N3.exports=ave});var j3=b((z3e,q3)=>{var{dirname:F3}=require("path"),M3=(t,e,n=void 0)=>n===e?Promise.resolve():t.statAsync(e).then(r=>r.isDirectory()?n:void 0,r=>r.code==="ENOENT"?M3(t,F3(e),e):void 0),U3=(t,e,n=void 0)=>{if(n!==e)try{return t.statSync(e).isDirectory()?n:void 0}catch(r){return r.code==="ENOENT"?U3(t,F3(e),e):void 0}};q3.exports={findMade:M3,findMadeSync:U3}});var aO=b((Y3e,$3)=>{var{dirname:H3}=require("path"),oO=(t,e,n)=>{e.recursive=!1;let r=H3(t);return r===t?e.mkdirAsync(t,e).catch(i=>{if(i.code!=="EISDIR")throw i}):e.mkdirAsync(t,e).then(()=>n||t,i=>{if(i.code==="ENOENT")return oO(r,e).then(o=>oO(t,e,o));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;return e.statAsync(t).then(o=>{if(o.isDirectory())return n;throw i},()=>{throw i})})},sO=(t,e,n)=>{let r=H3(t);if(e.recursive=!1,r===t)try{return e.mkdirSync(t,e)}catch(i){if(i.code!=="EISDIR")throw i;return}try{return e.mkdirSync(t,e),n||t}catch(i){if(i.code==="ENOENT")return sO(t,e,sO(r,e,n));if(i.code!=="EEXIST"&&i.code!=="EROFS")throw i;try{if(!e.statSync(t).isDirectory())throw i}catch{throw i}}};$3.exports={mkdirpManual:oO,mkdirpManualSync:sO}});var W3=b((K3e,V3)=>{var{dirname:B3}=require("path"),{findMade:cve,findMadeSync:uve}=j3(),{mkdirpManual:lve,mkdirpManualSync:fve}=aO(),dve=(t,e)=>(e.recursive=!0,B3(t)===t?e.mkdirAsync(t,e):cve(e,t).then(r=>e.mkdirAsync(t,e).then(()=>r).catch(i=>{if(i.code==="ENOENT")return lve(t,e);throw i}))),pve=(t,e)=>{if(e.recursive=!0,B3(t)===t)return e.mkdirSync(t,e);let r=uve(e,t);try{return e.mkdirSync(t,e),r}catch(i){if(i.code==="ENOENT")return fve(t,e);throw i}};V3.exports={mkdirpNative:dve,mkdirpNativeSync:pve}});var K3=b((X3e,Y3)=>{var G3=require("fs"),mve=process.env.__TESTING_MKDIRP_NODE_VERSION__||process.version,cO=mve.replace(/^v/,"").split("."),z3=+cO[0]>10||+cO[0]==10&&+cO[1]>=12,hve=z3?t=>t.mkdir===G3.mkdir:()=>!1,gve=z3?t=>t.mkdirSync===G3.mkdirSync:()=>!1;Y3.exports={useNative:hve,useNativeSync:gve}});var tG=b((Q3e,eG)=>{var Fm=O3(),Mm=L3(),{mkdirpNative:X3,mkdirpNativeSync:Q3}=W3(),{mkdirpManual:J3,mkdirpManualSync:Z3}=aO(),{useNative:vve,useNativeSync:yve}=K3(),Um=(t,e)=>(t=Mm(t),e=Fm(e),vve(e)?X3(t,e):J3(t,e)),xve=(t,e)=>(t=Mm(t),e=Fm(e),yve(e)?Q3(t,e):Z3(t,e));Um.sync=xve;Um.native=(t,e)=>X3(Mm(t),Fm(e));Um.manual=(t,e)=>J3(Mm(t),Fm(e));Um.nativeSync=(t,e)=>Q3(Mm(t),Fm(e));Um.manualSync=(t,e)=>Z3(Mm(t),Fm(e));eG.exports=Um});var cG=b((J3e,aG)=>{"use strict";var ko=require("fs"),zf=require("path"),wve=ko.lchown?"lchown":"chown",Eve=ko.lchownSync?"lchownSync":"chownSync",rG=ko.lchown&&!process.version.match(/v1[1-9]+\./)&&!process.version.match(/v10\.[6-9]/),nG=(t,e,n)=>{try{return ko[Eve](t,e,n)}catch(r){if(r.code!=="ENOENT")throw r}},_ve=(t,e,n)=>{try{return ko.chownSync(t,e,n)}catch(r){if(r.code!=="ENOENT")throw r}},bve=rG?(t,e,n,r)=>i=>{!i||i.code!=="EISDIR"?r(i):ko.chown(t,e,n,r)}:(t,e,n,r)=>r,uO=rG?(t,e,n)=>{try{return nG(t,e,n)}catch(r){if(r.code!=="EISDIR")throw r;_ve(t,e,n)}}:(t,e,n)=>nG(t,e,n),Cve=process.version,iG=(t,e,n)=>ko.readdir(t,e,n),Sve=(t,e)=>ko.readdirSync(t,e);/^v4\./.test(Cve)&&(iG=(t,e,n)=>ko.readdir(t,n));var CC=(t,e,n,r)=>{ko[wve](t,e,n,bve(t,e,n,i=>{r(i&&i.code!=="ENOENT"?i:null)}))},oG=(t,e,n,r,i)=>{if(typeof e=="string")return ko.lstat(zf.resolve(t,e),(o,s)=>{if(o)return i(o.code!=="ENOENT"?o:null);s.name=e,oG(t,s,n,r,i)});if(e.isDirectory())lO(zf.resolve(t,e.name),n,r,o=>{if(o)return i(o);let s=zf.resolve(t,e.name);CC(s,n,r,i)});else{let o=zf.resolve(t,e.name);CC(o,n,r,i)}},lO=(t,e,n,r)=>{iG(t,{withFileTypes:!0},(i,o)=>{if(i){if(i.code==="ENOENT")return r();if(i.code!=="ENOTDIR"&&i.code!=="ENOTSUP")return r(i)}if(i||!o.length)return CC(t,e,n,r);let s=o.length,a=null,u=c=>{if(!a){if(c)return r(a=c);if(--s===0)return CC(t,e,n,r)}};o.forEach(c=>oG(t,c,e,n,u))})},Tve=(t,e,n,r)=>{if(typeof e=="string")try{let i=ko.lstatSync(zf.resolve(t,e));i.name=e,e=i}catch(i){if(i.code==="ENOENT")return;throw i}e.isDirectory()&&sG(zf.resolve(t,e.name),n,r),uO(zf.resolve(t,e.name),n,r)},sG=(t,e,n)=>{let r;try{r=Sve(t,{withFileTypes:!0})}catch(i){if(i.code==="ENOENT")return;if(i.code==="ENOTDIR"||i.code==="ENOTSUP")return uO(t,e,n);throw i}return r&&r.length&&r.forEach(i=>Tve(t,i,e,n)),uO(t,e,n)};aG.exports=lO;lO.sync=sG});var dG=b((Z3e,fO)=>{"use strict";var uG=tG(),Oo=require("fs"),SC=require("path"),lG=cG(),ws=Em(),TC=class extends Error{constructor(e,n){super("Cannot extract through symbolic link"),this.path=n,this.symlink=e}get name(){return"SylinkError"}},IC=class extends Error{constructor(e,n){super(n+": Cannot cd into '"+e+"'"),this.path=e,this.code=n}get name(){return"CwdError"}},PC=(t,e)=>t.get(ws(e)),Yy=(t,e,n)=>t.set(ws(e),n),Ive=(t,e)=>{Oo.stat(t,(n,r)=>{(n||!r.isDirectory())&&(n=new IC(t,n&&n.code||"ENOTDIR")),e(n)})};fO.exports=(t,e,n)=>{t=ws(t);let r=e.umask,i=e.mode|448,o=(i&r)!==0,s=e.uid,a=e.gid,u=typeof s=="number"&&typeof a=="number"&&(s!==e.processUid||a!==e.processGid),c=e.preserve,l=e.unlink,f=e.cache,d=ws(e.cwd),p=(g,v)=>{g?n(g):(Yy(f,t,!0),v&&u?lG(v,s,a,x=>p(x)):o?Oo.chmod(t,i,n):n())};if(f&&PC(f,t)===!0)return p();if(t===d)return Ive(t,p);if(c)return uG(t,{mode:i}).then(g=>p(null,g),p);let h=ws(SC.relative(d,t)).split("/");RC(d,h,i,f,l,d,null,p)};var RC=(t,e,n,r,i,o,s,a)=>{if(!e.length)return a(null,s);let u=e.shift(),c=ws(SC.resolve(t+"/"+u));if(PC(r,c))return RC(c,e,n,r,i,o,s,a);Oo.mkdir(c,n,fG(c,e,n,r,i,o,s,a))},fG=(t,e,n,r,i,o,s,a)=>u=>{u?Oo.lstat(t,(c,l)=>{if(c)c.path=c.path&&ws(c.path),a(c);else if(l.isDirectory())RC(t,e,n,r,i,o,s,a);else if(i)Oo.unlink(t,f=>{if(f)return a(f);Oo.mkdir(t,n,fG(t,e,n,r,i,o,s,a))});else{if(l.isSymbolicLink())return a(new TC(t,t+"/"+e.join("/")));a(u)}}):(s=s||t,RC(t,e,n,r,i,o,s,a))},Pve=t=>{let e=!1,n="ENOTDIR";try{e=Oo.statSync(t).isDirectory()}catch(r){n=r.code}finally{if(!e)throw new IC(t,n)}};fO.exports.sync=(t,e)=>{t=ws(t);let n=e.umask,r=e.mode|448,i=(r&n)!==0,o=e.uid,s=e.gid,a=typeof o=="number"&&typeof s=="number"&&(o!==e.processUid||s!==e.processGid),u=e.preserve,c=e.unlink,l=e.cache,f=ws(e.cwd),d=g=>{Yy(l,t,!0),g&&a&&lG.sync(g,o,s),i&&Oo.chmodSync(t,r)};if(l&&PC(l,t)===!0)return d();if(t===f)return Pve(f),d();if(u)return d(uG.sync(t,r));let m=ws(SC.relative(f,t)).split("/"),h=null;for(let g=m.shift(),v=f;g&&(v+="/"+g);g=m.shift())if(v=ws(SC.resolve(v)),!PC(l,v))try{Oo.mkdirSync(v,r),h=h||v,Yy(l,v,!0)}catch{let y=Oo.lstatSync(v);if(y.isDirectory()){Yy(l,v,!0);continue}else if(c){Oo.unlinkSync(v),Oo.mkdirSync(v,r),h=h||v,Yy(l,v,!0);continue}else if(y.isSymbolicLink())return new TC(v,v+"/"+m.join("/"))}return d(h)}});var pO=b((eGe,pG)=>{var dO=Object.create(null),{hasOwnProperty:Rve}=Object.prototype;pG.exports=t=>(Rve.call(dO,t)||(dO[t]=t.normalize("NFKD")),dO[t])});var vG=b((tGe,gG)=>{var mG=require("assert"),Ave=pO(),Dve=Cm(),{join:hG}=require("path"),kve=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Ove=kve==="win32";gG.exports=()=>{let t=new Map,e=new Map,n=c=>c.split("/").slice(0,-1).reduce((f,d)=>(f.length&&(d=hG(f[f.length-1],d)),f.push(d||"/"),f),[]),r=new Set,i=c=>{let l=e.get(c);if(!l)throw new Error("function does not have any path reservations");return{paths:l.paths.map(f=>t.get(f)),dirs:[...l.dirs].map(f=>t.get(f))}},o=c=>{let{paths:l,dirs:f}=i(c);return l.every(d=>d[0]===c)&&f.every(d=>d[0]instanceof Set&&d[0].has(c))},s=c=>r.has(c)||!o(c)?!1:(r.add(c),c(()=>a(c)),!0),a=c=>{if(!r.has(c))return!1;let{paths:l,dirs:f}=e.get(c),d=new Set;return l.forEach(p=>{let m=t.get(p);mG.equal(m[0],c),m.length===1?t.delete(p):(m.shift(),typeof m[0]=="function"?d.add(m[0]):m[0].forEach(h=>d.add(h)))}),f.forEach(p=>{let m=t.get(p);mG(m[0]instanceof Set),m[0].size===1&&m.length===1?t.delete(p):m[0].size===1?(m.shift(),d.add(m[0])):m[0].delete(c)}),r.delete(c),d.forEach(p=>s(p)),!0};return{check:o,reserve:(c,l)=>{c=Ove?["win32 parallelization disabled"]:c.map(d=>Ave(Dve(hG(d))).toLowerCase());let f=new Set(c.map(d=>n(d)).reduce((d,p)=>d.concat(p)));return e.set(l,{dirs:f,paths:c}),c.forEach(d=>{let p=t.get(d);p?p.push(l):t.set(d,[l])}),f.forEach(d=>{let p=t.get(d);p?p[p.length-1]instanceof Set?p[p.length-1].add(l):p.push(new Set([l])):t.set(d,[new Set([l])])}),s(l)}}}});var wG=b((nGe,xG)=>{var Nve=process.env.__FAKE_PLATFORM__||process.platform,Lve=Nve==="win32",Fve=global.__FAKE_TESTING_FS__||require("fs"),{O_CREAT:Mve,O_TRUNC:Uve,O_WRONLY:qve,UV_FS_O_FILEMAP:yG=0}=Fve.constants,jve=Lve&&!!yG,Hve=512*1024,$ve=yG|Uve|Mve|qve;xG.exports=jve?t=>t<Hve?$ve:"w":()=>"w"});var _O=b((rGe,NG)=>{"use strict";var Bve=require("assert"),Vve=EC(),ut=require("fs"),Wve=Nm(),_c=require("path"),DG=dG(),EG=vk(),Gve=vG(),zve=yk(),no=Em(),Yve=Cm(),Kve=pO(),_G=Symbol("onEntry"),gO=Symbol("checkFs"),bG=Symbol("checkFs2"),kC=Symbol("pruneCache"),vO=Symbol("isReusable"),No=Symbol("makeFs"),yO=Symbol("file"),xO=Symbol("directory"),OC=Symbol("link"),CG=Symbol("symlink"),SG=Symbol("hardlink"),TG=Symbol("unsupported"),IG=Symbol("checkPath"),Gu=Symbol("mkdir"),Nr=Symbol("onError"),AC=Symbol("pending"),PG=Symbol("pend"),qm=Symbol("unpend"),mO=Symbol("ended"),hO=Symbol("maybeClose"),wO=Symbol("skip"),Ky=Symbol("doChown"),Xy=Symbol("uid"),Qy=Symbol("gid"),Jy=Symbol("checkedCwd"),kG=require("crypto"),OG=wG(),Xve=process.env.TESTING_TAR_FAKE_PLATFORM||process.platform,Zy=Xve==="win32",Qve=(t,e)=>{if(!Zy)return ut.unlink(t,e);let n=t+".DELETE."+kG.randomBytes(16).toString("hex");ut.rename(t,n,r=>{if(r)return e(r);ut.unlink(n,e)})},Jve=t=>{if(!Zy)return ut.unlinkSync(t);let e=t+".DELETE."+kG.randomBytes(16).toString("hex");ut.renameSync(t,e),ut.unlinkSync(e)},RG=(t,e,n)=>t===t>>>0?t:e===e>>>0?e:n,AG=t=>Kve(Yve(no(t))).toLowerCase(),Zve=(t,e)=>{e=AG(e);for(let n of t.keys()){let r=AG(n);(r===e||r.indexOf(e+"/")===0)&&t.delete(n)}},eye=t=>{for(let e of t.keys())t.delete(e)},ex=class extends Vve{constructor(e){if(e||(e={}),e.ondone=n=>{this[mO]=!0,this[hO]()},super(e),this[Jy]=!1,this.reservations=Gve(),this.transform=typeof e.transform=="function"?e.transform:null,this.writable=!0,this.readable=!1,this[AC]=0,this[mO]=!1,this.dirCache=e.dirCache||new Map,typeof e.uid=="number"||typeof e.gid=="number"){if(typeof e.uid!="number"||typeof e.gid!="number")throw new TypeError("cannot set owner without number uid and gid");if(e.preserveOwner)throw new TypeError("cannot preserve owner in archive and also set owner explicitly");this.uid=e.uid,this.gid=e.gid,this.setOwner=!0}else this.uid=null,this.gid=null,this.setOwner=!1;e.preserveOwner===void 0&&typeof e.uid!="number"?this.preserveOwner=process.getuid&&process.getuid()===0:this.preserveOwner=!!e.preserveOwner,this.processUid=(this.preserveOwner||this.setOwner)&&process.getuid?process.getuid():null,this.processGid=(this.preserveOwner||this.setOwner)&&process.getgid?process.getgid():null,this.forceChown=e.forceChown===!0,this.win32=!!e.win32||Zy,this.newer=!!e.newer,this.keep=!!e.keep,this.noMtime=!!e.noMtime,this.preservePaths=!!e.preservePaths,this.unlink=!!e.unlink,this.cwd=no(_c.resolve(e.cwd||process.cwd())),this.strip=+e.strip||0,this.processUmask=e.noChmod?0:process.umask(),this.umask=typeof e.umask=="number"?e.umask:this.processUmask,this.dmode=e.dmode||511&~this.umask,this.fmode=e.fmode||438&~this.umask,this.on("entry",n=>this[_G](n))}warn(e,n,r={}){return(e==="TAR_BAD_ARCHIVE"||e==="TAR_ABORT")&&(r.recoverable=!1),super.warn(e,n,r)}[hO](){this[mO]&&this[AC]===0&&(this.emit("prefinish"),this.emit("finish"),this.emit("end"))}[IG](e){if(this.strip){let n=no(e.path).split("/");if(n.length<this.strip)return!1;if(e.path=n.slice(this.strip).join("/"),e.type==="Link"){let r=no(e.linkpath).split("/");if(r.length>=this.strip)e.linkpath=r.slice(this.strip).join("/");else return!1}}if(!this.preservePaths){let n=no(e.path),r=n.split("/");if(r.includes("..")||Zy&&/^[a-z]:\.\.$/i.test(r[0]))return this.warn("TAR_ENTRY_ERROR","path contains '..'",{entry:e,path:n}),!1;let[i,o]=zve(n);i&&(e.path=o,this.warn("TAR_ENTRY_INFO",`stripping ${i} from absolute path`,{entry:e,path:n}))}if(_c.isAbsolute(e.path)?e.absolute=no(_c.resolve(e.path)):e.absolute=no(_c.resolve(this.cwd,e.path)),!this.preservePaths&&e.absolute.indexOf(this.cwd+"/")!==0&&e.absolute!==this.cwd)return this.warn("TAR_ENTRY_ERROR","path escaped extraction target",{entry:e,path:no(e.path),resolvedPath:e.absolute,cwd:this.cwd}),!1;if(e.absolute===this.cwd&&e.type!=="Directory"&&e.type!=="GNUDumpDir")return!1;if(this.win32){let{root:n}=_c.win32.parse(e.absolute);e.absolute=n+EG.encode(e.absolute.slice(n.length));let{root:r}=_c.win32.parse(e.path);e.path=r+EG.encode(e.path.slice(r.length))}return!0}[_G](e){if(!this[IG](e))return e.resume();switch(Bve.equal(typeof e.absolute,"string"),e.type){case"Directory":case"GNUDumpDir":e.mode&&(e.mode=e.mode|448);case"File":case"OldFile":case"ContiguousFile":case"Link":case"SymbolicLink":return this[gO](e);case"CharacterDevice":case"BlockDevice":case"FIFO":default:return this[TG](e)}}[Nr](e,n){e.name==="CwdError"?this.emit("error",e):(this.warn("TAR_ENTRY_ERROR",e,{entry:n}),this[qm](),n.resume())}[Gu](e,n,r){DG(no(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n,noChmod:this.noChmod},r)}[Ky](e){return this.forceChown||this.preserveOwner&&(typeof e.uid=="number"&&e.uid!==this.processUid||typeof e.gid=="number"&&e.gid!==this.processGid)||typeof this.uid=="number"&&this.uid!==this.processUid||typeof this.gid=="number"&&this.gid!==this.processGid}[Xy](e){return RG(this.uid,e.uid,this.processUid)}[Qy](e){return RG(this.gid,e.gid,this.processGid)}[yO](e,n){let r=e.mode&4095||this.fmode,i=new Wve.WriteStream(e.absolute,{flags:OG(e.size),mode:r,autoClose:!1});i.on("error",u=>{i.fd&&ut.close(i.fd,()=>{}),i.write=()=>!0,this[Nr](u,e),n()});let o=1,s=u=>{if(u){i.fd&&ut.close(i.fd,()=>{}),this[Nr](u,e),n();return}--o===0&&ut.close(i.fd,c=>{c?this[Nr](c,e):this[qm](),n()})};i.on("finish",u=>{let c=e.absolute,l=i.fd;if(e.mtime&&!this.noMtime){o++;let f=e.atime||new Date,d=e.mtime;ut.futimes(l,f,d,p=>p?ut.utimes(c,f,d,m=>s(m&&p)):s())}if(this[Ky](e)){o++;let f=this[Xy](e),d=this[Qy](e);ut.fchown(l,f,d,p=>p?ut.chown(c,f,d,m=>s(m&&p)):s())}s()});let a=this.transform&&this.transform(e)||e;a!==e&&(a.on("error",u=>{this[Nr](u,e),n()}),e.pipe(a)),a.pipe(i)}[xO](e,n){let r=e.mode&4095||this.dmode;this[Gu](e.absolute,r,i=>{if(i){this[Nr](i,e),n();return}let o=1,s=a=>{--o===0&&(n(),this[qm](),e.resume())};e.mtime&&!this.noMtime&&(o++,ut.utimes(e.absolute,e.atime||new Date,e.mtime,s)),this[Ky](e)&&(o++,ut.chown(e.absolute,this[Xy](e),this[Qy](e),s)),s()})}[TG](e){e.unsupported=!0,this.warn("TAR_ENTRY_UNSUPPORTED",`unsupported entry type: ${e.type}`,{entry:e}),e.resume()}[CG](e,n){this[OC](e,e.linkpath,"symlink",n)}[SG](e,n){let r=no(_c.resolve(this.cwd,e.linkpath));this[OC](e,r,"link",n)}[PG](){this[AC]++}[qm](){this[AC]--,this[hO]()}[wO](e){this[qm](),e.resume()}[vO](e,n){return e.type==="File"&&!this.unlink&&n.isFile()&&n.nlink<=1&&!Zy}[gO](e){this[PG]();let n=[e.path];e.linkpath&&n.push(e.linkpath),this.reservations.reserve(n,r=>this[bG](e,r))}[kC](e){e.type==="SymbolicLink"?eye(this.dirCache):e.type!=="Directory"&&Zve(this.dirCache,e.absolute)}[bG](e,n){this[kC](e);let r=a=>{this[kC](e),n(a)},i=()=>{this[Gu](this.cwd,this.dmode,a=>{if(a){this[Nr](a,e),r();return}this[Jy]=!0,o()})},o=()=>{if(e.absolute!==this.cwd){let a=no(_c.dirname(e.absolute));if(a!==this.cwd)return this[Gu](a,this.dmode,u=>{if(u){this[Nr](u,e),r();return}s()})}s()},s=()=>{ut.lstat(e.absolute,(a,u)=>{if(u&&(this.keep||this.newer&&u.mtime>e.mtime)){this[wO](e),r();return}if(a||this[vO](e,u))return this[No](null,e,r);if(u.isDirectory()){if(e.type==="Directory"){let c=!this.noChmod&&e.mode&&(u.mode&4095)!==e.mode,l=f=>this[No](f,e,r);return c?ut.chmod(e.absolute,e.mode,l):l()}if(e.absolute!==this.cwd)return ut.rmdir(e.absolute,c=>this[No](c,e,r))}if(e.absolute===this.cwd)return this[No](null,e,r);Qve(e.absolute,c=>this[No](c,e,r))})};this[Jy]?o():i()}[No](e,n,r){if(e){this[Nr](e,n),r();return}switch(n.type){case"File":case"OldFile":case"ContiguousFile":return this[yO](n,r);case"Link":return this[SG](n,r);case"SymbolicLink":return this[CG](n,r);case"Directory":case"GNUDumpDir":return this[xO](n,r)}}[OC](e,n,r,i){ut[r](n,e.absolute,o=>{o?this[Nr](o,e):(this[qm](),e.resume()),i()})}},DC=t=>{try{return[null,t()]}catch(e){return[e,null]}},EO=class extends ex{[No](e,n){return super[No](e,n,()=>{})}[gO](e){if(this[kC](e),!this[Jy]){let o=this[Gu](this.cwd,this.dmode);if(o)return this[Nr](o,e);this[Jy]=!0}if(e.absolute!==this.cwd){let o=no(_c.dirname(e.absolute));if(o!==this.cwd){let s=this[Gu](o,this.dmode);if(s)return this[Nr](s,e)}}let[n,r]=DC(()=>ut.lstatSync(e.absolute));if(r&&(this.keep||this.newer&&r.mtime>e.mtime))return this[wO](e);if(n||this[vO](e,r))return this[No](null,e);if(r.isDirectory()){if(e.type==="Directory"){let s=!this.noChmod&&e.mode&&(r.mode&4095)!==e.mode,[a]=s?DC(()=>{ut.chmodSync(e.absolute,e.mode)}):[];return this[No](a,e)}let[o]=DC(()=>ut.rmdirSync(e.absolute));this[No](o,e)}let[i]=e.absolute===this.cwd?[]:DC(()=>Jve(e.absolute));this[No](i,e)}[yO](e,n){let r=e.mode&4095||this.fmode,i=a=>{let u;try{ut.closeSync(o)}catch(c){u=c}(a||u)&&this[Nr](a||u,e),n()},o;try{o=ut.openSync(e.absolute,OG(e.size),r)}catch(a){return i(a)}let s=this.transform&&this.transform(e)||e;s!==e&&(s.on("error",a=>this[Nr](a,e)),e.pipe(s)),s.on("data",a=>{try{ut.writeSync(o,a,0,a.length)}catch(u){i(u)}}),s.on("end",a=>{let u=null;if(e.mtime&&!this.noMtime){let c=e.atime||new Date,l=e.mtime;try{ut.futimesSync(o,c,l)}catch(f){try{ut.utimesSync(e.absolute,c,l)}catch{u=f}}}if(this[Ky](e)){let c=this[Xy](e),l=this[Qy](e);try{ut.fchownSync(o,c,l)}catch(f){try{ut.chownSync(e.absolute,c,l)}catch{u=u||f}}}i(u)})}[xO](e,n){let r=e.mode&4095||this.dmode,i=this[Gu](e.absolute,r);if(i){this[Nr](i,e),n();return}if(e.mtime&&!this.noMtime)try{ut.utimesSync(e.absolute,e.atime||new Date,e.mtime)}catch{}if(this[Ky](e))try{ut.chownSync(e.absolute,this[Xy](e),this[Qy](e))}catch{}n(),e.resume()}[Gu](e,n){try{return DG.sync(no(e),{uid:this.uid,gid:this.gid,processUid:this.processUid,processGid:this.processGid,umask:this.processUmask,preserve:this.preservePaths,unlink:this.unlink,cache:this.dirCache,cwd:this.cwd,mode:n})}catch(r){return r}}[OC](e,n,r,i){try{ut[r+"Sync"](n,e.absolute),i(),e.resume()}catch(o){return this[Nr](o,e)}}};ex.Sync=EO;NG.exports=ex});var qG=b((iGe,UG)=>{"use strict";var tye=gm(),NC=_O(),FG=require("fs"),MG=Nm(),LG=require("path"),bO=Cm();UG.exports=(t,e,n)=>{typeof t=="function"?(n=t,e=null,t={}):Array.isArray(t)&&(e=t,t={}),typeof e=="function"&&(n=e,e=null),e?e=Array.from(e):e=[];let r=tye(t);if(r.sync&&typeof n=="function")throw new TypeError("callback not supported for sync tar functions");if(!r.file&&typeof n=="function")throw new TypeError("callback only supported with file option");return e.length&&nye(r,e),r.file&&r.sync?rye(r):r.file?iye(r,n):r.sync?oye(r):sye(r)};var nye=(t,e)=>{let n=new Map(e.map(o=>[bO(o),!0])),r=t.filter,i=(o,s)=>{let a=s||LG.parse(o).root||".",u=o===a?!1:n.has(o)?n.get(o):i(LG.dirname(o),a);return n.set(o,u),u};t.filter=r?(o,s)=>r(o,s)&&i(bO(o)):o=>i(bO(o))},rye=t=>{let e=new NC.Sync(t),n=t.file,r=FG.statSync(n),i=t.maxReadSize||16*1024*1024;new MG.ReadStreamSync(n,{readSize:i,size:r.size}).pipe(e)},iye=(t,e)=>{let n=new NC(t),r=t.maxReadSize||16*1024*1024,i=t.file,o=new Promise((s,a)=>{n.on("error",a),n.on("close",s),FG.stat(i,(u,c)=>{if(u)a(u);else{let l=new MG.ReadStream(i,{readSize:r,size:c.size});l.on("error",a),l.pipe(n)}})});return e?o.then(e,e):o},oye=t=>new NC.Sync(t),sye=t=>new NC(t)});var LC=b($n=>{"use strict";$n.c=$n.create=E3();$n.r=$n.replace=iO();$n.t=$n.list=_C();$n.u=$n.update=A3();$n.x=$n.extract=qG();$n.Pack=nC();$n.Unpack=_O();$n.Parse=EC();$n.ReadEntry=Ub();$n.WriteEntry=Pk();$n.Header=bm();$n.Pax=jb();$n.types=lk()});var tx=b((sGe,jG)=>{var aye="2.0.0",cye=Number.MAX_SAFE_INTEGER||9007199254740991,uye=16,lye=["major","premajor","minor","preminor","patch","prepatch","prerelease"];jG.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:uye,MAX_SAFE_INTEGER:cye,RELEASE_TYPES:lye,SEMVER_SPEC_VERSION:aye,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var nx=b((aGe,HG)=>{var fye=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};HG.exports=fye});var jm=b((bc,$G)=>{var{MAX_SAFE_COMPONENT_LENGTH:CO}=tx(),dye=nx();bc=$G.exports={};var pye=bc.re=[],mye=bc.safeRe=[],pe=bc.src=[],me=bc.t={},hye=0,Be=(t,e,n)=>{let r=e.split("\\s*").join("\\s{0,1}").split("\\s+").join("\\s"),i=hye++;dye(t,i,e),me[t]=i,pe[i]=e,pye[i]=new RegExp(e,n?"g":void 0),mye[i]=new RegExp(r,n?"g":void 0)};Be("NUMERICIDENTIFIER","0|[1-9]\\d*");Be("NUMERICIDENTIFIERLOOSE","[0-9]+");Be("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");Be("MAINVERSION",`(${pe[me.NUMERICIDENTIFIER]})\\.(${pe[me.NUMERICIDENTIFIER]})\\.(${pe[me.NUMERICIDENTIFIER]})`);Be("MAINVERSIONLOOSE",`(${pe[me.NUMERICIDENTIFIERLOOSE]})\\.(${pe[me.NUMERICIDENTIFIERLOOSE]})\\.(${pe[me.NUMERICIDENTIFIERLOOSE]})`);Be("PRERELEASEIDENTIFIER",`(?:${pe[me.NUMERICIDENTIFIER]}|${pe[me.NONNUMERICIDENTIFIER]})`);Be("PRERELEASEIDENTIFIERLOOSE",`(?:${pe[me.NUMERICIDENTIFIERLOOSE]}|${pe[me.NONNUMERICIDENTIFIER]})`);Be("PRERELEASE",`(?:-(${pe[me.PRERELEASEIDENTIFIER]}(?:\\.${pe[me.PRERELEASEIDENTIFIER]})*))`);Be("PRERELEASELOOSE",`(?:-?(${pe[me.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${pe[me.PRERELEASEIDENTIFIERLOOSE]})*))`);Be("BUILDIDENTIFIER","[0-9A-Za-z-]+");Be("BUILD",`(?:\\+(${pe[me.BUILDIDENTIFIER]}(?:\\.${pe[me.BUILDIDENTIFIER]})*))`);Be("FULLPLAIN",`v?${pe[me.MAINVERSION]}${pe[me.PRERELEASE]}?${pe[me.BUILD]}?`);Be("FULL",`^${pe[me.FULLPLAIN]}$`);Be("LOOSEPLAIN",`[v=\\s]*${pe[me.MAINVERSIONLOOSE]}${pe[me.PRERELEASELOOSE]}?${pe[me.BUILD]}?`);Be("LOOSE",`^${pe[me.LOOSEPLAIN]}$`);Be("GTLT","((?:<|>)?=?)");Be("XRANGEIDENTIFIERLOOSE",`${pe[me.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);Be("XRANGEIDENTIFIER",`${pe[me.NUMERICIDENTIFIER]}|x|X|\\*`);Be("XRANGEPLAIN",`[v=\\s]*(${pe[me.XRANGEIDENTIFIER]})(?:\\.(${pe[me.XRANGEIDENTIFIER]})(?:\\.(${pe[me.XRANGEIDENTIFIER]})(?:${pe[me.PRERELEASE]})?${pe[me.BUILD]}?)?)?`);Be("XRANGEPLAINLOOSE",`[v=\\s]*(${pe[me.XRANGEIDENTIFIERLOOSE]})(?:\\.(${pe[me.XRANGEIDENTIFIERLOOSE]})(?:\\.(${pe[me.XRANGEIDENTIFIERLOOSE]})(?:${pe[me.PRERELEASELOOSE]})?${pe[me.BUILD]}?)?)?`);Be("XRANGE",`^${pe[me.GTLT]}\\s*${pe[me.XRANGEPLAIN]}$`);Be("XRANGELOOSE",`^${pe[me.GTLT]}\\s*${pe[me.XRANGEPLAINLOOSE]}$`);Be("COERCE",`(^|[^\\d])(\\d{1,${CO}})(?:\\.(\\d{1,${CO}}))?(?:\\.(\\d{1,${CO}}))?(?:$|[^\\d])`);Be("COERCERTL",pe[me.COERCE],!0);Be("LONETILDE","(?:~>?)");Be("TILDETRIM",`(\\s*)${pe[me.LONETILDE]}\\s+`,!0);bc.tildeTrimReplace="$1~";Be("TILDE",`^${pe[me.LONETILDE]}${pe[me.XRANGEPLAIN]}$`);Be("TILDELOOSE",`^${pe[me.LONETILDE]}${pe[me.XRANGEPLAINLOOSE]}$`);Be("LONECARET","(?:\\^)");Be("CARETTRIM",`(\\s*)${pe[me.LONECARET]}\\s+`,!0);bc.caretTrimReplace="$1^";Be("CARET",`^${pe[me.LONECARET]}${pe[me.XRANGEPLAIN]}$`);Be("CARETLOOSE",`^${pe[me.LONECARET]}${pe[me.XRANGEPLAINLOOSE]}$`);Be("COMPARATORLOOSE",`^${pe[me.GTLT]}\\s*(${pe[me.LOOSEPLAIN]})$|^$`);Be("COMPARATOR",`^${pe[me.GTLT]}\\s*(${pe[me.FULLPLAIN]})$|^$`);Be("COMPARATORTRIM",`(\\s*)${pe[me.GTLT]}\\s*(${pe[me.LOOSEPLAIN]}|${pe[me.XRANGEPLAIN]})`,!0);bc.comparatorTrimReplace="$1$2$3";Be("HYPHENRANGE",`^\\s*(${pe[me.XRANGEPLAIN]})\\s+-\\s+(${pe[me.XRANGEPLAIN]})\\s*$`);Be("HYPHENRANGELOOSE",`^\\s*(${pe[me.XRANGEPLAINLOOSE]})\\s+-\\s+(${pe[me.XRANGEPLAINLOOSE]})\\s*$`);Be("STAR","(<|>)?=?\\s*\\*");Be("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");Be("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var FC=b((cGe,BG)=>{var gye=Object.freeze({loose:!0}),vye=Object.freeze({}),yye=t=>t?typeof t!="object"?gye:t:vye;BG.exports=yye});var SO=b((uGe,GG)=>{var VG=/^[0-9]+$/,WG=(t,e)=>{let n=VG.test(t),r=VG.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},xye=(t,e)=>WG(e,t);GG.exports={compareIdentifiers:WG,rcompareIdentifiers:xye}});var Lr=b((lGe,XG)=>{var MC=nx(),{MAX_LENGTH:zG,MAX_SAFE_INTEGER:UC}=tx(),{safeRe:YG,t:KG}=jm(),wye=FC(),{compareIdentifiers:Hm}=SO(),ro=class{constructor(e,n){if(n=wye(n),e instanceof ro){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>zG)throw new TypeError(`version is longer than ${zG} characters`);MC("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?YG[KG.LOOSE]:YG[KG.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>UC||this.major<0)throw new TypeError("Invalid major version");if(this.minor>UC||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>UC||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let o=+i;if(o>=0&&o<UC)return o}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(MC("SemVer.compare",this.version,this.options,e),!(e instanceof ro)){if(typeof e=="string"&&e===this.version)return 0;e=new ro(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof ro||(e=new ro(e,this.options)),Hm(this.major,e.major)||Hm(this.minor,e.minor)||Hm(this.patch,e.patch)}comparePre(e){if(e instanceof ro||(e=new ro(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(MC("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Hm(r,i)}while(++n)}compareBuild(e){e instanceof ro||(e=new ro(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(MC("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Hm(r,i)}while(++n)}inc(e,n,r){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(this.prerelease.length===0)this.prerelease=[i];else{let o=this.prerelease.length;for(;--o>=0;)typeof this.prerelease[o]=="number"&&(this.prerelease[o]++,o=-2);if(o===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let o=[n,i];r===!1&&(o=[n]),Hm(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=o):this.prerelease=o}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};XG.exports=ro});var Yf=b((fGe,JG)=>{var QG=Lr(),Eye=(t,e,n=!1)=>{if(t instanceof QG)return t;try{return new QG(t,e)}catch(r){if(!n)return null;throw r}};JG.exports=Eye});var ez=b((dGe,ZG)=>{var _ye=Yf(),bye=(t,e)=>{let n=_ye(t,e);return n?n.version:null};ZG.exports=bye});var nz=b((pGe,tz)=>{var Cye=Yf(),Sye=(t,e)=>{let n=Cye(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};tz.exports=Sye});var oz=b((mGe,iz)=>{var rz=Lr(),Tye=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new rz(t instanceof rz?t.version:t,n).inc(e,r,i).version}catch{return null}};iz.exports=Tye});var cz=b((hGe,az)=>{var sz=Yf(),Iye=(t,e)=>{let n=sz(t,null,!0),r=sz(e,null,!0),i=n.compare(r);if(i===0)return null;let o=i>0,s=o?n:r,a=o?r:n,u=!!s.prerelease.length;if(!!a.prerelease.length&&!u)return!a.patch&&!a.minor?"major":s.patch?"patch":s.minor?"minor":"major";let l=u?"pre":"";return n.major!==r.major?l+"major":n.minor!==r.minor?l+"minor":n.patch!==r.patch?l+"patch":"prerelease"};az.exports=Iye});var lz=b((gGe,uz)=>{var Pye=Lr(),Rye=(t,e)=>new Pye(t,e).major;uz.exports=Rye});var dz=b((vGe,fz)=>{var Aye=Lr(),Dye=(t,e)=>new Aye(t,e).minor;fz.exports=Dye});var mz=b((yGe,pz)=>{var kye=Lr(),Oye=(t,e)=>new kye(t,e).patch;pz.exports=Oye});var gz=b((xGe,hz)=>{var Nye=Yf(),Lye=(t,e)=>{let n=Nye(t,e);return n&&n.prerelease.length?n.prerelease:null};hz.exports=Lye});var Lo=b((wGe,yz)=>{var vz=Lr(),Fye=(t,e,n)=>new vz(t,n).compare(new vz(e,n));yz.exports=Fye});var wz=b((EGe,xz)=>{var Mye=Lo(),Uye=(t,e,n)=>Mye(e,t,n);xz.exports=Uye});var _z=b((_Ge,Ez)=>{var qye=Lo(),jye=(t,e)=>qye(t,e,!0);Ez.exports=jye});var qC=b((bGe,Cz)=>{var bz=Lr(),Hye=(t,e,n)=>{let r=new bz(t,n),i=new bz(e,n);return r.compare(i)||r.compareBuild(i)};Cz.exports=Hye});var Tz=b((CGe,Sz)=>{var $ye=qC(),Bye=(t,e)=>t.sort((n,r)=>$ye(n,r,e));Sz.exports=Bye});var Pz=b((SGe,Iz)=>{var Vye=qC(),Wye=(t,e)=>t.sort((n,r)=>Vye(r,n,e));Iz.exports=Wye});var rx=b((TGe,Rz)=>{var Gye=Lo(),zye=(t,e,n)=>Gye(t,e,n)>0;Rz.exports=zye});var jC=b((IGe,Az)=>{var Yye=Lo(),Kye=(t,e,n)=>Yye(t,e,n)<0;Az.exports=Kye});var TO=b((PGe,Dz)=>{var Xye=Lo(),Qye=(t,e,n)=>Xye(t,e,n)===0;Dz.exports=Qye});var IO=b((RGe,kz)=>{var Jye=Lo(),Zye=(t,e,n)=>Jye(t,e,n)!==0;kz.exports=Zye});var HC=b((AGe,Oz)=>{var exe=Lo(),txe=(t,e,n)=>exe(t,e,n)>=0;Oz.exports=txe});var $C=b((DGe,Nz)=>{var nxe=Lo(),rxe=(t,e,n)=>nxe(t,e,n)<=0;Nz.exports=rxe});var PO=b((kGe,Lz)=>{var ixe=TO(),oxe=IO(),sxe=rx(),axe=HC(),cxe=jC(),uxe=$C(),lxe=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return ixe(t,n,r);case"!=":return oxe(t,n,r);case">":return sxe(t,n,r);case">=":return axe(t,n,r);case"<":return cxe(t,n,r);case"<=":return uxe(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};Lz.exports=lxe});var Mz=b((OGe,Fz)=>{var fxe=Lr(),dxe=Yf(),{safeRe:BC,t:VC}=jm(),pxe=(t,e)=>{if(t instanceof fxe)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(BC[VC.COERCE]);else{let r;for(;(r=BC[VC.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||r.index+r[0].length!==n.index+n[0].length)&&(n=r),BC[VC.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;BC[VC.COERCERTL].lastIndex=-1}return n===null?null:dxe(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,e)};Fz.exports=pxe});var $z=b((NGe,Hz)=>{"use strict";var mxe=zb(),Kf=Symbol("max"),Sc=Symbol("length"),$m=Symbol("lengthCalculator"),ox=Symbol("allowStale"),Xf=Symbol("maxAge"),Cc=Symbol("dispose"),Uz=Symbol("noDisposeOnSet"),rr=Symbol("lruList"),Es=Symbol("cache"),jz=Symbol("updateAgeOnGet"),RO=()=>1,DO=class{constructor(e){if(typeof e=="number"&&(e={max:e}),e||(e={}),e.max&&(typeof e.max!="number"||e.max<0))throw new TypeError("max must be a non-negative number");let n=this[Kf]=e.max||1/0,r=e.length||RO;if(this[$m]=typeof r!="function"?RO:r,this[ox]=e.stale||!1,e.maxAge&&typeof e.maxAge!="number")throw new TypeError("maxAge must be a number");this[Xf]=e.maxAge||0,this[Cc]=e.dispose,this[Uz]=e.noDisposeOnSet||!1,this[jz]=e.updateAgeOnGet||!1,this.reset()}set max(e){if(typeof e!="number"||e<0)throw new TypeError("max must be a non-negative number");this[Kf]=e||1/0,ix(this)}get max(){return this[Kf]}set allowStale(e){this[ox]=!!e}get allowStale(){return this[ox]}set maxAge(e){if(typeof e!="number")throw new TypeError("maxAge must be a non-negative number");this[Xf]=e,ix(this)}get maxAge(){return this[Xf]}set lengthCalculator(e){typeof e!="function"&&(e=RO),e!==this[$m]&&(this[$m]=e,this[Sc]=0,this[rr].forEach(n=>{n.length=this[$m](n.value,n.key),this[Sc]+=n.length})),ix(this)}get lengthCalculator(){return this[$m]}get length(){return this[Sc]}get itemCount(){return this[rr].length}rforEach(e,n){n=n||this;for(let r=this[rr].tail;r!==null;){let i=r.prev;qz(this,e,r,n),r=i}}forEach(e,n){n=n||this;for(let r=this[rr].head;r!==null;){let i=r.next;qz(this,e,r,n),r=i}}keys(){return this[rr].toArray().map(e=>e.key)}values(){return this[rr].toArray().map(e=>e.value)}reset(){this[Cc]&&this[rr]&&this[rr].length&&this[rr].forEach(e=>this[Cc](e.key,e.value)),this[Es]=new Map,this[rr]=new mxe,this[Sc]=0}dump(){return this[rr].map(e=>WC(this,e)?!1:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)}).toArray().filter(e=>e)}dumpLru(){return this[rr]}set(e,n,r){if(r=r||this[Xf],r&&typeof r!="number")throw new TypeError("maxAge must be a number");let i=r?Date.now():0,o=this[$m](n,e);if(this[Es].has(e)){if(o>this[Kf])return Bm(this,this[Es].get(e)),!1;let u=this[Es].get(e).value;return this[Cc]&&(this[Uz]||this[Cc](e,u.value)),u.now=i,u.maxAge=r,u.value=n,this[Sc]+=o-u.length,u.length=o,this.get(e),ix(this),!0}let s=new kO(e,n,o,i,r);return s.length>this[Kf]?(this[Cc]&&this[Cc](e,n),!1):(this[Sc]+=s.length,this[rr].unshift(s),this[Es].set(e,this[rr].head),ix(this),!0)}has(e){if(!this[Es].has(e))return!1;let n=this[Es].get(e).value;return!WC(this,n)}get(e){return AO(this,e,!0)}peek(e){return AO(this,e,!1)}pop(){let e=this[rr].tail;return e?(Bm(this,e),e.value):null}del(e){Bm(this,this[Es].get(e))}load(e){this.reset();let n=Date.now();for(let r=e.length-1;r>=0;r--){let i=e[r],o=i.e||0;if(o===0)this.set(i.k,i.v);else{let s=o-n;s>0&&this.set(i.k,i.v,s)}}}prune(){this[Es].forEach((e,n)=>AO(this,n,!1))}},AO=(t,e,n)=>{let r=t[Es].get(e);if(r){let i=r.value;if(WC(t,i)){if(Bm(t,r),!t[ox])return}else n&&(t[jz]&&(r.value.now=Date.now()),t[rr].unshiftNode(r));return i.value}},WC=(t,e)=>{if(!e||!e.maxAge&&!t[Xf])return!1;let n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[Xf]&&n>t[Xf]},ix=t=>{if(t[Sc]>t[Kf])for(let e=t[rr].tail;t[Sc]>t[Kf]&&e!==null;){let n=e.prev;Bm(t,e),e=n}},Bm=(t,e)=>{if(e){let n=e.value;t[Cc]&&t[Cc](n.key,n.value),t[Sc]-=n.length,t[Es].delete(n.key),t[rr].removeNode(e)}},kO=class{constructor(e,n,r,i,o){this.key=e,this.value=n,this.length=r,this.now=i,this.maxAge=o||0}},qz=(t,e,n,r)=>{let i=n.value;WC(t,i)&&(Bm(t,n),t[ox]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};Hz.exports=DO});var Fo=b((LGe,Gz)=>{var Qf=class{constructor(e,n){if(n=gxe(n),e instanceof Qf)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new Qf(e.raw,n);if(e instanceof OO)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().split(/\s+/).join(" "),this.set=this.raw.split("||").map(r=>this.parseRange(r)).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!Vz(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&bxe(i[0])){this.set=[i];break}}}this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&Exe)|(this.options.loose&&_xe))+":"+e,i=Bz.get(r);if(i)return i;let o=this.options.loose,s=o?Si[Qr.HYPHENRANGELOOSE]:Si[Qr.HYPHENRANGE];e=e.replace(s,Oxe(this.options.includePrerelease)),Kt("hyphen replace",e),e=e.replace(Si[Qr.COMPARATORTRIM],yxe),Kt("comparator trim",e),e=e.replace(Si[Qr.TILDETRIM],xxe),e=e.replace(Si[Qr.CARETTRIM],wxe);let a=e.split(" ").map(f=>Cxe(f,this.options)).join(" ").split(/\s+/).map(f=>kxe(f,this.options));o&&(a=a.filter(f=>(Kt("loose invalid filter",f,this.options),!!f.match(Si[Qr.COMPARATORLOOSE])))),Kt("range list",a);let u=new Map,c=a.map(f=>new OO(f,this.options));for(let f of c){if(Vz(f))return[f];u.set(f.value,f)}u.size>1&&u.has("")&&u.delete("");let l=[...u.values()];return Bz.set(r,l),l}intersects(e,n){if(!(e instanceof Qf))throw new TypeError("a Range is required");return this.set.some(r=>Wz(r,n)&&e.set.some(i=>Wz(i,n)&&r.every(o=>i.every(s=>o.intersects(s,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new vxe(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(Nxe(this.set[n],e,this.options))return!0;return!1}};Gz.exports=Qf;var hxe=$z(),Bz=new hxe({max:1e3}),gxe=FC(),OO=sx(),Kt=nx(),vxe=Lr(),{safeRe:Si,t:Qr,comparatorTrimReplace:yxe,tildeTrimReplace:xxe,caretTrimReplace:wxe}=jm(),{FLAG_INCLUDE_PRERELEASE:Exe,FLAG_LOOSE:_xe}=tx(),Vz=t=>t.value==="<0.0.0-0",bxe=t=>t.value==="",Wz=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(o=>i.intersects(o,e)),i=r.pop();return n},Cxe=(t,e)=>(Kt("comp",t,e),t=Ixe(t,e),Kt("caret",t),t=Sxe(t,e),Kt("tildes",t),t=Rxe(t,e),Kt("xrange",t),t=Dxe(t,e),Kt("stars",t),t),Jr=t=>!t||t.toLowerCase()==="x"||t==="*",Sxe=(t,e)=>t.trim().split(/\s+/).map(n=>Txe(n,e)).join(" "),Txe=(t,e)=>{let n=e.loose?Si[Qr.TILDELOOSE]:Si[Qr.TILDE];return t.replace(n,(r,i,o,s,a)=>{Kt("tilde",t,r,i,o,s,a);let u;return Jr(i)?u="":Jr(o)?u=`>=${i}.0.0 <${+i+1}.0.0-0`:Jr(s)?u=`>=${i}.${o}.0 <${i}.${+o+1}.0-0`:a?(Kt("replaceTilde pr",a),u=`>=${i}.${o}.${s}-${a} <${i}.${+o+1}.0-0`):u=`>=${i}.${o}.${s} <${i}.${+o+1}.0-0`,Kt("tilde return",u),u})},Ixe=(t,e)=>t.trim().split(/\s+/).map(n=>Pxe(n,e)).join(" "),Pxe=(t,e)=>{Kt("caret",t,e);let n=e.loose?Si[Qr.CARETLOOSE]:Si[Qr.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,o,s,a,u)=>{Kt("caret",t,i,o,s,a,u);let c;return Jr(o)?c="":Jr(s)?c=`>=${o}.0.0${r} <${+o+1}.0.0-0`:Jr(a)?o==="0"?c=`>=${o}.${s}.0${r} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.0${r} <${+o+1}.0.0-0`:u?(Kt("replaceCaret pr",u),o==="0"?s==="0"?c=`>=${o}.${s}.${a}-${u} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}-${u} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a}-${u} <${+o+1}.0.0-0`):(Kt("no pr"),o==="0"?s==="0"?c=`>=${o}.${s}.${a}${r} <${o}.${s}.${+a+1}-0`:c=`>=${o}.${s}.${a}${r} <${o}.${+s+1}.0-0`:c=`>=${o}.${s}.${a} <${+o+1}.0.0-0`),Kt("caret return",c),c})},Rxe=(t,e)=>(Kt("replaceXRanges",t,e),t.split(/\s+/).map(n=>Axe(n,e)).join(" ")),Axe=(t,e)=>{t=t.trim();let n=e.loose?Si[Qr.XRANGELOOSE]:Si[Qr.XRANGE];return t.replace(n,(r,i,o,s,a,u)=>{Kt("xRange",t,r,i,o,s,a,u);let c=Jr(o),l=c||Jr(s),f=l||Jr(a),d=f;return i==="="&&d&&(i=""),u=e.includePrerelease?"-0":"",c?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&d?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),i==="<"&&(u="-0"),r=`${i+o}.${s}.${a}${u}`):l?r=`>=${o}.0.0${u} <${+o+1}.0.0-0`:f&&(r=`>=${o}.${s}.0${u} <${o}.${+s+1}.0-0`),Kt("xRange return",r),r})},Dxe=(t,e)=>(Kt("replaceStars",t,e),t.trim().replace(Si[Qr.STAR],"")),kxe=(t,e)=>(Kt("replaceGTE0",t,e),t.trim().replace(Si[e.includePrerelease?Qr.GTE0PRE:Qr.GTE0],"")),Oxe=t=>(e,n,r,i,o,s,a,u,c,l,f,d,p)=>(Jr(r)?n="":Jr(i)?n=`>=${r}.0.0${t?"-0":""}`:Jr(o)?n=`>=${r}.${i}.0${t?"-0":""}`:s?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,Jr(c)?u="":Jr(l)?u=`<${+c+1}.0.0-0`:Jr(f)?u=`<${c}.${+l+1}.0-0`:d?u=`<=${c}.${l}.${f}-${d}`:t?u=`<${c}.${l}.${+f+1}-0`:u=`<=${u}`,`${n} ${u}`.trim()),Nxe=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(Kt(t[r].semver),t[r].semver!==OO.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var sx=b((FGe,Jz)=>{var ax=Symbol("SemVer ANY"),Vm=class{static get ANY(){return ax}constructor(e,n){if(n=zz(n),e instanceof Vm){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),LO("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===ax?this.value="":this.value=this.operator+this.semver.version,LO("comp",this)}parse(e){let n=this.options.loose?Yz[Kz.COMPARATORLOOSE]:Yz[Kz.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Xz(r[2],this.options.loose):this.semver=ax}toString(){return this.value}test(e){if(LO("Comparator.test",e,this.options.loose),this.semver===ax||e===ax)return!0;if(typeof e=="string")try{e=new Xz(e,this.options)}catch{return!1}return NO(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof Vm))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Qz(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new Qz(this.value,n).test(e.semver):(n=zz(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||NO(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||NO(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Jz.exports=Vm;var zz=FC(),{safeRe:Yz,t:Kz}=jm(),NO=PO(),LO=nx(),Xz=Lr(),Qz=Fo()});var cx=b((MGe,Zz)=>{var Lxe=Fo(),Fxe=(t,e,n)=>{try{e=new Lxe(e,n)}catch{return!1}return e.test(t)};Zz.exports=Fxe});var t4=b((UGe,e4)=>{var Mxe=Fo(),Uxe=(t,e)=>new Mxe(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));e4.exports=Uxe});var r4=b((qGe,n4)=>{var qxe=Lr(),jxe=Fo(),Hxe=(t,e,n)=>{let r=null,i=null,o=null;try{o=new jxe(e,n)}catch{return null}return t.forEach(s=>{o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new qxe(r,n))}),r};n4.exports=Hxe});var o4=b((jGe,i4)=>{var $xe=Lr(),Bxe=Fo(),Vxe=(t,e,n)=>{let r=null,i=null,o=null;try{o=new Bxe(e,n)}catch{return null}return t.forEach(s=>{o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new $xe(r,n))}),r};i4.exports=Vxe});var c4=b((HGe,a4)=>{var FO=Lr(),Wxe=Fo(),s4=rx(),Gxe=(t,e)=>{t=new Wxe(t,e);let n=new FO("0.0.0");if(t.test(n)||(n=new FO("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],o=null;i.forEach(s=>{let a=new FO(s.semver.version);switch(s.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!o||s4(a,o))&&(o=a);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${s.operator}`)}}),o&&(!n||s4(n,o))&&(n=o)}return n&&t.test(n)?n:null};a4.exports=Gxe});var l4=b(($Ge,u4)=>{var zxe=Fo(),Yxe=(t,e)=>{try{return new zxe(t,e).range||"*"}catch{return null}};u4.exports=Yxe});var GC=b((BGe,m4)=>{var Kxe=Lr(),p4=sx(),{ANY:Xxe}=p4,Qxe=Fo(),Jxe=cx(),f4=rx(),d4=jC(),Zxe=$C(),ewe=HC(),twe=(t,e,n,r)=>{t=new Kxe(t,r),e=new Qxe(e,r);let i,o,s,a,u;switch(n){case">":i=f4,o=Zxe,s=d4,a=">",u=">=";break;case"<":i=d4,o=ewe,s=f4,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Jxe(t,e,r))return!1;for(let c=0;c<e.set.length;++c){let l=e.set[c],f=null,d=null;if(l.forEach(p=>{p.semver===Xxe&&(p=new p4(">=0.0.0")),f=f||p,d=d||p,i(p.semver,f.semver,r)?f=p:s(p.semver,d.semver,r)&&(d=p)}),f.operator===a||f.operator===u||(!d.operator||d.operator===a)&&o(t,d.semver))return!1;if(d.operator===u&&s(t,d.semver))return!1}return!0};m4.exports=twe});var g4=b((VGe,h4)=>{var nwe=GC(),rwe=(t,e,n)=>nwe(t,e,">",n);h4.exports=rwe});var y4=b((WGe,v4)=>{var iwe=GC(),owe=(t,e,n)=>iwe(t,e,"<",n);v4.exports=owe});var E4=b((GGe,w4)=>{var x4=Fo(),swe=(t,e,n)=>(t=new x4(t,n),e=new x4(e,n),t.intersects(e,n));w4.exports=swe});var b4=b((zGe,_4)=>{var awe=cx(),cwe=Lo();_4.exports=(t,e,n)=>{let r=[],i=null,o=null,s=t.sort((l,f)=>cwe(l,f,n));for(let l of s)awe(l,e,n)?(o=l,i||(i=l)):(o&&r.push([i,o]),o=null,i=null);i&&r.push([i,null]);let a=[];for(let[l,f]of r)l===f?a.push(l):!f&&l===s[0]?a.push("*"):f?l===s[0]?a.push(`<=${f}`):a.push(`${l} - ${f}`):a.push(`>=${l}`);let u=a.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return u.length<c.length?u:e}});var R4=b((YGe,P4)=>{var C4=Fo(),UO=sx(),{ANY:MO}=UO,ux=cx(),qO=Lo(),uwe=(t,e,n={})=>{if(t===e)return!0;t=new C4(t,n),e=new C4(e,n);let r=!1;e:for(let i of t.set){for(let o of e.set){let s=fwe(i,o,n);if(r=r||s!==null,s)continue e}if(r)return!1}return!0},lwe=[new UO(">=0.0.0-0")],S4=[new UO(">=0.0.0")],fwe=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===MO){if(e.length===1&&e[0].semver===MO)return!0;n.includePrerelease?t=lwe:t=S4}if(e.length===1&&e[0].semver===MO){if(n.includePrerelease)return!0;e=S4}let r=new Set,i,o;for(let p of t)p.operator===">"||p.operator===">="?i=T4(i,p,n):p.operator==="<"||p.operator==="<="?o=I4(o,p,n):r.add(p.semver);if(r.size>1)return null;let s;if(i&&o){if(s=qO(i.semver,o.semver,n),s>0)return null;if(s===0&&(i.operator!==">="||o.operator!=="<="))return null}for(let p of r){if(i&&!ux(p,String(i),n)||o&&!ux(p,String(o),n))return null;for(let m of e)if(!ux(p,String(m),n))return!1;return!0}let a,u,c,l,f=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1,d=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;f&&f.prerelease.length===1&&o.operator==="<"&&f.prerelease[0]===0&&(f=!1);for(let p of e){if(l=l||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator===">"||p.operator===">="){if(a=T4(i,p,n),a===p&&a!==i)return!1}else if(i.operator===">="&&!ux(i.semver,String(p),n))return!1}if(o){if(f&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===f.major&&p.semver.minor===f.minor&&p.semver.patch===f.patch&&(f=!1),p.operator==="<"||p.operator==="<="){if(u=I4(o,p,n),u===p&&u!==o)return!1}else if(o.operator==="<="&&!ux(o.semver,String(p),n))return!1}if(!p.operator&&(o||i)&&s!==0)return!1}return!(i&&c&&!o&&s!==0||o&&l&&!i&&s!==0||d||f)},T4=(t,e,n)=>{if(!t)return e;let r=qO(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},I4=(t,e,n)=>{if(!t)return e;let r=qO(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};P4.exports=uwe});var HO=b((KGe,k4)=>{var jO=jm(),A4=tx(),dwe=Lr(),D4=SO(),pwe=Yf(),mwe=ez(),hwe=nz(),gwe=oz(),vwe=cz(),ywe=lz(),xwe=dz(),wwe=mz(),Ewe=gz(),_we=Lo(),bwe=wz(),Cwe=_z(),Swe=qC(),Twe=Tz(),Iwe=Pz(),Pwe=rx(),Rwe=jC(),Awe=TO(),Dwe=IO(),kwe=HC(),Owe=$C(),Nwe=PO(),Lwe=Mz(),Fwe=sx(),Mwe=Fo(),Uwe=cx(),qwe=t4(),jwe=r4(),Hwe=o4(),$we=c4(),Bwe=l4(),Vwe=GC(),Wwe=g4(),Gwe=y4(),zwe=E4(),Ywe=b4(),Kwe=R4();k4.exports={parse:pwe,valid:mwe,clean:hwe,inc:gwe,diff:vwe,major:ywe,minor:xwe,patch:wwe,prerelease:Ewe,compare:_we,rcompare:bwe,compareLoose:Cwe,compareBuild:Swe,sort:Twe,rsort:Iwe,gt:Pwe,lt:Rwe,eq:Awe,neq:Dwe,gte:kwe,lte:Owe,cmp:Nwe,coerce:Lwe,Comparator:Fwe,Range:Mwe,satisfies:Uwe,toComparators:qwe,maxSatisfying:jwe,minSatisfying:Hwe,minVersion:$we,validRange:Bwe,outside:Vwe,gtr:Wwe,ltr:Gwe,intersects:zwe,simplifyRange:Ywe,subset:Kwe,SemVer:dwe,re:jO.re,src:jO.src,tokens:jO.t,SEMVER_SPEC_VERSION:A4.SEMVER_SPEC_VERSION,RELEASE_TYPES:A4.RELEASE_TYPES,compareIdentifiers:D4.compareIdentifiers,rcompareIdentifiers:D4.rcompareIdentifiers}});var J4=b((QGe,Q4)=>{Q4.exports=typeof queueMicrotask=="function"?queueMicrotask:t=>Promise.resolve().then(t)});var e6=b((JGe,Z4)=>{Z4.exports=typeof process<"u"&&typeof process.nextTick=="function"?process.nextTick.bind(process):J4()});var n6=b((eze,t6)=>{t6.exports=class{constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var YO=b((nze,i6)=>{var r6=n6();i6.exports=class{constructor(e){this.hwm=e||16,this.head=new r6(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let n=this.head;this.head=n.next=new r6(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let n=this.tail.next;return this.tail.next=null,this.tail=n,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var lN=b((rze,T6)=>{var{EventEmitter:mEe}=require("events"),rS=new Error("Stream was destroyed"),KO=new Error("Premature close"),u6=e6(),l6=YO(),Rn=(1<<27)-1,rd=1,rN=2,Zf=4,fx=8,f6=Rn^rd,hEe=Rn^rN,vx=1<<4,dx=2<<4,Xm=4<<4,zu=8<<4,px=16<<4,iN=32<<4,ed=64<<4,XO=128<<4,oN=256<<4,sN=512<<4,bs=1024<<4,Gm=2048<<4,iS=4096<<4,d6=px|iN,gEe=vx|iS,vEe=Xm|vx,yEe=oN|zu,xEe=Rn^vx,wEe=Rn^Xm,EEe=Rn^(Xm|iS),_Ee=Rn^iS,bEe=Rn^px,CEe=Rn^(zu|sN),SEe=Rn^ed,o6=Rn^d6,p6=Rn^Gm,TEe=Rn^dx,Yu=1<<17,Ym=2<<17,yx=4<<17,td=8<<17,xx=16<<17,id=32<<17,QO=64<<17,zm=128<<17,aN=256<<17,Km=512<<17,m6=Rn^(Yu|aN),h6=Rn^yx,IEe=Rn^Km,PEe=Rn^xx,REe=Rn^td,g6=Rn^zm,AEe=Rn^Ym,mx=vx|Yu,v6=Rn^mx,cN=bs|id,Ic=Zf|fx|rN,io=Ic|rd,y6=Ic|cN,DEe=h6&wEe,uN=zm|Gm,kEe=uN&v6,x6=io|kEe,OEe=io|ed|bs,s6=io|bs|zu,NEe=io|ed|zu,LEe=io|oN|zu|sN,FEe=io|vx|ed|bs|iS,MEe=Ic|ed|bs,UEe=dx|io|Gm|Xm,qEe=io|Km|id,jEe=td|xx,w6=td|Yu,HEe=td|xx|io|Yu,a6=io|Yu|td,$Ee=yx|Yu,BEe=Yu|aN,VEe=io|Km|w6|id,WEe=xx|Ic|Km|id,GEe=Ym|io|zm|yx,ZC=Symbol.asyncIterator||Symbol("asyncIterator"),eS=class{constructor(e,{highWaterMark:n=16384,map:r=null,mapWritable:i,byteLength:o,byteLengthWritable:s}={}){this.stream=e,this.queue=new l6,this.highWaterMark=n,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||o||S6,this.map=i||r,this.afterWrite=KEe.bind(this),this.afterUpdateNextTick=JEe.bind(this)}get ended(){return(this.stream._duplexState&id)!==0}push(e){return this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=td,!0):(this.stream._duplexState|=jEe,!1)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=REe),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|Km)&h6}autoBatch(e,n){let r=[],i=this.stream;for(r.push(e);(i._duplexState&a6)===w6;)r.push(i._writableState.shift());if(i._duplexState&io)return n(null);i._writev(r,n)}update(){let e=this.stream;e._duplexState|=Ym;do{for(;(e._duplexState&a6)===td;){let n=this.shift();e._duplexState|=BEe,e._write(n,this.afterWrite)}e._duplexState&$Ee||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=AEe}updateNonPrimary(){let e=this.stream;if((e._duplexState&VEe)===Km){e._duplexState=(e._duplexState|Yu)&IEe,e._final(YEe.bind(this));return}if((e._duplexState&Ic)===Zf){e._duplexState&uN||(e._duplexState|=mx,e._destroy(E6.bind(this)));return}(e._duplexState&x6)===rd&&(e._duplexState=(e._duplexState|mx)&f6,e._open(_6.bind(this)))}continueUpdate(){return this.stream._duplexState&zm?(this.stream._duplexState&=g6,!0):!1}updateCallback(){(this.stream._duplexState&GEe)===yx?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&zm||(this.stream._duplexState|=zm,this.stream._duplexState&Ym||u6(this.afterUpdateNextTick))}},JO=class{constructor(e,{highWaterMark:n=16384,map:r=null,mapReadable:i,byteLength:o,byteLengthReadable:s}={}){this.stream=e,this.queue=new l6,this.highWaterMark=n,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=s||o||S6,this.map=i||r,this.pipeTo=null,this.afterRead=XEe.bind(this),this.afterUpdateNextTick=QEe.bind(this)}get ended(){return(this.stream._duplexState&bs)!==0}pipe(e,n){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof n!="function"&&(n=null),this.stream._duplexState|=iN,this.pipeTo=e,this.pipeline=new eN(this.stream,e,n),n&&this.stream.on("error",c6),gx(e))e._writableState.pipeline=this.pipeline,n&&e.on("error",c6),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let r=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",r),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",zEe.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let n=this.stream;return e===null?(this.highWaterMark=0,n._duplexState=(n._duplexState|ed)&EEe,!1):(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),n._duplexState=(n._duplexState|zu)&_Ee,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=CEe),e}unshift(e){let n=[this.map!==null?this.map(e):e];for(;this.buffered>0;)n.push(this.shift());for(let r=0;r<n.length-1;r++){let i=n[r];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(n[n.length-1])}read(){let e=this.stream;if((e._duplexState&s6)===zu){let n=this.shift();return this.pipeTo!==null&&this.pipeTo.write(n)===!1&&(e._duplexState&=o6),e._duplexState&XO&&e.emit("data",n),n}return null}drain(){let e=this.stream;for(;(e._duplexState&s6)===zu&&e._duplexState&d6;){let n=this.shift();this.pipeTo!==null&&this.pipeTo.write(n)===!1&&(e._duplexState&=o6),e._duplexState&XO&&e.emit("data",n)}}update(){let e=this.stream;e._duplexState|=dx;do{for(this.drain();this.buffered<this.highWaterMark&&!(e._duplexState&FEe);)e._duplexState|=gEe,e._read(this.afterRead),this.drain();(e._duplexState&LEe)===yEe&&(e._duplexState|=sN,e.emit("readable")),e._duplexState&vEe||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=TEe}updateNonPrimary(){let e=this.stream;if((e._duplexState&NEe)===ed&&(e._duplexState=(e._duplexState|bs)&SEe,e.emit("end"),(e._duplexState&y6)===cN&&(e._duplexState|=Zf),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&Ic)===Zf){e._duplexState&uN||(e._duplexState|=mx,e._destroy(E6.bind(this)));return}(e._duplexState&x6)===rd&&(e._duplexState=(e._duplexState|mx)&f6,e._open(_6.bind(this)))}continueUpdate(){return this.stream._duplexState&Gm?(this.stream._duplexState&=p6,!0):!1}updateCallback(){(this.stream._duplexState&UEe)===Xm?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&Gm||(this.stream._duplexState|=Gm,this.stream._duplexState&dx||u6(this.afterUpdateNextTick))}},ZO=class{constructor(e){this.data=null,this.afterTransform=e_e.bind(e),this.afterFinal=null}},eN=class{constructor(e,n,r){this.from=e,this.to=n,this.afterPipe=r,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,n){if(n&&(this.error=n),e===this.to&&(this.to=null,this.from!==null)){(!(this.from._duplexState&bs)||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){e._duplexState&bs||this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function zEe(){this.stream._duplexState|=iN,this.updateCallback()}function YEe(t){let e=this.stream;t&&e.destroy(t),e._duplexState&Ic||(e._duplexState|=id,e.emit("finish")),(e._duplexState&y6)===cN&&(e._duplexState|=Zf),e._duplexState&=m6,e._duplexState&Ym?this.updateNextTick():this.update()}function E6(t){let e=this.stream;!t&&this.error!==rS&&(t=this.error),t&&e.emit("error",t),e._duplexState|=fx,e.emit("close");let n=e._readableState,r=e._writableState;if(n!==null&&n.pipeline!==null&&n.pipeline.done(e,t),r!==null){for(;r.drains!==null&&r.drains.length>0;)r.drains.shift().resolve(!1);r.pipeline!==null&&r.pipeline.done(e,t)}}function KEe(t){let e=this.stream;t&&e.destroy(t),e._duplexState&=m6,this.drains!==null&&ZEe(this.drains),(e._duplexState&HEe)===xx&&(e._duplexState&=PEe,(e._duplexState&QO)===QO&&e.emit("drain")),this.updateCallback()}function XEe(t){t&&this.stream.destroy(t),this.stream._duplexState&=xEe,this.updateCallback()}function QEe(){this.stream._duplexState&dx||(this.stream._duplexState&=p6,this.update())}function JEe(){this.stream._duplexState&Ym||(this.stream._duplexState&=g6,this.update())}function ZEe(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function _6(t){let e=this.stream;t&&e.destroy(t),e._duplexState&Zf||(e._duplexState&OEe||(e._duplexState|=Xm),e._duplexState&qEe||(e._duplexState|=yx),e.emit("open")),e._duplexState&=v6,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function e_e(t,e){e!=null&&this.push(e),this._writableState.afterWrite(t)}var hx=class extends mEe{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",s_e.bind(this)))}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&fx)!==0}get destroying(){return(this._duplexState&Ic)!==0}destroy(e){this._duplexState&Ic||(e||(e=rS),this._duplexState=(this._duplexState|Zf)&DEe,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=rN,this._predestroy(),this._duplexState&=hEe,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}on(e,n){return this._readableState!==null&&(e==="data"&&(this._duplexState|=XO|px,this._readableState.updateNextTick()),e==="readable"&&(this._duplexState|=oN,this._readableState.updateNextTick())),this._writableState!==null&&e==="drain"&&(this._duplexState|=QO,this._writableState.updateNextTick()),super.on(e,n)}},nd=class extends hx{constructor(e){super(e),this._duplexState|=rd|id,this._readableState=new JO(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,n){return this._readableState.updateNextTick(),this._readableState.pipe(e,n),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=px,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=bEe,this}static _fromAsyncIterator(e,n){let r,i=new nd({...n,read(s){e.next().then(o).then(s.bind(null,null)).catch(s)},predestroy(){r=e.return()},destroy(s){if(!r)return s(null);r.then(s.bind(null,null)).catch(s)}});return i;function o(s){s.done?i.push(null):i.push(s.value)}}static from(e,n){if(i_e(e))return e;if(e[ZC])return this._fromAsyncIterator(e[ZC](),n);Array.isArray(e)||(e=e===void 0?[]:[e]);let r=0;return new nd({...n,read(i){this.push(r===e.length?null:e[r++]),i(null)}})}static isBackpressured(e){return(e._duplexState&MEe)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&px)===0}[ZC](){let e=this,n=null,r=null,i=null;return this.on("error",c=>{n=c}),this.on("readable",o),this.on("close",s),{[ZC](){return this},next(){return new Promise(function(c,l){r=c,i=l;let f=e.read();f!==null?a(f):e._duplexState&fx&&a(null)})},return(){return u(null)},throw(c){return u(c)}};function o(){r!==null&&a(e.read())}function s(){r!==null&&a(null)}function a(c){i!==null&&(n?i(n):c===null&&!(e._duplexState&bs)?i(rS):r({value:c,done:c===null}),i=r=null)}function u(c){return e.destroy(c),new Promise((l,f)=>{if(e._duplexState&fx)return l({value:void 0,done:!0});e.once("close",function(){c?f(c):l({value:void 0,done:!0})})})}}},tN=class extends hx{constructor(e){super(e),this._duplexState|=rd|bs,this._writableState=new eS(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,n){n(null)}_write(e,n){this._writableState.autoBatch(e,n)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&WEe)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let n=e._writableState,r=n.queue.length+(e._duplexState&aN?1:0);return r===0?Promise.resolve(!0):(n.drains===null&&(n.drains=[]),new Promise(i=>{n.drains.push({writes:r,resolve:i})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},tS=class extends nd{constructor(e){super(e),this._duplexState=rd,this._writableState=new eS(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,n){n(null)}_write(e,n){this._writableState.autoBatch(e,n)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},nS=class extends tS{constructor(e){super(e),this._transformState=new ZO(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,n){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let n=this._transformState.data;this._transformState.data=null,e(null),this._transform(n,this._transformState.afterTransform)}else e(null)}_transform(e,n){n(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(t_e.bind(this))}},nN=class extends nS{};function t_e(t,e){let n=this._transformState.afterFinal;if(t)return n(t);e!=null&&this.push(e),this.push(null),n(null)}function n_e(...t){return new Promise((e,n)=>b6(...t,r=>{if(r)return n(r);e()}))}function b6(t,...e){let n=Array.isArray(t)?[...t,...e]:[t,...e],r=n.length&&typeof n[n.length-1]=="function"?n.pop():null;if(n.length<2)throw new Error("Pipeline requires at least 2 streams");let i=n[0],o=null,s=null;for(let c=1;c<n.length;c++)o=n[c],gx(i)?i.pipe(o,u):(a(i,!0,c>1,u),i.pipe(o)),i=o;if(r){let c=!1,l=gx(o)||!!(o._writableState&&o._writableState.autoDestroy);o.on("error",f=>{s===null&&(s=f)}),o.on("finish",()=>{c=!0,l||r(s)}),l&&o.on("close",()=>r(s||(c?null:KO)))}return o;function a(c,l,f,d){c.on("error",d),c.on("close",p);function p(){if(l&&c._readableState&&!c._readableState.ended||f&&c._writableState&&!c._writableState.ended)return d(KO)}}function u(c){if(!(!c||s)){s=c;for(let l of n)l.destroy(c)}}}function C6(t){return!!t._readableState||!!t._writableState}function gx(t){return typeof t._duplexState=="number"&&C6(t)}function r_e(t){let e=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return e===rS?null:e}function i_e(t){return gx(t)&&t.readable}function o_e(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function S6(t){return o_e(t)?t.byteLength:1024}function c6(){}function s_e(){this.destroy(new Error("Stream aborted."))}T6.exports={pipeline:b6,pipelinePromise:n_e,isStream:C6,isStreamx:gx,getStreamError:r_e,Stream:hx,Writable:tN,Readable:nd,Duplex:tS,Transform:nS,PassThrough:nN}});var oS=b((ize,I6)=>{function a_e(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function c_e(t){return Buffer.isEncoding(t)}function u_e(t,e,n){return Buffer.alloc(t,e,n)}function l_e(t){return Buffer.allocUnsafe(t)}function f_e(t){return Buffer.allocUnsafeSlow(t)}function d_e(t,e){return Buffer.byteLength(t,e)}function p_e(t,e){return Buffer.compare(t,e)}function m_e(t,e){return Buffer.concat(t,e)}function h_e(t,e,n,r,i){return An(t).copy(e,n,r,i)}function g_e(t,e){return An(t).equals(e)}function v_e(t,e,n,r,i){return An(t).fill(e,n,r,i)}function y_e(t,e,n){return Buffer.from(t,e,n)}function x_e(t,e,n,r){return An(t).includes(e,n,r)}function w_e(t,e,n,r){return An(t).indexOf(e,n,r)}function E_e(t,e,n,r){return An(t).lastIndexOf(e,n,r)}function __e(t){return An(t).swap16()}function b_e(t){return An(t).swap32()}function C_e(t){return An(t).swap64()}function An(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function S_e(t,e,n,r){return An(t).toString(e,n,r)}function T_e(t,e,n,r,i){return An(t).write(e,n,r,i)}function I_e(t,e,n){return An(t).writeDoubleLE(e,n)}function P_e(t,e,n){return An(t).writeFloatLE(e,n)}function R_e(t,e,n){return An(t).writeUInt32LE(e,n)}function A_e(t,e,n){return An(t).writeInt32LE(e,n)}function D_e(t,e){return An(t).readDoubleLE(e)}function k_e(t,e){return An(t).readFloatLE(e)}function O_e(t,e){return An(t).readUInt32LE(e)}function N_e(t,e){return An(t).readInt32LE(e)}I6.exports={isBuffer:a_e,isEncoding:c_e,alloc:u_e,allocUnsafe:l_e,allocUnsafeSlow:f_e,byteLength:d_e,compare:p_e,concat:m_e,copy:h_e,equals:g_e,fill:v_e,from:y_e,includes:x_e,indexOf:w_e,lastIndexOf:E_e,swap16:__e,swap32:b_e,swap64:C_e,toBuffer:An,toString:S_e,write:T_e,writeDoubleLE:I_e,writeFloatLE:P_e,writeUInt32LE:R_e,writeInt32LE:A_e,readDoubleLE:D_e,readFloatLE:k_e,readUInt32LE:O_e,readInt32LE:N_e}});var pN=b(Jm=>{var lt=oS(),L_e="0000000000000000000",F_e="7777777777777777777",sS="0".charCodeAt(0),P6=lt.from([117,115,116,97,114,0]),M_e=lt.from([sS,sS]),U_e=lt.from([117,115,116,97,114,32]),q_e=lt.from([32,0]),j_e=4095,wx=257,dN=263;Jm.decodeLongPath=function(e,n){return Qm(e,0,e.length,n)};Jm.encodePax=function(e){let n="";e.name&&(n+=fN(" path="+e.name+`
`)),e.linkname&&(n+=fN(" linkpath="+e.linkname+`
`));let r=e.pax;if(r)for(let i in r)n+=fN(" "+i+"="+r[i]+`
`);return lt.from(n)};Jm.decodePax=function(e){let n={};for(;e.length;){let r=0;for(;r<e.length&&e[r]!==32;)r++;let i=parseInt(e.subarray(0,r).toString(),10);if(!i)return n;let o=lt.toString(e.subarray(r+1,i-1)),s=o.indexOf("=");if(s===-1)return n;n[o.slice(0,s)]=o.slice(s+1),e=e.subarray(i)}return n};Jm.encode=function(e){let n=lt.alloc(512),r=e.name,i="";if(e.typeflag===5&&r[r.length-1]!=="/"&&(r+="/"),lt.byteLength(r)!==r.length)return null;for(;lt.byteLength(r)>100;){let o=r.indexOf("/");if(o===-1)return null;i+=i?"/"+r.slice(0,o):r.slice(0,o),r=r.slice(o+1)}return lt.byteLength(r)>100||lt.byteLength(i)>155||e.linkname&&lt.byteLength(e.linkname)>100?null:(lt.write(n,r),lt.write(n,Xu(e.mode&j_e,6),100),lt.write(n,Xu(e.uid,6),108),lt.write(n,Xu(e.gid,6),116),z_e(e.size,n,124),lt.write(n,Xu(e.mtime.getTime()/1e3|0,11),136),n[156]=sS+W_e(e.type),e.linkname&&lt.write(n,e.linkname,157),lt.copy(P6,n,wx),lt.copy(M_e,n,dN),e.uname&&lt.write(n,e.uname,265),e.gname&&lt.write(n,e.gname,297),lt.write(n,Xu(e.devmajor||0,6),329),lt.write(n,Xu(e.devminor||0,6),337),i&&lt.write(n,i,345),lt.write(n,Xu(A6(n),6),148),n)};Jm.decode=function(e,n,r){let i=e[156]===0?0:e[156]-sS,o=Qm(e,0,100,n),s=Ku(e,100,8),a=Ku(e,108,8),u=Ku(e,116,8),c=Ku(e,124,12),l=Ku(e,136,12),f=V_e(i),d=e[157]===0?null:Qm(e,157,100,n),p=Qm(e,265,32),m=Qm(e,297,32),h=Ku(e,329,8),g=Ku(e,337,8),v=A6(e);if(v===8*32)return null;if(v!==Ku(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(H_e(e))e[345]&&(o=Qm(e,345,155,n)+"/"+o);else if(!$_e(e)){if(!r)throw new Error("Invalid tar header: unknown format.")}return i===0&&o&&o[o.length-1]==="/"&&(i=5),{name:o,mode:s,uid:a,gid:u,size:c,mtime:new Date(1e3*l),type:f,linkname:d,uname:p,gname:m,devmajor:h,devminor:g,pax:null}};function H_e(t){return lt.equals(P6,t.subarray(wx,wx+6))}function $_e(t){return lt.equals(U_e,t.subarray(wx,wx+6))&&lt.equals(q_e,t.subarray(dN,dN+2))}function B_e(t,e,n){return typeof t!="number"?n:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function V_e(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function W_e(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function R6(t,e,n,r){for(;n<r;n++)if(t[n]===e)return n;return r}function A6(t){let e=256;for(let n=0;n<148;n++)e+=t[n];for(let n=156;n<512;n++)e+=t[n];return e}function Xu(t,e){return t=t.toString(8),t.length>e?F_e.slice(0,e)+" ":L_e.slice(0,e-t.length)+t+" "}function G_e(t,e,n){e[n]=128;for(let r=11;r>0;r--)e[n+r]=t&255,t=Math.floor(t/256)}function z_e(t,e,n){t.toString(8).length>11?G_e(t,e,n):lt.write(e,Xu(t,11),n)}function Y_e(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;let n=[],r;for(r=t.length-1;r>0;r--){let s=t[r];e?n.push(s):n.push(255-s)}let i=0,o=n.length;for(r=0;r<o;r++)i+=n[r]*Math.pow(256,r);return e?i:-1*i}function Ku(t,e,n){if(t=t.subarray(e,e+n),e=0,t[e]&128)return Y_e(t);{for(;e<t.length&&t[e]===32;)e++;let r=B_e(R6(t,32,e,t.length),t.length,t.length);for(;e<r&&t[e]===0;)e++;return r===e?0:parseInt(t.subarray(e,r).toString(),8)}}function Qm(t,e,n,r){return lt.toString(t.subarray(e,R6(t,0,e,e+n)),r)}function fN(t){let e=lt.byteLength(t),n=Math.floor(Math.log(e)/Math.log(10))+1;return e+n>=Math.pow(10,n)&&n++,e+n+t}});var L6=b((sze,N6)=>{var{Writable:K_e,Readable:X_e,getStreamError:D6}=lN(),Q_e=YO(),k6=oS(),Zm=pN(),J_e=k6.alloc(0),hN=class{constructor(){this.buffered=0,this.shifted=0,this.queue=new Q_e,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return J_e;let n=this._next(e);if(e===n.byteLength)return n;let r=[n];for(;(e-=n.byteLength)>0;)n=this._next(e),r.push(n);return k6.concat(r)}_next(e){let n=this.queue.peek(),r=n.byteLength-this._offset;if(e>=r){let i=this._offset?n.subarray(this._offset,n.byteLength):n;return this.queue.shift(),this._offset=0,this.buffered-=r,this.shifted+=r,i}return this.buffered-=e,this.shifted+=e,n.subarray(this._offset,this._offset+=e)}},gN=class extends X_e{constructor(e,n,r){super(),this.header=n,this.offset=r,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(D6(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=O6(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}},vN=class extends K_e{constructor(e){super(e),e||(e={}),this._buffer=new hN,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=mN,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=Zm.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=Zm.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=Zm.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=Zm.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?Zm.decodePax(e):Object.assign({},this._paxGlobal,Zm.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=O6(this._header.size);let e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(n){return this._continueWrite(n),!1}return!0}_consumeStream(){let e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;let n=this._stream.push(e);return this._missing===0?(this._stream.push(null),n&&this._stream._detach(),n&&this._locked===!1):n}_createStream(){return new gN(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}let e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){let n=this._callback;this._callback=mN,n(e)}_write(e,n){this._callback=n,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(D6(this)),e(null)}[Symbol.asyncIterator](){let e=null,n=null,r=null,i=null,o=null,s=this;return this.on("entry",c),this.on("error",d=>{e=d}),this.on("close",l),{[Symbol.asyncIterator](){return this},next(){return new Promise(u)},return(){return f(null)},throw(d){return f(d)}};function a(d){if(!o)return;let p=o;o=null,p(d)}function u(d,p){if(e)return p(e);if(i){d({value:i,done:!1}),i=null;return}n=d,r=p,a(null),s._finished&&n&&(n({value:void 0,done:!0}),n=r=null)}function c(d,p,m){o=m,p.on("error",mN),n?(n({value:p,done:!1}),n=r=null):i=p}function l(){a(e),n&&(e?r(e):n({value:void 0,done:!0}),n=r=null)}function f(d){return s.destroy(d),a(d),new Promise((p,m)=>{if(s.destroyed)return p({value:void 0,done:!0});s.once("close",function(){d?m(d):p({value:void 0,done:!0})})})}}};N6.exports=function(e){return new vN(e)};function mN(){}function O6(t){return t&=511,t&&512-t}});var M6=b((aze,yN)=>{var F6={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{yN.exports=require("fs").constants||F6}catch{yN.exports=F6}});var $6=b((cze,H6)=>{var{Readable:Z_e,Writable:ebe,getStreamError:U6}=lN(),od=oS(),eh=M6(),aS=pN(),tbe=493,nbe=420,q6=od.alloc(1024),wN=class extends ebe{constructor(e,n,r){super({mapWritable:ibe,eagerOpen:!0}),this.written=0,this.header=n,this._callback=r,this._linkname=null,this._isLinkname=n.type==="symlink"&&!n.linkname,this._isVoid=n.type!=="file"&&n.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;let n=this._callback;this._callback=null,n(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);let e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,n){if(this._isLinkname)return this._linkname=this._linkname?od.concat([this._linkname,e]):e,n(null);if(this._isVoid)return e.byteLength>0?n(new Error("No body allowed for this entry")):n();if(this.written+=e.byteLength,this._pack.push(e))return n();this._pack._drain=n}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?od.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),j6(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return U6(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}},EN=class extends Z_e{constructor(e){super(e),this._drain=xN,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,n,r){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof n=="function"&&(r=n,n=null),r||(r=xN),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=rbe(e.mode)),e.mode||(e.mode=e.type==="directory"?tbe:nbe),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof n=="string"&&(n=od.from(n));let i=new wN(this,e,r);return od.isBuffer(n)?(e.size=n.byteLength,i.write(n),i.end(),i):(i._isVoid,i)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(q6),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){let n=aS.encode(e);if(n){this.push(n);return}}this._encodePax(e)}_encodePax(e){let n=aS.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),r={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:n.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(aS.encode(r)),this.push(n),j6(this,n.byteLength),r.size=e.size,r.type=e.type,this.push(aS.encode(r))}_doDrain(){let e=this._drain;this._drain=xN,e()}_predestroy(){let e=U6(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){let n=this._pending.shift();n.destroy(e),n._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}};H6.exports=function(e){return new EN(e)};function rbe(t){switch(t&eh.S_IFMT){case eh.S_IFBLK:return"block-device";case eh.S_IFCHR:return"character-device";case eh.S_IFDIR:return"directory";case eh.S_IFIFO:return"fifo";case eh.S_IFLNK:return"symlink"}return"file"}function xN(){}function j6(t,e){e&=511,e&&t.push(q6.subarray(0,512-e))}function ibe(t){return od.isBuffer(t)?t:od.from(t)}});var B6=b(_N=>{_N.extract=L6();_N.pack=$6()});var bN=b((mze,G6)=>{G6.exports=function(e,n,r){e(n),r&&r(n===!0?null:n)}});var uS=b((hze,Y6)=>{"use strict";var z6=bN();Y6.exports=function(e,n){if(!e)return function(i,o){return i?z6(o,i,n):o(!0)};Array.isArray(e)||(e=Object.keys(e).map(function(i){return e[i]}));var r=0;return function(i,o){if(i)return z6(o,i,n);r>=e.length?o(!0):o(null,e[r++])}}});var X6=b((gze,K6)=>{"use strict";var abe=uS();K6.exports=function(t){return abe(Object.keys(t))}});var CN=b((vze,Q6)=>{"use strict";var cbe=bN();Q6.exports=function(e,n){return function(r,i){if(r)return cbe(i,r,n);if(e!=null){var o=e;e=null,i(null,o)}else i(!0)}}});var Z6=b((yze,J6)=>{"use strict";J6.exports=function(e){var n=0;return e=e||1/0,function(r,i){if(r)return i&&i(r);if(n>e)return i(!0);i(null,n++)}}});var t5=b((xze,e5)=>{"use strict";e5.exports=function(e){return e=e||Math.random,function(n,r){return n?r&&r(n):r(null,e())}}});var r5=b((wze,n5)=>{"use strict";n5.exports=function(){return function(e,n){n(!0)}}});var o5=b((Eze,i5)=>{"use strict";i5.exports=function(e){return function(n,r){r(e)}}});var a5=b((_ze,s5)=>{"use strict";s5.exports={keys:X6(),once:CN(),values:uS(),count:Z6(),infinite:t5(),empty:r5(),error:o5()}});var th=b((bze,c5)=>{"use strict";c5.exports=function(e,n){var r,i,o;n||(o=new Error("no done callback supplied"));function s(a){if(r=a,i)return s.abort();(function u(){for(var c=!0,l=!1;c;)if(l=!1,r(null,function(f,d){if(l=!0,f=f||i){if(c=!1,n)n(f===!0?null:f);else if(f&&f!==!0)throw console.warn(o),f}else e&&e(d)===!1||i?(c=!1,r(i||!0,n||function(){})):c||u()}),!l){c=!1;return}})()}return s.abort=function(a,u){if(typeof a=="function"&&(u=a,a=!0),i=a||!0,r)return r(i,u||function(){})},s}});var l5=b((Cze,u5)=>{"use strict";var ube=th();u5.exports=function(e){return ube(null,e)}});var d5=b((Sze,f5)=>{"use strict";var lbe=th();f5.exports=function(e){return lbe(function(n){console.log(n)},e)}});var nh=b((Tze,p5)=>{p5.exports=function(e){return e&&(typeof e=="string"?function(n){return n[e]}:typeof e=="object"&&typeof e.exec=="function"?function(n){var r=e.exec(n);return r&&r[0]}:e)}});var g5=b((Ize,h5)=>{"use strict";function m5(t){return t}var fbe=nh(),dbe=th();h5.exports=function(e,n){var r=!1;return n?e=fbe(e)||m5:(n=e,e=m5),dbe(function(i){if(e(i))return r=!0,n(null,i),!1},function(i){r||n(i===!0?null:i,null)})}});var lS=b((Pze,v5)=>{"use strict";var pbe=th();v5.exports=function(e,n,r){r||(r=n,n=null);var i=pbe(function(o){n=e(n,o)},function(o){r(o,n)});return arguments.length===2?function(o){o(null,function(s,a){if(s)return r(s===!0?null:s);n=a,i(o)})}:i}});var SN=b((Rze,y5)=>{"use strict";var mbe=lS();y5.exports=function(e){return mbe(function(n,r){return n.push(r),n},[],e)}});var w5=b((Aze,x5)=>{"use strict";var hbe=SN();x5.exports=function(){return e=>{let n,r,i=new Promise((o,s)=>{n=o,r=s});return hbe((o,s)=>{o?r(o):n(s)})(e),i}}});var _5=b((Dze,E5)=>{"use strict";var gbe=lS();E5.exports=function(e){return gbe(function(n,r){return n+r},"",e)}});var C5=b((kze,b5)=>{"use strict";b5.exports={drain:th(),onEnd:l5(),log:d5(),find:g5(),reduce:lS(),collect:SN(),collectAsPromise:w5(),concat:_5()}});var T5=b((Oze,S5)=>{"use strict";function vbe(t){return t}var ybe=nh();S5.exports=function(e){return e?(e=ybe(e),function(n){return function(r,i){n(r,function(o,s){try{s=o?null:e(s)}catch(a){return n(a,function(){return i(a)})}i(o,s)})}}):vbe}});var P5=b((Nze,I5)=>{"use strict";function xbe(t){return t}var wbe=nh();I5.exports=function(e){if(!e)return xbe;e=wbe(e);var n=!1,r,i;return function(o){return function s(a,u){if(i)return u(i);a?(i=a,n?o(a,function(c){n?r=u:u(a)}):o(a,function(c){u(a)})):o(null,function(c,l){c?u(c):i?u(i):(n=!0,e(l,function(f,d){n=!1,i?(u(i),r&&r(i)):f?s(f,u):u(null,d)}))})}}}});var TN=b((Lze,R5)=>{var Ebe=nh();function _be(t){return t}R5.exports=function(e){return typeof e=="object"&&typeof e.test=="function"?function(n){return e.test(n)}:Ebe(e)||_be}});var fS=b((Fze,A5)=>{"use strict";var bbe=TN();A5.exports=function(e){return e=bbe(e),function(n){return function r(i,o){for(var s,a=!0;a;)a=!1,s=!0,n(i,function(u,c){if(!u&&!e(c))return s?a=!0:r(u,o);o(u,c)}),s=!1}}}});var k5=b((Mze,D5)=>{"use strict";var Cbe=TN(),Sbe=fS();D5.exports=function(e){return e=Cbe(e),Sbe(function(n){return!e(n)})}});var N5=b((Uze,O5)=>{"use strict";O5.exports=function(e,n){var r=!1;function i(o){r||!n||(r=!0,n(o===!0?null:o))}return function(o){return function(s,a){return s&&i(s),o(s,function(u,c){u?i(u):e&&e(c),a(u,c)})}}}});var F5=b((qze,L5)=>{"use strict";L5.exports=function(e,n){n=n||{};var r=n.last||!1,i=!1;if(typeof e=="number"){r=!0;var o=e;e=function(){return--o}}return function(s){function a(u){s(!0,function(c){r=!1,u(c||!0)})}return function(u,c){i&&!u?r?a(c):c(i):(i=u)?s(i,c):s(null,function(l,f){(i=i||l)?c(i):e(f)?c(null,f):(i=!0,r?c(null,f):a(c))})}}}});var IN=b((jze,M5)=>{"use strict";function Tbe(t){return t}var Ibe=nh(),Pbe=fS();M5.exports=function(e,n){e=Ibe(e)||Tbe;var r={};return Pbe(function(i){var o=e(i);return r[o]?!!n:(r[o]=!0,!n)})}});var q5=b((Hze,U5)=>{"use strict";var Rbe=IN();U5.exports=function(e){return Rbe(e,!0)}});var H5=b(($ze,j5)=>{"use strict";var Abe=uS(),Dbe=CN();j5.exports=function(){return function(e){var n;return function(r,i){r?n?n(r,function(a){e(a||r,i)}):e(r,i):n?o():s();function o(){n(null,function(a,u){a?a===!0?s():e(!0,function(c){i(a)}):i(null,u)})}function s(){n=null,e(null,function(a,u){if(a)return i(a);u&&typeof u=="object"?u=Abe(u):typeof u!="function"&&(u=Dbe(u)),n=u,o()})}}}}});var B5=b((Bze,$5)=>{"use strict";$5.exports={map:T5(),asyncMap:P5(),filter:fS(),filterNot:k5(),through:N5(),take:F5(),unique:IN(),nonUnique:q5(),flatten:H5()}});var PN=b((Vze,V5)=>{"use strict";V5.exports=function t(e){var n=arguments.length;if(typeof e=="function"&&e.length===1){for(var r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return function(a){if(r==null)throw new TypeError("partial sink should only be called once!");var u=r;switch(r=null,n){case 1:return t(a,u[0]);case 2:return t(a,u[0],u[1]);case 3:return t(a,u[0],u[1],u[2]);case 4:return t(a,u[0],u[1],u[2],u[3]);default:return u.unshift(a),t.apply(null,u)}}}var o=e;o&&typeof o.source=="function"&&(o=o.source);for(var i=1;i<n;i++){var s=arguments[i];typeof s=="function"?o=s(o):s&&typeof s=="object"&&(s.sink(o),o=s.source)}return o}});var _x=b((sd,Y5)=>{"use strict";var W5=a5(),G5=C5(),z5=B5();sd=Y5.exports=PN();sd.pull=sd;for(Cs in W5)sd[Cs]=W5[Cs];var Cs;for(Cs in z5)sd[Cs]=z5[Cs];var Cs;for(Cs in G5)sd[Cs]=G5[Cs];var Cs});var qN=b((v4e,x8)=>{var g4e=x8.exports=function(t){(function e(){var n=!0,r=!1,i=!1;do i=!0,n=!1,t.call(this,function(){i?n=!0:e()}),i=!1;while(n)})()}});var E8=b((y4e,w8)=>{var Bbe=qN();w8.exports=function(t,e){return function(n){var r=[],i,o;function s(c){r.push(c)}t=t||function(c){this.queue(c)},e=e||function(){this.queue(null)};var a={emit:function(c,l){c=="data"&&s(l),c=="end"&&(i=!0,s(null)),c=="error"&&(o=l)},queue:s},u;return function(c,l){if(i=i||c,c)return n(c,function(){if(u){var f=u;u=null,f(c)}l(c)});u=l,Bbe(function f(d){if(u)if(l=u,o)u=null,l(o);else if(r.length){var p=r.shift();u=null,l(p===null,p)}else n(i,function(m,h){if(m&&m!==!0)return o=m,d();if(i=i||m)e.call(a);else if(h!==null&&(t.call(a,h),o||i))return n(o||i,function(){u=null,l(o||i)});d(f)})})}}}});var b8=b((x4e,_8)=>{_8.exports=function(){var t=[],e=0;function n(){return t.reduce(function(r,i){return r+i.length},0)}return{length:e,data:this,add:function(r){if(!Buffer.isBuffer(r))throw new Error("data must be a buffer, was: "+JSON.stringify(r));return this.length=e=e+r.length,t.push(r),this},has:function(r){return r==null?e>0:e>=r},get:function(r){var i;if(r==null||r===e){e=0;var o=t;return t=[],o.length==1?o[0]:Buffer.concat(o)}else if(t.length>1&&r<=(i=t[0].length)){var s=t[0].slice(0,r);return r===i?t.shift():t[0]=t[0].slice(r,i),e-=r,s}else if(r<e){for(var a=[],u=0;u+t[0].length<r;){var c=t.shift();u+=c.length,a.push(c)}return u<r&&(a.push(t[0].slice(0,r-u)),t[0]=t[0].slice(r-u,t[0].length),this.length=e=e-r),Buffer.concat(a)}else throw new Error("could not get "+r+" bytes")}}}});var I8=b((w4e,T8)=>{"use strict";var Vbe=b8();function Wbe(t){return Number.isFinite(t)}function C8(t){return typeof t=="function"}function S8(t,e){return e?function(n,r){var i=setTimeout(function(){t(new Error("pull-reader: read exceeded timeout"),r)},e);t(n,function(o,s){clearTimeout(i),r(o,s)})}:t}T8.exports=function(t){var e=[],n,r,i=!1,o=Vbe(),s,a,u;function c(){for(;e.length;)if(e[0].length==null&&o.has(1))e.shift().cb(null,o.get());else if(o.has(e[0].length)){var d=e.shift();d.cb(null,o.get(d.length))}else if(s==!0&&e[0].length&&o.length<e[0].length){var p="stream ended with:"+o.length+" but wanted:"+e[0].length;e.shift().cb(new Error(p))}else if(s)e.shift().cb(s);else return!!e.length;return e.length||!o.has(1)||u}function l(){var d=c();d&&!i&&n&&!i&&!a&&(i=!0,r(null,function(p,m){if(i=!1,p)return s=p,c();o.add(m),l()}))}function f(d){if(u){for(;e.length;)e.shift().cb(u);return cb&&cb(u)}r=S8(d,t),n=d,l()}return f.abort=function(d,p){u=d||!0,n?(i=!0,n(u,function(){for(;e.length;)e.shift().cb(u);p&&p(u)})):p()},f.read=function(d,p,m){if(C8(p)&&(m=p,p=t),C8(m))e.push({length:Wbe(d)?d:null,cb:m}),l();else return a=!0,function(h,g){if(i||o.has(1)){if(h)return n(h,g);e.push({length:null,cb:g}),l()}else S8(n,p)(h,function(v,x){g(v,x)})}},f}});var q8=b((cd,U8)=>{var Gbe=E8(),zbe=I8(),P8=ku(),R8=0,A8=1,D8=2,k8="GOODBYE";function O8(t){let e=Buffer.alloc(9),n=0,r=t.value!==void 0?t.value:t.end;return typeof t=="string"&&t===k8?(e.fill(0),[e,null]):(typeof r=="string"?(n=A8,r=Buffer.from(r,"utf-8")):Buffer.isBuffer(r)?n=R8:(n=D8,r=Buffer.from(JSON.stringify(r),"utf-8")),n=t.stream<<3|t.end<<2|n,e[0]=n,e.writeUInt32BE(r.length,1),e.writeInt32BE(t.req||0,5),[e,r])}function N8(t){if(t.length!==9)throw new Error("expected header to be 9 bytes long");let e=t[0],n=t.readUInt32BE(1);return{req:t.readInt32BE(5),stream:!!(e&8),end:!!(e&4),value:null,length:n,type:e&3}}function L8(t,e){if(t.length!==e.length)throw new Error("incorrect length, expected:"+e.length+" found:"+t.length);if(e.type===R8)e.value=t;else if(e.type===A8)e.value=t.toString();else if(e.type===D8)e.value=JSON.parse(t.toString());else throw new Error("unknown message type");return e}function F8(t){return Gbe(function(n){t&&t("encoded: %o",n);let[r,i]=O8(n);this.queue(r),i!==null&&this.queue(i)})}function M8(t){let e=zbe(),n=!1;return function(i){return e(i),function(s,a){if(n)return a(!0);if(s)return e.abort(s,a);e.read(9,function(c,l){if(c)return a(c);let f=N8(l);if(f.length===0)return n=!0,a(null,k8);e.read(f.length,function(p,m){if(p)return a(p);try{L8(m,f)}catch(h){return a(h)}t&&t("decoded: %o",f),a(null,f)})})}}}cd=U8.exports=function(e,n){let r=n===!0?P8("packet-stream-codec"):typeof n=="string"?P8(n):null;return{source:F8(r)(e.source),sink(i){return e.sink(M8(r)(i))}}};cd.encodePair=O8;cd.decodeHead=N8;cd.decodeBody=L8;cd.encode=F8;cd.decode=M8});var jN=b((E4e,j8)=>{function Ybe(t){return t&&(t===!0?!0:{message:t.message,name:t.name,stack:t.stack})}function Kbe(t){console.error("packet-stream asked to read after closed",t)}j8.exports={flat:Ybe,closedread:Kbe}});var B8=b((_4e,$8)=>{var{flat:H8,closedread:Xbe}=jN();function mS(t,e,n){this.id=t,this.read=null,this.writeEnd=null,this.readEnd=null,this._ps=e,this._remove=n}mS.prototype.write=function(t,e){let n=this._ps;e?(this.writeEnd=e,n&&(n.read({req:this.id,stream:!0,end:!0,value:H8(e)}),this.readEnd&&this.destroy(e),n._maybedone(e))):n&&n.read({req:this.id,stream:!0,end:!1,value:t})};mS.prototype.end=function(t){this.write(null,H8(t||!0))};mS.prototype.destroy=function(t){if(this.writeEnd){if(!this.readEnd){this.readEnd=!0;try{this.read&&this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}}else{if(this.writeEnd=!0,!this.readEnd){this.readEnd=!0;try{this.read(null,t)}catch(e){console.error("Exception thrown by PacketStream substream end handler",e),console.error(e.stack)}}this.write(null,t)}this._ps&&(this._remove(),this._remove=null,this.read=Xbe,this._ps=null)};$8.exports=mS});var G8=b((b4e,W8)=>{var V8=B8(),{flat:HN,closedread:Qbe}=jN();function jo(t){this.ended=!1,this.opts=t,this._req_counter=1,this._requests=new Map,this._instreams=new Map,this._outstreams=new Map,this._closecbs=[],this._closing=!1,this._closed=!1,t.close&&this._closecbs.push(t.close)}jo.prototype.message=function(t){this.read({req:0,stream:!1,end:!1,value:t})};jo.prototype.request=function(t,e){if(this._closing)return e(new Error("parent stream is closing"));let n=this._req_counter++;this._requests.set(n,(r,i)=>{this._requests.delete(n),e(r,i),this._maybedone(r)}),this.read({req:n,stream:!1,end:!1,value:t})};jo.prototype.stream=function(){if(this._closing)throw new Error("parent stream is closing");let t=this._req_counter++,e=new V8(t,this,()=>{this._outstreams.delete(t)});return this._outstreams.set(t,e),e};jo.prototype.close=function(t){if(!t)throw new Error("packet-stream.close *must* have callback");if(this._closed)return t();this._closecbs.push(t),this._closing=!0,this._maybedone()};jo.prototype.destroy=function(t){t=t||HN(t),this.ended=t,this._closing=!0;let e=t===!0?new Error("unexpected end of parent stream"):t,n=0;this._requests.forEach(r=>{n++,r(e)}),this._instreams.forEach(r=>{n++,r.writeEnd=!0,r.destroy(e)}),this._outstreams.forEach(r=>{n++,r.writeEnd=!0,r.destroy(e)}),n===0&&t===!0&&(e=null),this._maybedone(e)};jo.prototype._maybedone=function(t){this._closed||!this._closing||this._requests.size!==0||this._instreams.size!==0||this._outstreams.size!==0||(this.read(null,t||!0),this._closed=!0,this._closecbs.forEach(e=>{e(t)}),this.opts=null,this._closecbs.length=0,this.read=Qbe,this._requests.clear(),this._instreams.clear(),this._outstreams.clear())};jo.prototype.read=function(t){console.error("please overwrite read method to do IO",t)};jo.prototype.write=function(t,e){this.ended||(e?this.destroy(e):t.req&&!t.stream?this._onrequest(t):t.req&&t.stream?this._onstream(t):this._onmessage(t))};jo.prototype._onmessage=function(t){this.opts&&typeof this.opts.message=="function"&&this.opts.message(t.value)};jo.prototype._onrequest=function(t){let e=t.req*-1;if(t.req<0)this._requests.has(e)&&this._requests.get(e)(t.end?t.value:null,t.end?null:t.value);else if(this.opts&&typeof this.opts.request=="function"){let n=!1;this.opts.request(t.value,(r,i)=>{if(n)throw new Error("cb called twice from local api");n=!0,r?this.read({value:HN(r),end:!0,req:e}):this.read({value:i,end:!1,req:e}),this._maybedone()})}else{if(this.ended){let n=this.ended===!0?new Error("unexpected end of parent stream"):this.ended;this.read({value:HN(n),end:!0,stream:!1,req:e})}else this.read({value:{message:"Unable to handle requests",name:"NO_REQUEST_HANDLER",stack:null},end:!0,stream:!1,req:e});this._maybedone()}};jo.prototype._onstream=function(t){if(t.req<0){let e=t.req*-1,n=this._outstreams.get(e);if(!n)return console.error("no stream for incoming msg",t);t.end?(n.writeEnd&&this._outstreams.delete(e),n.readEnd=!0,n.read(null,t.value),this._maybedone()):n.read(t.value)}else{let e=t.req,n=this._instreams.get(e);n||(n=new V8(e*-1,this,()=>{this._instreams.delete(e)}),this._instreams.set(e,n),this.opts&&typeof this.opts.stream=="function"&&this.opts.stream(n)),t.end?(n.writeEnd&&this._instreams.delete(e),n.readEnd=!0,n.read&&n.read(null,t.value),this._maybedone()):n.read?n.read(t.value):console.error("no .read for stream:",n.id,"dropped:",t)}};W8.exports=t=>new jo(t)});var Y8=b((C4e,Px)=>{"use strict";var Jbe=_x();function Zbe(t){let e=!1;return(n,r)=>{e||(e=!0,t(n,r))}}function $N(t,e){let n=[],r=!1,i=!1,o,s,a=Zbe((u,c)=>{e&&e(u,c),t=null,e=null,o=null,s&&s(u||!0,()=>{})});return t.read=function(u,c){if(r=r||c,o){let l=o;o=null,l(r,u)}else!r&&!i&&n.push(u);r&&a(r!==!0?r:null)},{source(u,c){u?(t&&t.write(null,u),c(u),n.length=0,i=!0,a(u!==!0?u:null)):n.length?c(null,n.shift()):r?c(r):o=c},sink(u){if(r)return s=null,u(r,()=>{});s=u,Jbe.drain(c=>{if(r)return!1;t.write(c)},c=>{t&&!t.writeEnd&&t.write(null,c||!0),a&&a(c)})(u)}}}function z8(t,e){return $N(t,n=>{t.writeEnd||t.write(null,n||!0),e&&e(n)})}function eCe(t){return z8(t).source}function tCe(t,e){return z8(t,e).sink}Px.exports=$N;Px.exports.source=eCe;Px.exports.sink=tCe;Px.exports.duplex=$N});var X8=b((S4e,K8)=>{K8.exports=function(e){var n,r,i;function o(s){return function(a,u){s(a,function(c,l){if(c&&!i)return i=!0,u(null,e);c&&n?u(c):c?r=u:u(null,l)})}}return o.end=function(){return n=!0,r&&r(n),o},o}});var J8=b((T4e,Q8)=>{var nCe=X8(),BN=_x();Q8.exports=function(t,e){e=e||"GOODBYE";var n=nCe(e);return{source:BN(t.source,n),sink:BN(BN.filter(function(r){if(r!==e)return!0;n.end()}),t.sink)}}});var Rx=b(Ts=>{"use strict";var hS=_x();function rCe(t){return t?Object.keys(t).length===0:!0}Ts.set=function(e,n,r){let i,o;for(let s=0;s<n.length;s++){let a=n[s];e[a]=e[a]||{},i=e,o=a,e=e[a]}i[o]=r};Ts.get=function(e,n){if(typeof n=="string")return e[n];let r;for(let i=0;i<n.length;i++){let o=n[i];if(r=e=e[o],e==null)return e}return r};Ts.prefix=function(e,n){let r;for(let i=0;i<n.length;i++){let o=n[i];if(r=e=e[o],typeof e!="object")return e}return typeof r!="object"?!!r:!1};function iCe(t,e){for(let n in e){let r=e[n];t[r]||(t[r]={}),t=t[r]}return t}function oCe(t,e){(function n(r,i){let o=e[i];if(r)e.length-1===i?delete r[o]:i<e.length&&n(r[o],i+1);else return;rCe(r[o])&&delete r[o]})(t,0)}function sCe(t,e){for(let n in e)t[n]=e[n];return t}Ts.mount=function(e,n,r){if(!Array.isArray(n))throw new Error("path must be array of strings");return sCe(iCe(e,n),r)};Ts.unmount=function(e,n){return oCe(e,n)};var gS=t=>t==="source",vS=t=>t==="sink",VN=t=>t==="duplex",aCe=t=>t==="sync",cCe=t=>t==="async",Z8=t=>aCe(t)||cCe(t),uCe=t=>gS(t)||vS(t)||VN(t);Ts.isRequest=Z8;Ts.isStream=uCe;function WN(t){return function(e){e(t||!0,()=>{})}}function eY(t){return{source:hS.error(t),sink:WN(t)}}Ts.errorAsStream=function(e,n){return gS(e)?hS.error(n):vS(e)?WN(n):eY(n)};Ts.errorAsStreamOrCb=function(e,n,r){return Z8(e)?r(n):VN(e)?eY(n):gS(e)?hS.error(n):vS(e)?WN(n):r(n)};Ts.pipeToStream=function(e,n,r){gS(e)?n(r):vS(e)?r(n):VN(e)&&hS(n,r,n)}});var GN=b((P4e,tY)=>{"use strict";function lCe(t){return typeof t=="string"?[`Error: ${t}`]:t.stack?t.stack.split(`
`):[`${t.name}: ${t.message}`]}tY.exports=function(e,n){let r=new Error(n),i=r.stack.split(`
`);i.splice(1,1);let o=lCe(e);o[0]="  "+o[0];for(let s=1;s<i.length;s++)if(o.includes(i[s])){i.splice(s);break}return r.stack=i.concat(o).join(`
`),r}});var oY=b((R4e,iY)=>{"use strict";var fCe=G8(),zN=Y8(),dCe=J8(),rh=Rx(),nY=GN(),rY=ku()("muxrpc:psc");iY.exports=function(e,n,r){let i=fCe({message(){},request(s,a){if(!Array.isArray(s.args))return a(new Error(`invalid request, args should be array, was: ${JSON.stringify(s)}`));let u=s.name,c=s.args,l=!1,f=!1;c.push((d,p)=>{f=!0,l=!0,a(d,p)});try{e("async",u,c)}catch(d){if(l||f)throw nY(d,"no callback provided to muxrpc async funtion");a(d)}},stream(s){s.read=function(u,c){if(c)return s.write(null,c);let{name:l,type:f,args:d}=u,p,m;if(s.read=null,!rh.isStream(f))return s.write(null,new Error(`unsupported stream type: ${f}`));try{m=e(f,l,d)}catch(v){p=v}let g=zN[f==="source"?"sink":f==="sink"?"source":"duplex"](s);return rh.pipeToStream(f,g,p?rh.errorAsStream(f,p):m)}},close(s){if(i=null,o.ended=!0,!o.closed&&(o.closed=!0,r)){let a=r;r=null,a(s)}}}),o=dCe(zN(i,()=>{}));return o=n?n(o,rY.enabled?rY.namespace:!1):o,o.remoteCall=function(s,a,u,c){if(a==="emit")return i.message(u);if(!(rh.isRequest(s)||rh.isStream(s)))throw new Error(`unsupported type: ${JSON.stringify(s)}`);if(rh.isRequest(s))return i.request({name:a,args:u},c);let l=i.stream(),f=zN[s](l,c);return l.write({name:a,args:u,type:s}),f},o.isOpen=function(){return!i.ended},o.close=function(s,a){if(typeof s=="function"&&(a=s,s=!1),!i){a&&a();return}if(s){i.destroy(s),a&&a();return}return i.close(u=>{if(a)a(u);else if(u)throw nY(u,"no callback provided for muxrpc close")}),this},o.closed=!1,o}});var aY=b((A4e,sY)=>{"use strict";var pCe=GN(),mCe=Rx();function YN(t,e,n,r){for(let i in e){let o=e[i],s=n?n.concat(i):[i];if(o&&typeof o=="object"){let a=o;t[i]=YN({},a,s,r)}else{let a=o;t[i]=(...u)=>r(a,s,u)}}return t}function hCe(t){if(t)throw pCe(t,"callback not provided")}function gCe(t,e,n,r){t=t||{};function i(o,s,a){let u=typeof a[a.length-1]=="function"?a.pop():o==="sync"||o==="async"?null:hCe;if(typeof u=="function"){let c;try{c=n(o,s,a,u)}catch(l){return mCe.errorAsStreamOrCb(o,l,u)}return c}else return new Promise((c,l)=>{n(o,s,a,(f,d)=>{f?l(f):c(d)})})}return r?i("async","manifest",[function(o,s){if(o)return r(o);YN(t,s,null,i),r(null,s,t)}]):YN(t,e,null,i),t}sY.exports=gCe});var lY=b((D4e,uY)=>{"use strict";var yS=Rx();function cY(t){return Array.isArray(t)?t:t.split(".")}function vCe(t){return t&&typeof t.pre=="function"&&typeof t.test=="function"&&typeof t.post=="function"}uY.exports=function(e){if(vCe(e))return e;if(typeof e=="function")return{pre:e};let n=null,r={};function i(o){if(o.allow){n={};for(let s of o.allow)yS.set(n,cY(s),!0)}else n=null;if(o.deny)for(let s of o.deny)yS.set(r,cY(s),!0);else r={};return this}return e&&i(e),i.pre=o=>{if(o=Array.isArray(o)?o:[o],n&&!yS.prefix(n,o))return new Error(`method:${o} is not in list of allowed methods`);if(r&&yS.prefix(r,o))return new Error(`method:${o} is on list of disallowed methods`)},i.post=()=>{},i.test=o=>i.pre(o),i.get=()=>({allow:n,deny:r}),i}});var dY=b((k4e,fY)=>{"use strict";var yCe=lY(),KN=Rx();fY.exports=function(e,n,r){r=yCe(r);function i(s,a){return s===KN.get(n,a)}function o(s,a,u){if(a==="emit")throw new Error("emit has been removed");if(s==="async"&&i("sync",a)){let c=u.pop(),l;try{l=KN.get(e,a).apply(this,u)}catch(f){return c(f)}return c(null,l)}if(!i(s,a))throw new Error(`no ${s}:${a}`);return KN.get(e,a).apply(this,u)}return function(a,u,c){let l=r.pre(u,c);if(l)throw l;return o.call(this,a,u,c)}}});var hY=b((O4e,mY)=>{"use strict";var xCe=q8(),wCe=require("events").EventEmitter,ECe=oY(),_Ce=aY(),bCe=dY();function pY(t,e,n,r,i,o,s){let a;typeof t=="function"&&(a=t,t={}),e=e||{},t=t||{};let u=new wCe;o||(o=xCe);let c,l={_emit(d,p){return u&&u._emit(d,p),l},id:r},f=ECe(bCe(n,e,i).bind(l),o,d=>{if(!u.closed&&(u.closed=!0,u.emit("closed"),c)){let p=c;c=null,p(d)}});if(_Ce(u,t,(d,p,m,h)=>{if(f.closed)throw new Error("stream is closed");return f.remoteCall(d,p,m,h)},a),u._emit=u.emit,s){Object.__defineGetter__.call(u,"id",()=>l.id),Object.__defineSetter__.call(u,"id",p=>{l.id=p});let d=!0;u.createStream=p=>{if(c=p,d)return d=!1,f;throw new Error("one stream per rpc")}}else u.stream=f;return u.closed=!1,u.close=function(d,p){return f.close(d,p),this},u}mY.exports=function(t,e,n){return arguments.length>3?pY.apply(this,arguments):function(r,i,o){return pY(t,e,r,o,i,n,!0)}}});var _S=b((Ac,yY)=>{var N4e=PN(),CCe=qN();function gY(t){t.destroy?t.destroy():console.error("warning, stream-to-pull-stream: \nthe wrapped node-stream does not implement `destroy`, \nthis may cause resource leaks.")}function vY(t,e,n){var r,i=!1,o;function s(){o||(o=!0,n&&n(r===!0?null:r))}function a(){i||(i=!0,c(),r?s():t(r=!0,s))}function u(l){c(),r||t(r=l,s)}function c(){e.on("finish",a),e.removeListener("close",a),e.removeListener("error",u)}e.on("close",a),e.on("finish",a),e.on("error",u),process.nextTick(function(){CCe(function(l){t(null,function(f,d){if(r=r||f,f===!0)return e._isStdio?s():e.end();if(r=r||f)return gY(e),s(r);if(e._isStdio)e.write(d,function(){l()});else{var p=e.write(d);p===!1?e.once("drain",l):l()}})})})}function SCe(t){var e=!1,n=!1,r;function i(){var o=t.read();if(o!==null&&r){var s=r;r=null,s(null,o)}}return t.on("readable",function(){n=!0,r&&i()}).on("end",function(){e=!0,r&&r(e)}).on("error",function(o){e=o,r&&r(e)}),function(o,s){r=s,e?s(e):n&&i()}}function xS(t){var e=[],n=[],r,i=!1,o;function s(){for(;(e.length||r)&&n.length;)n.shift()(e.length?null:r,e.shift());!e.length&&i&&(i=!1,t.resume())}return t.on("data",function(a){e.push(a),s(),e.length&&t.pause&&(i=!0,t.pause())}),t.on("end",function(){r=!0,s()}),t.on("close",function(){r=!0,s()}),t.on("error",function(a){r=a,s()}),function(a,u){if(!u)throw new Error("*must* provide cb");if(a){let l=function(){for(;n.length;)n.shift()(a);u(a)};var c=l;if(r)return l();t.once("close",l),gY(t)}else n.push(u),s()}}var TCe=xS,wS=function(t,e){return function(n){return vY(n,t,e)}},ES=function(t){return xS(t)};Ac=yY.exports=function(t,e){return t.writable&&t.write?t.readable?function(n){return vY(n,t,e),xS(t)}:wS(t,e):ES(t)};Ac.sink=wS;Ac.source=ES;Ac.read=TCe;Ac.read1=xS;Ac.read2=SCe;Ac.duplex=function(t,e){return{source:ES(t),sink:wS(t,e)}};Ac.transform=function(t){return function(e){var n=ES(t);return wS(t)(e),n}}});var wY=b((L4e,bS)=>{var ICe=require("stream");bS.exports=XN;bS.exports.source=function(t){return XN(null,t)};bS.exports.sink=function(t){return XN(t,null)};var xY=typeof setImmediate>"u"?process.nextTick:setImmediate;function XN(t,e){t&&typeof t=="object"&&(e=t.source,t=t.sink);var n=[],r=[],i,o,s=new ICe;s.writable=s.readable=!0,s.write=function(g){return n.length?n.shift()(null,g):r.push(g),n.length||(o=!0),!!n.length},s.end=function(){e?r.length?h():e(i=!0,n.length?n.shift():function(){}):n.length&&n.shift()(!0)},s.source=function(g,v){r.length?(v(null,r.shift()),r.length||s.emit("drain")):((i=i||g)?v(i):n.push(v),o&&(o=!1,s.emit("drain")))};var a;t&&(a=t(s.source)),a&&!e&&(e=a);var u=[],c=[],l=!1,f=!1,d=!1;if(s.sink=function(g){e=g,xY(h)},e){s.sink(e),s.paused=!0;var p=s.on.bind(s);s.on=(g,v)=>{var x=p(g,v);return g==="data"&&s.paused&&xY(s.resume.bind(s)),x};var m=s.pipe.bind(s);s.pipe=function(g,v){var x=m(g,v);return s.paused&&s.resume(),x}}function h(){if(f=!1,!(!e||d)){for(;u.length&&!s.paused;)s.emit("data",u.shift());if(!s.paused){if(l)return s.emit("end");d=!0,e(null,function g(v,x){d=!1,s.paused?(v===!0?l=v:v?s.emit("error",v):u.push(x),f=!0):v&&(i=v)!==!0?s.emit("error",v):(i=i||v)?s.emit("end"):(s.emit("data",x),d=!0,e(null,g))})}}}return s.pause=function(){return s.paused=!0,s},s.resume=function(){return s.paused=!1,h(),s},s.destroy=function(){!i&&e&&e(i=!0,function(){}),i=!0,n.length&&n.shift()(!0),s.emit("close")},s}});var _Y=b((F4e,EY)=>{EY.exports=PCe;function PCe(t,e){typeof t=="function"&&(e=t,t=!1);var n=[],r,i;function o(f,d){f&&(r=f,i&&l(r)),i=d,c()}var s;function a(f){s=s||f||!0,c()}function u(f){if(!s){if(i){l(r,f);return}n.push(f)}}if(t)return{push:u,end:a,source:o,buffer:n};return o.push=u,o.end=a,o.buffer=n,o;function c(){i&&(r?l(r):!n.length&&s?l(s):n.length&&l(null,n.shift()))}function l(f,d){var p=i;if(f&&e){var m=e;e=null,m(f===!0?null:f)}i=null,p(f,d)}}});var cL=b((C5e,t7)=>{"use strict";var ZY=require("child_process"),nSe=1024*1024,e7={exec(t,e){ZY.exec(t,{maxBuffer:2*nSe,windowsHide:!0},e)},spawn(t,e,n){return ZY.spawn(t,e,n)},stripLine(t,e){let n=0;for(;e-- >0;){let r=t.indexOf(`
`,n);r>=0&&(n=r+1)}return n>0?t.substring(n):t},split(t,e){let n=t.trim().split(/\s+/);return n.length>e&&(n[e-1]=n.slice(e-1).join(" ")),n},extractColumns(t,e,n){let r=t.split(/(\r\n|\n|\r)/),i=[];return n||(n=Math.max.apply(null,e)+1),r.forEach(o=>{let s=e7.split(o,n),a=[];e.forEach(u=>{a.push(s[u]||"")}),i.push(a)}),i},parseTable(t){let e=t.split(/(\r\n\r\n|\r\n\n|\n\r\n)|\n\n/).filter(n=>n.trim().length>0).map(n=>n.split(/(\r\n|\n|\r)/).filter(r=>r.trim().length>0));return e.forEach(n=>{for(let r=0;n[r];){let i=n[r];i.startsWith(" ")?(n[r-1]+=i.trimLeft(),n.splice(r,1)):r+=1}}),e.map(n=>{let r={};return n.forEach(i=>{let o=i.indexOf(":"),s=i.slice(0,o).trim();r[s]=i.slice(o+1).trim()}),r})}};t7.exports=e7});var r7=b((S5e,n7)=>{"use strict";var rSe=require("os"),VS=require("fs"),Ho=cL(),iSe=t=>new Promise((e,n)=>{VS.existsSync(t)?e():VS.mkdir(t,r=>{r?n(r):e()})}),uL={darwin(t){return new Promise((e,n)=>{Ho.exec("netstat -anv -p TCP && netstat -anv -p UDP",function(r,i,o){if(r)n(r);else{if(r=o.toString().trim(),r){n(r);return}let s=Ho.stripLine(i.toString(),2),a=Ho.extractColumns(s,[0,3,8],10).filter(u=>!!String(u[0]).match(/^(udp|tcp)/)).find(u=>{let c=String(u[1]).match(/\.(\d+)$/);if(c&&c[1]===String(t))return!0});a&&a[2].length?e(parseInt(a[2],10)):n(new Error(`pid of port (${t}) not found`))}})})},freebsd:"darwin",sunos:"darwin",linux(t){return new Promise((e,n)=>{let r="netstat -tunlp";Ho.exec(r,function(i,o,s){if(i)n(i);else{let a=s.toString().trim();a&&console.warn(a);let u=Ho.stripLine(o.toString(),2),c=Ho.extractColumns(u,[3,6],7).find(l=>{let f=String(l[0]).match(/:(\d+)$/);if(f&&f[1]===String(t))return!0});if(c&&c[1]){let l=c[1].split("/",1)[0];l.length?e(parseInt(l,10)):n(new Error(`pid of port (${t}) not found`))}else n(new Error(`pid of port (${t}) not found`))}})})},win32(t){return new Promise((e,n)=>{Ho.exec("netstat -ano",function(r,i,o){if(r)n(r);else{if(r=o.toString().trim(),r){n(r);return}let s=Ho.stripLine(i.toString(),4),a=Ho.extractColumns(s,[1,4],5).find(u=>{let c=String(u[0]).match(/:(\d+)$/);if(c&&c[1]===String(t))return!0});a&&a[1].length&&parseInt(a[1],10)>0?e(parseInt(a[1],10)):n(new Error(`pid of port (${t}) not found`))}})})},android(t){return new Promise((e,n)=>{let r=rSe.tmpdir()+"/.find-process",i=r+"/"+process.pid,o='netstat -tunp >> "'+i+'"';iSe(r).then(()=>{Ho.exec(o,()=>{VS.readFile(i,"utf8",(s,a)=>{if(VS.unlink(i,()=>{}),s)n(s);else{a=Ho.stripLine(a,2);let u=Ho.extractColumns(a,[3,6],7).find(c=>{let l=String(c[0]).match(/:(\d+)$/);if(l&&l[1]===String(t))return!0});if(u&&u[1]){let c=u[1].split("/",1)[0];c.length?e(parseInt(c,10)):n(new Error(`pid of port (${t}) not found`))}else n(new Error(`pid of port (${t}) not found`))}})})})})}};function oSe(t){let e=process.platform;return new Promise((n,r)=>{if(!(e in uL))return r(new Error(`platform ${e} is unsupported`));let i=uL[e];typeof i=="string"&&(i=uL[i]),i(t).then(n,r)})}n7.exports=oSe});var a7=b((T5e,s7)=>{"use strict";var WS=require("path"),rl=cL();function lL(t,e){return e?t&&t.match?t.match(e):!1:!0}function i7(t){let e=t.split(WS.sep),n=e[e.length-1];n&&(e[e.length-1]=n.split(" ")[0]);let r=[];for(let i of e){let o=i.indexOf(" -");if(o>=0){r.push(i.substring(0,o).trim());break}else if(i.endsWith(" ")){r.push(i.trim());break}r.push(i)}return r.join(WS.sep)}function o7(t){if(process.platform==="darwin"){let e=t.indexOf(".app/");if(e>=0)return WS.basename(t.substring(0,e))}return WS.basename(t)}var fL={darwin(t){return new Promise((e,n)=>{let r;"pid"in t?r=`ps -p ${t.pid} -ww -o pid,ppid,uid,gid,args`:r="ps ax -ww -o pid,ppid,uid,gid,args",rl.exec(r,function(i,o,s){if(i)"pid"in t?e([]):n(i);else{if(i=s.toString().trim(),i){n(i);return}let a=rl.stripLine(o.toString(),1),c=rl.extractColumns(a,[0,1,2,3,4],5).filter(l=>l[0]&&t.pid?l[0]===String(t.pid):l[4]&&t.name?lL(l[4],t.name):!!l[0]).map(l=>{let f=String(l[4]),d=i7(f);return{pid:parseInt(l[0],10),ppid:parseInt(l[1],10),uid:parseInt(l[2],10),gid:parseInt(l[3],10),name:o7(d),bin:d,cmd:l[4]}});t.strict&&t.name&&(c=c.filter(l=>l.name===t.name)),e(c)}})})},linux:"darwin",sunos:"darwin",freebsd:"darwin",win32(t){return new Promise((e,n)=>{let r="Get-CimInstance -className win32_process | select Name,ProcessId,ParentProcessId,CommandLine,ExecutablePath",i=[],o=rl.spawn("powershell.exe",["/c",r],{detached:!1,windowsHide:!0});o.stdout.on("data",s=>{i.push(s.toString())}),o.on("close",s=>{if(s!==0)return n(new Error("Command '"+r+"' terminated with code: "+s));let a=rl.parseTable(i.join("")).filter(u=>{if("pid"in t)return u.ProcessId===String(t.pid);if(t.name){let c=u.Name||"";return t.strict?c===t.name||c.endsWith(".exe")&&c.slice(0,-4)===t.name:lL(u.CommandLine||c,t.name)}else return!0}).map(u=>({pid:parseInt(u.ProcessId,10),ppid:parseInt(u.ParentProcessId,10),bin:u.ExecutablePath,name:u.Name||"",cmd:u.CommandLine}));e(a)})})},android(t){return new Promise((e,n)=>{let r="ps";rl.exec(r,function(i,o,s){if(i)"pid"in t?e([]):n(i);else{if(i=s.toString().trim(),i){n(i);return}let a=rl.stripLine(o.toString(),1),c=rl.extractColumns(a,[0,3],4).filter(l=>l[0]&&t.pid?l[0]===String(t.pid):l[1]&&t.name?lL(l[1],t.name):!!l[0]).map(l=>{let f=String(l[1]),d=i7(f);return{pid:parseInt(l[0],10),name:o7(d),bin:d,cmd:f}});t.strict&&t.name&&(c=c.filter(l=>l.name===t.name)),e(c)}})})}};function sSe(t){let e=process.platform;return new Promise((n,r)=>{if(!(e in fL))return r(new Error(`platform ${e} is unsupported`));let i=fL[e];typeof i=="string"&&(i=fL[i]),i(t).then(n,r)})}s7.exports=sSe});var l7=b((I5e,u7)=>{"use strict";var aSe=r7(),c7=a7(),dL={port(t,e){return aSe(t,e).then(n=>dL.pid(n,e),()=>[])},pid(t,e){return c7({pid:t,strict:e})},name(t,e){return c7({name:t,strict:e})}};function cSe(t,e,n){return new Promise((r,i)=>{if(!(t in dL))i(new Error(`do not support find by "${t}"`));else{let o=/^\d+$/.test(e);t==="pid"&&!o?i(new Error("pid must be a number")):t==="port"&&!o?i(new Error("port must be a number")):dL[t](e,n).then(r,i)}})}u7.exports=cSe});var d7=b((P5e,f7)=>{"use strict";f7.exports=l7()});var F9=b(q0=>{"use strict";Object.defineProperty(q0,"__esModule",{value:!0});q0.BaseTelemetryReporter=void 0;var m1=class{constructor(e,n,r){this.telemetrySender=e,this.vscodeAPI=n,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,r),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(e,n,r,i){i?this.telemetrySender.sendEventData(e,{properties:n,measurements:r}):this.telemetryLogger.logUsage(e,{properties:n,measurements:r})}sendTelemetryEvent(e,n,r){this.internalSendTelemetryEvent(e,n,r,!1)}sendDangerousTelemetryEvent(e,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(e,n,r,!0)}internalSendTelemetryErrorEvent(e,n,r,i){i?this.telemetrySender.sendEventData(e,{properties:n,measurements:r}):this.telemetryLogger.logError(e,{properties:n,measurements:r})}sendTelemetryErrorEvent(e,n,r){this.internalSendTelemetryErrorEvent(e,n,r,!1)}sendDangerousTelemetryErrorEvent(e,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(e,n,r,!0)}internalSendTelemetryException(e,n,r,i){i?this.telemetrySender.sendErrorData(e,{properties:n,measurements:r}):this.telemetryLogger.logError(e,{properties:n,measurements:r})}sendTelemetryException(e,n,r){this.internalSendTelemetryException(e,n,r,!1)}sendDangerousTelemetryException(e,n,r){this.telemetrySender.instantiateSender(),this.internalSendTelemetryException(e,n,r,!0)}dispose(){return this.telemetryLogger.dispose(),Promise.all(this.disposables.map(e=>e.dispose()))}};q0.BaseTelemetryReporter=m1});var M9=b(j0=>{"use strict";Object.defineProperty(j0,"__esModule",{value:!0});j0.BaseTelemetrySender=void 0;var Hc;(function(t){t[t.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",t[t.INSTANTIATING=1]="INSTANTIATING",t[t.INSTANTIATED=2]="INSTANTIATED"})(Hc||(Hc={}));var h1=class{constructor(e,n){this._instantiationStatus=Hc.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=n,this._key=e}sendEventData(e,n){if(!this._telemetryClient){this._instantiationStatus!==Hc.INSTANTIATED&&this._eventQueue.push({eventName:e,data:n});return}this._telemetryClient.logEvent(e,n)}sendErrorData(e,n){if(!this._telemetryClient){this._instantiationStatus!==Hc.INSTANTIATED&&this._exceptionQueue.push({exception:e,data:n});return}}async flush(){this._telemetryClient&&(await this._telemetryClient.flush(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:e,data:n})=>this.sendEventData(e,n)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:e,data:n})=>this.sendErrorData(e,n)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===Hc.NOT_INSTANTIATED&&(this._instantiationStatus=Hc.INSTANTIATING,this._clientFactory(this._key).then(e=>{this._telemetryClient=e,this._instantiationStatus=Hc.INSTANTIATED,this._flushQueues()}).catch(e=>{console.error(e),this._instantiationStatus=Hc.INSTANTIATED}))}};j0.BaseTelemetrySender=h1});var U9=b(H0=>{"use strict";Object.defineProperty(H0,"__esModule",{value:!0});H0.TelemetryUtil=void 0;var wl=class{static applyReplacements(e,n){for(let r of Object.keys(e))for(let i of n)i.lookup.test(r)&&(i.replacementString!==void 0?e[r]=i.replacementString:delete e[r])}static shouldUseOneDataSystemSDK(e){return e.length===74&&e[32]==="-"&&e[41]==="-"&&e[46]==="-"&&e[51]==="-"&&e[56]==="-"&&e[69]==="-"}static getAdditionalCommonProperties(e){return{"common.os":e.platform,"common.nodeArch":e.architecture,"common.platformversion":(e.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.7.7"}}static getInstance(){return wl._instance||(wl._instance=new wl),wl._instance}};H0.TelemetryUtil=wl});var Go,On,Nn,Ln,uw,lo,Oh,Nh,$0,Lh,fo,B0=k(()=>{Go="function",On="object",Nn="undefined",Ln="prototype",uw="hasOwnProperty",lo=Object,Oh=lo[Ln],Nh=lo.assign,$0=lo.create,Lh=lo.defineProperty,fo=Oh[uw]});function ks(t){t===void 0&&(t=!0);var e=t===!1?null:q9;return e||(typeof globalThis!==Nn&&(e=globalThis),!e&&typeof self!==Nn&&(e=self),!e&&typeof window!==Nn&&(e=window),!e&&typeof global!==Nn&&(e=global),q9=e),e}function Fh(t){throw new TypeError(t)}function Ra(t){var e=$0;if(e)return e(t);if(t==null)return{};var n=typeof t;n!==On&&n!==Go&&Fh("Object prototype may only be an Object:"+t);function r(){}return r[Ln]=t,new r}var q9,g1=k(()=>{B0();q9=null});function Os(t,e){typeof e!==Go&&e!==null&&Fh("Class extends value "+String(e)+" is not a constructor or null"),v1(t,e);function n(){this.constructor=t}t[Ln]=e===null?Ra(e):(n[Ln]=e[Ln],new n)}function W0(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}var j9e,H9e,dPe,V0,v1,j9=k(()=>{B0();g1();j9e=(ks()||{}).Symbol,H9e=(ks()||{}).Reflect,dPe=function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Oh[uw].call(e,i)&&(t[i]=e[i])}return t},V0=Nh||dPe,v1=function(t,e){return v1=lo.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r[uw](i)&&(n[i]=r[i])},v1(t,e)}});var H9=k(()=>{});var Oi=k(()=>{B0();g1();j9();H9()});var y1,$9=k(()=>{"use strict";y1=100});var Ns,mr,lw,Ls,Ge,po,Aa,G0,Ni,Ee,_d,Ot,z0,bd,Cd,x1,fw,Sd,Mh,dw,$c,mo,Uh,El,Fs,qh,Td,ho,zo,_l,Bc,Y0,bl,Ms,jh,Cl,pw,Sl,K0,Hh,Us,w1,E1,X0,Fn,Li,mw,Id,hw,Pd,qs,Q0,Rd,$h,Tl,gw,xn=k(()=>{Ns="initialize",mr="name",lw="getNotifyMgr",Ls="identifier",Ge="push",po="isInitialized",Aa="config",G0="instrumentationKey",Ni="logger",Ee="length",_d="time",Ot="processNext",z0="getProcessTelContext",bd="addNotificationListener",Cd="removeNotificationListener",x1="stopPollingInternalLogs",fw="onComplete",Sd="getPlugin",Mh="flush",dw="_extensions",$c="splice",mo="teardown",Uh="messageId",El="message",Fs="isAsync",qh="_doTeardown",Td="update",ho="getNext",zo="diagLog",_l="setNextPlugin",Bc="createNew",Y0="cookieCfg",bl="indexOf",Ms="substring",jh="userAgent",Cl="split",pw="setEnabled",Sl="substr",K0="nodeType",Hh="apply",Us="replace",w1="enableDebugExceptions",E1="logInternalMessage",X0="toLowerCase",Fn="call",Li="type",mw="handler",Id="listeners",hw="isChildEvt",Pd="getCtx",qs="setCtx",Q0="complete",Rd="traceId",$h="spanId",Tl="traceFlags",gw="version"});var Ae,_1,Xt,b1,vw,Bh,B9,Fi,Yo,Vh,Il,Wh,Pl,J0,yw,Ad,ar=k(()=>{Ae="",_1="channels",Xt="core",b1="createPerfMgr",vw="disabled",Bh="extensionConfig",B9="extensions",Fi="processTelemetry",Yo="priority",Vh="eventsSent",Il="eventsDiscarded",Wh="eventsSendRequest",Pl="perfEvent",J0="errorToConsole",yw="warnToConsole",Ad="getPerfMgr"});function SPe(t){if(t){if(eT)return eT(t);var e=t[pPe]||t[Ln]||t[Z0];if(e)return e}return null}function Gh(t,e){return typeof t===e}function dt(t){return t===void 0||typeof t===Nn}function Me(t){return t===null||dt(t)}function R1(t){return!Me(t)}function Vc(t,e){return!!(t&&fo[Fn](t,e))}function hr(t){return!!(t&&typeof t===On)}function Xe(t){return!!(t&&typeof t===Go)}function Dd(t){var e=t;return e&&Qt(e)&&(e=e[Us](_Pe,function(n,r){return r.toUpperCase()}),e=e[Us](bPe,"_"),e=e[Us](CPe,function(n,r){return"_"+r})),e}function Nt(t,e){if(t)for(var n in t)fo[Fn](t,n)&&e[Fn](t,n,t[n])}function kd(t,e){var n=!1;return t&&e&&!(n=t===e)&&(n=gPe?t[J9](e):TPe(t,e)),n}function TPe(t,e){var n=!1,r=e?e[Ee]:0,i=t?t[Ee]:0;if(r&&i&&i>=r&&!(n=t===e)){for(var o=i-1,s=r-1;s>=0;s--){if(t[o]!=e[s])return!1;o--}n=!0}return n}function zh(t,e){var n=!1;return t&&e&&!(n=t===e)&&(n=vPe?t[Z9](e):IPe(t,e)),n}function IPe(t,e){var n=!1,r=e?e[Ee]:0;if(t&&r&&t[Ee]>=r&&!(n=t===e)){for(var i=0;i<r;i++)if(t[i]!==e[i])return!1;n=!0}return n}function wn(t,e){return t&&e?t[bl](e)!==-1:!1}function Yh(t){return!!(t&&P1[Fn](t)==="[object Date]")}function PPe(t){return!!(t&&P1[Fn](t)==="[object Array]")}function Od(t){return!!(t&&P1[Fn](t)==="[object Error]")}function Qt(t){return typeof t=="string"}function Mi(t){return typeof t=="number"}function Wc(t){return typeof t=="boolean"}function K9(t){var e=!1;if(t&&typeof t=="object"){var n=eT?eT(t):SPe(t);n?(n[Z0]&&fo[Fn](n,Z0)&&(n=n[Z0]),e=typeof n===Go&&tX[Fn](n)===EPe):e=!0}return e}function Ko(t){if(t)return xPe?t[Q9]():RPe(t)}function RPe(t){if(t&&t.getUTCFullYear){var e=function(n){var r=String(n);return r[Ee]===1&&(r="0"+r),r};return t.getUTCFullYear()+"-"+e(t.getUTCMonth()+1)+"-"+e(t.getUTCDate())+"T"+e(t.getUTCHours())+":"+e(t.getUTCMinutes())+":"+e(t.getUTCSeconds())+"."+String((t.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function le(t,e,n){var r=t[Ee];try{for(var i=0;i<r&&!(i in t&&e[Fn](n||t,t[i],i,t)===-1);i++);}catch{}}function Gn(t,e,n){if(t){if(t[V9])return t[V9](e,n);var r=t[Ee],i=n||0;try{for(var o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;o++)if(o in t&&t[o]===e)return o}catch{}}return-1}function Nd(t,e,n){var r;if(t){if(t[W9])return t[W9](e,n);var i=t[Ee],o=n||t;r=new Array(i);try{for(var s=0;s<i;s++)s in t&&(r[s]=e[Fn](o,t[s],t))}catch{}}return r}function Ld(t,e,n){var r;if(t){if(t[G9])return t[G9](e,n);var i=t[Ee],o=0;if(arguments[Ee]>=3)r=arguments[2];else{for(;o<i&&!(o in t);)o++;r=t[o++]}for(;o<i;)o in t&&(r=e(r,t[o],o,t)),o++}return r}function Lt(t){return t&&(t=hPe&&t[S1]?t[S1]():t[Us]?t[Us](/^\s+|(?=\s)\s+$/g,Ae):t),t}function ii(t){var e=typeof t;if(e!==Go&&(e!==On||t===null)&&Fh("objKeys called on non-object"),!X9&&Y9)return Y9(t);var n=[];for(var r in t)t&&fo[Fn](t,r)&&n[Ge](r);if(X9)for(var i=C1[Ee],o=0;o<i;o++)t&&fo[Fn](t,C1[o])&&n[Ge](C1[o]);return n}function go(t,e,n,r){if(z9)try{var i={enumerable:!0,configurable:!0};return n&&(i.get=n),r&&(i.set=r),z9(t,e,i),!0}catch{}return!1}function nX(t){return t}function A1(t){return T1&&Nt(t,function(e,n){(Oe(n)||hr(n))&&T1(n)}),Ui(t)}function zn(){var t=Date;return t.now?t.now():new t().getTime()}function Fd(t){return Od(t)?t[mr]:Ae}function qi(t,e,n,r,i){var o=n;return t&&(o=t[e],o!==n&&(!i||i(o))&&(!r||r(n))&&(o=n,t[e]=o)),o}function Rl(t,e,n){var r;return t?(r=t[e],!r&&Me(r)&&(r=dt(n)?{}:n,t[e]=r)):r=dt(n)?{}:n,r}function Xo(t,e){return Me(t)?e:t}function k1(t){return!t}function Kh(t){return!!t}function Yn(t){throw new Error(t)}function rX(t,e){var n=null,r=null;return Xe(t)?n=t:r=t,function(){var i=arguments;if(n&&(r=n()),r)return r[e][Hh](r,i)}}function O1(t,e,n){if(t&&e&&hr(t)&&hr(e)){var r=function(o){if(Qt(o)){var s=e[o];Xe(s)?(!n||n(o,!0,e,t))&&(t[o]=rX(e,o)):(!n||n(o,!1,e,t))&&(Vc(t,o)&&delete t[o],go(t,o,function(){return e[o]},function(a){e[o]=a})||(t[o]=s))}};for(var i in e)r(i)}return t}function Al(t,e,n,r,i){t&&e&&n&&(i!==!1||dt(t[e]))&&(t[e]=rX(n,r))}function Md(t,e,n,r){return t&&e&&hr(t)&&Oe(n)&&le(n,function(i){Qt(i)&&Al(t,i,e,i,r)}),t}function Gc(t){return t&&Nh&&(t=lo(Nh({},t))),t}function Xh(t,e,n,r,i,o){var s=arguments,a=s[0]||{},u=s[Ee],c=!1,l=1;for(u>0&&Wc(a)&&(c=a,a=s[l]||{},l++),hr(a)||(a={});l<u;l++){var f=s[l],d=Oe(f),p=hr(f);for(var m in f){var h=d&&m in f||p&&fo[Fn](f,m);if(h){var g=f[m],v=void 0;if(c&&g&&((v=Oe(g))||K9(g))){var x=a[m];v?Oe(x)||(x=[]):K9(x)||(x={}),g=Xh(c,x,g)}g!==void 0&&(a[m]=g)}}}return a}var Q9,J9,Z9,V9,W9,G9,S1,eX,pPe,Z0,z9,T1,mPe,Y9,I1,hPe,gPe,vPe,yPe,xPe,wPe,P1,tX,EPe,_Pe,bPe,CPe,eT,Oe,X9,C1,Ui,D1,En=k(()=>{Oi();xn();ar();Q9="toISOString",J9="endsWith",Z9="startsWith",V9="indexOf",W9="map",G9="reduce",S1="trim",eX="toString",pPe="__proto__",Z0="constructor",z9=Lh,T1=lo.freeze,mPe=lo.seal,Y9=lo.keys,I1=String[Ln],hPe=I1[S1],gPe=I1[J9],vPe=I1[Z9],yPe=Date[Ln],xPe=yPe[Q9],wPe=Array.isArray,P1=Oh[eX],tX=fo[eX],EPe=tX[Fn](lo),_Pe=/-([a-z])/g,bPe=/([^\w\d_$])/g,CPe=/^(\d+[\w\d_$])/,eT=Object.getPrototypeOf;Oe=wPe||PPe;X9=!{toString:null}.propertyIsEnumerable("toString"),C1=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];Ui=T1||nX,D1=mPe||nX});function oi(t){var e={};return Nt(t,function(n,r){e[n]=r,e[r]=n}),A1(e)}var tT=k(()=>{En()});var js,iX=k(()=>{tT();js=oi({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5})});function DPe(){var t;return typeof globalThis!==rT&&(t=globalThis),!t&&typeof self!==rT&&(t=self),!t&&typeof window!==rT&&(t=window),!t&&typeof global!==rT&&(t=global),t||{}}function Yc(t,e){return t&&fT[zc].hasOwnProperty.call(t,e)}function fX(t){return t&&(t===fT[zc]||t===Array[zc])}function j1(t){return fX(t)||t===Function[zc]}function Ud(t){var e;if(t){if(ww)return ww(t);var n=t[lX]||t[zc]||(t[sT]?t[sT][zc]:null);e=t[iT]||n,Yc(t,iT)||(delete t[N1],e=t[iT]=t[N1]||t[iT],t[N1]=n)}return e}function uT(t,e){var n=[];if(aX)n=aX(t);else for(var r in t)typeof r=="string"&&Yc(t,r)&&n.push(r);if(n&&n.length>0)for(var i=0;i<n.length;i++)e(n[i])}function H1(t,e,n){return e!==sT&&typeof t[e]===aT&&(n||Yc(t,e))}function lT(t){throw new TypeError("DynamicProto: "+t)}function kPe(t){var e={};return uT(t,function(n){!e[n]&&H1(t,n,!1)&&(e[n]=t[n])}),e}function $1(t,e){for(var n=t.length-1;n>=0;n--)if(t[n]===e)return!0;return!1}function OPe(t,e,n,r){function i(u,c,l){var f=c[l];if(f[F1]&&r){var d=u[cT]||{};d[xw]!==!1&&(f=(d[c[Qh]]||{})[l]||f)}return function(){return f.apply(u,arguments)}}var o={};uT(n,function(u){o[u]=i(e,n,u)});for(var s=Ud(t),a=[];s&&!j1(s)&&!$1(a,s);)uT(s,function(u){!o[u]&&H1(s,u,!ww)&&(o[u]=i(e,s,u))}),a.push(s),s=Ud(s);return o}function NPe(t,e,n,r){var i=null;if(t&&Yc(n,Qh)){var o=t[cT]||{};if(i=(o[n[Qh]]||{})[e],i||lT("Missing ["+e+"] "+aT),!i[M1]&&o[xw]!==!1){for(var s=!Yc(t,e),a=Ud(t),u=[];s&&a&&!j1(a)&&!$1(u,a);){var c=a[e];if(c){s=c===r;break}u.push(a),a=Ud(a)}try{s&&(t[e]=i),i[M1]=1}catch{o[xw]=!1}}}return i}function LPe(t,e,n){var r=e[t];return r===n&&(r=Ud(e)[t]),typeof r!==aT&&lT("["+t+"] is not a "+aT),r}function FPe(t,e,n,r,i){function o(u,c){var l=function(){var f=NPe(this,c,u,l)||LPe(c,u,l);return f.apply(this,arguments)};return l[F1]=1,l}if(!fX(t)){var s=n[cT]=n[cT]||{},a=s[e]=s[e]||{};s[xw]!==!1&&(s[xw]=!!i),uT(n,function(u){H1(n,u,!1)&&n[u]!==r[u]&&(a[u]=n[u],delete n[u],(!Yc(t,u)||t[u]&&!t[u][F1])&&(t[u]=o(t,u)))})}}function MPe(t,e){if(ww){for(var n=[],r=Ud(e);r&&!j1(r)&&!$1(n,r);){if(r===t)return!0;n.push(r),r=Ud(r)}return!1}return!0}function L1(t,e){return Yc(t,zc)?t.name||e||oX:((t||{})[sT]||{}).name||e||oX}function it(t,e,n,r){Yc(t,zc)||lT("theClass is an invalid class definition.");var i=t[zc];MPe(i,e)||lT("["+L1(t)+"] not in hierarchy of ["+L1(e)+"]");var o=null;Yc(i,Qh)?o=i[Qh]:(o=APe+L1(t,"_")+"$"+q1.n,q1.n++,i[Qh]=o);var s=it[uX],a=!!s[oT];a&&r&&r[oT]!==void 0&&(a=!!r[oT]);var u=kPe(e),c=OPe(i,e,u,a);n(e,c);var l=!!ww&&!!s[U1];l&&r&&(l=!!r[U1]),FPe(i,o,e,u,l!==!1)}var nT,rT,sT,zc,aT,cT,F1,Qh,APe,M1,xw,uX,oX,lX,iT,sX,N1,oT,U1,fT,ww,aX,cX,q1,gr=k(()=>{rT="undefined",sT="constructor",zc="prototype",aT="function",cT="_dynInstFuncs",F1="_isDynProxy",Qh="_dynClass",APe="_dynCls$",M1="_dynInstChk",xw=M1,uX="_dfOpts",oX="_unknown_",lX="__proto__",iT="_dyn"+lX,sX="__dynProto$Gbl",N1="_dynInstProto",oT="useBaseInst",U1="setInstFuncs",fT=Object,ww=fT.getPrototypeOf,aX=fT.getOwnPropertyNames;cX=DPe(),q1=cX[sX]||(cX[sX]={o:(nT={},nT[U1]=!0,nT[oT]=!0,nT),n:1e3});it[uX]=q1.o});function gX(t,e){var n=!1;if(t){try{if(n=e in t,!n){var r=t[Ln];r&&(n=e in r)}}catch{}if(!n)try{var i=new t;n=!dt(i[e])}catch{}}return n}function Y1(t){hX=t}function Jt(t){var e=ks();return e&&e[t]?e[t]:t===dX&&Ew()?window:null}function Ew(){return!!(typeof window===On&&window)}function Da(){return Ew()?window:Jt(dX)}function dT(){return!!(typeof document===On&&document)}function ji(){return dT()?document:Jt(UPe)}function _w(){return!!(typeof navigator===On&&navigator)}function vo(){return _w()?navigator:Jt(jPe)}function pT(){return!!(typeof history===On&&history)}function K1(){return pT()?history:Jt(HPe)}function qd(t){if(t&&hX){var e=Jt("__mockLocation");if(e)return e}return typeof location===On&&location?location:Jt($Pe)}function bw(){return typeof console!==Nn?console:Jt(BPe)}function Zh(){return Jt(VPe)}function jd(){return!!(typeof JSON===On&&JSON||Jt(pX)!==null)}function eg(){return jd()?JSON||Jt(pX):null}function Cw(){return Jt(WPe)}function Sw(){return Jt(GPe)}function Kc(){var t=vo();return t&&t.product?t.product===zPe:!1}function Hs(){var t=vo();if(t&&(t[jh]!==V1||B1===null)){V1=t[jh];var e=(V1||Ae)[X0]();B1=wn(e,G1)||wn(e,z1)}return B1}function X1(t){if(t===void 0&&(t=null),!t){var e=vo()||{};t=e?(e[jh]||Ae)[X0]():Ae}var n=(t||Ae)[X0]();if(wn(n,G1)){var r=ji()||{};return Math.max(parseInt(n[Cl](G1)[1]),r[qPe]||0)}else if(wn(n,z1)){var i=parseInt(n[Cl](z1)[1]);if(i)return i+4}return null}function Gt(t){var e=Object[Ln].toString[Fn](t),n=Ae;return e==="[object Error]"?n="{ stack: '"+t.stack+"', message: '"+t.message+"', name: '"+t[mr]+"'":jd()&&(n=eg().stringify(t)),e+n}function Dl(){return W1===null&&(W1=_w()&&!!vo().sendBeacon),W1}function tg(t){var e=!1;try{e=!!Jt("fetch");var n=Jt("Request");e&&t&&n&&(e=gX(n,"keepalive"))}catch{}return e}function Hd(){return Jh===null&&(Jh=typeof XDomainRequest!==Nn,Jh&&ng()&&(Jh=Jh&&!gX(Jt(mX),"withCredentials"))),Jh}function ng(){var t=!1;try{var e=Jt(mX);t=!!e}catch{}return t}function vX(t,e){if(t)for(var n=0;n<t[Ee];n++){var r=t[n];if(r[mr]&&r[mr]===e)return r}return{}}function Q1(t){var e=ji();return e&&t?vX(e.querySelectorAll("meta"),t).content:null}function J1(t){var e,n=Zh();if(n){var r=n.getEntriesByType("navigation")||[];e=vX((r[Ee]>0?r[0]:{}).serverTiming,t).description}return e}var dX,UPe,qPe,jPe,HPe,$Pe,BPe,VPe,pX,WPe,GPe,zPe,G1,z1,mX,B1,V1,hX,Jh,W1,Qo=k(()=>{"use strict";Oi();xn();En();ar();dX="window",UPe="document",qPe="documentMode",jPe="navigator",HPe="history",$Pe="location",BPe="console",VPe="performance",pX="JSON",WPe="crypto",GPe="msCrypto",zPe="ReactNative",G1="msie",z1="trident/",mX="XMLHttpRequest",B1=null,V1=null,hX=!1,Jh=null,W1=null});function YPe(t,e){return function(){var n=arguments,r=eF(e);if(r){var i=r.listener;i&&i[t]&&i[t][Hh](i,n)}}}function KPe(){var t=Jt("Microsoft");return t&&(hT=t.ApplicationInsights),hT}function eF(t){var e=hT;return!e&&t.disableDbgExt!==!0&&(e=hT||KPe()),e?e.ChromeDbgExt:null}function yX(t){if(!mT){mT={};for(var e=0;e<Z1[Ee];e++)mT[Z1[e]]=YPe(Z1[e],t)}return mT}var Z1,hT,mT,tF=k(()=>{xn();Qo();Z1=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],hT=null});function xX(t){return t?'"'+t[Us](/\"/g,Ae)+'"':Ae}function wX(t,e){var n=bw();if(n){var r="log";n[t]&&(r=t),Xe(n[r])&&n[r](e)}}function Tw(t,e){return(t||{})[Ni]||new $s(e)}function nF(t){return t||new $s}function jt(t,e,n,r,i,o){o===void 0&&(o=!1),nF(t).throwInternal(e,n,r,i,o)}function Bs(t,e){nF(t)[yw](e)}function rF(t,e,n){nF(t)[E1](e,n)}var XPe,QPe,JPe,$d,$s,kl=k(()=>{"use strict";gr();xn();tF();Qo();En();ar();XPe="AI (Internal): ",QPe="AI: ",JPe="AITR_";$d=function(){function t(e,n,r,i){r===void 0&&(r=!1);var o=this;o[Uh]=e,o[El]=(r?QPe:XPe)+e;var s=Ae;jd()&&(s=eg().stringify(i));var a=(n?" message:"+xX(n):Ae)+(i?" props:"+xX(s):Ae);o[El]+=a}return t.dataType="MessageData",t}();$s=function(){function t(e){this.identifier="DiagnosticLogger",this.queue=[];var n=0,r={},i,o,s,a;it(t,this,function(u){l(e||{}),u.consoleLoggingLevel=function(){return i},u.telemetryLoggingLevel=function(){return o},u.maxInternalMessageLimit=function(){return s},u[w1]=function(){return a},u.throwInternal=function(p,m,h,g,v){v===void 0&&(v=!1);var x=new $d(m,h,v,g);if(a)throw Gt(x);var y=p===1?J0:yw;if(dt(x[El]))d("throw"+(p===1?"Critical":"Warning"),x);else{if(v){var w=+x[Uh];!r[w]&&i>=p&&(u[y](x[El]),r[w]=!0)}else i>=p&&u[y](x[El]);c(p,x)}},u[yw]=function(p){wX("warn",p),d("warning",p)},u[J0]=function(p){wX("error",p),d("error",p)},u.resetInternalMessageCount=function(){n=0,r={}},u[E1]=c;function c(p,m){if(!f()){var h=!0,g=JPe+m[Uh];if(r[g]?h=!1:r[g]=!0,h&&(p<=o&&(u.queue[Ge](m),n++,d(p===1?"error":"warn",m)),n===s)){var v="Internal events throttle limit per PageView reached for this app.",x=new $d(23,v,!1);u.queue[Ge](x),p===1?u[J0](v):u[yw](v)}}}function l(p){i=Xo(p.loggingLevelConsole,0),o=Xo(p.loggingLevelTelemetry,1),s=Xo(p.maxMessageLimit,25),a=Xo(p[w1],!1)}function f(){return n>=s}function d(p,m){var h=eF(e||{});h&&h[zo]&&h[zo](p,m)}})}return t.__ieDyn=1,t}()});function un(t,e,n,r,i){if(t){var o=t;if(o[Ad]&&(o=o[Ad]()),o){var s=void 0,a=o[Pd](iF);try{if(s=o.create(e(),r,i),s){if(a&&s[qs]&&(s[qs](Bd[oF],a),a[Pd]&&a[qs])){var u=a[Pd](Bd[Iw]);u||(u=[],a[qs](Bd[Iw],u)),u[Ge](s)}return o[qs](iF,s),n(s)}}catch(c){s&&s[qs]&&s[qs]("exception",c)}finally{s&&o.fire(s),o[qs](iF,a)}}}return n()}function sF(){return ZPe}var rg,oF,Iw,ZPe,Bd,Pw,iF,Rw=k(()=>{gr();xn();En();ar();rg="ctx",oF="ParentContextKey",Iw="ChildrenContextKey",ZPe=null,Bd=function(){function t(e,n,r){var i=this,o=!1;if(i.start=zn(),i[mr]=e,i[Fs]=r,i[hw]=function(){return!1},Xe(n)){var s;o=go(i,"payload",function(){return!s&&Xe(n)&&(s=n(),n=null),s})}i[Pd]=function(a){return a?a===t[oF]||a===t[Iw]?i[a]:(i[rg]||{})[a]:null},i[qs]=function(a,u){if(a)if(a===t[oF])i[a]||(i[hw]=function(){return!0}),i[a]=u;else if(a===t[Iw])i[a]=u;else{var c=i[rg]=i[rg]||{};c[a]=u}},i[Q0]=function(){var a=0,u=i[Pd](t[Iw]);if(Oe(u))for(var c=0;c<u[Ee];c++){var l=u[c];l&&(a+=l[_d])}i[_d]=zn()-i.start,i.exTime=i[_d]-a,i[Q0]=function(){},!o&&Xe(n)&&(i.payload=n())}}return t.ParentContextKey="parent",t.ChildrenContextKey="childEvts",t}(),Pw=function(){function t(e){this.ctx={},it(t,this,function(n){n.create=function(r,i,o){return new Bd(r,i,o)},n.fire=function(r){r&&(r[Q0](),e&&Xe(e[Pl])&&e[Pl](r))},n[qs]=function(r,i){if(r){var o=n[rg]=n[rg]||{};o[r]=i}},n[Pd]=function(r){return(n[rg]||{})[r]}})}return t.__ieDyn=1,t}(),iF="CoreUtils.doPerf"});function bX(t){t<0&&(t>>>=0),Aw=123456789+t&Ol,Dw=987654321-t&Ol,_X=!0}function CX(){try{var t=zn()&2147483647;bX((Math.random()*EX^t)+t)}catch{}}function ig(t){return t>0?Math.floor(Vs()/Ol*(t+1))>>>0:0}function Vs(t){var e=0,n=Cw()||Sw();return n&&n.getRandomValues&&(e=n.getRandomValues(new Uint32Array(1))[0]&Ol),e===0&&Hs()&&(_X||CX(),e=kw()&Ol),e===0&&(e=Math.floor(EX*Math.random()|0)),t||(e>>>=0),e}function gT(t){t?bX(t):CX()}function kw(t){Dw=36969*(Dw&65535)+(Dw>>16)&Ol,Aw=18e3*(Aw&65535)+(Aw>>16)&Ol;var e=(Dw<<16)+(Aw&65535)>>>0&Ol|0;return t||(e>>>=0),e}function Nl(t){t===void 0&&(t=22);for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=Vs()>>>0,r=0,i=Ae;i[Ee]<t;)r++,i+=e.charAt(n&63),n>>>=6,r===5&&(n=(Vs()<<2&4294967295|n&3)>>>0,r=0);return i}var EX,Ol,_X,Aw,Dw,vT=k(()=>{xn();Qo();En();ar();EX=4294967296,Ol=4294967295,_X=!1,Aw=123456789,Dw=987654321});function nRe(t,e,n){if(SX)try{return SX(t,e,{value:n,enumerable:!1,configurable:!0}),!0}catch{}return!1}function IX(t){return t[K0]===1||t[K0]===9||!+t[K0]}function rRe(t,e){var n=e[t.id];if(!n){n={};try{IX(e)&&(nRe(e,t.id,n)||(e[t.id]=n))}catch{}}return n}function Ws(t,e){return e===void 0&&(e=!1),Dd(t+tRe+++(e?"."+TX:Ae)+eRe)}function yT(t){var e={id:Ws("_aiData-"+(t||Ae)+"."+TX),accept:function(n){return IX(n)},get:function(n,r,i,o){var s=n[e.id];return s?s[Dd(r)]:(o&&(s=rRe(e,n),s[Dd(r)]=i),i)},kill:function(n,r){if(n&&n[r])try{delete n[r]}catch{}}};return e}var SX,TX,eRe,tRe,Ow=k(()=>{Oi();xn();En();ar();vT();SX=Lh,TX="2.8.10",eRe="."+Nl(6),tRe=0});function iRe(t,e){var n=Xc[Ll]||ET[Ll];return n||(n=Xc[Ll]=Xc(t,e),ET[Ll]=n),n}function wT(t){return t?t.isEnabled():!0}function oRe(t){var e=t[Y0]=t[Y0]||{};if(qi(e,"domain",t.cookieDomain,R1,Me),qi(e,"path",t.cookiePath||"/",null,Me),Me(e[uF])){var n=void 0;dt(t[AX])||(n=!t[AX]),dt(t[DX])||(n=!t[DX]),e[uF]=n}return e}function MX(t,e){return e&&t&&Oe(t.ignoreCookies)?t.ignoreCookies[bl](e)!==-1:!1}function sRe(t,e){return e&&t&&Oe(t.blockedCookies)&&t.blockedCookies[bl](e)!==-1?!0:MX(t,e)}function Fl(t,e){var n;if(t)n=t.getCookieMgr();else if(e){var r=e[Y0];r[Ll]?n=r[Ll]:n=Xc(e)}return n||(n=iRe(e,(t||{})[Ni])),n}function Xc(t,e){var n,r=oRe(t||ET),i=r.path||"/",o=r.domain,s=r[uF]!==!1,a=(n={isEnabled:function(){var u=s&&Gs(e),c=ET[Ll];return u&&c&&a!==c&&(u=wT(c)),u}},n[pw]=function(u){s=u!==!1},n.set=function(u,c,l,f,d){var p=!1;if(wT(a)&&!sRe(r,u)){var m={},h=Lt(c||Ae),g=h[bl](";");if(g!==-1&&(h=Lt(c[Ms](0,g)),m=UX(c[Ms](g+1))),qi(m,"domain",f||o,Kh,dt),!Me(l)){var v=Hs();if(dt(m[aF])){var x=zn(),y=x+l*1e3;if(y>0){var w=new Date;w.setTime(y),qi(m,aF,NX(w,v?PX:RX)||NX(w,v?PX:RX)||Ae,Kh)}}v||qi(m,"max-age",Ae+l,null,dt)}var _=qd();_&&_.protocol==="https:"&&(qi(m,"secure",null,null,dt),cF===null&&(cF=!og((vo()||{})[jh])),cF&&qi(m,"SameSite","None",null,dt)),qi(m,"path",d||i,null,dt);var T=r.setCookie||FX;T(u,LX(h,m)),p=!0}return p},n.get=function(u){var c=Ae;return wT(a)&&!MX(r,u)&&(c=(r.getCookie||aRe)(u)),c},n.del=function(u,c){var l=!1;return wT(a)&&(l=a.purge(u,c)),l},n.purge=function(u,c){var l,f=!1;if(Gs(e)){var d=(l={},l.path=c||"/",l[aF]="Thu, 01 Jan 1970 00:00:01 GMT",l);Hs()||(d["max-age"]="0");var p=r.delCookie||FX;p(u,LX(Ae,d)),f=!0}return f},n);return a[Ll]=a,a}function Gs(t){if(xT===null){xT=!1;try{var e=Nw||{};xT=e[lF]!==void 0}catch(n){jt(t,2,68,"Cannot access document.cookie - "+Fd(n),{exception:Gt(n)})}}return xT}function UX(t){var e={};if(t&&t[Ee]){var n=Lt(t)[Cl](";");le(n,function(r){if(r=Lt(r||Ae),r){var i=r[bl]("=");i===-1?e[r]=null:e[Lt(r[Ms](0,i))]=Lt(r[Ms](i+1))}})}return e}function NX(t,e){return Xe(t[e])?t[e]():null}function LX(t,e){var n=t||Ae;return Nt(e,function(r,i){n+="; "+r+(Me(i)?Ae:"="+i)}),n}function aRe(t){var e=Ae;if(Nw){var n=Nw[lF]||Ae;kX!==n&&(OX=UX(n),kX=n),e=Lt(OX[t]||Ae)}return e}function FX(t,e){Nw&&(Nw[lF]=t+"="+e)}function og(t){return Qt(t)?!!(wn(t,"CPU iPhone OS 12")||wn(t,"iPad; CPU OS 12")||wn(t,"Macintosh; Intel Mac OS X 10_14")&&wn(t,"Version/")&&wn(t,"Safari")||wn(t,"Macintosh; Intel Mac OS X 10_14")&&kd(t,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||wn(t,"Chrome/5")||wn(t,"Chrome/6")||wn(t,"UnrealEngine")&&!wn(t,"Chrome")||wn(t,"UCBrowser/12")||wn(t,"UCBrowser/11")):!1}var PX,RX,lF,aF,uF,AX,DX,Ll,xT,cF,kX,Nw,OX,ET,fF=k(()=>{xn();kl();Qo();En();ar();PX="toGMTString",RX="toUTCString",lF="cookie",aF="expires",uF="enabled",AX="isCookieUseDisabled",DX="disableCookiesUsage",Ll="_ckMgr",xT=null,cF=null,kX=null,Nw=ji(),OX={},ET={}});function BX(t){return t&&t[Us]?t[Us](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Ae):t}function CT(t,e){var n;if(e){var r=Ae;Oe(e)?(r=Ae,le(e,function(o){o=BX(o),o&&(o[0]!=="."&&(o="."+o),r+=o)})):r=BX(e),r&&(r[0]!=="."&&(r="."+r),t=(t||Ae)+r)}var i=fRe.exec(t||Ae)||[];return n={},n[Li]=i[1],n.ns=(i[2]||Ae).replace(cRe,".").replace(uRe,Ae)[Cl](".").sort().join("."),n}function dF(t,e,n){var r=[],i=Fw.get(t,_T,{},!1),o=CT(e,n);return Nt(i,function(s,a){le(a,function(u){var c;(!o[Li]||o[Li]===u.evtName[Li])&&(!o.ns||o.ns===o.ns)&&r[Ge]((c={},c[mr]=u.evtName[Li]+(u.evtName.ns?"."+u.evtName.ns:Ae),c.handler=u[mw],c))})}),r}function QX(t,e,n){n===void 0&&(n=!0);var r=Fw.get(t,_T,{},n),i=r[e];return i||(i=r[e]=[]),i}function JX(t,e,n,r){t&&e&&e[Li]&&(t[$X]?t[$X](e[Li],n,r):t[HX]&&t[HX](WX+e[Li],n))}function dRe(t,e,n,r){var i=!1;return t&&e&&e[Li]&&n&&(t[jX]?(t[jX](e[Li],n,r),i=!0):t[qX]&&(t[qX](WX+e[Li],n),i=!0)),i}function VX(t,e,n,r){for(var i=e[Ee];i--;){var o=e[i];o&&(!n.ns||n.ns===o.evtName.ns)&&(!r||r(o))&&(JX(t,o.evtName,o[mw],o.capture),e[$c](i,1))}}function pRe(t,e,n){if(e[Li])VX(t,QX(t,e[Li]),e,n);else{var r=Fw.get(t,_T,{});Nt(r,function(i,o){VX(t,o,e,n)}),ii(r)[Ee]===0&&Fw.kill(t,_T)}}function Qc(t,e){var n;return e?(Oe(e)?n=[t].concat(e):n=[t,e],n=CT("xx",n).ns[Cl](".")):n=t,n}function Vd(t,e,n,r,i){var o;i===void 0&&(i=!1);var s=!1;if(t)try{var a=CT(e,r);if(s=dRe(t,a,n,i),s&&Fw.accept(t)){var u=(o={guid:lRe++,evtName:a},o[mw]=n,o.capture=i,o);QX(t,a.type)[Ge](u)}}catch{}return s}function Wd(t,e,n,r,i){if(i===void 0&&(i=!1),t)try{var o=CT(e,r),s=!1;pRe(t,o,function(a){return o.ns&&!n||a[mw]===n?(s=!0,!0):!1}),s||JX(t,o,n,i)}catch{}}function ag(t,e,n,r){return r===void 0&&(r=!1),Vd(t,e,n,null,r)}function cg(t,e,n,r){r===void 0&&(r=!1),Wd(t,e,n,null,r)}function Ul(t,e,n){var r=!1,i=Da();i&&(r=Vd(i,t,e,n),r=Vd(i.body,t,e,n)||r);var o=ji();return o&&(r=Vd(o,t,e,n)||r),r}function ST(t,e,n){var r=Da();r&&(Wd(r,t,e,n),Wd(r.body,t,e,n));var i=ji();i&&Wd(i,t,e,n)}function sg(t,e,n,r){var i=!1;return e&&t&&t[Ee]>0&&le(t,function(o){o&&(!n||Gn(n,o)===-1)&&(i=Ul(o,e,r)||i)}),i}function TT(t,e,n,r){var i=!1;return e&&t&&Oe(t)&&(i=sg(t,e,n,r),!i&&n&&n[Ee]>0&&(i=sg(t,e,null,r))),i}function Ml(t,e,n){t&&Oe(t)&&le(t,function(r){r&&ST(r,e,n)})}function Gd(t,e,n){return TT([YX,zX,bT],t,e,n)}function Mw(t,e){Ml([YX,zX,bT],t,e)}function ug(t,e,n){function r(s){var a=ji();t&&a&&a.visibilityState==="hidden"&&t(s)}var i=Qc(KX,n),o=sg([bT],t,e,i);return(!e||Gn(e,Lw)===-1)&&(o=sg([Lw],r,e,i)||o),!o&&e&&(o=ug(t,null,n)),o}function Uw(t,e){var n=Qc(KX,e);Ml([bT],t,n),Ml([Lw],null,n)}function lg(t,e,n){function r(s){var a=ji();t&&a&&a.visibilityState==="visible"&&t(s)}var i=Qc(XX,n),o=sg([GX],t,e,i);return o=sg([Lw],r,e,i)||o,!o&&e&&(o=lg(t,null,n)),o}function qw(t,e){var n=Qc(XX,e);Ml([GX],t,n),Ml([Lw],null,n)}var WX,qX,jX,HX,$X,_T,Lw,bT,GX,zX,YX,KX,XX,cRe,uRe,lRe,Fw,fRe,pF=k(()=>{xn();Ow();Qo();En();ar();WX="on",qX="attachEvent",jX="addEventListener",HX="detachEvent",$X="removeEventListener",_T="events",Lw="visibilitychange",bT="pagehide",GX="pageshow",zX="unload",YX="beforeunload",KX=Ws("aiEvtPageHide"),XX=Ws("aiEvtPageShow"),cRe=/\.[\.]+/g,uRe=/[\.]+$/,lRe=1,Fw=yT("events"),fRe=/^([^.]*)(?:\.(.+)|)/});function fg(){var t=Jc();return t[Ms](0,8)+"-"+t[Ms](8,12)+"-"+t[Ms](12,16)+"-"+t[Ms](16,20)+"-"+t[Ms](20)}function dg(){var t=Zh();return t&&t.now?t.now():zn()}function Jc(){for(var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],e=Ae,n,r=0;r<4;r++)n=Vs(),e+=t[n&15]+t[n>>4&15]+t[n>>8&15]+t[n>>12&15]+t[n>>16&15]+t[n>>20&15]+t[n>>24&15]+t[n>>28&15];var i=t[8+(Vs()&3)|0];return e[Sl](0,8)+e[Sl](9,4)+"4"+e[Sl](13,3)+i+e[Sl](16,3)+e[Sl](19,12)}var mF,hF=k(()=>{"use strict";xn();Qo();pF();En();ar();vT();mF={Attach:ag,AttachEvent:ag,Detach:cg,DetachEvent:cg}});function Zc(t,e,n){return t&&t[Ee]===e&&t!==n?!!t.match(/^[\da-f]*$/):!1}function eQ(t,e,n){return Zc(t,e)?t:n}function tQ(t){(isNaN(t)||t<0||t>255)&&(t=1);for(var e=t.toString(16);e[Ee]<2;)e="0"+e;return e}function yF(t,e,n,r){var i;return i={},i[gw]=Zc(r,2,vF)?r:gF,i[Rd]=pg(t)?t:Jc(),i.spanId=mg(e)?e:Jc()[Sl](0,16),i.traceFlags=n>=0&&n<=255?n:1,i}function jw(t){var e;if(!t||(Oe(t)&&(t=t[0]||""),!t||!Qt(t)||t[Ee]>8192))return null;var n=mRe.exec(Lt(t));return!n||n[1]===vF||n[2]===IT||n[3]===PT?null:(e={},e[gw]=n[1],e[Rd]=n[2],e[$h]=n[3],e[Tl]=parseInt(n[4],16),e)}function pg(t){return Zc(t,32,IT)}function mg(t){return Zc(t,16,PT)}function RT(t){return!(!t||!Zc(t[gw],2,vF)||!Zc(t[Rd],32,IT)||!Zc(t[$h],16,PT)||!Zc(tQ(t[Tl]),2))}function xF(t){return RT(t)?(t[Tl]&ZX)===ZX:!1}function wF(t){if(t){var e=tQ(t[Tl]);Zc(e,2)||(e="01");var n=t[gw]||gF;return n!=="00"&&n!=="ff"&&(n=gF),"".concat(n,"-").concat(eQ(t.traceId,32,IT),"-").concat(eQ(t.spanId,16,PT),"-").concat(e)}return""}function EF(){var t="traceparent",e=jw(Q1(t));return e||(e=jw(J1(t))),e}var mRe,gF,vF,IT,PT,ZX,_F=k(()=>{xn();hF();Qo();En();mRe=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]*)?$/,gF="00",vF="ff",IT="00000000000000000000000000000000",PT="0000000000000000",ZX=1});function eu(t){return hRe.get(t,"state",{},!0)}function AT(t,e){for(var n=[],r=null,i=t[ho](),o;i;){var s=i[Sd]();if(s){r&&Xe(r[_l])&&Xe(s[Fi])&&r[_l](s);var a=!1;Xe(s[po])?a=s[po]():(o=eu(s),a=o[po]),a||n[Ge](s),r=s,i=i[ho]()}}le(n,function(u){var c=t[Xt]();u[Ns](t.getCfg(),c,e,t[ho]()),o=eu(u),!u[Xt]&&!o[Xt]&&(o[Xt]=c),o[po]=!0,delete o[mo]})}function DT(t){return t.sort(function(e,n){var r=0;if(n){var i=Xe(n[Fi]);Xe(e[Fi])?r=i?e[Yo]-n[Yo]:1:i&&(r=-1)}else r=e?1:-1;return r})}function nQ(t){var e={};return{getName:function(){return e[mr]},setName:function(n){t&&t.setName(n),e[mr]=n},getTraceId:function(){return e[Rd]},setTraceId:function(n){t&&t.setTraceId(n),pg(n)&&(e[Rd]=n)},getSpanId:function(){return e[$h]},setSpanId:function(n){t&&t.setSpanId(n),mg(n)&&(e[$h]=n)},getTraceFlags:function(){return e[Tl]},setTraceFlags:function(n){t&&t.setTraceFlags(n),e[Tl]=n}}}var hRe,kT=k(()=>{"use strict";xn();Ow();En();ar();_F();hRe=yT("plugin")});function vRe(t,e,n){for(;t;){if(t[Sd]()===n)return t;t=t[ho]()}return ka([n],e[Aa]||{},e)}function bF(t,e,n,r){var i=null,o=[];r!==null&&(i=r?vRe(t,n,r):t);var s={_next:u,ctx:{core:function(){return n},diagLog:function(){return Tw(n,e)},getCfg:function(){return e},getExtCfg:c,getConfig:l,hasNext:function(){return!!i},getNext:function(){return i},setNext:function(d){i=d},iterate:f,onComplete:a}};function a(d,p){for(var m=[],h=2;h<arguments.length;h++)m[h-2]=arguments[h];d&&o[Ge]({func:d,self:dt(p)?s.ctx:p,args:m})}function u(){var d=i;if(i=d?d[ho]():null,!d){var p=o;p&&p[Ee]>0&&(le(p,function(m){try{m.func[Fn](m.self,m.args)}catch(h){jt(n[Ni],2,73,"Unexpected Exception during onComplete - "+Gt(h))}}),o=[])}return d}function c(d,p,m){p===void 0&&(p={}),m===void 0&&(m=0);var h;if(e){var g=e[Bh];g&&d&&(h=g[d])}if(!h)h=p;else if(hr(p)&&m!==0){var v=Xh(!0,p,h);e&&m===2&&Nt(p,function(x){if(Me(v[x])){var y=e[x];Me(y)||(v[x]=y)}}),h=v}return h}function l(d,p,m){m===void 0&&(m=!1);var h,g=c(d,null);return g&&!Me(g[p])?h=g[p]:e&&!Me(e[p])&&(h=e[p]),Me(h)?m:h}function f(d){for(var p;p=s._next();){var m=p[Sd]();m&&d(m)}}return s}function Hi(t,e,n,r){var i=bF(t,e,n,r),o=i.ctx;function s(u){var c=i._next();return c&&c[Fi](u,o),!c}function a(u,c){return u===void 0&&(u=null),Oe(u)&&(u=ka(u,e,n,c)),Hi(u||o[ho](),e,n,c)}return o[Ot]=s,o[Bc]=a,o}function hg(t,e,n){var r=e[Aa]||{},i=bF(t,r,e,n),o=i.ctx;function s(u){var c=i._next();return c&&c.unload(o,u),!c}function a(u,c){return u===void 0&&(u=null),Oe(u)&&(u=ka(u,r,e,c)),hg(u||o[ho](),e,c)}return o[Ot]=s,o[Bc]=a,o}function Hw(t,e,n){var r=e[Aa]||{},i=bF(t,r,e,n),o=i.ctx;function s(u){return o.iterate(function(c){Xe(c[Td])&&c[Td](o,u)})}function a(u,c){return u===void 0&&(u=null),Oe(u)&&(u=ka(u,r,e,c)),Hw(u||o[ho](),e,c)}return o[Ot]=s,o[Bc]=a,o}function ka(t,e,n,r){var i=null,o=!r;if(Oe(t)&&t[Ee]>0){var s=null;le(t,function(a){if(!o&&r===a&&(o=!0),o&&a&&Xe(a[Fi])){var u=yRe(a,e,n);i||(i=u),s&&s._setNext(u),s=u}})}return r&&!i?ka([r],e,n):i}function yRe(t,e,n){var r=null,i=Xe(t[Fi]),o=Xe(t[_l]),s;t?s=t[Ls]+"-"+t[Yo]+"-"+oQ++:s="Unknown-0-"+oQ++;var a={getPlugin:function(){return t},getNext:function(){return r},processTelemetry:l,unload:f,update:d,_id:s,_setNext:function(p){r=p}};function u(){var p;return t&&Xe(t[iQ])&&(p=t[iQ]()),p||(p=Hi(a,e,n)),p}function c(p,m,h,g,v){var x=!1,y=t?t[Ls]:gRe,w=p[rQ];return w||(w=p[rQ]={}),p.setNext(r),t&&un(p[Xt](),function(){return y+":"+h},function(){w[s]=!0;try{var _=r?r._id:Ae;_&&(w[_]=!1),x=m(p)}catch(P){var T=r?w[r._id]:!0;T&&(x=!0),(!r||!T)&&jt(p[zo](),1,73,"Plugin ["+y+"] failed during "+h+" - "+Gt(P)+", run flags: "+Gt(w))}},g,v),x}function l(p,m){m=m||u();function h(g){if(!t||!i)return!1;var v=eu(t);return v[mo]||v[vw]?!1:(o&&t[_l](r),t[Fi](p,g),!0)}c(m,h,"processTelemetry",function(){return{item:p}},!p.sync)||m[Ot](p)}function f(p,m){function h(){var g=!1;if(t){var v=eu(t),x=t[Xt]||v[Xt];t&&(!x||x===p.core())&&!v[mo]&&(v[Xt]=null,v[mo]=!0,v[po]=!1,t[mo]&&t[mo](p,m)===!0&&(g=!0))}return g}c(p,h,"unload",function(){},m[Fs])||p[Ot](m)}function d(p,m){function h(){var g=!1;if(t){var v=eu(t),x=t[Xt]||v[Xt];t&&(!x||x===p.core())&&!v[mo]&&t[Td]&&t[Td](p,m)===!0&&(g=!0)}return g}c(p,h,"update",function(){},!1)||p[Ot](m)}return Ui(a)}var gRe,rQ,iQ,oQ,CF,$w=k(()=>{"use strict";xn();kl();Qo();En();ar();Rw();kT();gRe="TelemetryPluginChain",rQ="_hasRun",iQ="_getTelCtx",oQ=0;CF=function(){function t(e,n,r,i){var o=this,s=Hi(e,n,r,i);Md(o,s,ii(s))}return t}()});function sQ(t,e,n){e&&Oe(e)&&e[Ee]>0&&(e=e.sort(function(r,i){return r[Yo]-i[Yo]}),le(e,function(r){r[Yo]<Bw&&Yn(xRe+r[Ls])}),t[Ge]({queue:Ui(e),chain:ka(e,n[Aa],n)}))}function aQ(t,e){function n(){return Hi(null,e[Aa],e,null)}function r(c,l,f,d){var p=c?c[Ee]+1:1;function m(){p--,p===0&&(d&&d(),d=null)}p>0&&le(c,function(h){if(h&&h.queue[Ee]>0){var g=h.chain,v=l[Bc](g);v[fw](m),f(v)}else p--}),m()}function i(c,l){var f=l||{reason:0};return r(t,c,function(d){d[Ot](f)},function(){c[Ot](f)}),!0}function o(c,l){var f=l||{reason:0,isAsync:!1};return r(t,c,function(d){d[Ot](f)},function(){c[Ot](f),a=!1}),!0}function s(c){var l=null;return t&&t[Ee]>0&&le(t,function(f){if(f&&f.queue[Ee]>0&&(le(f.queue,function(d){if(d[Ls]===c)return l=d,-1}),l))return-1}),l}var a=!1,u={identifier:"ChannelControllerPlugin",priority:Bw,initialize:function(c,l,f,d){a=!0,le(t,function(p){p&&p.queue[Ee]>0&&AT(Hi(p.chain,c,l),f)})},isInitialized:function(){return a},processTelemetry:function(c,l){r(t,l||n(),function(f){f[Ot](c)},function(){l[Ot](c)})},update:i,pause:function(){r(t,n(),function(c){c.iterate(function(l){l.pause&&l.pause()})},null)},resume:function(){r(t,n(),function(c){c.iterate(function(l){l.resume&&l.resume()})},null)},teardown:o,getChannel:s,flush:function(c,l,f,d){var p=1,m=!1,h=null;d=d||5e3;function g(){p--,m&&p===0&&(h&&(clearTimeout(h),h=null),l&&l(m),l=null)}return r(t,n(),function(v){v.iterate(function(x){if(x[Mh]){p++;var y=!1;x[Mh](c,function(){y=!0,g()},f)||y||(c&&h==null?h=setTimeout(function(){h=null,g()},d):g())}})},function(){m=!0,g()}),!0},_setQueue:function(c){t=c}};return u}function cQ(t,e,n){var r=[];if(t&&le(t,function(o){return sQ(r,o,n)}),e){var i=[];le(e,function(o){o[Yo]>Bw&&i[Ge](o)}),sQ(r,i,n)}return r}var Bw,xRe,uQ=k(()=>{xn();En();ar();$w();kT();Bw=500,xRe="Channel has invalid priority - "});function zd(){var t=[];function e(r){r&&t[Ge](r)}function n(r,i){le(t,function(o){try{o(r,i)}catch(s){jt(r[zo](),2,73,"Unexpected error calling unload handler - "+Gt(s))}}),t=[]}return{add:e,run:n}}var OT=k(()=>{xn();kl();Qo();En()});var ql,Yd,SF=k(()=>{"use strict";gr();xn();En();ar();$w();OT();ql="getPlugin",Yd=function(){function t(){var e=this,n,r,i,o,s;c(),it(t,e,function(l){l[Ns]=function(f,d,p,m){u(f,d,m),n=!0},l[mo]=function(f,d){var p,m=l[Xt];if(!m||f&&m!==f[Xt]())return;var h,g=!1,v=f||hg(null,m,i&&i[ql]?i[ql]():i),x=d||(p={reason:0},p[Fs]=!1,p);function y(){if(!g){g=!0,o.run(v,d);var w=s;s=[],le(w,function(_){_.rm()}),h===!0&&v[Ot](x),c()}}return!l[qh]||l[qh](v,x,y)!==!0?y():h=!0,h},l[Td]=function(f,d){var p=l[Xt];if(!p||f&&p!==f[Xt]())return;var m,h=!1,g=f||Hw(null,p,i&&i[ql]?i[ql]():i),v=d||{reason:0};function x(){h||(h=!0,u(g.getCfg(),g.core(),g[ho]()))}return!l._doUpdate||l._doUpdate(g,v,x)!==!0?x():m=!0,m},l._addHook=function(f){f&&(Oe(f)?s=s.concat(f):s[Ge](f))},Al(l,"_addUnloadCb",function(){return o},"add")}),e[zo]=function(l){return a(l)[zo]()},e[po]=function(){return n},e.setInitialized=function(l){n=l},e[_l]=function(l){i=l},e[Ot]=function(l,f){f?f[Ot](l):i&&Xe(i[Fi])&&i[Fi](l,null)},e._getTelCtx=a;function a(l){l===void 0&&(l=null);var f=l;if(!f){var d=r||Hi(null,{},e[Xt]);i&&i[ql]?f=d[Bc](null,i[ql]):f=d[Bc](null,i)}return f}function u(l,f,d){l&&qi(l,Bh,[],null,Me),!d&&f&&(d=f[z0]()[ho]());var p=i;i&&i[ql]&&(p=i[ql]()),e[Xt]=f,r=Hi(d,l,f,p)}function c(){n=!1,e[Xt]=null,r=null,i=null,s=[],o=zd()}}return t.__ieDyn=1,t}()});var lQ,fQ=k(()=>{Oi();gr();xn();SF();kl();Qo();En();ar();lQ=function(t){Os(e,t);function e(){var n=t.call(this)||this;n.identifier="TelemetryInitializerPlugin",n.priority=199;var r,i;o(),it(e,n,function(s,a){s.addTelemetryInitializer=function(u){var c={id:r++,fn:u};i[Ge](c);var l={remove:function(){le(i,function(f,d){if(f.id===c.id)return i[$c](d,1),-1})}};return l},s[Fi]=function(u,c){for(var l=!1,f=i[Ee],d=0;d<f;++d){var p=i[d];if(p)try{if(p.fn[Hh](null,[u])===!1){l=!0;break}}catch(m){jt(c[zo](),1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Fd(m),{exception:Gt(m)},!0)}}l||s[Ot](u,c)},s[qh]=function(){o()}});function o(){r=0,i=[]}return n}return e.__ieDyn=1,e}(Yd)});function _Re(t,e){return new Pw(e)}function bRe(t,e,n){var r,i=[],o={};return le(n,function(s){(Me(s)||Me(s[Ns]))&&Yn(hQ);var a=s[Yo],u=s[Ls];s&&a&&(Me(o[a])?o[a]=u:Bs(t,"Two extensions have same priority #"+a+" - "+o[a]+", "+u)),(!a||a<e)&&i[Ge](s)}),r={all:n},r[Xt]=i,r}function mQ(t,e){var n=!1;return le(e,function(r){if(r===t)return n=!0,-1}),n}function CRe(){var t;return Ra((t={},t[bd]=function(e){},t[Cd]=function(e){},t[Vh]=function(e){},t[Il]=function(e,n){},t[Wh]=function(e,n){},t))}var hQ,dQ,pQ,wRe,ERe,Kd,TF=k(()=>{"use strict";Oi();gr();Oi();xn();uQ();fF();Ow();tF();kl();En();ar();Rw();$w();kT();fQ();OT();hQ="Plugins must provide initialize method",dQ="_notificationManager",pQ="SDK is still unloading...",wRe="SDK is not initialized",ERe={loggingLevelConsole:1};Kd=function(){function t(){var e,n,r,i,o,s,a,u,c,l,f,d,p,m,h,g,v,x,y,w,_=0;it(t,this,function(T){P(),T[po]=function(){return n},T[Ns]=function(L,H,$,V){m&&Yn(pQ),T[po]()&&Yn("Core should not be initialized more than once"),e=L||{},T[Aa]=e,Me(L[G0])&&Yn("Please provide instrumentation key"),i=V,T[dQ]=V,N(),O(),M(),$&&(T[Ni]=$);var re=Rl(e,B9,[]);c=[],c[Ge].apply(c,W0(W0([],H,!1),re,!1)),d=Rl(e,_1,[]),C(null),(!p||p[Ee]===0)&&Yn("No "+_1+" available"),n=!0,T.releaseQueue()},T.getTransmissionControls=function(){var L=[];return p&&le(p,function(H){L[Ge](H.queue)}),Ui(L)},T.track=function(L){L.iKey=L.iKey||e[G0],L[_d]=L[_d]||Ko(new Date),L.ver=L.ver||"4.0",!m&&T[po]()?E()[Ot](L):r[Ge](L)},T[z0]=E,T[lw]=function(){return i||(i=CRe(),T[dQ]=i),i},T[bd]=function(L){i&&i[bd](L)},T[Cd]=function(L){i&&i[Cd](L)},T.getCookieMgr=function(){return a||(a=Xc(e,T[Ni])),a},T.setCookieMgr=function(L){a=L},T[Ad]=function(){if(!o&&!s&&Xo(e.enablePerfMgr)){var L=Xo(e[b1]);Xe(L)&&(s=L(T,T[lw]()))}return o||s||sF()},T.setPerfMgr=function(L){o=L},T.eventCnt=function(){return r[Ee]},T.releaseQueue=function(){if(n&&r[Ee]>0){var L=r;r=[],le(L,function(H){E()[Ot](H)})}},T.pollInternalLogs=function(L){g=L||null;var H=Xo(e.diagnosticLogInterval);return(!H||!(H>0))&&(H=1e4),_&&clearInterval(_),_=setInterval(function(){D()},H),_},T[x1]=function(){_&&(clearInterval(_),_=0,D())},Md(T,function(){return h},["addTelemetryInitializer"]),T.unload=function(L,H,$){var V;L===void 0&&(L=!0),n||Yn(wRe),m&&Yn(pQ);var re=(V={reason:50},V[Fs]=L,V.flushComplete=!1,V),ye=hg(I(),T);ye[fw](function(){P(),H&&H(re)},T);function Ce(Te){re.flushComplete=Te,m=!0,x.run(ye,re),T[x1](),ye[Ot](re)}A(L,Ce,6,$)||Ce(!1)},T[Sd]=S,T.addPlugin=function(L,H,$,V){if(!L){V&&V(!1),W(hQ);return}var re=S(L[Ls]);if(re&&!H){V&&V(!1),W("Plugin ["+L[Ls]+"] is already loaded!");return}var ye={reason:16};function Ce(Pe){c[Ge](L),ye.added=[L],C(ye),V&&V(!0)}if(re){var Te=[re.plugin],wt={reason:2,isAsync:!!$};R(Te,wt,function(Pe){Pe?(ye.removed=Te,ye.reason|=32,Ce(!0)):V&&V(!1)})}else Ce(!1)},T.evtNamespace=function(){return v},T[Mh]=A,T.getTraceCtx=function(L){return w||(w=nQ()),w},T.setTraceCtx=function(L){w=L||null},Al(T,"addUnloadCb",function(){return x},"add");function P(){n=!1,e=Xh(!0,{},ERe),T[Aa]=e,T[Ni]=new $s(e),T[dw]=[],h=new lQ,r=[],i=null,o=null,s=null,a=null,u=null,l=null,c=[],f=null,d=null,p=null,m=!1,g=null,v=Ws("AIBaseCore",!0),x=zd(),w=null}function E(){return Hi(I(),e,T)}function C(L){var H=bRe(T[Ni],Bw,c);l=H[Xt],u=null;var $=H.all;if(p=Ui(cQ(d,$,T)),f){var V=Gn($,f);V!==-1&&$[$c](V,1),V=Gn(l,f),V!==-1&&l[$c](V,1),f._setQueue(p)}else f=aQ(p,T);$[Ge](f),l[Ge](f),T[dw]=DT($),f[Ns](e,T,$),AT(E(),$),T[dw]=Ui(DT(l||[])).slice(),L&&j(L)}function S(L){var H,$=null,V=null;return le(T[dw],function(re){if(re[Ls]===L&&re!==f&&re!==h)return V=re,-1}),!V&&f&&(V=f.getChannel(L)),V&&($=(H={plugin:V},H[pw]=function(re){eu(V)[vw]=!re},H.isEnabled=function(){var re=eu(V);return!re[mo]&&!re[vw]},H.remove=function(re,ye){var Ce;re===void 0&&(re=!0);var Te=[V],wt=(Ce={reason:1},Ce[Fs]=re,Ce);R(Te,wt,function(Pe){Pe&&C({reason:32,removed:Te}),ye&&ye(Pe)})},H)),$}function I(){if(!u){var L=(l||[]).slice();Gn(L,h)===-1&&L[Ge](h),u=ka(DT(L),e,T)}return u}function R(L,H,$){if(L&&L[Ee]>0){var V=ka(L,e,T),re=hg(V,T);re[fw](function(){var ye=!1,Ce=[];le(c,function(wt,Pe){mQ(wt,L)?ye=!0:Ce[Ge](wt)}),c=Ce;var Te=[];d&&(le(d,function(wt,Pe){var ze=[];le(wt,function(In){mQ(In,L)?ye=!0:ze[Ge](In)}),Te[Ge](ze)}),d=Te),$&&$(ye)}),re[Ot](H)}else $(!1)}function D(){var L=T[Ni]?T[Ni].queue:[];L&&(le(L,function(H){var $,V=($={},$[mr]=g||"InternalMessageId: "+H[Uh],$.iKey=Xo(e[G0]),$.time=Ko(new Date),$.baseType=$d.dataType,$.baseData={message:H[El]},$);T.track(V)}),L[Ee]=0)}function A(L,H,$,V){return f?f[Mh](L,H,$||6,V):(H&&H(!1),!0)}function N(){var L=Xo(e.disableDbgExt);L===!0&&y&&(i[Cd](y),y=null),i&&!y&&L!==!0&&(y=yX(e),i[bd](y))}function O(){var L=Xo(e.enablePerfMgr);!L&&s&&(s=null),L&&Rl(e,b1,_Re)}function M(){var L=Rl(e,Bh,{});L.NotificationManager=i}function j(L){var H=Hw(I(),T);(!T._updateHook||T._updateHook(H,L)!==!0)&&H[Ot](L)}function W(L){var H=T[Ni];H?jt(H,2,73,L):Yn(L)}})}return t.__ieDyn=1,t}()});function NT(t,e,n,r){le(t,function(i){if(i&&i[e])if(n)setTimeout(function(){return r(i)},0);else try{r(i)}catch{}})}var Vw,IF=k(()=>{gr();xn();En();ar();Vw=function(){function t(e){this.listeners=[];var n=!!(e||{}).perfEvtsSendAll;it(t,this,function(r){r[bd]=function(i){r.listeners[Ge](i)},r[Cd]=function(i){for(var o=Gn(r[Id],i);o>-1;)r.listeners[$c](o,1),o=Gn(r[Id],i)},r[Vh]=function(i){NT(r[Id],Vh,!0,function(o){o[Vh](i)})},r[Il]=function(i,o){NT(r[Id],Il,!0,function(s){s[Il](i,o)})},r[Wh]=function(i,o){NT(r[Id],Wh,o,function(s){s[Wh](i,o)})},r[Pl]=function(i){i&&(n||!i[hw]())&&NT(r[Id],Pl,!1,function(o){i[Fs]?setTimeout(function(){return o[Pl](i)},0):o[Pl](i)})}})}return t.__ieDyn=1,t}()});var Ww,gQ=k(()=>{Oi();gr();xn();TF();kl();En();ar();IF();Rw();Ww=function(t){Os(e,t);function e(){var n=t.call(this)||this;return it(e,n,function(r,i){r[Ns]=function(a,u,c,l){i[Ns](a,u,c||new $s(a),l||new Vw(a))},r.track=function(a){un(r[Ad](),function(){return"AppInsightsCore:track"},function(){a===null&&(s(a),Yn("Invalid telemetry item")),o(a),i.track(a)},function(){return{item:a}},!a.sync)};function o(a){Me(a[mr])&&(s(a),Yn("telemetry name required"))}function s(a){var u=r[lw]();u&&u[Il]([a],2)}}),n}return e.__ieDyn=1,e}(Kd)});var ie,St,Xd,zs,vQ,yQ,LT,PF,Gw,FT,gg,Ys,jl,tu,zw,xQ,RF,Yw,wQ=k(()=>{tT();St="Failed",Xd=St+"MonitorAjax",zs="Track",vQ="Start",yQ="Stop",LT="Event",PF="AuthContext",Gw="Exception",FT="Local",gg="Session",Ys="Storage",jl="Browser",tu="Cannot",zw="Buffer",xQ="InstrumentationKey",RF=oi({CRITICAL:1,WARNING:2}),Yw=oi((ie={},ie[jl+"DoesNotSupport"+FT+Ys]=0,ie[jl+tu+"Read"+FT+Ys]=1,ie[jl+tu+"Read"+gg+Ys]=2,ie[jl+tu+"Write"+FT+Ys]=3,ie[jl+tu+"Write"+gg+Ys]=4,ie[jl+St+"RemovalFrom"+FT+Ys]=5,ie[jl+St+"RemovalFrom"+gg+Ys]=6,ie[tu+"SendEmptyTelemetry"]=7,ie.ClientPerformanceMathError=8,ie["ErrorParsingAI"+gg+"Cookie"]=9,ie.ErrorPVCalc=10,ie[Gw+"WhileLoggingError"]=11,ie[St+"AddingTelemetryTo"+zw]=12,ie[Xd+"Abort"]=13,ie[Xd+"Dur"]=14,ie[Xd+"Open"]=15,ie[Xd+"RSC"]=16,ie[Xd+"Send"]=17,ie[Xd+"GetCorrelationHeader"]=18,ie[St+"ToAddHandlerForOnBeforeUnload"]=19,ie[St+"ToSendQueuedTelemetry"]=20,ie[St+"ToReportDataLoss"]=21,ie["Flush"+St]=22,ie.MessageLimitPerPVExceeded=23,ie.MissingRequiredFieldSpecification=24,ie.NavigationTimingNotSupported=25,ie.OnError=26,ie[gg+"RenewalDateIsZero"]=27,ie.SenderNotInitialized=28,ie[vQ+zs+LT+St]=29,ie[yQ+zs+LT+St]=30,ie[vQ+zs+St]=31,ie[yQ+zs+St]=32,ie.TelemetrySampledAndNotSent=33,ie[zs+LT+St]=34,ie[zs+Gw+St]=35,ie[zs+"Metric"+St]=36,ie[zs+"PV"+St]=37,ie[zs+"PV"+St+"Calc"]=38,ie[zs+"Trace"+St]=39,ie["Transmission"+St]=40,ie[St+"ToSet"+Ys+zw]=41,ie[St+"ToRestore"+Ys+zw]=42,ie.InvalidBackendResponse=43,ie[St+"ToFixDepricatedValues"]=44,ie.InvalidDurationValue=45,ie.TelemetryEnvelopeInvalid=46,ie.CreateEnvelopeError=47,ie[tu+"SerializeObject"]=48,ie[tu+"SerializeObjectNonSerializable"]=49,ie.CircularReferenceDetected=50,ie["Clear"+PF+St]=51,ie[Gw+"Truncated"]=52,ie.IllegalCharsInName=53,ie.ItemNotInArray=54,ie.MaxAjaxPerPVExceeded=55,ie.MessageTruncated=56,ie.NameTooLong=57,ie.SampleRateOutOfRange=58,ie["Set"+PF+St]=59,ie["Set"+PF+St+"AccountName"]=60,ie.StringValueTooLong=61,ie.StartCalledMoreThanOnce=62,ie.StopCalledWithoutStart=63,ie["TelemetryInitializer"+St]=64,ie.TrackArgumentsNotSpecified=65,ie.UrlTooLong=66,ie[gg+Ys+zw+"Full"]=67,ie[tu+"AccessCookie"]=68,ie.IdTooLong=69,ie.InvalidEvent=70,ie[Xd+"SetRequestHeader"]=71,ie["Send"+jl+"InfoOnUserInit"]=72,ie["Plugin"+Gw]=73,ie["Notification"+Gw]=74,ie.SnippetScriptLoadFailure=99,ie["Invalid"+xQ]=100,ie[tu+"ParseAiBlobValue"]=101,ie.InvalidContentBlob=102,ie[zs+"PageAction"+LT+St]=103,ie[St+"AddingCustomDefinedRequestContext"]=104,ie["InMemory"+Ys+zw+"Full"]=105,ie[xQ+"Deprecation"]=106,ie))});var nu=k(()=>{$9();iX();gQ();TF();SF();vT();hF();En();tT();pF();Qo();Oi();IF();Rw();kl();$w();wQ();fF();Ow();OT();_F()});var EQ,_Q,bQ,CQ,SQ,TQ,IQ=k(()=>{Oi();nu();EQ=oi({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,CustomerContent_GenericContent:32}),_Q=oi({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),bQ=oi({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),CQ=oi({Normal:1,Critical:2}),SQ=oi({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),TQ=Ui(V0(V0({},Yw),oi({AuthHandShakeError:501,AuthRedirectFail:502,BrowserCannotReadLocalStorage:503,BrowserCannotWriteLocalStorage:504,BrowserDoesNotSupportLocalStorage:505,CannotParseBiBlobValue:506,CannotParseDataAttribute:507,CVPluginNotAvailable:508,DroppedEvent:509,ErrorParsingAISessionCookie:510,ErrorProvidedChannels:511,FailedToGetCookies:512,FailedToInitializeCorrelationVector:513,FailedToInitializeSDK:514,InvalidContentBlob:515,InvalidCorrelationValue:516,SessionRenewalDateIsZero:517,SendPostOnCompleteFailure:518,PostResponseHandler:519,SDKNotInitialized:520})))});var Ks,MT,SRe,RZe,AF,UT,Kw=k(()=>{Ks="",MT="https://browser.events.data.microsoft.com/OneCollector/1.0/",SRe="pluginVersionString",RZe=SRe+"Arr",AF="version",UT="properties"});function Mn(t){return!(t===Ks||Me(t))}function Qw(t){if(t){var e=t.indexOf("-");if(e>-1)return t.substring(0,e)}return Ks}function OF(){return DF===null&&(DF=!dt(Uint8Array)&&!ARe()&&!Kc()),DF}function Jw(t){return!!(t&&Mi(t)&&t>=1&&t<=4)}function Zw(t,e,n){if(!e&&!Mn(e)||typeof t!="string")return null;var r=typeof e;if(r==="string"||r==="number"||r==="boolean"||Oe(e))e={value:e};else if(r==="object"&&!fo.call(e,"value"))e={value:n?JSON.stringify(e):e};else if(Me(e.value)||e.value===Ks||!Qt(e.value)&&!Mi(e.value)&&!Wc(e.value)&&!Oe(e.value))return null;if(Oe(e.value)&&!jT(e.value))return null;if(!Me(e.kind)){if(Oe(e.value)||!vg(e.kind))return null;e.value=e.value.toString()}return e}function eE(t,e,n){var r=-1;if(!dt(t))if(e>0&&(e===32?r=1<<13:e<=13&&(r=e<<5)),RRe(n))r===-1&&(r=0),r|=n;else{var i=PRe[Xs(t)]||-1;r!==-1&&i!==-1?r|=i:i===6&&(r=i)}return r}function NF(){Fl(null).setEnabled(!1)}function LF(t,e,n){Gs(null)&&Fl(null).set(t,e,n*86400,null,"/")}function FF(t){Gs(null)&&Fl(null).del(t)}function MF(t){return Gs(null)?UF(Fl(null),t):Ks}function UF(t,e,n){n===void 0&&(n=!0);var r;return t&&(r=t.get(e),n&&r&&decodeURIComponent&&(r=decodeURIComponent(r))),r||Ks}function qF(t){t===void 0&&(t="D");var e=fg();return t==="B"?e="{"+e+"}":t==="P"?e="("+e+")":t==="N"&&(e=e.replace(/-/g,Ks)),e}function Hl(t,e,n,r,i){var o={},s=!1,a=0,u=arguments.length,c=Object[Ln],l=arguments;for(c.toString.call(l[0])==="[object Boolean]"&&(s=l[0],a++);a<u;a++){var t=l[a];Nt(t,function(d,p){s&&p&&hr(p)?Oe(p)?(o[d]=o[d]||[],le(p,function(m,h){m&&hr(m)?o[d][h]=Hl(!0,o[d][h],m):o[d][h]=m})):o[d]=Hl(!0,o[d],p):o[d]=p})}return o}function vg(t){return t===0||t>0&&t<=13||t===32}function RRe(t){return t>=0&&t<=9}function ARe(){var t=vo();if(!dt(t)&&t.userAgent){var e=t.userAgent.toLowerCase();if((e.indexOf("safari")>=0||e.indexOf("firefox")>=0)&&e.indexOf("chrome")<0)return!0}return!1}function jT(t){return t.length>0}function Qd(t,e){var n=t;n.timings=n.timings||{},n.timings.processTelemetryStart=n.timings.processTelemetryStart||{},n.timings.processTelemetryStart[e]=si()}function Xs(t){var e=0;if(t!=null){var n=typeof t;n==="string"?e=1:n==="number"?e=2:n==="boolean"?e=3:n===On&&(e=4,Oe(t)?(e=4096,t.length>0&&(e|=Xs(t[0]))):fo.call(t,"value")&&(e=8192|Xs(t.value)))}return e}function HT(){return!!Jt("chrome")}function $T(t,e,n,r,i,o){r===void 0&&(r=!1),i===void 0&&(i=!1);function s(u,c,l){try{u[c]=l}catch{}}var a=new XMLHttpRequest;return r&&s(a,TRe,r),n&&s(a,PQ,n),a.open(t,e,!i),n&&s(a,PQ,n),!i&&o&&s(a,IRe,o),a}var ru,qT,iu,TRe,PQ,IRe,PRe,DF,Xw,kF,si,RQ,AQ,tE=k(()=>{nu();Oi();Kw();qT="3.2.9",iu="1DS-Web-JS-"+qT,TRe="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",PQ="withCredentials",IRe="timeout",PRe=(ru={},ru[0]=0,ru[2]=6,ru[1]=1,ru[3]=7,ru[4098]=6,ru[4097]=1,ru[4099]=7,ru),DF=null,Xw=!!ji(),kF=!!Da();si=dg;RQ={Version:qT,FullVersionString:iu,strUndefined:Nn,strObject:On,Undefined:Nn,arrForEach:le,arrIndexOf:Gn,arrMap:Nd,arrReduce:Ld,objKeys:ii,toISOString:Ko,isReactNative:Kc,isString:Qt,isNumber:Mi,isBoolean:Wc,isFunction:Xe,isArray:Oe,isObject:hr,strTrim:Lt,isDocumentObjectAvailable:Xw,isWindowObjectAvailable:kF,isValueAssigned:Mn,getTenantId:Qw,isBeaconsSupported:Dl,isUint8ArrayAvailable:OF,isLatency:Jw,sanitizeProperty:Zw,getISOString:Ko,useXDomainRequest:Hd,getCommonSchemaMetaData:eE,cookieAvailable:Gs,disallowsSameSiteNone:og,setCookie:LF,deleteCookie:FF,getCookie:MF,createGuid:qF,extend:Hl,getTime:si,isValueKind:vg,isArrayValid:jT,objDefineAccessors:go,addPageUnloadEventListener:Gd,setProcessTelemetryTimings:Qd,addEventHandler:Ul,getFieldValueType:Xs,strEndsWith:kd,objForEachKey:Nt},AQ={_canUseCookies:void 0,isTypeof:Gh,isUndefined:dt,isNullOrUndefined:Me,hasOwnProperty:Vc,isFunction:Xe,isObject:hr,isDate:Yh,isArray:Oe,isError:Od,isString:Qt,isNumber:Mi,isBoolean:Wc,toISOString:Ko,arrForEach:le,arrIndexOf:Gn,arrMap:Nd,arrReduce:Ld,strTrim:Lt,objCreate:Ra,objKeys:ii,objDefineAccessors:go,addEventHandler:Ul,dateNow:zn,isIE:Hs,disableCookies:NF,newGuid:fg,perfNow:dg,newId:Nl,randomValue:ig,random32:Vs,mwcRandomSeed:gT,mwcRandom32:kw,generateW3CId:Jc}});var DRe,DQ,kQ=k(()=>{Oi();gr();nu();Kw();tE();DRe=function(t){Os(e,t);function e(){var n=t.call(this)||this;return n.pluginVersionStringArr=[],it(e,n,function(r,i){(!r.logger||!r.logger.queue)&&(r.logger=new $s({loggingLevelConsole:1})),r.initialize=function(o,s,a,u){un(r,function(){return"AppInsightsCore.initialize"},function(){var c=r.pluginVersionStringArr;if(o){o.endpointUrl||(o.endpointUrl=MT);var l=o.propertyStorageOverride;l&&(!l.getProperty||!l.setProperty)&&Yn("Invalid property storage override passed."),o.channels&&le(o.channels,function(p){p&&le(p,function(m){if(m.identifier&&m.version){var h=m.identifier+"="+m.version;c.push(h)}})})}r.getWParam=function(){return typeof document<"u"||o.enableWParam?0:-1},s&&le(s,function(p){if(p&&p.identifier&&p.version){var m=p.identifier+"="+p.version;c.push(m)}}),r.pluginVersionString=c.join(";"),r.pluginVersionStringArr=c;try{i.initialize(o,s,a,u),r.pollInternalLogs("InternalLog")}catch(p){var f=r.logger,d=Gt(p);d.indexOf("channels")!==-1&&(d+=`
 - Channels must be provided through config.channels only!`),jt(f,1,514,"SDK Initialization Failed - no telemetry will be sent: "+d)}},function(){return{config:o,extensions:s,logger:a,notificationManager:u}})},r.track=function(o){un(r,function(){return"AppInsightsCore.track"},function(){var s=o;if(s){s.timings=s.timings||{},s.timings.trackStart=si(),Jw(s.latency)||(s.latency=1);var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=iu;var u=s.baseData=s.baseData||{};u[UT]=u[UT]||{};var c=u[UT];c[AF]=c[AF]||r.pluginVersionString||Ks}i.track(s)},function(){return{item:o}},!o.sync)}}),n}return e.__ieDyn=1,e}(Ww),DQ=DRe});var kRe,OQ,NQ=k(()=>{Oi();gr();nu();Kw();tE();kRe=function(t){Os(e,t);function e(){var n=t.call(this)||this;return it(e,n,function(r,i){r.initialize=function(o,s,a,u){o&&!o.endpointUrl&&(o.endpointUrl=MT),r.getWParam=function(){return Xw||o.enableWParam?0:-1};try{i.initialize(o,s,a,u)}catch(c){jt(r.logger,1,514,"Initialization Failed: "+Gt(c)+`
 - Note: Channels must be provided through config.channels only`)}},r.track=function(o){var s=o;if(s){var a=s.ext=s.ext||{};a.sdk=a.sdk||{},a.sdk.ver=iu}i.track(s)}}),n}return e.__ieDyn=1,e}(Kd),OQ=kRe});function ORe(t,e,n){return function(r){t[e]=r,n()}}var Jd,NRe,$l,jF=k(()=>{gr();nu();Jd=Xe;NRe=function(){function t(e){var n=0,r=null,i=[];it(t,this,function(c){c.then=function(l,f){return new t(function(d,p){o(l,f,d,p)})},c.catch=function(l){return c.then(null,l)}});function o(c,l,f,d){i.push(function(){var p;try{n===1?p=Jd(c)?c(r):r:p=Jd(l)?l(r):r,p instanceof t?p.then(f,d):n===2&&!Jd(l)?d(p):f(p)}catch(m){d(m);return}}),n!==0&&s()}function s(){if(i.length>0){var c=i.slice();i=[],setTimeout(function(){for(var l=0,f=c.length;l<f;++l)try{c[l]()}catch{}},0)}}function a(c){n===0&&(r=c,n=1,s())}function u(c){n===0&&(r=c,n=2,s())}(function(){if(!Jd(e))throw new TypeError("ESPromise: resolvedFunc argument is not a Function");try{e(a,u)}catch(l){u(l)}})()}return t.resolve=function(e){return e instanceof t?e:e&&Jd(e.then)?new t(function(n,r){try{e.then(n,r)}catch(i){r(i)}}):new t(function(n){n(e)})},t.reject=function(e){return new t(function(n,r){r(e)})},t.all=function(e){if(!(!e||!e.length))return new t(function(n,r){try{for(var i=[],o=0,s=0;s<e.length;s++){var a=e[s];a&&Jd(a.then)?(o++,a.then(ORe(i,s,function(){--o===0&&n(i)}),r)):i[s]=a}o===0&&setTimeout(function(){n(i)},0)}catch(u){r(u)}})},t.race=function(e){return new t(function(n,r){if(!(!e||!e.length))try{for(var i=function(s){var a=e[s];a&&Jd(a.then)?a.then(n,r):setTimeout(function(){n(a)},0)},o=0;o<e.length;o++)i(o)}catch(s){r(s)}})},t}(),$l=NRe});function yg(){return new Date().getTime()}var LRe,LQ,nE,Zd,HF,FRe,FQ,MQ=k(()=>{gr();jF();nu();LRe=6e5,LQ=0,nE=[],Zd=[],HF=[];FRe=function(){function t(e,n){var r=0,i=(e||"<unnamed>")+"."+LQ;LQ++,it(t,this,function(a){var u=null,c=0;a.scheduleEvent=function(f,d,p){var m=i+"."+c;c++,d&&(m+="-("+d+")");var h=m+"{"+r+"}";r++;var g={evt:null,tm:yg(),id:h,isRunning:!1,isAborted:!1};return u?g.evt=P(g,u):g.evt=T(g),u=g,u.evt._schId=h,g.evt;function v(E){for(var C=yg(),S=C-LRe,I=E.length,R=0;R<I;){var D=E[R];if(D&&D.tm<S){var A=null;D.abort?(A="Aborting ["+D.id+"] due to Excessive runtime ("+(C-D.tm)+" ms)",D.abort(A)):A="Removing ["+D.id+"] due to Excessive runtime ("+(C-D.tm)+" ms)",s(A),E.splice(R,1),I--}else R++}}function x(E,C){var S=!1,I=l(nE,E);if(I||(I=l(HF,E),S=!0),I){I.to&&(clearTimeout(I.to),I.to=null);var R=yg()-I.tm;C?S?s("Timed out event ["+E+"] finally complete -- "+R+" ms"):o("Promise ["+E+"] Complete -- "+R+" ms"):(HF.push(I),s("Event ["+E+"] Timed out and removed -- "+R+" ms"))}else o("Failed to remove ["+E+"] from running queue");u&&u.id===E&&(u=null),v(nE),v(Zd),v(HF)}function y(E,C){return function(S){return x(E,!0),C&&C(S),S}}function w(E,C,S,I){C.then(function(R){return R instanceof $l?(o("Event ["+E+"] returned a promise -- waiting"),w(E,R,S,I),R):y(E,S)(R)},y(E,I))}function _(E,C){var S=E.id;return new $l(function(I,R){o("Event ["+S+"] Starting -- waited for "+(E.wTm||"--")+" ms"),E.isRunning=!0,E.abort=function(A){E.abort=null,E.isAborted=!0,x(S,!1),R(new Error(A))};var D=C(S);D instanceof $l?(p&&(E.to=setTimeout(function(){x(S,!1),R(new Error("Timed out after ["+p+"] ms"))},p)),w(S,D,function(A){o("Event ["+S+"] Resolving after "+(yg()-E.tm)+" ms"),I(A)},R)):(o("Promise ["+S+"] Auto completed as the start action did not return a promise"),I())})}function T(E){var C=yg();return E.wTm=C-E.tm,E.tm=C,E.isAborted?$l.reject(new Error("["+m+"] was aborted")):(nE.push(E),_(E,f))}function P(E,C){var S=new $l(function(I,R){var D=yg()-C.tm,A=C.id;o("["+m+"] is waiting for ["+A+":"+D+" ms] to complete before starting -- ["+Zd.length+"] waiting and ["+nE.length+"] running"),E.abort=function(N){E.abort=null,l(Zd,m),E.isAborted=!0,R(new Error(N))},C.evt.then(function(N){l(Zd,m),T(E).then(I,R)},function(N){l(Zd,m),T(E).then(I,R)})});return Zd.push(E),S}};function l(f,d){for(var p=0;p<f.length;p++)if(f[p].id===d)return f.splice(p,1)[0];return null}});function o(a){var u=ks();u&&u.QUnit&&console&&console.log("ESPromiseScheduler["+i+"] "+a)}function s(a){Bs(n,"ESPromiseScheduler["+i+"] "+a)}}return t.incomplete=function(){return nE},t.waitingToStart=function(){return Zd},t}(),FQ=FRe});var UQ,qQ=k(()=>{nu();Kw();tE();UQ=function(){function t(e){var n=this,r={},i=[],o=[];e&&o.push(e);function s(l,f){var d,p=r[l];if(p&&(d=p[f]),!d&&d!==null){if(Qt(l)&&Qt(f))if(o.length>0){for(var m=0;m<o.length;m++)if(o[m].handleField(l,f)){d={canHandle:!0,fieldHandler:o[m]};break}}else i.length===0&&(d={canHandle:!0});if(!d&&d!==null){d=null;for(var m=0;m<i.length;m++)if(i[m].handleField(l,f)){d={canHandle:!0,handler:i[m],fieldHandler:null};break}}p||(p=r[l]={}),p[f]=d}return d}n.addSanitizer=function(l){l&&(i.push(l),r={})},n.addFieldSanitizer=function(l){l&&(o.push(l),r={})},n.handleField=function(l,f){var d=s(l,f);return d?d.canHandle:!1},n.value=function(l,f,d,p){var m=s(l,f);if(m&&m.canHandle){if(!m||!m.canHandle)return null;if(m.handler)return m.handler.value(l,f,d,p);if(!Qt(f)||Me(d)||d===Ks)return null;var h=null,g=Xs(d);if((g&8192)===8192){var v=g&-8193;if(h=d,!Mn(h.value)||v!==1&&v!==2&&v!==3&&(v&4096)!==4096)return null}else g===1||g===2||g===3||(g&4096)===4096?h=u(l,f,d):g===4&&(h=u(l,f,p?JSON.stringify(d):d));if(h)return a(m,l,f,g,h,p)}return null},n.property=function(l,f,d,p){var m=s(l,f);if(!m||!m.canHandle||!Qt(f)||Me(d)||!Mn(d.value))return null;var h=Xs(d.value);return h===0?null:a(m,l,f,h,d,p)};function a(l,f,d,p,m,h){if(l.handler)return l.handler.property(f,d,m,h);if(!Me(m.kind)){if((p&4096)===4096||!vg(m.kind))return null;m.value=m.value.toString()}return c(l.fieldHandler,f,d,p,m)}function u(l,f,d){return Mn(d)?{value:d}:null}function c(l,f,d,p,m){if(m&&l){var h=l.getSanitizer(f,d,p,m.kind,m.propertyType);if(h)if(p===4){var g={},v=m.value;Nt(v,function(y,w){var _=f+"."+d;if(Mn(w)){var T=u(_,y,w);T=c(l,_,y,Xs(w),T),T&&(g[y]=T.value)}}),m.value=g}else{var x={path:f,name:d,type:p,prop:m,sanitizer:n};m=h.call(n,x)}}return m}}return t.getFieldType=Xs,t}()});var jQ={};ua(jQ,{AppInsightsCore:()=>DQ,BaseCore:()=>OQ,BaseTelemetryPlugin:()=>Yd,CoreUtils:()=>AQ,DiagnosticLogger:()=>$s,ESPromise:()=>$l,ESPromiseScheduler:()=>FQ,EventHelper:()=>mF,EventLatency:()=>_Q,EventPersistence:()=>CQ,EventPropertyType:()=>bQ,EventsDiscardedReason:()=>js,FullVersionString:()=>iu,InternalAppInsightsCore:()=>Ww,InternalBaseCore:()=>Kd,LoggingSeverity:()=>RF,MinChannelPriorty:()=>y1,NotificationManager:()=>Vw,PerfEvent:()=>Bd,PerfManager:()=>Pw,ProcessTelemetryContext:()=>CF,TraceLevel:()=>SQ,Undefined:()=>Nn,Utils:()=>RQ,ValueKind:()=>EQ,ValueSanitizer:()=>UQ,Version:()=>qT,_ExtendedInternalMessageId:()=>TQ,_InternalLogMessage:()=>$d,_InternalMessageId:()=>Yw,__getRegisteredEvents:()=>dF,_logInternalMessage:()=>rF,_throwInternal:()=>jt,_warnToConsole:()=>Bs,addEventHandler:()=>Ul,addEventListeners:()=>TT,addPageHideEventListener:()=>ug,addPageShowEventListener:()=>lg,addPageUnloadEventListener:()=>Gd,areCookiesSupported:()=>Gs,arrForEach:()=>le,arrIndexOf:()=>Gn,arrMap:()=>Nd,arrReduce:()=>Ld,attachEvent:()=>ag,cookieAvailable:()=>Gs,createCookieMgr:()=>Xc,createEnumStyle:()=>oi,createGuid:()=>qF,createProcessTelemetryContext:()=>Hi,createTraceParent:()=>yF,createUniqueNamespace:()=>Ws,createUnloadHandlerContainer:()=>zd,dateNow:()=>zn,deleteCookie:()=>FF,detachEvent:()=>cg,disableCookies:()=>NF,disallowsSameSiteNone:()=>og,doPerf:()=>un,dumpObj:()=>Gt,eventOff:()=>Wd,eventOn:()=>Vd,extend:()=>Hl,findW3cTraceParent:()=>EF,formatTraceParent:()=>wF,generateW3CId:()=>Jc,getCommonSchemaMetaData:()=>eE,getConsole:()=>bw,getCookie:()=>MF,getCookieValue:()=>UF,getCrypto:()=>Cw,getDocument:()=>ji,getExceptionName:()=>Fd,getFieldValueType:()=>Xs,getGlobal:()=>ks,getGlobalInst:()=>Jt,getHistory:()=>K1,getIEVersion:()=>X1,getISOString:()=>Ko,getJSON:()=>eg,getLocation:()=>qd,getMsCrypto:()=>Sw,getNavigator:()=>vo,getPerformance:()=>Zh,getSetValue:()=>Rl,getTenantId:()=>Qw,getTime:()=>si,getWindow:()=>Da,hasDocument:()=>dT,hasHistory:()=>pT,hasJSON:()=>jd,hasNavigator:()=>_w,hasOwnProperty:()=>Vc,hasWindow:()=>Ew,isArray:()=>Oe,isArrayValid:()=>jT,isBeaconsSupported:()=>Dl,isBoolean:()=>Wc,isChromium:()=>HT,isDate:()=>Yh,isDocumentObjectAvailable:()=>Xw,isError:()=>Od,isFetchSupported:()=>tg,isFunction:()=>Xe,isIE:()=>Hs,isLatency:()=>Jw,isNotTruthy:()=>k1,isNullOrUndefined:()=>Me,isNumber:()=>Mi,isObject:()=>hr,isReactNative:()=>Kc,isSampledFlag:()=>xF,isString:()=>Qt,isTruthy:()=>Kh,isTypeof:()=>Gh,isUint8ArrayAvailable:()=>OF,isUndefined:()=>dt,isValidSpanId:()=>mg,isValidTraceId:()=>pg,isValidTraceParent:()=>RT,isValueAssigned:()=>Mn,isValueKind:()=>vg,isWindowObjectAvailable:()=>kF,isXhrSupported:()=>ng,mergeEvtNamespace:()=>Qc,newGuid:()=>fg,newId:()=>Nl,normalizeJsName:()=>Dd,objCreate:()=>Ra,objDefineAccessors:()=>go,objForEachKey:()=>Nt,objFreeze:()=>Ui,objKeys:()=>ii,objSeal:()=>D1,openXhr:()=>$T,optimizeObject:()=>Gc,parseTraceParent:()=>jw,perfNow:()=>dg,proxyAssign:()=>O1,proxyFunctionAs:()=>Al,proxyFunctions:()=>Md,random32:()=>Vs,randomValue:()=>ig,removeEventHandler:()=>ST,removeEventListeners:()=>Ml,removePageHideEventListener:()=>Uw,removePageShowEventListener:()=>qw,removePageUnloadEventListener:()=>Mw,safeGetCookieMgr:()=>Fl,safeGetLogger:()=>Tw,sanitizeProperty:()=>Zw,setCookie:()=>LF,setEnableEnvMocks:()=>Y1,setProcessTelemetryTimings:()=>Qd,setValue:()=>qi,strContains:()=>wn,strEndsWith:()=>kd,strFunction:()=>Go,strObject:()=>On,strPrototype:()=>Ln,strStartsWith:()=>zh,strTrim:()=>Lt,strUndefined:()=>Nn,throwError:()=>Yn,toISOString:()=>Ko,useXDomainRequest:()=>Hd});var ep=k(()=>{IQ();kQ();NQ();jF();MQ();qQ();nu();tE()});var tp,BT,VT,$F=k(()=>{tp="REAL_TIME",BT="NEAR_REAL_TIME",VT="BEST_EFFORT"});var Qs,WT,HQ,GT,$Q,BF,BQ,VQ,WQ,VF,WF,zT,GQ,GF,zQ,zF,YT,YF,KT,XT,QT,rE,KF,YQ,xg,XF,JT,iE=k(()=>{Qs="",WT="POST",HQ="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",GT="drop",$Q="send",BF="requeue",BQ="rspFail",VQ="oth",WQ="no-cache, no-store",VF="application/x-json-stream",WF="cache-control",zT="content-type",GQ="kill-tokens",GF="kill-duration",zQ="kill-duration-seconds",zF="time-delta-millis",YT="client-version",YF="client-id",KT="time-delta-to-apply-millis",XT="upload-time",QT="apikey",rE="AuthMsaDeviceTicket",KF="AuthXToken",YQ="NoResponseBody",xg="msfpc",XF="trace",JT="user"});function XQ(t){var e=(t.ext||{}).intweb;return e&&Mn(e[xg])?e[xg]:null}function KQ(t){for(var e=null,n=0;e===null&&n<t.length;n++)e=XQ(t[n]);return e}var wg,QF=k(()=>{ep();iE();wg=function(){function t(e,n){var r=n?[].concat(n):[],i=this,o=KQ(r);i.iKey=function(){return e},i.Msfpc=function(){return o||Qs},i.count=function(){return r.length},i.events=function(){return r},i.addEvent=function(s){return s?(r.push(s),o||(o=XQ(s)),!0):!1},i.split=function(s,a){var u;if(s<r.length){var c=r.length-s;Me(a)||(c=a<c?a:c),u=r.splice(s,c),o=KQ(r)}return new t(e,u)}}return t.create=function(e,n){return new t(e,n)},t}()});var MRe,QQ,JQ=k(()=>{gr();MRe=function(){function t(){var e=!0,n=!0,r=!0,i="use-collector-delta",o=!1;it(t,this,function(s){s.allowRequestSending=function(){return e},s.firstRequestSent=function(){r&&(r=!1,o||(e=!1))},s.shouldAddClockSkewHeaders=function(){return n},s.getClockSkewHeaderValue=function(){return i},s.setClockSkew=function(a){o||(a?(i=a,n=!0,o=!0):n=!1,e=!0)}})}return t.__ieDyn=1,t}(),QQ=MRe});var URe,qRe,ZQ,eJ=k(()=>{gr();ep();URe=1e3,qRe=function(){function t(){var e={};function n(r){var i=[];return r&&le(r,function(o){i.push(Lt(o))}),i}it(t,this,function(r){r.setKillSwitchTenants=function(i,o){if(i&&o)try{var s=n(i.split(","));if(o==="this-request-only")return s;for(var a=parseInt(o,10)*URe,u=0;u<s.length;++u)e[s[u]]=zn()+a}catch{return[]}return[]},r.isTenantKilled=function(i){var o=e,s=Lt(i);return o[s]!==void 0&&o[s]>zn()?!0:(delete o[s],!1)}})}return t.__ieDyn=1,t}(),ZQ=qRe});function nJ(t){return!(t>=300&&t<500&&t!=408&&t!=429||t==501||t==505)}function ZT(t){var e=0,n=tJ*jRe,r=tJ*HRe,i=Math.floor(Math.random()*(r-n))+n;return e=Math.pow(2,t)*i,Math.min(e,$Re)}var jRe,HRe,tJ,$Re,JF=k(()=>{jRe=.8,HRe=1.2,tJ=3e3,$Re=6e5});function iJ(t,e,n,r){if(r&&t){var i=eE(r.value,r.kind,r.propertyType);if(i>-1){var o=t[rJ];o||(o=t[rJ]={f:{}});var s=o[eI];if(s||(s=o[eI]={}),e)for(var a=0;a<e.length;a++){var u=e[a];s[u]||(s[u]={f:{}});var c=s[u][eI];c||(c=s[u][eI]={}),s=c}s=s[n]={},Oe(r.value)?s.a={t:i}:s.t=i}}}var BRe,VRe,oJ,sJ,WRe,rJ,eI,GRe,aJ,cJ=k(()=>{gr();ep();QF();iE();BRe=20,VRe=3984588,oJ=65e3,sJ=2e6,WRe=Math.min(sJ,oJ),rJ="metadata",eI="f",GRe=/\./,aJ=function(){function t(e,n,r,i){var o="data",s="baseData",a="ext",u=!!i,c=!0,l=n,f={};it(t,this,function(d){d.createPayload=function(h,g,v,x,y,w){return{apiKeys:[],payloadBlob:Qs,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:h,isTeardown:g,isSync:v,isBeacon:x,sendType:w,sendReason:y}},d.appendPayload=function(h,g,v){var x=h&&g&&!h.overflow;return x&&un(e,function(){return"Serializer:appendPayload"},function(){for(var y=g.events(),w=h.payloadBlob,_=h.numEvents,T=!1,P=[],E=[],C=h.isBeacon,S=C?oJ:VRe,I=C?WRe:sJ,R=0,D=0;R<y.length;){var A=y[R];if(A){if(_>=v){h.overflow=g.split(R);break}var N=d.getEventBlob(A);if(N&&N.length<=I){var O=N.length,M=w.length;if(M+O>S){h.overflow=g.split(R);break}w&&(w+=`
`),w+=N,D++,D>BRe&&(w.substr(0,1),D=0),T=!0,_++}else N?P.push(A):E.push(A),y.splice(R,1),R--}R++}if(P&&P.length>0&&h.sizeExceed.push(wg.create(g.iKey(),P)),E&&E.length>0&&h.failedEvts.push(wg.create(g.iKey(),E)),T){h.batches.push(g),h.payloadBlob=w,h.numEvents=_;var j=g.iKey();Gn(h.apiKeys,j)===-1&&h.apiKeys.push(j)}},function(){return{payload:h,theBatch:{iKey:g.iKey(),evts:g.events()},max:v}}),x},d.getEventBlob=function(h){try{return un(e,function(){return"Serializer.getEventBlob"},function(){var g={};g.name=h.name,g.time=h.time,g.ver=h.ver,g.iKey="o:"+Qw(h.iKey);var v={},x=h[a];x&&(g[a]=v,Nt(x,function(_,T){var P=v[_]={};m(T,P,"ext."+_,!0,null,null,!0)}));var y=g[o]={};y.baseType=h.baseType;var w=y[s]={};return m(h.baseData,w,s,!1,[s],function(_,T,P){iJ(v,_,T,P)},c),m(h.data,y,o,!1,[],function(_,T,P){iJ(v,_,T,P)},c),JSON.stringify(g)},function(){return{item:h}})}catch{return null}};function p(h,g){var v=f[h];return v===void 0&&(h.length>=7&&(v=zh(h,"ext.metadata")||zh(h,"ext.web")),f[h]=v),v}function m(h,g,v,x,y,w,_){Nt(h,function(T,P){var E=null;if(P||Mn(P)){var C=v,S=T,I=y,R=g;if(u&&!x&&GRe.test(T)){var D=T.split("."),A=D.length;if(A>1){I&&(I=I.slice());for(var N=0;N<A-1;N++){var O=D[N];R=R[O]=R[O]||{},C+="."+O,I&&I.push(O)}S=D[A-1]}}var M=x&&p(C,S);if(!M&&l&&l.handleField(C,S)?E=l.value(C,S,P,r):E=Zw(S,P,r),E){var j=E.value;if(R[S]=j,w&&w(I,S,E),_&&typeof j=="object"&&!Oe(j)){var W=I;W&&(W=W.slice(),W.push(S)),m(P,j,C+"."+S,x,W,w,_)}}}})}})}return t.__ieDyn=1,t}()});function rp(t,e,n){eM[t]=e,n!==!1&&(tM[e]=t)}function lJ(t){try{return t.responseText}catch{}return Qs}function fJ(t,e){var n=!1;if(t&&e){var r=ii(t);if(r&&r.length>0)for(var i=e.toLowerCase(),o=0;o<r.length;o++){var s=r[o];if(s&&Vc(e,s)&&s.toLowerCase()===i){n=!0;break}}}return n}function Eg(t,e,n,r){e&&n&&n.length>0&&(r&&eM[e]?(t.hdrs[eM[e]]=n,t.useHdrs=!0):t.url+="&"+e+"="+n)}function dJ(t,e){return e&&(Mi(e)?t=[e].concat(t):Oe(e)&&(t=e.concat(t))),t}var np,ZF,uJ,zRe,eM,tM,pJ,mJ=k(()=>{gr();JQ();eJ();ep();iE();JF();cJ();ZF="sendAttempt",uJ="&"+YQ+"=true",zRe=(np={},np[1]=BF,np[100]=BF,np[200]="sent",np[8004]=GT,np[8003]=GT,np),eM={},tM={};rp(rE,rE,!1);rp(YT,YT);rp(YF,"Client-Id");rp(QT,QT);rp(KT,KT);rp(XT,XT);rp(KF,KF);pJ=function(){function t(e,n,r,i,o){this._responseHandlers=[];var s="?cors=true&"+zT.toLowerCase()+"="+VF,a=new ZQ,u=!1,c=new QQ,l=!1,f=0,d,p,m,h,g=!0,v=[],x={},y=[],w=null,_=!1,T,P=!1,E=!1,C,S,I,R,D;it(t,this,function(A){var N=!0;A.initialize=function(U,X,ee,oe,fe){var je;fe||(fe={}),s=U+s,E=dt(fe.avoidOptions)?!0:!fe.avoidOptions,h=X,T=X.getCookieMgr(),_=!h.config.disableEventTimings;var Ie=!!h.config.enableCompoundKey;d=ee,p=d.diagLog();var q=fe.valueSanitizer,z=fe.stringifyObjects;dt(fe.enableCompoundKey)||(Ie=!!fe.enableCompoundKey),C=fe.xhrTimeout,S=!!fe.disableXhrSync,I=!!fe.disableFetchKeepAlive,D=fe.addNoResponse!==!1,l=!Kc(),w=new aJ(h,q,z,Ie),Me(fe.useSendBeacon)||(l=!!fe.useSendBeacon);var G=oe,se=fe.alwaysUseXhrOverride?oe:null,de=fe.alwaysUseXhrOverride?oe:null,_e=[3,2];if(!oe){g=!1;var ot=qd();ot&&ot.protocol&&ot.protocol.toLowerCase()==="file:"&&(N=!1);var yt=[];Kc()?(yt=[2,1],_e=[2,1,3]):yt=[1,2,3],yt=dJ(yt,fe.transports),oe=O(yt,!1),oe||Bs(p,"No available transport to send events"),G=O(yt,!0)}se||(_e=dJ(_e,fe.unloadTransports),se=O(_e,!0)),R=!g&&(l&&Dl()||!I&&tg(!0)),m=(je={},je[0]=oe,je[1]=G||O([1,2,3],!0),je[2]=se||G||O([1],!0),je[3]=de||O([2,3],!0)||G||O([1],!0),je)};function O(U,X){for(var ee=0,oe=null,fe=0;oe==null&&fe<U.length;)ee=U[fe],ee===1?Hd()?oe=M:ng()&&(oe=W):ee===2&&tg(X)&&(!X||X&&!I)?oe=j:l&&ee===3&&Dl()&&(oe=H),fe++;return oe?{_transport:ee,_isSync:X,sendPOST:oe}:null}A._getDbgPlgTargets=function(){return[m[0],a,w,m]};function M(U,X,ee){var oe=new XDomainRequest;oe.open(WT,U.urlString),U.timeout&&(oe.timeout=U.timeout),oe.onload=function(){var fe=lJ(oe);L(X,200,{},fe),gy(fe)},oe.onerror=function(){L(X,400,{})},oe.ontimeout=function(){L(X,500,{})},oe.onprogress=function(){},ee?oe.send(U.data):o.set(function(){oe.send(U.data)},0)}function j(U,X,ee){var oe,fe=U.urlString,je=!1,Ie=!1,q=(oe={body:U.data,method:WT},oe[HQ]=!0,oe);ee&&(q.keepalive=!0,U._sendReason===2&&(je=!0,D&&(fe+=uJ))),N&&(q.credentials="include"),U.headers&&ii(U.headers).length>0&&(q.headers=U.headers),fetch(fe,q).then(function(z){var G={},se=Qs,de=z.headers;de&&de.forEach(function(_e,ot){G[ot]=_e}),z.body&&z.text().then(function(_e){se=_e}),Ie||(Ie=!0,L(X,z.status,G,se),gy(se))}).catch(function(z){Ie||(Ie=!0,L(X,0,{}))}),je&&!Ie&&(Ie=!0,L(X,200,{})),!Ie&&U.timeout>0&&o.set(function(){Ie||(Ie=!0,L(X,500,{}))},U.timeout)}function W(U,X,ee){var oe=U.urlString;function fe(z,G,se){if(!z[se]&&G&&G.getResponseHeader){var de=G.getResponseHeader(se);de&&(z[se]=Lt(de))}return z}function je(z){var G={};return z.getAllResponseHeaders?G=vD(z.getAllResponseHeaders()):(G=fe(G,z,zF),G=fe(G,z,GF),G=fe(G,z,zQ)),G}function Ie(z,G){L(X,z.status,je(z),G)}ee&&U.disableXhrSync&&(ee=!1);var q=$T(WT,oe,N,!0,ee,U.timeout);Nt(U.headers,function(z,G){q.setRequestHeader(z,G)}),q.onload=function(){var z=lJ(q);Ie(q,z),gy(z)},q.onerror=function(){Ie(q)},q.ontimeout=function(){Ie(q)},q.send(U.data)}function L(U,X,ee,oe){try{U(X,ee,oe)}catch(fe){jt(p,2,518,Gt(fe))}}function H(U,X,ee){var oe=U,fe=200,je=oe._thePayload,Ie=U.urlString+(D?uJ:Qs);try{var q=vo();if(!q.sendBeacon(Ie,U.data))if(je){var z=[];le(je.batches,function(G){if(z&&G&&G.count()>0){for(var se=G.events(),de=0;de<se.length;de++)if(!q.sendBeacon(Ie,w.getEventBlob(se[de]))){z.push(G.split(de));break}}else z.push(G.split(0))}),Po(z,8003,je.sendType,!0)}else fe=0}catch(G){Bs(p,"Failed to send telemetry using sendBeacon API. Ex:"+Gt(G)),fe=0}finally{L(X,fe,{},Qs)}}function $(U){return U===2||U===3}function V(U){return P&&$(U)&&(U=2),U}A.addQueryStringParameter=function(U,X){for(var ee=0;ee<v.length;ee++)if(v[ee].name===U){v[ee].value=X;return}v.push({name:U,value:X})},A.addHeader=function(U,X){x[U]=X},A.canSendRequest=function(){return re()&&c.allowRequestSending()},A.sendQueuedRequests=function(U,X){dt(U)&&(U=0),P&&(U=V(U),X=2),Ce(y,U,0)&&wt(ye(),0,!1,U,X||0)},A.isCompletelyIdle=function(){return!u&&f===0&&y.length===0},A.setUnloading=function(U){P=U},A.addBatch=function(U){if(U&&U.count()>0){if(a.isTenantKilled(U.iKey()))return!1;y.push(U)}return!0},A.teardown=function(){y.length>0&&wt(ye(),0,!0,2,2)},A.pause=function(){u=!0},A.resume=function(){u=!1,A.sendQueuedRequests(0,4)},A.sendSynchronousBatch=function(U,X,ee){U&&U.count()>0&&(Me(X)&&(X=1),P&&(X=V(X),ee=2),wt([U],0,!1,X,ee||0))};function re(){return!u&&f<n}function ye(){var U=y;return y=[],U}function Ce(U,X,ee){var oe=!1;return U&&U.length>0&&!u&&m[X]&&w&&(oe=X!==0||re()&&(ee>0||c.allowRequestSending())),oe}function Te(U){var X={};return U&&le(U,function(ee,oe){X[oe]={iKey:ee.iKey(),evts:ee.events()}}),X}function wt(U,X,ee,oe,fe){if(!(!U||U.length===0)){if(u){Po(U,1,oe);return}oe=V(oe);try{var je=U,Ie=oe!==0;un(h,function(){return"HttpManager:_sendBatches"},function(q){q&&(U=U.slice(0));for(var z=[],G=null,se=si(),de=m[oe]||(Ie?m[1]:m[0]),_e=de&&de._transport,ot=R&&(P||$(oe)||_e===3||de._isSync&&_e===2);Ce(U,oe,X);){var yt=U.shift();yt&&yt.count()>0&&(a.isTenantKilled(yt.iKey())?z.push(yt):(G=G||w.createPayload(X,ee,Ie,ot,fe,oe),w.appendPayload(G,yt,e)?G.overflow!==null&&(U=[G.overflow].concat(U),G.overflow=null,In(G,se,si(),fe),se=si(),G=null):(In(G,se,si(),fe),se=si(),U=[yt].concat(U),G=null)))}G&&In(G,se,si(),fe),U.length>0&&(y=U.concat(y)),Po(z,8004,oe)},function(){return{batches:Te(je),retryCount:X,isTeardown:ee,isSynchronous:Ie,sendReason:fe,useSendBeacon:$(oe),sendType:oe}},!Ie)}catch(q){jt(p,2,48,"Unexpected Exception sending batch: "+Gt(q))}}}function Pe(U,X){var ee={url:s,hdrs:{},useHdrs:!1};X?(ee.hdrs=Hl(ee.hdrs,x),ee.useHdrs=ii(ee.hdrs).length>0):Nt(x,function(q,z){tM[q]?Eg(ee,tM[q],z,!1):(ee.hdrs[q]=z,ee.useHdrs=!0)}),Eg(ee,YF,"NO_AUTH",X),Eg(ee,YT,iu,X);var oe=Qs;le(U.apiKeys,function(q){oe.length>0&&(oe+=","),oe+=q}),Eg(ee,QT,oe,X),Eg(ee,XT,zn().toString(),X);var fe=ob(U);if(Mn(fe)&&(ee.url+="&ext.intweb.msfpc="+fe),c.shouldAddClockSkewHeaders()&&Eg(ee,KT,c.getClockSkewHeaderValue(),X),h.getWParam){var je=h.getWParam();je>=0&&(ee.url+="&w="+je)}for(var Ie=0;Ie<v.length;Ie++)ee.url+="&"+v[Ie].name+"="+v[Ie].value;return ee}function ze(U,X,ee){U[X]=U[X]||{},U[X][d.identifier]=ee}function In(U,X,ee,oe){if(U&&U.payloadBlob&&U.payloadBlob.length>0){var fe=!!A.sendHook,je=m[U.sendType];!$(U.sendType)&&U.isBeacon&&U.sendReason===2&&(je=m[2]||m[3]||je);var Ie=E;(U.isBeacon||je._transport===3)&&(Ie=!1);var q=Pe(U,Ie);Ie=Ie||q.useHdrs;var z=si();un(h,function(){return"HttpManager:_doPayloadSend"},function(){for(var G=0;G<U.batches.length;G++)for(var se=U.batches[G],de=se.events(),_e=0;_e<de.length;_e++){var ot=de[_e];if(_){var yt=ot.timings=ot.timings||{};ze(yt,"sendEventStart",z),ze(yt,"serializationStart",X),ze(yt,"serializationCompleted",ee)}ot[ZF]>0?ot[ZF]++:ot[ZF]=1}Po(U.batches,1e3+(oe||0),U.sendType,!0);var Vt={data:U.payloadBlob,urlString:q.url,headers:q.hdrs,_thePayload:U,_sendReason:oe,timeout:C,disableXhrSync:S,disableFetchKeepAlive:I};Ie&&(fJ(Vt.headers,WF)||(Vt.headers[WF]=WQ),fJ(Vt.headers,zT)||(Vt.headers[zT]=VF));var yy=null;je&&(yy=function(sb){c.firstRequestSent();var xy=function(yD,ome){hs(yD,ome,U,oe)},ca=U.isTeardown||U.isSync;try{je.sendPOST(sb,xy,ca),A.sendListener&&A.sendListener(Vt,sb,ca,U.isBeacon)}catch(yD){Bs(p,"Unexpected exception sending payload. Ex:"+Gt(yD)),L(xy,0,{})}}),un(h,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(yy)if(U.sendType===0&&f++,fe&&!U.isBeacon&&je._transport!==3){var sb={data:Vt.data,urlString:Vt.urlString,headers:Hl({},Vt.headers),timeout:Vt.timeout,disableXhrSync:Vt.disableXhrSync,disableFetchKeepAlive:Vt.disableFetchKeepAlive},xy=!1;un(h,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{A.sendHook(sb,function(ca){xy=!0,!g&&!ca._thePayload&&(ca._thePayload=ca._thePayload||Vt._thePayload,ca._sendReason=ca._sendReason||Vt._sendReason),yy(ca)},U.isSync||U.isTeardown)}catch{xy||yy(Vt)}})}else yy(Vt)})},function(){return{thePayload:U,serializationStart:X,serializationCompleted:ee,sendReason:oe}},U.isSync)}U.sizeExceed&&U.sizeExceed.length>0&&Po(U.sizeExceed,8003,U.sendType),U.failedEvts&&U.failedEvts.length>0&&Po(U.failedEvts,8002,U.sendType)}function vi(U,X){_&&le(U,function(ee){var oe=ee.timings=ee.timings||{};ze(oe,"sendEventCompleted",X)})}function hs(U,X,ee,oe){var fe=9e3,je=null,Ie=!1,q=!1;try{var z=!0;if(typeof U!==Nn){if(X){c.setClockSkew(X[zF]);var G=X[GF]||X["kill-duration-seconds"];le(a.setKillSwitchTenants(X[GQ],G),function(de){le(ee.batches,function(_e){if(_e.iKey()===de){je=je||[];var ot=_e.split(0);ee.numEvents-=ot.count(),je.push(ot)}})})}if(U==200||U==204){fe=200;return}(!nJ(U)||ee.numEvents<=0)&&(z=!1),fe=9e3+U%1e3}if(z){fe=100;var se=ee.retryCnt;ee.sendType===0&&(se<r?(Ie=!0,hy(function(){ee.sendType===0&&f--,wt(ee.batches,se+1,ee.isTeardown,P?2:ee.sendType,5)},P,ZT(se))):(q=!0,P&&(fe=8001)))}}finally{Ie||(c.setClockSkew(),ic(ee,fe,oe,q)),Po(je,8004,ee.sendType)}}function ic(U,X,ee,oe){try{oe&&d._backOffTransmission(),X===200&&(!oe&&!U.isSync&&d._clearBackOff(),ib(U.batches)),Po(U.batches,X,U.sendType,!0)}finally{U.sendType===0&&(f--,ee!==5&&A.sendQueuedRequests(U.sendType,ee))}}function ib(U){if(_){var X=si();le(U,function(ee){ee&&ee.count()>0&&vi(ee.events(),X)})}}function hy(U,X,ee){X?U():o.set(U,ee)}function vD(U){var X={};if(Qt(U)){var ee=Lt(U).split(/[\r\n]+/);le(ee,function(oe){if(oe){var fe=oe.indexOf(": ");if(fe!==-1){var je=Lt(oe.substring(0,fe)).toLowerCase(),Ie=Lt(oe.substring(fe+1));X[je]=Ie}else X[Lt(oe)]=1}})}return X}function ob(U){for(var X=0;X<U.batches.length;X++){var ee=U.batches[X].Msfpc();if(ee)return encodeURIComponent(ee)}return Qs}function gy(U){var X=A._responseHandlers;try{for(var ee=0;ee<X.length;ee++)try{X[ee](U)}catch(fe){jt(p,1,519,"Response handler failed: "+fe)}if(U){var oe=JSON.parse(U);Mn(oe.webResult)&&Mn(oe.webResult[xg])&&T.set("MSFPC",oe.webResult[xg],365*86400)}}catch{}}function Po(U,X,ee,oe){if(U&&U.length>0&&i){var fe=i[vy(X)];if(fe){var je=ee!==0;un(h,function(){return"HttpManager:_sendBatchesNotification"},function(){hy(function(){try{fe.call(i,U,X,je,ee)}catch(Ie){jt(p,1,74,"send request notification failed: "+Ie)}},oe||je,0)},function(){return{batches:Te(U),reason:X,isSync:je,sendSync:oe,sendType:ee}},!je)}}}function vy(U){var X=zRe[U];return Mn(X)||(X=VQ,U>=9e3&&U<=9999?X=BQ:U>=8e3&&U<=8999?X=GT:U>=1e3&&U<=1999&&(X=$Q)),X}})}return t.__ieDyn=1,t}()});function YRe(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout(t,e,n)}function KRe(t){clearTimeout(t)}function oE(t,e){return{set:t||YRe,clear:e||KRe}}var hJ=k(()=>{});var XRe,gJ,QRe,vJ,yJ,JRe,xJ,ZRe,ip,tI,wJ,EJ,eAe,tAe,_J,bJ=k(()=>{Oi();gr();ep();$F();QF();mJ();iE();JF();hJ();XRe=.25,gJ=500,QRe=20,vJ=6,yJ=2,JRe=4,xJ=2,ZRe=1,ip="eventsDiscarded",tI="overrideInstrumentationKey",wJ="maxEventRetryAttempts",EJ="maxUnloadEventRetryAttempts",eAe="addUnloadCb",tAe=function(t){Os(e,t);function e(){var n=t.call(this)||this;n.identifier="PostChannel",n.priority=1011,n.version="3.2.9";var r,i=!1,o=[],s=null,a=!1,u=0,c=500,l=0,f=1e4,d={},p=tp,m=null,h=null,g=0,v=0,x,y,w={},_,T,P=-1,E,C=!0,S=!1,I=vJ,R=yJ,D,A;return it(e,n,function(N,O){re(),N._getDbgPlgTargets=function(){return[y]},N.initialize=function(q,z,G){un(z,function(){return"PostChannel:initialize"},function(){var se=z;O.initialize(q,z,G);try{var de=!!z[eAe];D=Qc(Ws(N.identifier),z.evtNamespace&&z.evtNamespace());var _e=N._getTelCtx();q.extensionConfig[N.identifier]=q.extensionConfig[N.identifier]||{},r=_e.getExtCfg(N.identifier),A=oE(r.setTimeoutOverride,r.clearTimeoutOverride),C=!r.disableOptimizeObj&&HT(),M(se),r.eventsLimitInMem>0&&(f=r.eventsLimitInMem),r.immediateEventLimit>0&&(c=r.immediateEventLimit),r.autoFlushEventsLimit>0&&(_=r.autoFlushEventsLimit),Mi(r[wJ])&&(I=r[wJ]),Mi(r[EJ])&&(R=r[EJ]),Ie(),r.httpXHROverride&&r.httpXHROverride.sendPOST&&(x=r.httpXHROverride),Mn(q.anonCookieName)&&y.addQueryStringParameter("anoncknm",q.anonCookieName),y.sendHook=r.payloadPreprocessor,y.sendListener=r.payloadListener;var ot=r.overrideEndpointUrl?r.overrideEndpointUrl:q.endpointUrl;N._notificationManager=z.getNotifyMgr(),y.initialize(ot,N.core,N,x,r);var yt=q.disablePageUnloadEvents||[];Gd(j,yt,D),ug(j,yt,D),lg(W,q.disablePageShowEvents,D)}catch(Vt){throw N.setInitialized(!1),Vt}},function(){return{coreConfig:q,core:z,extensions:G}})},N.processTelemetry=function(q,z){Qd(q,N.identifier),z=N._getTelCtx(z);var G=z.getExtCfg(N.identifier),se=!!r.disableTelemetry;G&&(se=se||!!G.disableTelemetry);var de=q;!se&&!i&&(r[tI]&&(de.iKey=r[tI]),G&&G[tI]&&(de.iKey=G[tI]),L(de,!0),S?Te(2,2):V()),N.processNext(de,z)},N._doTeardown=function(q,z){Te(2,2),i=!0,y.teardown(),Mw(null,D),Uw(null,D),qw(null,D),re()};function M(q){var z=q.getWParam;q.getWParam=function(){var G=0;return r.ignoreMc1Ms0CookieProcessing&&(G=G|2),G|z()}}function j(q){var z=q||Da().event;z.type!=="beforeunload"&&(S=!0,y.setUnloading(S)),Te(2,2)}function W(q){S=!1,y.setUnloading(S)}function L(q,z){if(q.sendAttempt||(q.sendAttempt=0),q.latency||(q.latency=1),q.ext&&q.ext[XF]&&delete q.ext[XF],q.ext&&q.ext[JT]&&q.ext[JT].id&&delete q.ext[JT].id,C&&(Qd,q.ext=Gc(q.ext),q.baseData&&(q.baseData=Gc(q.baseData)),q.data&&(q.data=Gc(q.data))),q.sync){if(g||a)q.latency=3,q.sync=!1;else if(y){C&&(q=Gc(q)),y.sendSynchronousBatch(wg.create(q.iKey,[q]),q.sync===!0?1:q.sync,3);return}}var G=q.latency,se=l,de=f;G===4&&(se=u,de=c);var _e=!1;if(se<de)_e=!In(q,z);else{var ot=1,yt=QRe;G===4&&(ot=4,yt=1),_e=!0,vi(q.iKey,q.latency,ot,yt)&&(_e=!In(q,z))}_e&&vy(ip,[q],js.QueueFull)}N.setEventQueueLimits=function(q,z){f=q>0?q:1e4,_=z>0?z:0,Ie();var G=l>q;if(!G&&T>0)for(var se=1;!G&&se<=3;se++){var de=w[se];de&&de.batches&&le(de.batches,function(_e){_e&&_e.count()>=T&&(G=!0)})}ze(!0,G)},N.pause=function(){Ce(),a=!0,y.pause()},N.resume=function(){a=!1,y.resume(),V()},N.addResponseHandler=function(q){y._responseHandlers.push(q)},N._loadTransmitProfiles=function(q){vD(),Nt(q,function(z,G){var se=G.length;if(se>=2){var de=se>2?G[2]:0;if(G.splice(0,se-2),G[1]<0&&(G[0]=-1),G[1]>0&&G[0]>0){var _e=G[0]/G[1];G[0]=Math.ceil(_e)*G[1]}de>=0&&G[1]>=0&&de>G[1]&&(de=G[1]),G.push(de),d[z]=G}})},N.flush=function(q,z,G){if(q===void 0&&(q=!0),!a)if(G=G||1,q)s==null?(Ce(),ic(1,0,G),s=ye(function(){s=null,ib(z,G)},0)):o.push(z);else{var se=Ce();H(1,1,G),z!=null&&z(),se&&V()}},N.setMsaAuthTicket=function(q){y.addHeader(rE,q)},N.hasEvents=$,N._setTransmitProfile=function(q){p!==q&&d[q]!==void 0&&(Ce(),p=q,V())};function H(q,z,G){var se=ic(q,z,G);return y.sendQueuedRequests(z,G),se}function $(){return l>0}function V(){if(P>=0&&ic(P,0,E)&&y.sendQueuedRequests(0,E),u>0&&!h&&!a){var q=d[p][2];q>=0&&(h=ye(function(){h=null,H(4,0,1),V()},q))}var z=d[p][1];!m&&!s&&z>=0&&!a&&($()?m=ye(function(){m=null,H(v===0?3:1,0,1),v++,v%=2,V()},z):v=0)}N._backOffTransmission=function(){g<JRe&&(g++,Ce(),V())},N._clearBackOff=function(){g&&(g=0,Ce(),V())};function re(){r=null,i=!1,o=[],s=null,a=!1,u=0,c=500,l=0,f=1e4,d={},p=tp,m=null,h=null,g=0,v=0,x=null,w={},_=void 0,T=0,P=-1,E=null,C=!0,S=!1,I=vJ,R=yJ,D=null,A=oE(),y=new pJ(gJ,xJ,ZRe,{requeue:gy,send:X,sent:ee,drop:oe,rspFail:fe,oth:je},A),ob(),wt(),Ie()}function ye(q,z){z===0&&g&&(z=1);var G=1e3;return g&&(G=ZT(g-1)),A.set(q,z*G)}function Ce(){return m!==null?(A.clear(m),m=null,v=0,!0):!1}function Te(q,z){Ce(),s&&(A.clear(s),s=null),a||H(1,q,z)}function wt(){w[4]={batches:[],iKeyMap:{}},w[3]={batches:[],iKeyMap:{}},w[2]={batches:[],iKeyMap:{}},w[1]={batches:[],iKeyMap:{}}}function Pe(q,z,G){var se=w[z];se||(z=1,se=w[z]);var de=se.iKeyMap[q];return!de&&G&&(de=wg.create(q),se.batches.push(de),se.iKeyMap[q]=de),de}function ze(q,z){y.canSendRequest()&&!g&&(_>0&&l>_&&(z=!0),z&&s==null&&N.flush(q,null,20))}function In(q,z){C&&(q=Gc(q));var G=q.latency,se=Pe(q.iKey,G,!0);return se.addEvent(q)?(G!==4?(l++,z&&q.sendAttempt===0&&ze(!q.sync,T>0&&se.count()>=T)):u++,!0):!1}function vi(q,z,G,se){for(;G<=z;){var de=Pe(q,z,!0);if(de&&de.count()>0){var _e=de.split(0,se),ot=_e.count();if(ot>0)return G===4?u-=ot:l-=ot,U(ip,[_e],js.QueueFull),!0}G++}return hs(),!1}function hs(){for(var q=0,z=0,G=function(de){var _e=w[de];_e&&_e.batches&&le(_e.batches,function(ot){de===4?q+=ot.count():z+=ot.count()})},se=1;se<=4;se++)G(se);l=z,u=q}function ic(q,z,G){var se=!1,de=z===0;return!de||y.canSendRequest()?un(N.core,function(){return"PostChannel._queueBatches"},function(){for(var _e=[],ot=4;ot>=q;){var yt=w[ot];yt&&yt.batches&&yt.batches.length>0&&(le(yt.batches,function(Vt){y.addBatch(Vt)?se=se||Vt&&Vt.count()>0:_e=_e.concat(Vt.events()),ot===4?u-=Vt.count():l-=Vt.count()}),yt.batches=[],yt.iKeyMap={}),ot--}_e.length>0&&vy(ip,_e,js.KillSwitch),se&&P>=q&&(P=-1,E=0)},function(){return{latency:q,sendType:z,sendReason:G}},!de):(P=P>=0?Math.min(P,q):q,E=Math.max(E,G)),se}function ib(q,z){H(1,0,z),hs(),hy(function(){q&&q(),o.length>0?s=ye(function(){s=null,ib(o.shift(),z)},0):(s=null,V())})}function hy(q){y.isCompletelyIdle()?q():s=ye(function(){s=null,hy(q)},XRe)}function vD(){Ce(),ob(),p=tp,V()}function ob(){d={},d[tp]=[2,1,0],d[BT]=[6,3,0],d[VT]=[18,9,0]}function gy(q,z){var G=[],se=I;S&&(se=R),le(q,function(de){de&&de.count()>0&&le(de.events(),function(_e){_e&&(_e.sync&&(_e.latency=4,_e.sync=!1),_e.sendAttempt<se?(Qd(_e,N.identifier),L(_e,!1)):G.push(_e))})}),G.length>0&&vy(ip,G,js.NonRetryableStatus),S&&Te(2,2)}function Po(q,z){var G=N._notificationManager||{},se=G[q];if(se)try{se.apply(G,z)}catch(de){jt(N.diagLog(),1,74,q+" notification failed: "+de)}}function vy(q,z){for(var G=[],se=2;se<arguments.length;se++)G[se-2]=arguments[se];z&&z.length>0&&Po(q,[z].concat(G))}function U(q,z){for(var G=[],se=2;se<arguments.length;se++)G[se-2]=arguments[se];z&&z.length>0&&le(z,function(de){de&&de.count()>0&&Po(q,[de.events()].concat(G))})}function X(q,z,G){q&&q.length>0&&Po("eventsSendRequest",[z>=1e3&&z<=1999?z-1e3:0,G!==!0])}function ee(q,z){U("eventsSent",q,z),V()}function oe(q,z){U(ip,q,z>=8e3&&z<=8999?z-8e3:js.Unknown)}function fe(q){U(ip,q,js.NonRetryableStatus),V()}function je(q,z){U(ip,q,js.Unknown),V()}function Ie(){!r||!r.disableAutoBatchFlushLimit?T=Math.max(gJ*(xJ+1),f/6):T=0}go(N,"_setTimeoutOverride",function(){return A.set},function(q){A=oE(q,A.clear)}),go(N,"_clearTimeoutOverride",function(){return A.clear},function(q){A=oE(A.set,q)})}),n}return e.__ieDyn=1,e}(Yd),_J=tAe});var CJ={};ua(CJ,{BE_PROFILE:()=>VT,NRT_PROFILE:()=>BT,PostChannel:()=>_J,RT_PROFILE:()=>tp});var SJ=k(()=>{bJ();$F()});var IJ=b(Oa=>{"use strict";var nAe=Oa&&Oa.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),rAe=Oa&&Oa.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),TJ=Oa&&Oa.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&nAe(e,t,n);return rAe(e,t),e};Object.defineProperty(Oa,"__esModule",{value:!0});Oa.oneDataSystemClientFactory=void 0;var iAe=async(t,e,n)=>{let r=await Promise.resolve().then(()=>TJ((ep(),Xi(jQ)))),i=await Promise.resolve().then(()=>TJ((SJ(),Xi(CJ)))),o=new r.AppInsightsCore,s=new i.PostChannel,a={instrumentationKey:t,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(n){a.extensionConfig={};let l={alwaysUseXhrOverride:!0,httpXHROverride:n};a.extensionConfig[s.identifier]=l}let c=e.workspace.getConfiguration("telemetry").get("internalTesting");return o.initialize(a,[]),o.addTelemetryInitializer(l=>{c&&(l.ext=l.ext??{},l.ext.utc=l.ext.utc??{},l.ext.utc.flags=8462029)}),o},oAe=async(t,e,n)=>{let r=await iAe(t,e,n);return{logEvent:(o,s)=>{try{r==null||r.track({name:o,baseData:{name:o,properties:s==null?void 0:s.properties,measurements:s==null?void 0:s.measurements}})}catch(a){throw new Error(`Failed to log event to app insights!
`+a.message)}},flush:async()=>{try{r==null||r.unload()}catch(o){throw new Error(`Failed to flush app insights!
`+o.message)}}}};Oa.oneDataSystemClientFactory=oAe});var iM=b(Ke=>{"use strict";var nM=Ke&&Ke.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},rM=Ke&&Ke.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.getShallowFileSize=Ke.getShallowDirectorySizeSync=Ke.getShallowDirectorySize=Ke.confirmDirExists=Ke.unlinkAsync=Ke.readdirAsync=Ke.readFileAsync=Ke.writeFileAsync=Ke.appendFileAsync=Ke.accessAsync=Ke.mkdirAsync=Ke.lstatAsync=Ke.statAsync=void 0;var Js=require("fs"),PJ=require("path"),ou=require("util");Ke.statAsync=ou.promisify(Js.stat);Ke.lstatAsync=ou.promisify(Js.lstat);Ke.mkdirAsync=ou.promisify(Js.mkdir);Ke.accessAsync=ou.promisify(Js.access);Ke.appendFileAsync=ou.promisify(Js.appendFile);Ke.writeFileAsync=ou.promisify(Js.writeFile);Ke.readFileAsync=ou.promisify(Js.readFile);Ke.readdirAsync=ou.promisify(Js.readdir);Ke.unlinkAsync=ou.promisify(Js.unlink);var sAe=function(t){return nM(void 0,void 0,void 0,function(){var e,n,r;return rM(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Ke.lstatAsync(t)];case 1:if(e=i.sent(),!e.isDirectory())throw new Error("Path existed but was not a directory");return[3,7];case 2:if(n=i.sent(),!(n&&n.code==="ENOENT"))return[3,6];i.label=3;case 3:return i.trys.push([3,5,,6]),[4,Ke.mkdirAsync(t)];case 4:return i.sent(),[3,6];case 5:if(r=i.sent(),r&&r.code!=="EEXIST")throw r;return[3,6];case 6:return[3,7];case 7:return[2]}})})};Ke.confirmDirExists=sAe;var aAe=function(t){return nM(void 0,void 0,void 0,function(){var e,n,r,i,o,s;return rM(this,function(a){switch(a.label){case 0:return[4,Ke.readdirAsync(t)];case 1:e=a.sent(),n=0,r=0,i=e,a.label=2;case 2:return r<i.length?(o=i[r],[4,Ke.statAsync(PJ.join(t,o))]):[3,5];case 3:s=a.sent(),s.isFile()&&(n+=s.size),a.label=4;case 4:return r++,[3,2];case 5:return[2,n]}})})};Ke.getShallowDirectorySize=aAe;var cAe=function(t){for(var e=Js.readdirSync(t),n=0,r=0;r<e.length;r++)n+=Js.statSync(PJ.join(t,e[r])).size;return n};Ke.getShallowDirectorySizeSync=cAe;var uAe=function(t){return nM(void 0,void 0,void 0,function(){var e;return rM(this,function(n){switch(n.label){case 0:return[4,Ke.statAsync(t)];case 1:return e=n.sent(),e.isFile()?[2,e.size]:[2]}})})};Ke.getShallowFileSize=uAe});var DJ=b((sp,AJ)=>{"use strict";var oM=sp&&sp.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},sM=sp&&sp.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},RJ=sp&&sp.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},lAe=require("fs"),fAe=require("os"),op=require("path"),Na=iM(),dAe=function(){function t(){var e=this;this.TAG="Logger",this._cleanupTimeOut=60*30*1e3,this._logToFile=!1,this._logToConsole=!0;var n=process.env.APPLICATIONINSIGHTS_LOG_DESTINATION;n=="file+console"&&(this._logToFile=!0),n=="file"&&(this._logToFile=!0,this._logToConsole=!1),this.maxSizeBytes=5e4,this.maxHistory=1,this._logFileName="applicationinsights.log";var r=process.env.APPLICATIONINSIGHTS_LOGDIR;r?op.isAbsolute(r)?this._tempDir=r:this._tempDir=op.join(process.cwd(),r):this._tempDir=op.join(fAe.tmpdir(),"appInsights-node"),this._fileFullPath=op.join(this._tempDir,this._logFileName),this._backUpNameFormat="."+this._logFileName,this._logToFile&&(t._fileCleanupTimer||(t._fileCleanupTimer=setInterval(function(){e._fileCleanupTask()},this._cleanupTimeOut),t._fileCleanupTimer.unref()))}return t.prototype.info=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e?RJ([e],n):n;this._logToFile&&this._storeToDisk(i),this._logToConsole&&console.info.apply(console,i)},t.prototype.warning=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=e?RJ([e],n):n;this._logToFile&&this._storeToDisk(i),this._logToConsole&&console.warn.apply(console,i)},t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t.prototype._storeToDisk=function(e){return oM(this,void 0,void 0,function(){var n,r,i,o,s,a;return sM(this,function(u){switch(u.label){case 0:n=e+`\r
`,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Na.confirmDirExists(this._tempDir)];case 2:return u.sent(),[3,4];case 3:return r=u.sent(),console.log(this.TAG,"Failed to create directory for log file: "+(r&&r.message)),[2];case 4:return u.trys.push([4,6,,11]),[4,Na.accessAsync(this._fileFullPath,lAe.constants.F_OK)];case 5:return u.sent(),[3,11];case 6:i=u.sent(),u.label=7;case 7:return u.trys.push([7,9,,10]),[4,Na.appendFileAsync(this._fileFullPath,n)];case 8:return u.sent(),[2];case 9:return o=u.sent(),console.log(this.TAG,"Failed to put log into file: "+(i&&i.message)),[2];case 10:return[3,11];case 11:return u.trys.push([11,17,,18]),[4,Na.getShallowFileSize(this._fileFullPath)];case 12:return s=u.sent(),s>this.maxSizeBytes?[4,this._createBackupFile(n)]:[3,14];case 13:return u.sent(),[3,16];case 14:return[4,Na.appendFileAsync(this._fileFullPath,n)];case 15:u.sent(),u.label=16;case 16:return[3,18];case 17:return a=u.sent(),console.log(this.TAG,"Failed to create backup file: "+(a&&a.message)),[3,18];case 18:return[2]}})})},t.prototype._createBackupFile=function(e){return oM(this,void 0,void 0,function(){var n,r,i;return sM(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,4,5]),[4,Na.readFileAsync(this._fileFullPath)];case 1:return n=o.sent(),r=op.join(this._tempDir,new Date().getTime()+"."+this._logFileName),[4,Na.writeFileAsync(r,n)];case 2:return o.sent(),[3,5];case 3:return i=o.sent(),console.log("Failed to generate backup log file",i),[3,5];case 4:return Na.writeFileAsync(this._fileFullPath,e),[7];case 5:return[2]}})})},t.prototype._fileCleanupTask=function(){return oM(this,void 0,void 0,function(){var e,n,r,i,o,s=this;return sM(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),[4,Na.readdirAsync(this._tempDir)];case 1:e=a.sent(),e=e.filter(function(u){return op.basename(u).indexOf(s._backUpNameFormat)>-1}),e.sort(function(u,c){var l=new Date(parseInt(u.split(s._backUpNameFormat)[0])),f=new Date(parseInt(c.split(s._backUpNameFormat)[0]));if(l<f)return-1;if(l>=f)return 1}),n=e.length,r=0,a.label=2;case 2:return r<n-this.maxHistory?(i=op.join(this._tempDir,e[r]),[4,Na.unlinkAsync(i)]):[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[3,7];case 6:return o=a.sent(),console.log(this.TAG,"Failed to cleanup log files: "+(o&&o.message)),[3,7];case 7:return[2]}})})},t._fileCleanupTimer=null,t}();AJ.exports=dAe});var Zt=b((Zet,OJ)=>{"use strict";var kJ=DJ(),pAe=function(){function t(){}return t.info=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.enableDebug&&kJ.getInstance().info(this.TAG+e,n)},t.warn=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this.disableWarnings||kJ.getInstance().warning(this.TAG+e,n)},t.enableDebug=!1,t.disableWarnings=!1,t.TAG="ApplicationInsights:",t}();OJ.exports=pAe});var iI=b(rI=>{"use strict";Object.defineProperty(rI,"__esModule",{value:!0});rI.JsonConfig=void 0;var mAe=require("fs"),nI=require("path"),NJ=Zt(),hAe="APPLICATIONINSIGHTS_CONFIGURATION_FILE",gAe="APPLICATIONINSIGHTS_CONNECTION_STRING",LJ="APPSETTING_",FJ="APPINSIGHTS_INSTRUMENTATIONKEY",MJ="APPINSIGHTS_INSTRUMENTATION_KEY",vAe="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",yAe="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",xAe="http_proxy",wAe="https_proxy",EAe="APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL",_Ae="APPLICATION_INSIGHTS_NO_STATSBEAT",bAe="APPLICATION_INSIGHTS_NO_HTTP_AGENT_KEEP_ALIVE",CAe="APPLICATION_INSIGHTS_NO_PATCH_MODULES",SAe="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_ENABLED",TAe="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_CONNECTION_STRING",IAe="APPLICATIONINSIGHTS_WEB_INSTRUMENTATION_SOURCE",PAe="APPLICATIONINSIGHTS_WEB_SNIPPET_ENABLED",RAe="APPLICATIONINSIGHTS_WEB_SNIPPET_CONNECTION_STRING",AAe=function(){function t(){this.connectionString=process.env[gAe],this.instrumentationKey=process.env[FJ]||process.env[LJ+FJ]||process.env[MJ]||process.env[LJ+MJ],!this.connectionString&&this.instrumentationKey&&NJ.warn("APPINSIGHTS_INSTRUMENTATIONKEY is in path of deprecation, please use APPLICATIONINSIGHTS_CONNECTION_STRING env variable to setup the SDK."),this.disableAllExtendedMetrics=!!process.env[yAe],this.extendedMetricDisablers=process.env[vAe],this.proxyHttpUrl=process.env[xAe],this.proxyHttpsUrl=process.env[wAe],this.noDiagnosticChannel=!!process.env[EAe],this.disableStatsbeat=!!process.env[_Ae],this.noHttpAgentKeepAlive=!!process.env[bAe],this.noPatchModules=process.env[CAe]||"",this.enableWebInstrumentation=!!process.env[SAe]||!!process.env[PAe],this.webInstrumentationSrc=process.env[IAe]||"",this.webInstrumentationConnectionString=process.env[TAe]||process.env[RAe]||"",this.enableAutoWebSnippetInjection=this.enableWebInstrumentation,this.webSnippetConnectionString=this.webInstrumentationConnectionString,this._loadJsonFile()}return t.getInstance=function(){return t._instance||(t._instance=new t),t._instance},t.prototype._loadJsonFile=function(){var e="applicationinsights.json",n=nI.join(__dirname,"../../"),r=nI.join(n,e),i=process.env[hAe];i&&(nI.isAbsolute(i)?r=i:r=nI.join(n,i));try{var o=JSON.parse(mAe.readFileSync(r,"utf8"));o.disableStatsbeat!=null&&(this.disableStatsbeat=o.disableStatsbeat),o.disableAllExtendedMetrics!=null&&(this.disableAllExtendedMetrics=o.disableStatsbeat),o.noDiagnosticChannel!=null&&(this.noDiagnosticChannel=o.noDiagnosticChannel),o.noHttpAgentKeepAlive!=null&&(this.noHttpAgentKeepAlive=o.noHttpAgentKeepAlive),o.connectionString!=null&&(this.connectionString=o.connectionString),o.extendedMetricDisablers!=null&&(this.extendedMetricDisablers=o.extendedMetricDisablers),o.noDiagnosticChannel!=null&&(this.noDiagnosticChannel=o.noDiagnosticChannel),o.proxyHttpUrl!=null&&(this.proxyHttpUrl=o.proxyHttpUrl),o.proxyHttpsUrl!=null&&(this.proxyHttpsUrl=o.proxyHttpsUrl),o.proxyHttpsUrl!=null&&(this.proxyHttpsUrl=o.proxyHttpsUrl),o.noPatchModules!=null&&(this.noPatchModules=o.noPatchModules),o.enableAutoWebSnippetInjection!=null&&(this.enableWebInstrumentation=o.enableAutoWebSnippetInjection,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation),o.enableWebInstrumentation!=null&&(this.enableWebInstrumentation=o.enableWebInstrumentation,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation),o.webSnippetConnectionString!=null&&(this.webInstrumentationConnectionString=o.webSnippetConnectionString,this.webSnippetConnectionString=this.webInstrumentationConnectionString),o.webInstrumentationConnectionString!=null&&(this.webInstrumentationConnectionString=o.webInstrumentationConnectionString,this.webSnippetConnectionString=this.webInstrumentationConnectionString),o.webInstrumentationConfig!=null&&(this.webInstrumentationConfig=o.webInstrumentationConfig),o.webInstrumentationSrc!=null&&(this.webInstrumentationSrc=o.webInstrumentationSrc),this.endpointUrl=o.endpointUrl,this.maxBatchSize=o.maxBatchSize,this.maxBatchIntervalMs=o.maxBatchIntervalMs,this.disableAppInsights=o.disableAppInsights,this.samplingPercentage=o.samplingPercentage,this.correlationIdRetryIntervalMs=o.correlationIdRetryIntervalMs,this.correlationHeaderExcludedDomains=o.correlationHeaderExcludedDomains,this.ignoreLegacyHeaders=o.ignoreLegacyHeaders,this.distributedTracingMode=o.distributedTracingMode,this.enableAutoCollectExternalLoggers=o.enableAutoCollectExternalLoggers,this.enableAutoCollectConsole=o.enableAutoCollectConsole,this.enableAutoCollectExceptions=o.enableAutoCollectExceptions,this.enableAutoCollectPerformance=o.enableAutoCollectPerformance,this.enableAutoCollectExtendedMetrics=o.enableAutoCollectExtendedMetrics,this.enableAutoCollectPreAggregatedMetrics=o.enableAutoCollectPreAggregatedMetrics,this.enableAutoCollectHeartbeat=o.enableAutoCollectHeartbeat,this.enableAutoCollectRequests=o.enableAutoCollectRequests,this.enableAutoCollectDependencies=o.enableAutoCollectDependencies,this.enableAutoDependencyCorrelation=o.enableAutoDependencyCorrelation,this.enableAutoCollectIncomingRequestAzureFunctions=o.enableAutoCollectIncomingRequestAzureFunctions,this.enableUseAsyncHooks=o.enableUseAsyncHooks,this.enableUseDiskRetryCaching=o.enableUseDiskRetryCaching,this.enableResendInterval=o.enableResendInterval,this.enableMaxBytesOnDisk=o.enableMaxBytesOnDisk,this.enableInternalDebugLogging=o.enableInternalDebugLogging,this.enableInternalWarningLogging=o.enableInternalWarningLogging,this.enableSendLiveMetrics=o.enableSendLiveMetrics,this.quickPulseHost=o.quickPulseHost}catch(s){NJ.info("Missing or invalid JSON config file: ",s)}},t}();rI.JsonConfig=AAe});var eZ=b((Ne,ZJ)=>{Ne=ZJ.exports=et;var Et;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?Et=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:Et=function(){};Ne.SEMVER_SPEC_VERSION="2.0.0";var cM=256,oI=Number.MAX_SAFE_INTEGER||9007199254740991,aM=16,Tt=Ne.re=[],Q=Ne.src=[],Qe=0,_g=Qe++;Q[_g]="0|[1-9]\\d*";var bg=Qe++;Q[bg]="[0-9]+";var dM=Qe++;Q[dM]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var qJ=Qe++;Q[qJ]="("+Q[_g]+")\\.("+Q[_g]+")\\.("+Q[_g]+")";var jJ=Qe++;Q[jJ]="("+Q[bg]+")\\.("+Q[bg]+")\\.("+Q[bg]+")";var uM=Qe++;Q[uM]="(?:"+Q[_g]+"|"+Q[dM]+")";var lM=Qe++;Q[lM]="(?:"+Q[bg]+"|"+Q[dM]+")";var pM=Qe++;Q[pM]="(?:-("+Q[uM]+"(?:\\."+Q[uM]+")*))";var mM=Qe++;Q[mM]="(?:-?("+Q[lM]+"(?:\\."+Q[lM]+")*))";var fM=Qe++;Q[fM]="[0-9A-Za-z-]+";var cE=Qe++;Q[cE]="(?:\\+("+Q[fM]+"(?:\\."+Q[fM]+")*))";var hM=Qe++,HJ="v?"+Q[qJ]+Q[pM]+"?"+Q[cE]+"?";Q[hM]="^"+HJ+"$";var gM="[v=\\s]*"+Q[jJ]+Q[mM]+"?"+Q[cE]+"?",vM=Qe++;Q[vM]="^"+gM+"$";var Tg=Qe++;Q[Tg]="((?:<|>)?=?)";var sI=Qe++;Q[sI]=Q[bg]+"|x|X|\\*";var aI=Qe++;Q[aI]=Q[_g]+"|x|X|\\*";var ap=Qe++;Q[ap]="[v=\\s]*("+Q[aI]+")(?:\\.("+Q[aI]+")(?:\\.("+Q[aI]+")(?:"+Q[pM]+")?"+Q[cE]+"?)?)?";var Sg=Qe++;Q[Sg]="[v=\\s]*("+Q[sI]+")(?:\\.("+Q[sI]+")(?:\\.("+Q[sI]+")(?:"+Q[mM]+")?"+Q[cE]+"?)?)?";var $J=Qe++;Q[$J]="^"+Q[Tg]+"\\s*"+Q[ap]+"$";var BJ=Qe++;Q[BJ]="^"+Q[Tg]+"\\s*"+Q[Sg]+"$";var VJ=Qe++;Q[VJ]="(?:^|[^\\d])(\\d{1,"+aM+"})(?:\\.(\\d{1,"+aM+"}))?(?:\\.(\\d{1,"+aM+"}))?(?:$|[^\\d])";var pI=Qe++;Q[pI]="(?:~>?)";var cI=Qe++;Q[cI]="(\\s*)"+Q[pI]+"\\s+";Tt[cI]=new RegExp(Q[cI],"g");var DAe="$1~",WJ=Qe++;Q[WJ]="^"+Q[pI]+Q[ap]+"$";var GJ=Qe++;Q[GJ]="^"+Q[pI]+Q[Sg]+"$";var mI=Qe++;Q[mI]="(?:\\^)";var uI=Qe++;Q[uI]="(\\s*)"+Q[mI]+"\\s+";Tt[uI]=new RegExp(Q[uI],"g");var kAe="$1^",zJ=Qe++;Q[zJ]="^"+Q[mI]+Q[ap]+"$";var YJ=Qe++;Q[YJ]="^"+Q[mI]+Q[Sg]+"$";var yM=Qe++;Q[yM]="^"+Q[Tg]+"\\s*("+gM+")$|^$";var xM=Qe++;Q[xM]="^"+Q[Tg]+"\\s*("+HJ+")$|^$";var sE=Qe++;Q[sE]="(\\s*)"+Q[Tg]+"\\s*("+gM+"|"+Q[ap]+")";Tt[sE]=new RegExp(Q[sE],"g");var OAe="$1$2$3",KJ=Qe++;Q[KJ]="^\\s*("+Q[ap]+")\\s+-\\s+("+Q[ap]+")\\s*$";var XJ=Qe++;Q[XJ]="^\\s*("+Q[Sg]+")\\s+-\\s+("+Q[Sg]+")\\s*$";var QJ=Qe++;Q[QJ]="(<|>)?=?\\s*\\*";for(Bl=0;Bl<Qe;Bl++)Et(Bl,Q[Bl]),Tt[Bl]||(Tt[Bl]=new RegExp(Q[Bl]));var Bl;Ne.parse=cp;function cp(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof et)return t;if(typeof t!="string"||t.length>cM)return null;var n=e.loose?Tt[vM]:Tt[hM];if(!n.test(t))return null;try{return new et(t,e)}catch{return null}}Ne.valid=NAe;function NAe(t,e){var n=cp(t,e);return n?n.version:null}Ne.clean=LAe;function LAe(t,e){var n=cp(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null}Ne.SemVer=et;function et(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof et){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>cM)throw new TypeError("version is longer than "+cM+" characters");if(!(this instanceof et))return new et(t,e);Et("SemVer",t,e),this.options=e,this.loose=!!e.loose;var n=t.trim().match(e.loose?Tt[vM]:Tt[hM]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>oI||this.major<0)throw new TypeError("Invalid major version");if(this.minor>oI||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>oI||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<oI)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}et.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};et.prototype.toString=function(){return this.version};et.prototype.compare=function(t){return Et("SemVer.compare",this.version,this.options,t),t instanceof et||(t=new et(t,this.options)),this.compareMain(t)||this.comparePre(t)};et.prototype.compareMain=function(t){return t instanceof et||(t=new et(t,this.options)),Cg(this.major,t.major)||Cg(this.minor,t.minor)||Cg(this.patch,t.patch)};et.prototype.comparePre=function(t){if(t instanceof et||(t=new et(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(Et("prerelease compare",e,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Cg(n,r)}while(++e)};et.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};Ne.inc=FAe;function FAe(t,e,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new et(t,n).inc(e,r).version}catch{return null}}Ne.diff=MAe;function MAe(t,e){if(wM(t,e))return null;var n=cp(t),r=cp(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if((s==="major"||s==="minor"||s==="patch")&&n[s]!==r[s])return i+s;return o}Ne.compareIdentifiers=Cg;var UJ=/^[0-9]+$/;function Cg(t,e){var n=UJ.test(t),r=UJ.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}Ne.rcompareIdentifiers=UAe;function UAe(t,e){return Cg(e,t)}Ne.major=qAe;function qAe(t,e){return new et(t,e).major}Ne.minor=jAe;function jAe(t,e){return new et(t,e).minor}Ne.patch=HAe;function HAe(t,e){return new et(t,e).patch}Ne.compare=su;function su(t,e,n){return new et(t,n).compare(new et(e,n))}Ne.compareLoose=$Ae;function $Ae(t,e){return su(t,e,!0)}Ne.rcompare=BAe;function BAe(t,e,n){return su(e,t,n)}Ne.sort=VAe;function VAe(t,e){return t.sort(function(n,r){return Ne.compare(n,r,e)})}Ne.rsort=WAe;function WAe(t,e){return t.sort(function(n,r){return Ne.rcompare(n,r,e)})}Ne.gt=aE;function aE(t,e,n){return su(t,e,n)>0}Ne.lt=lI;function lI(t,e,n){return su(t,e,n)<0}Ne.eq=wM;function wM(t,e,n){return su(t,e,n)===0}Ne.neq=JJ;function JJ(t,e,n){return su(t,e,n)!==0}Ne.gte=EM;function EM(t,e,n){return su(t,e,n)>=0}Ne.lte=_M;function _M(t,e,n){return su(t,e,n)<=0}Ne.cmp=fI;function fI(t,e,n,r){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return wM(t,n,r);case"!=":return JJ(t,n,r);case">":return aE(t,n,r);case">=":return EM(t,n,r);case"<":return lI(t,n,r);case"<=":return _M(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}Ne.Comparator=Jo;function Jo(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof Jo){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof Jo))return new Jo(t,e);Et("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===uE?this.value="":this.value=this.operator+this.semver.version,Et("comp",this)}var uE={};Jo.prototype.parse=function(t){var e=this.options.loose?Tt[yM]:Tt[xM],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new et(n[2],this.options.loose):this.semver=uE};Jo.prototype.toString=function(){return this.value};Jo.prototype.test=function(t){return Et("Comparator.test",t,this.options.loose),this.semver===uE?!0:(typeof t=="string"&&(t=new et(t,this.options)),fI(t,this.operator,this.semver,this.options))};Jo.prototype.intersects=function(t,e){if(!(t instanceof Jo))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var n;if(this.operator==="")return n=new en(t.value,e),dI(this.value,n,e);if(t.operator==="")return n=new en(this.value,e),dI(t.semver,n,e);var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),o=this.semver.version===t.semver.version,s=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=fI(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),u=fI(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||i||o&&s||a||u};Ne.Range=en;function en(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof en)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new en(t.raw,e);if(t instanceof Jo)return new en(t.value,e);if(!(this instanceof en))return new en(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}en.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};en.prototype.toString=function(){return this.range};en.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var n=e?Tt[XJ]:Tt[KJ];t=t.replace(n,tDe),Et("hyphen replace",t),t=t.replace(Tt[sE],OAe),Et("comparator trim",t,Tt[sE]),t=t.replace(Tt[cI],DAe),t=t.replace(Tt[uI],kAe),t=t.split(/\s+/).join(" ");var r=e?Tt[yM]:Tt[xM],i=t.split(" ").map(function(o){return zAe(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(r)})),i=i.map(function(o){return new Jo(o,this.options)},this),i};en.prototype.intersects=function(t,e){if(!(t instanceof en))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return t.set.some(function(i){return i.every(function(o){return r.intersects(o,e)})})})})};Ne.toComparators=GAe;function GAe(t,e){return new en(t,e).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function zAe(t,e){return Et("comp",t,e),t=XAe(t,e),Et("caret",t),t=YAe(t,e),Et("tildes",t),t=JAe(t,e),Et("xrange",t),t=eDe(t,e),Et("stars",t),t}function ai(t){return!t||t.toLowerCase()==="x"||t==="*"}function YAe(t,e){return t.trim().split(/\s+/).map(function(n){return KAe(n,e)}).join(" ")}function KAe(t,e){var n=e.loose?Tt[GJ]:Tt[WJ];return t.replace(n,function(r,i,o,s,a){Et("tilde",t,r,i,o,s,a);var u;return ai(i)?u="":ai(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":ai(s)?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(Et("replaceTilde pr",a),u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",Et("tilde return",u),u})}function XAe(t,e){return t.trim().split(/\s+/).map(function(n){return QAe(n,e)}).join(" ")}function QAe(t,e){Et("caret",t,e);var n=e.loose?Tt[YJ]:Tt[zJ];return t.replace(n,function(r,i,o,s,a){Et("caret",t,r,i,o,s,a);var u;return ai(i)?u="":ai(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":ai(s)?i==="0"?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(Et("replaceCaret pr",a),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(Et("no pr"),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),Et("caret return",u),u})}function JAe(t,e){return Et("replaceXRanges",t,e),t.split(/\s+/).map(function(n){return ZAe(n,e)}).join(" ")}function ZAe(t,e){t=t.trim();var n=e.loose?Tt[BJ]:Tt[$J];return t.replace(n,function(r,i,o,s,a,u){Et("xRange",t,r,i,o,s,a,u);var c=ai(o),l=c||ai(s),f=l||ai(a),d=f;return i==="="&&d&&(i=""),c?i===">"||i==="<"?r="<0.0.0":r="*":i&&d?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),r=i+o+"."+s+"."+a):l?r=">="+o+".0.0 <"+(+o+1)+".0.0":f&&(r=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),Et("xRange return",r),r})}function eDe(t,e){return Et("replaceStars",t,e),t.trim().replace(Tt[QJ],"")}function tDe(t,e,n,r,i,o,s,a,u,c,l,f,d){return ai(n)?e="":ai(r)?e=">="+n+".0.0":ai(i)?e=">="+n+"."+r+".0":e=">="+e,ai(u)?a="":ai(c)?a="<"+(+u+1)+".0.0":ai(l)?a="<"+u+"."+(+c+1)+".0":f?a="<="+u+"."+c+"."+l+"-"+f:a="<="+a,(e+" "+a).trim()}en.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new et(t,this.options));for(var e=0;e<this.set.length;e++)if(nDe(this.set[e],t,this.options))return!0;return!1};function nDe(t,e,n){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(r=0;r<t.length;r++)if(Et(t[r].semver),t[r].semver!==uE&&t[r].semver.prerelease.length>0){var i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}Ne.satisfies=dI;function dI(t,e,n){try{e=new en(e,n)}catch{return!1}return e.test(t)}Ne.maxSatisfying=rDe;function rDe(t,e,n){var r=null,i=null;try{var o=new en(e,n)}catch{return null}return t.forEach(function(s){o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new et(r,n))}),r}Ne.minSatisfying=iDe;function iDe(t,e,n){var r=null,i=null;try{var o=new en(e,n)}catch{return null}return t.forEach(function(s){o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new et(r,n))}),r}Ne.minVersion=oDe;function oDe(t,e){t=new en(t,e);var n=new et("0.0.0");if(t.test(n)||(n=new et("0.0.0-0"),t.test(n)))return n;n=null;for(var r=0;r<t.set.length;++r){var i=t.set[r];i.forEach(function(o){var s=new et(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!n||aE(n,s))&&(n=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return n&&t.test(n)?n:null}Ne.validRange=sDe;function sDe(t,e){try{return new en(t,e).range||"*"}catch{return null}}Ne.ltr=aDe;function aDe(t,e,n){return bM(t,e,"<",n)}Ne.gtr=cDe;function cDe(t,e,n){return bM(t,e,">",n)}Ne.outside=bM;function bM(t,e,n,r){t=new et(t,r),e=new en(e,r);var i,o,s,a,u;switch(n){case">":i=aE,o=_M,s=lI,a=">",u=">=";break;case"<":i=lI,o=EM,s=aE,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(dI(t,e,r))return!1;for(var c=0;c<e.set.length;++c){var l=e.set[c],f=null,d=null;if(l.forEach(function(p){p.semver===uE&&(p=new Jo(">=0.0.0")),f=f||p,d=d||p,i(p.semver,f.semver,r)?f=p:s(p.semver,d.semver,r)&&(d=p)}),f.operator===a||f.operator===u||(!d.operator||d.operator===a)&&o(t,d.semver))return!1;if(d.operator===u&&s(t,d.semver))return!1}return!0}Ne.prerelease=uDe;function uDe(t,e){var n=cp(t,e);return n&&n.prerelease.length?n.prerelease:null}Ne.intersects=lDe;function lDe(t,e,n){return t=new en(t,n),e=new en(e,n),t.intersects(e)}Ne.coerce=fDe;function fDe(t){if(t instanceof et)return t;if(typeof t!="string")return null;var e=t.match(Tt[VJ]);return e==null?null:cp(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var CM=b(hI=>{"use strict";Object.defineProperty(hI,"__esModule",{value:!0});hI.makePatchingRequire=void 0;var dDe=require("path"),pDe=eZ(),tZ=ln(),rZ=require("module"),mDe=Object.keys(process.binding("natives")),nZ=rZ.prototype.require;function hDe(t){var e={};return function(r){var i=nZ.apply(this,arguments);if(t[r]){var o=rZ._resolveFilename(r,this);if(e.hasOwnProperty(o))return e[o];var s=void 0;if(mDe.indexOf(r)<0)try{s=nZ.call(this,dDe.join(r,"package.json")).version}catch{return i}else s=process.version.substring(1);var a=s.indexOf("-");a>=0&&(s=s.substring(0,a));for(var u=i,c=0,l=t[r];c<l.length;c++){var f=l[c];if(pDe.satisfies(s,f.versionSpecifier)&&(u=f.patch(u,o),tZ.channel)){var d=f.publisherName||r;tZ.channel.addPatchedModule(d,s)}}return e[o]=u}return i}}hI.makePatchingRequire=hDe});var iZ=b((ntt,gDe)=>{gDe.exports={name:"diagnostic-channel",version:"1.1.0",main:"./dist/src/channel.js",types:"./dist/src/channel.d.ts",scripts:{build:"tsc",lint:"tslint -c tslint.json -p tsconfig.json",clean:"rimraf ./dist",test:"mocha ./dist/tests/**/*.js",debug:"mocha --inspect-brk ./dist/tests/**/*.js"},homepage:"https://github.com/Microsoft/node-diagnostic-channel",bugs:{url:"https://github.com/Microsoft/node-diagnostic-channel/issues"},repository:{type:"git",url:"https://github.com/Microsoft/node-diagnostic-channel.git"},description:"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers",dependencies:{semver:"^5.3.0"},devDependencies:{"@types/mocha":"^2.2.40","@types/node":"~8.0.0",mocha:"^3.2.0",rimraf:"^2.6.1",sinon:"1.17.6",tslint:"^5.0.0",typescript:"4.1.2"},files:["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],license:"MIT"}});var ln=b(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.channel=Zo.ContextPreservingEventEmitter=Zo.trueFilter=Zo.makePatchingRequire=void 0;var vDe=CM(),yDe=CM();Object.defineProperty(Zo,"makePatchingRequire",{enumerable:!0,get:function(){return yDe.makePatchingRequire}});var xDe=function(t){return!0};Zo.trueFilter=xDe;var sZ=function(){function t(){this.version=iZ().version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.modulesPatched=[],this.currentlyPublishing=!1}return t.prototype.shouldPublish=function(e){var n=this.subscribers[e];return n?n.some(function(r){var i=r.filter;return!i||i(!1)}):!1},t.prototype.publish=function(e,n){if(!this.currentlyPublishing){var r=this.subscribers[e];if(r){var i={timestamp:Date.now(),data:n};this.currentlyPublishing=!0,r.forEach(function(o){var s=o.listener,a=o.filter;try{a&&a(!0)&&s(i)}catch{}}),this.currentlyPublishing=!1}}},t.prototype.subscribe=function(e,n,r,i){r===void 0&&(r=Zo.trueFilter),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:n,filter:r,patchCallback:i});var o=this.checkIfModuleIsAlreadyPatched(e);o&&i&&i(o.name,o.version)},t.prototype.unsubscribe=function(e,n,r){r===void 0&&(r=Zo.trueFilter);var i=this.subscribers[e];if(i){for(var o=0;o<i.length;++o)if(i[o].listener===n&&i[o].filter===r)return i.splice(o,1),!0}return!1},t.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(n){return n},Object.getOwnPropertyNames(this.knownPatches).forEach(function(n){return delete e.knownPatches[n]})},t.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},t.prototype.addContextPreservation=function(e){var n=this.contextPreservationFunction;this.contextPreservationFunction=function(r){return e(n(r))}},t.prototype.registerMonkeyPatch=function(e,n){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(n)},t.prototype.getPatchesObject=function(){return this.knownPatches},t.prototype.addPatchedModule=function(e,n){for(var r=0,i=this.modulesPatched;r<i.length;r++){var o=i[r];if(o.name===e)return}this.modulesPatched.push({name:e,version:n});var s=this.subscribers[e];s&&s.forEach(function(a){a.patchCallback&&a.patchCallback(e,n)})},t.prototype.checkIfModuleIsAlreadyPatched=function(e){for(var n=0,r=this.modulesPatched;n<r.length;n++){var i=r[n];if(i.name===e)return i}return null},t}();Zo.ContextPreservingEventEmitter=sZ;global.diagnosticsSource||(global.diagnosticsSource=new sZ,oZ=require("module"),oZ.prototype.require=vDe.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));var oZ;Zo.channel=global.diagnosticsSource});var aZ,cZ=k(()=>{aZ=typeof globalThis=="object"?globalThis:global});var uZ=k(()=>{cZ()});var lZ=k(()=>{uZ()});var Vl,SM=k(()=>{Vl="1.3.0"});function wDe(t){var e=new Set([t]),n=new Set,r=t.match(fZ);if(!r)return function(){return!1};var i={major:+r[1],minor:+r[2],patch:+r[3],prerelease:r[4]};if(i.prerelease!=null)return function(u){return u===t};function o(a){return n.add(a),!1}function s(a){return e.add(a),!0}return function(u){if(e.has(u))return!0;if(n.has(u))return!1;var c=u.match(fZ);if(!c)return o(u);var l={major:+c[1],minor:+c[2],patch:+c[3],prerelease:c[4]};return l.prerelease!=null||i.major!==l.major?o(u):i.major===0?i.minor===l.minor&&i.patch<=l.patch?s(u):o(u):i.minor<=l.minor?s(u):o(u)}}var fZ,dZ,pZ=k(()=>{SM();fZ=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;dZ=wDe(Vl)});function La(t,e,n,r){var i;r===void 0&&(r=!1);var o=fE[lE]=(i=fE[lE])!==null&&i!==void 0?i:{version:Vl};if(!r&&o[t]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+t);return n.error(s.stack||s.message),!1}if(o.version!==Vl){var s=new Error("@opentelemetry/api: All API registration versions must match");return n.error(s.stack||s.message),!1}return o[t]=e,n.debug("@opentelemetry/api: Registered a global for "+t+" v"+Vl+"."),!0}function yo(t){var e,n,r=(e=fE[lE])===null||e===void 0?void 0:e.version;if(!(!r||!dZ(r)))return(n=fE[lE])===null||n===void 0?void 0:n[t]}function Fa(t,e){e.debug("@opentelemetry/api: Unregistering a global for "+t+" v"+Vl+".");var n=fE[lE];n&&delete n[t]}var EDe,lE,fE,up=k(()=>{lZ();SM();pZ();EDe=Vl.split(".")[0],lE=Symbol.for("opentelemetry.js.api."+EDe),fE=aZ});function dE(t,e,n){var r=yo("diag");if(r)return n.unshift(e),r[t].apply(r,bDe([],_De(n),!1))}var _De,bDe,mZ,hZ=k(()=>{up();_De=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},bDe=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},mZ=function(){function t(e){this._namespace=e.namespace||"DiagComponentLogger"}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return dE("debug",this._namespace,e)},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return dE("error",this._namespace,e)},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return dE("info",this._namespace,e)},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return dE("warn",this._namespace,e)},t.prototype.verbose=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return dE("verbose",this._namespace,e)},t}()});var Ft,gI=k(()=>{(function(t){t[t.NONE=0]="NONE",t[t.ERROR=30]="ERROR",t[t.WARN=50]="WARN",t[t.INFO=60]="INFO",t[t.DEBUG=70]="DEBUG",t[t.VERBOSE=80]="VERBOSE",t[t.ALL=9999]="ALL"})(Ft||(Ft={}))});function gZ(t,e){t<Ft.NONE?t=Ft.NONE:t>Ft.ALL&&(t=Ft.ALL),e=e||{};function n(r,i){var o=e[r];return typeof o=="function"&&t>=i?o.bind(e):function(){}}return{error:n("error",Ft.ERROR),warn:n("warn",Ft.WARN),info:n("info",Ft.INFO),debug:n("debug",Ft.DEBUG),verbose:n("verbose",Ft.VERBOSE)}}var vZ=k(()=>{gI()});var CDe,SDe,TDe,Hr,lp=k(()=>{hZ();vZ();gI();up();CDe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},SDe=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},TDe="diag",Hr=function(){function t(){function e(i){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var a=yo("diag");if(a)return a[i].apply(a,SDe([],CDe(o),!1))}}var n=this,r=function(i,o){var s,a,u;if(o===void 0&&(o={logLevel:Ft.INFO}),i===n){var c=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return n.error((s=c.stack)!==null&&s!==void 0?s:c.message),!1}typeof o=="number"&&(o={logLevel:o});var l=yo("diag"),f=gZ((a=o.logLevel)!==null&&a!==void 0?a:Ft.INFO,i);if(l&&!o.suppressOverrideMessage){var d=(u=new Error().stack)!==null&&u!==void 0?u:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+d),f.warn("Current logger will overwrite one already registered from "+d)}return La("diag",f,n,!0)};n.setLogger=r,n.disable=function(){Fa(TDe,n)},n.createComponentLogger=function(i){return new mZ(i)},n.verbose=e("verbose"),n.debug=e("debug"),n.info=e("info"),n.warn=e("warn"),n.error=e("error")}return t.instance=function(){return this._instance||(this._instance=new t),this._instance},t}()});var IDe,PDe,yZ,xZ=k(()=>{IDe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},PDe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},yZ=function(){function t(e){this._entries=e?new Map(e):new Map}return t.prototype.getEntry=function(e){var n=this._entries.get(e);if(n)return Object.assign({},n)},t.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map(function(e){var n=IDe(e,2),r=n[0],i=n[1];return[r,i]})},t.prototype.setEntry=function(e,n){var r=new t(this._entries);return r._entries.set(e,n),r},t.prototype.removeEntry=function(e){var n=new t(this._entries);return n._entries.delete(e),n},t.prototype.removeEntries=function(){for(var e,n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=new t(this._entries);try{for(var s=PDe(r),a=s.next();!a.done;a=s.next()){var u=a.value;o._entries.delete(u)}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return o},t.prototype.clear=function(){return new t},t}()});var wZ,EZ=k(()=>{wZ=Symbol("BaggageEntryMetadata")});function _Z(t){return t===void 0&&(t={}),new yZ(new Map(Object.entries(t)))}function vI(t){return typeof t!="string"&&(RDe.error("Cannot create baggage metadata from unknown type: "+typeof t),t=""),{__TYPE__:wZ,toString:function(){return t}}}var RDe,TM=k(()=>{lp();xZ();EZ();RDe=Hr.instance()});function Ma(t){return Symbol.for(t)}var ADe,yI,pE=k(()=>{ADe=function(){function t(e){var n=this;n._currentContext=e?new Map(e):new Map,n.getValue=function(r){return n._currentContext.get(r)},n.setValue=function(r,i){var o=new t(n._currentContext);return o._currentContext.set(r,i),o},n.deleteValue=function(r){var i=new t(n._currentContext);return i._currentContext.delete(r),i}}return t}(),yI=new ADe});var IM,bZ,CZ=k(()=>{IM=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}],bZ=function(){function t(){function e(r){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];if(console){var s=console[r];if(typeof s!="function"&&(s=console.log),typeof s=="function")return s.apply(console,i)}}}for(var n=0;n<IM.length;n++)this[IM[n].n]=e(IM[n].c)}return t}()});function SZ(){return AM}var Ig,DDe,PM,kDe,ODe,NDe,RM,LDe,FDe,MDe,AM,UDe,qDe,jDe,HDe,$De,BDe,DM=k(()=>{Ig=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),DDe=function(){function t(){}return t.prototype.createHistogram=function(e,n){return qDe},t.prototype.createCounter=function(e,n){return UDe},t.prototype.createUpDownCounter=function(e,n){return jDe},t.prototype.createObservableGauge=function(e,n){return $De},t.prototype.createObservableCounter=function(e,n){return HDe},t.prototype.createObservableUpDownCounter=function(e,n){return BDe},t.prototype.addBatchObservableCallback=function(e,n){},t.prototype.removeBatchObservableCallback=function(e){},t}(),PM=function(){function t(){}return t}(),kDe=function(t){Ig(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(n,r){},e}(PM),ODe=function(t){Ig(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.add=function(n,r){},e}(PM),NDe=function(t){Ig(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.record=function(n,r){},e}(PM),RM=function(){function t(){}return t.prototype.addCallback=function(e){},t.prototype.removeCallback=function(e){},t}(),LDe=function(t){Ig(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(RM),FDe=function(t){Ig(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(RM),MDe=function(t){Ig(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(RM),AM=new DDe,UDe=new kDe,qDe=new NDe,jDe=new ODe,HDe=new LDe,$De=new FDe,BDe=new MDe});var xI,TZ=k(()=>{(function(t){t[t.INT=0]="INT",t[t.DOUBLE=1]="DOUBLE"})(xI||(xI={}))});var wI,EI,kM=k(()=>{wI={get:function(t,e){if(t!=null)return t[e]},keys:function(t){return t==null?[]:Object.keys(t)}},EI={set:function(t,e,n){t!=null&&(t[e]=n)}}});var VDe,WDe,IZ,PZ=k(()=>{pE();VDe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},WDe=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},IZ=function(){function t(){}return t.prototype.active=function(){return yI},t.prototype.with=function(e,n,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];return n.call.apply(n,WDe([r],VDe(i),!1))},t.prototype.bind=function(e,n){return n},t.prototype.enable=function(){return this},t.prototype.disable=function(){return this},t}()});var GDe,zDe,OM,YDe,Pg,_I=k(()=>{PZ();up();lp();GDe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},zDe=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},OM="context",YDe=new IZ,Pg=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalContextManager=function(e){return La(OM,e,Hr.instance())},t.prototype.active=function(){return this._getContextManager().active()},t.prototype.with=function(e,n,r){for(var i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,zDe([e,n,r],GDe(o),!1))},t.prototype.bind=function(e,n){return this._getContextManager().bind(e,n)},t.prototype._getContextManager=function(){return yo(OM)||YDe},t.prototype.disable=function(){this._getContextManager().disable(),Fa(OM,Hr.instance())},t}()});var _n,NM=k(()=>{(function(t){t[t.NONE=0]="NONE",t[t.SAMPLED=1]="SAMPLED"})(_n||(_n={}))});var mE,hE,Rg,bI=k(()=>{NM();mE="0000000000000000",hE="00000000000000000000000000000000",Rg={traceId:hE,spanId:mE,traceFlags:_n.NONE}});var Wl,CI=k(()=>{bI();Wl=function(){function t(e){e===void 0&&(e=Rg),this._spanContext=e}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,n){return this},t.prototype.setAttributes=function(e){return this},t.prototype.addEvent=function(e,n){return this},t.prototype.setStatus=function(e){return this},t.prototype.updateName=function(e){return this},t.prototype.end=function(e){},t.prototype.isRecording=function(){return!1},t.prototype.recordException=function(e,n){},t}()});function SI(t){return t.getValue(LM)||void 0}function RZ(){return SI(Pg.getInstance().active())}function gE(t,e){return t.setValue(LM,e)}function AZ(t){return t.deleteValue(LM)}function DZ(t,e){return gE(t,new Wl(e))}function TI(t){var e;return(e=SI(t))===null||e===void 0?void 0:e.spanContext()}var LM,FM=k(()=>{pE();CI();_I();LM=Ma("OpenTelemetry Context Key SPAN")});function fp(t){return KDe.test(t)&&t!==hE}function MM(t){return XDe.test(t)&&t!==mE}function es(t){return fp(t.traceId)&&MM(t.spanId)}function kZ(t){return new Wl(t)}var KDe,XDe,II=k(()=>{bI();CI();KDe=/^([0-9a-f]{32})$/i,XDe=/^[0-9a-f]{16}$/i});function QDe(t){return typeof t=="object"&&typeof t.spanId=="string"&&typeof t.traceId=="string"&&typeof t.traceFlags=="number"}var OZ,PI,UM=k(()=>{_I();FM();CI();II();OZ=Pg.getInstance(),PI=function(){function t(){}return t.prototype.startSpan=function(e,n,r){var i=!!(n!=null&&n.root);if(i)return new Wl;var o=r&&TI(r);return QDe(o)&&es(o)?new Wl(o):new Wl},t.prototype.startActiveSpan=function(e,n,r,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(o=n,a=r):(o=n,s=r,a=i);var u=s??OZ.active(),c=this.startSpan(e,o,u),l=gE(u,c);return OZ.with(l,a,void 0,c)}},t}()});var JDe,RI,qM=k(()=>{UM();JDe=new PI,RI=function(){function t(e,n,r,i){this._provider=e,this.name=n,this.version=r,this.options=i}return t.prototype.startSpan=function(e,n,r){return this._getTracer().startSpan(e,n,r)},t.prototype.startActiveSpan=function(e,n,r,i){var o=this._getTracer();return Reflect.apply(o.startActiveSpan,o,arguments)},t.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):JDe},t}()});var NZ,LZ=k(()=>{UM();NZ=function(){function t(){}return t.prototype.getTracer=function(e,n,r){return new PI},t}()});var ZDe,vE,jM=k(()=>{qM();LZ();ZDe=new NZ,vE=function(){function t(){}return t.prototype.getTracer=function(e,n,r){var i;return(i=this.getDelegateTracer(e,n,r))!==null&&i!==void 0?i:new RI(this,e,n,r)},t.prototype.getDelegate=function(){var e;return(e=this._delegate)!==null&&e!==void 0?e:ZDe},t.prototype.setDelegate=function(e){this._delegate=e},t.prototype.getDelegateTracer=function(e,n,r){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(e,n,r)},t}()});var $i,FZ=k(()=>{(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})($i||($i={}))});var Ag,MZ=k(()=>{(function(t){t[t.INTERNAL=0]="INTERNAL",t[t.SERVER=1]="SERVER",t[t.CLIENT=2]="CLIENT",t[t.PRODUCER=3]="PRODUCER",t[t.CONSUMER=4]="CONSUMER"})(Ag||(Ag={}))});var Dg,UZ=k(()=>{(function(t){t[t.UNSET=0]="UNSET",t[t.OK=1]="OK",t[t.ERROR=2]="ERROR"})(Dg||(Dg={}))});function qZ(t){return nke.test(t)}function jZ(t){return rke.test(t)&&!ike.test(t)}var HM,eke,tke,nke,rke,ike,HZ=k(()=>{HM="[_0-9a-z-*/]",eke="[a-z]"+HM+"{0,255}",tke="[a-z0-9]"+HM+"{0,240}@[a-z]"+HM+"{0,13}",nke=new RegExp("^(?:"+eke+"|"+tke+")$"),rke=/^[ -~]{0,255}[!-~]$/,ike=/,|=/});var $Z,oke,BZ,VZ,WZ,GZ=k(()=>{HZ();$Z=32,oke=512,BZ=",",VZ="=",WZ=function(){function t(e){this._internalState=new Map,e&&this._parse(e)}return t.prototype.set=function(e,n){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,n),r},t.prototype.unset=function(e){var n=this._clone();return n._internalState.delete(e),n},t.prototype.get=function(e){return this._internalState.get(e)},t.prototype.serialize=function(){var e=this;return this._keys().reduce(function(n,r){return n.push(r+VZ+e.get(r)),n},[]).join(BZ)},t.prototype._parse=function(e){e.length>oke||(this._internalState=e.split(BZ).reverse().reduce(function(n,r){var i=r.trim(),o=i.indexOf(VZ);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,r.length);qZ(s)&&jZ(a)&&n.set(s,a)}return n},new Map),this._internalState.size>$Z&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,$Z))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}()});function zZ(t){return new WZ(t)}var YZ=k(()=>{GZ()});var ci,KZ=k(()=>{_I();ci=Pg.getInstance()});var He,XZ=k(()=>{lp();He=Hr.instance()});var ske,QZ,JZ=k(()=>{DM();ske=function(){function t(){}return t.prototype.getMeter=function(e,n,r){return AM},t}(),QZ=new ske});var $M,ZZ,eee=k(()=>{JZ();up();lp();$M="metrics",ZZ=function(){function t(){}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalMeterProvider=function(e){return La($M,e,Hr.instance())},t.prototype.getMeterProvider=function(){return yo($M)||QZ},t.prototype.getMeter=function(e,n,r){return this.getMeterProvider().getMeter(e,n,r)},t.prototype.disable=function(){Fa($M,Hr.instance())},t}()});var BM,tee=k(()=>{eee();BM=ZZ.getInstance()});var nee,ree=k(()=>{nee=function(){function t(){}return t.prototype.inject=function(e,n){},t.prototype.extract=function(e,n){return e},t.prototype.fields=function(){return[]},t}()});function iee(t){return t.getValue(VM)||void 0}function oee(t,e){return t.setValue(VM,e)}function see(t){return t.deleteValue(VM)}var VM,aee=k(()=>{pE();VM=Ma("OpenTelemetry Baggage Key")});var WM,ake,cee,uee=k(()=>{up();ree();kM();aee();TM();lp();WM="propagation",ake=new nee,cee=function(){function t(){this.createBaggage=_Z,this.getBaggage=iee,this.setBaggage=oee,this.deleteBaggage=see}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalPropagator=function(e){return La(WM,e,Hr.instance())},t.prototype.inject=function(e,n,r){return r===void 0&&(r=EI),this._getGlobalPropagator().inject(e,n,r)},t.prototype.extract=function(e,n,r){return r===void 0&&(r=wI),this._getGlobalPropagator().extract(e,n,r)},t.prototype.fields=function(){return this._getGlobalPropagator().fields()},t.prototype.disable=function(){Fa(WM,Hr.instance())},t.prototype._getGlobalPropagator=function(){return yo(WM)||ake},t}()});var au,lee=k(()=>{uee();au=cee.getInstance()});var GM,fee,dee=k(()=>{up();jM();II();FM();lp();GM="trace",fee=function(){function t(){this._proxyTracerProvider=new vE,this.wrapSpanContext=kZ,this.isSpanContextValid=es,this.deleteSpan=AZ,this.getSpan=SI,this.getActiveSpan=RZ,this.getSpanContext=TI,this.setSpan=gE,this.setSpanContext=DZ}return t.getInstance=function(){return this._instance||(this._instance=new t),this._instance},t.prototype.setGlobalTracerProvider=function(e){var n=La(GM,this._proxyTracerProvider,Hr.instance());return n&&this._proxyTracerProvider.setDelegate(e),n},t.prototype.getTracerProvider=function(){return yo(GM)||this._proxyTracerProvider},t.prototype.getTracer=function(e,n){return this.getTracerProvider().getTracer(e,n)},t.prototype.disable=function(){Fa(GM,Hr.instance()),this._proxyTracerProvider=new vE},t}()});var Kn,pee=k(()=>{dee();Kn=fee.getInstance()});var dp={};ua(dp,{DiagConsoleLogger:()=>bZ,DiagLogLevel:()=>Ft,INVALID_SPANID:()=>mE,INVALID_SPAN_CONTEXT:()=>Rg,INVALID_TRACEID:()=>hE,ProxyTracer:()=>RI,ProxyTracerProvider:()=>vE,ROOT_CONTEXT:()=>yI,SamplingDecision:()=>$i,SpanKind:()=>Ag,SpanStatusCode:()=>Dg,TraceFlags:()=>_n,ValueType:()=>xI,baggageEntryMetadataFromString:()=>vI,context:()=>ci,createContextKey:()=>Ma,createNoopMeter:()=>SZ,createTraceState:()=>zZ,default:()=>cke,defaultTextMapGetter:()=>wI,defaultTextMapSetter:()=>EI,diag:()=>He,isSpanContextValid:()=>es,isValidSpanId:()=>MM,isValidTraceId:()=>fp,metrics:()=>BM,propagation:()=>au,trace:()=>Kn});var cke,xt=k(()=>{TM();pE();CZ();gI();DM();TZ();kM();qM();jM();FZ();MZ();UZ();NM();YZ();II();bI();KZ();XZ();tee();lee();pee();cke={context:ci,diag:He,metrics:BM,propagation:au,trace:Kn}});function yE(t){return t.setValue(zM,!0)}function uke(t){return t.deleteValue(zM)}function pp(t){return t.getValue(zM)===!0}var zM,xE=k(()=>{xt();zM=Ma("OpenTelemetry SDK Context Key SUPPRESS_TRACING")});var mee,AI,kg,DI,hee,gee,vee,YM=k(()=>{mee="=",AI=";",kg=",",DI="baggage",hee=180,gee=4096,vee=8192});var QM={};ua(QM,{getKeyPairs:()=>XM,parseKeyPairsIntoRecord:()=>fke,parsePairKeyValue:()=>kI,serializeKeyPairs:()=>KM});function KM(t){return t.reduce(function(e,n){var r=""+e+(e!==""?kg:"")+n;return r.length>vee?e:r},"")}function XM(t){return t.getAllEntries().map(function(e){var n=lke(e,2),r=n[0],i=n[1],o=encodeURIComponent(r)+"="+encodeURIComponent(i.value);return i.metadata!==void 0&&(o+=AI+i.metadata.toString()),o})}function kI(t){var e=t.split(AI);if(!(e.length<=0)){var n=e.shift();if(n){var r=n.split(mee);if(r.length===2){var i=decodeURIComponent(r[0].trim()),o=decodeURIComponent(r[1].trim()),s;return e.length>0&&(s=vI(e.join(AI))),{key:i,value:o,metadata:s}}}}}function fke(t){return typeof t!="string"||t.length===0?{}:t.split(kg).map(function(e){return kI(e)}).filter(function(e){return e!==void 0&&e.value.length>0}).reduce(function(e,n){return e[n.key]=n.value,e},{})}var lke,JM=k(()=>{xt();YM();lke=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}});var ZM,yee=k(()=>{xt();xE();YM();JM();ZM=function(){function t(){}return t.prototype.inject=function(e,n,r){var i=au.getBaggage(e);if(!(!i||pp(e))){var o=XM(i).filter(function(a){return a.length<=gee}).slice(0,hee),s=KM(o);s.length>0&&r.set(n,DI,s)}},t.prototype.extract=function(e,n,r){var i=r.get(n,DI),o=Array.isArray(i)?i.join(kg):i;if(!o)return e;var s={};if(o.length===0)return e;var a=o.split(kg);return a.forEach(function(u){var c=kI(u);if(c){var l={value:c.value};c.metadata&&(l.metadata=c.metadata),s[c.key]=l}}),Object.entries(s).length===0?e:au.setBaggage(e,au.createBaggage(s))},t.prototype.fields=function(){return[DI]},t}()});var dke,xee=k(()=>{dke=function(){function t(e,n){this._monotonicClock=n,this._epochMillis=e.now(),this._performanceMillis=n.now()}return t.prototype.now=function(){var e=this._monotonicClock.now()-this._performanceMillis;return this._epochMillis+e},t}()});function mp(t){var e,n,r={};if(typeof t!="object"||t==null)return r;try{for(var i=wee(Object.entries(t)),o=i.next();!o.done;o=i.next()){var s=pke(o.value,2),a=s[0],u=s[1];if(!Eee(a)){He.warn("Invalid attribute key: "+a);continue}if(!OI(u)){He.warn("Invalid attribute value set for key: "+a);continue}Array.isArray(u)?r[a]=u.slice():r[a]=u}}catch(c){e={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}function Eee(t){return typeof t=="string"&&t.length>0}function OI(t){return t==null?!0:Array.isArray(t)?mke(t):_ee(t)}function mke(t){var e,n,r;try{for(var i=wee(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(s!=null){if(!r){if(_ee(s)){r=typeof s;continue}return!1}if(typeof s!==r)return!1}}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return!0}function _ee(t){switch(typeof t){case"number":case"boolean":case"string":return!0}return!1}var wee,pke,bee=k(()=>{xt();wee=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},pke=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}});function eU(){return function(t){He.error(hke(t))}}function hke(t){return typeof t=="string"?t:JSON.stringify(gke(t))}function gke(t){for(var e={},n=t;n!==null;)Object.getOwnPropertyNames(n).forEach(function(r){if(!e[r]){var i=n[r];i&&(e[r]=String(i))}}),n=Object.getPrototypeOf(n);return e}var tU=k(()=>{xt()});function vke(t){Cee=t}function ts(t){try{Cee(t)}catch{}}var Cee,nU=k(()=>{tU();Cee=eU()});var xo,rU=k(()=>{(function(t){t.AlwaysOff="always_off",t.AlwaysOn="always_on",t.ParentBasedAlwaysOff="parentbased_always_off",t.ParentBasedAlwaysOn="parentbased_always_on",t.ParentBasedTraceIdRatio="parentbased_traceidratio",t.TraceIdRatio="traceidratio"})(xo||(xo={}))});var See,Tee=k(()=>{See=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof global=="object"?global:{}});function wke(t){return xke.indexOf(t)>-1}function _ke(t){return Eke.indexOf(t)>-1}function bke(t,e,n,r,i){if(r===void 0&&(r=-1/0),i===void 0&&(i=1/0),typeof n[t]<"u"){var o=Number(n[t]);isNaN(o)||(o<r?e[t]=r:o>i?e[t]=i:e[t]=o)}}function Cke(t,e,n,r){r===void 0&&(r=yke);var i=n[t];typeof i=="string"&&(e[t]=i.split(r).map(function(o){return o.trim()}))}function Tke(t,e,n){var r=n[t];if(typeof r=="string"){var i=Ske[r.toUpperCase()];i!=null&&(e[t]=i)}}function _E(t){var e={};for(var n in NI){var r=n;switch(r){case"OTEL_LOG_LEVEL":Tke(r,e,t);break;default:if(wke(r))bke(r,e,t);else if(_ke(r))Cke(r,e,t);else{var i=t[r];typeof i<"u"&&i!==null&&(e[r]=String(i))}}}return e}function iU(){return _E(typeof process<"u"?process.env:See)}var yke,xke,Eke,wE,EE,NI,Ske,oU=k(()=>{xt();rU();Tee();yke=",",xke=["OTEL_BSP_EXPORT_TIMEOUT","OTEL_BSP_MAX_EXPORT_BATCH_SIZE","OTEL_BSP_MAX_QUEUE_SIZE","OTEL_BSP_SCHEDULE_DELAY","OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT","OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT","OTEL_SPAN_EVENT_COUNT_LIMIT","OTEL_SPAN_LINK_COUNT_LIMIT","OTEL_EXPORTER_OTLP_TIMEOUT","OTEL_EXPORTER_OTLP_TRACES_TIMEOUT","OTEL_EXPORTER_OTLP_METRICS_TIMEOUT","OTEL_EXPORTER_JAEGER_AGENT_PORT"];Eke=["OTEL_NO_PATCH_MODULES","OTEL_PROPAGATORS"];wE=1/0,EE=128,NI={CONTAINER_NAME:"",ECS_CONTAINER_METADATA_URI_V4:"",ECS_CONTAINER_METADATA_URI:"",HOSTNAME:"",KUBERNETES_SERVICE_HOST:"",NAMESPACE:"",OTEL_BSP_EXPORT_TIMEOUT:3e4,OTEL_BSP_MAX_EXPORT_BATCH_SIZE:512,OTEL_BSP_MAX_QUEUE_SIZE:2048,OTEL_BSP_SCHEDULE_DELAY:5e3,OTEL_EXPORTER_JAEGER_AGENT_HOST:"",OTEL_EXPORTER_JAEGER_AGENT_PORT:6832,OTEL_EXPORTER_JAEGER_ENDPOINT:"",OTEL_EXPORTER_JAEGER_PASSWORD:"",OTEL_EXPORTER_JAEGER_USER:"",OTEL_EXPORTER_OTLP_ENDPOINT:"",OTEL_EXPORTER_OTLP_TRACES_ENDPOINT:"",OTEL_EXPORTER_OTLP_METRICS_ENDPOINT:"",OTEL_EXPORTER_OTLP_HEADERS:"",OTEL_EXPORTER_OTLP_TRACES_HEADERS:"",OTEL_EXPORTER_OTLP_METRICS_HEADERS:"",OTEL_EXPORTER_OTLP_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_TRACES_TIMEOUT:1e4,OTEL_EXPORTER_OTLP_METRICS_TIMEOUT:1e4,OTEL_EXPORTER_ZIPKIN_ENDPOINT:"http://localhost:9411/api/v2/spans",OTEL_LOG_LEVEL:Ft.INFO,OTEL_NO_PATCH_MODULES:[],OTEL_PROPAGATORS:["tracecontext","baggage"],OTEL_RESOURCE_ATTRIBUTES:"",OTEL_SERVICE_NAME:"",OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT:wE,OTEL_ATTRIBUTE_COUNT_LIMIT:EE,OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT:wE,OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT:EE,OTEL_SPAN_EVENT_COUNT_LIMIT:128,OTEL_SPAN_LINK_COUNT_LIMIT:128,OTEL_TRACES_EXPORTER:"otlp",OTEL_TRACES_SAMPLER:xo.ParentBasedAlwaysOn,OTEL_TRACES_SAMPLER_ARG:"",OTEL_EXPORTER_OTLP_INSECURE:"",OTEL_EXPORTER_OTLP_TRACES_INSECURE:"",OTEL_EXPORTER_OTLP_METRICS_INSECURE:"",OTEL_EXPORTER_OTLP_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CERTIFICATE:"",OTEL_EXPORTER_OTLP_COMPRESSION:"",OTEL_EXPORTER_OTLP_TRACES_COMPRESSION:"",OTEL_EXPORTER_OTLP_METRICS_COMPRESSION:"",OTEL_EXPORTER_OTLP_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_KEY:"",OTEL_EXPORTER_OTLP_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_TRACES_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_METRICS_CLIENT_CERTIFICATE:"",OTEL_EXPORTER_OTLP_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_TRACES_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_PROTOCOL:"http/protobuf",OTEL_EXPORTER_OTLP_METRICS_TEMPORALITY_PREFERENCE:"cumulative"};Ske={ALL:Ft.ALL,VERBOSE:Ft.VERBOSE,DEBUG:Ft.DEBUG,INFO:Ft.INFO,WARN:Ft.WARN,ERROR:Ft.ERROR,NONE:Ft.NONE}});function vr(){var t=_E(process.env);return Object.assign({HOSTNAME:Iee.hostname()},NI,t)}var Iee,Pee=k(()=>{Iee=B(require("os"));oU()});var Ike,Ree=k(()=>{Ike=typeof globalThis=="object"?globalThis:global});function Aee(t){return t>=48&&t<=57?t-48:t>=97&&t<=102?t-87:t-55}function Ake(t){var e;t.length===16?e=Pke:t.length===32?e=Rke:e=Buffer.alloc(t.length/2);for(var n=0,r=0;r<t.length;r+=2){var i=Aee(t.charCodeAt(r)),o=Aee(t.charCodeAt(r+1));e.writeUInt8(i<<4|o,n++)}return e.toString("base64")}var Pke,Rke,Dee=k(()=>{Pke=Buffer.alloc(8),Rke=Buffer.alloc(16)});function kee(t){return function(){for(var n=0;n<t/4;n++)LI.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,n*4);for(var n=0;n<t&&!(LI[n]>0);n++)n===t-1&&(LI[t-1]=1);return LI.toString("hex",0,t)}}var Dke,Oee,kke,LI,Nee=k(()=>{Dke=8,Oee=16,kke=function(){function t(){this.generateTraceId=kee(Oee),this.generateSpanId=kee(Dke)}return t}(),LI=Buffer.allocUnsafe(Oee)});var Lee,hp,Fee=k(()=>{Lee=require("perf_hooks"),hp=Lee.performance});var sU,FI=k(()=>{sU="1.8.0"});var cu,Oke,Nke,Lke,Fke,Mke,Uke,qke,jke,Hke,$ke,Bke,Vke,Wke,Mee=k(()=>{cu={AWS_LAMBDA_INVOKED_ARN:"aws.lambda.invoked_arn",DB_SYSTEM:"db.system",DB_CONNECTION_STRING:"db.connection_string",DB_USER:"db.user",DB_JDBC_DRIVER_CLASSNAME:"db.jdbc.driver_classname",DB_NAME:"db.name",DB_STATEMENT:"db.statement",DB_OPERATION:"db.operation",DB_MSSQL_INSTANCE_NAME:"db.mssql.instance_name",DB_CASSANDRA_KEYSPACE:"db.cassandra.keyspace",DB_CASSANDRA_PAGE_SIZE:"db.cassandra.page_size",DB_CASSANDRA_CONSISTENCY_LEVEL:"db.cassandra.consistency_level",DB_CASSANDRA_TABLE:"db.cassandra.table",DB_CASSANDRA_IDEMPOTENCE:"db.cassandra.idempotence",DB_CASSANDRA_SPECULATIVE_EXECUTION_COUNT:"db.cassandra.speculative_execution_count",DB_CASSANDRA_COORDINATOR_ID:"db.cassandra.coordinator.id",DB_CASSANDRA_COORDINATOR_DC:"db.cassandra.coordinator.dc",DB_HBASE_NAMESPACE:"db.hbase.namespace",DB_REDIS_DATABASE_INDEX:"db.redis.database_index",DB_MONGODB_COLLECTION:"db.mongodb.collection",DB_SQL_TABLE:"db.sql.table",EXCEPTION_TYPE:"exception.type",EXCEPTION_MESSAGE:"exception.message",EXCEPTION_STACKTRACE:"exception.stacktrace",EXCEPTION_ESCAPED:"exception.escaped",FAAS_TRIGGER:"faas.trigger",FAAS_EXECUTION:"faas.execution",FAAS_DOCUMENT_COLLECTION:"faas.document.collection",FAAS_DOCUMENT_OPERATION:"faas.document.operation",FAAS_DOCUMENT_TIME:"faas.document.time",FAAS_DOCUMENT_NAME:"faas.document.name",FAAS_TIME:"faas.time",FAAS_CRON:"faas.cron",FAAS_COLDSTART:"faas.coldstart",FAAS_INVOKED_NAME:"faas.invoked_name",FAAS_INVOKED_PROVIDER:"faas.invoked_provider",FAAS_INVOKED_REGION:"faas.invoked_region",NET_TRANSPORT:"net.transport",NET_PEER_IP:"net.peer.ip",NET_PEER_PORT:"net.peer.port",NET_PEER_NAME:"net.peer.name",NET_HOST_IP:"net.host.ip",NET_HOST_PORT:"net.host.port",NET_HOST_NAME:"net.host.name",NET_HOST_CONNECTION_TYPE:"net.host.connection.type",NET_HOST_CONNECTION_SUBTYPE:"net.host.connection.subtype",NET_HOST_CARRIER_NAME:"net.host.carrier.name",NET_HOST_CARRIER_MCC:"net.host.carrier.mcc",NET_HOST_CARRIER_MNC:"net.host.carrier.mnc",NET_HOST_CARRIER_ICC:"net.host.carrier.icc",PEER_SERVICE:"peer.service",ENDUSER_ID:"enduser.id",ENDUSER_ROLE:"enduser.role",ENDUSER_SCOPE:"enduser.scope",THREAD_ID:"thread.id",THREAD_NAME:"thread.name",CODE_FUNCTION:"code.function",CODE_NAMESPACE:"code.namespace",CODE_FILEPATH:"code.filepath",CODE_LINENO:"code.lineno",HTTP_METHOD:"http.method",HTTP_URL:"http.url",HTTP_TARGET:"http.target",HTTP_HOST:"http.host",HTTP_SCHEME:"http.scheme",HTTP_STATUS_CODE:"http.status_code",HTTP_FLAVOR:"http.flavor",HTTP_USER_AGENT:"http.user_agent",HTTP_REQUEST_CONTENT_LENGTH:"http.request_content_length",HTTP_REQUEST_CONTENT_LENGTH_UNCOMPRESSED:"http.request_content_length_uncompressed",HTTP_RESPONSE_CONTENT_LENGTH:"http.response_content_length",HTTP_RESPONSE_CONTENT_LENGTH_UNCOMPRESSED:"http.response_content_length_uncompressed",HTTP_SERVER_NAME:"http.server_name",HTTP_ROUTE:"http.route",HTTP_CLIENT_IP:"http.client_ip",AWS_DYNAMODB_TABLE_NAMES:"aws.dynamodb.table_names",AWS_DYNAMODB_CONSUMED_CAPACITY:"aws.dynamodb.consumed_capacity",AWS_DYNAMODB_ITEM_COLLECTION_METRICS:"aws.dynamodb.item_collection_metrics",AWS_DYNAMODB_PROVISIONED_READ_CAPACITY:"aws.dynamodb.provisioned_read_capacity",AWS_DYNAMODB_PROVISIONED_WRITE_CAPACITY:"aws.dynamodb.provisioned_write_capacity",AWS_DYNAMODB_CONSISTENT_READ:"aws.dynamodb.consistent_read",AWS_DYNAMODB_PROJECTION:"aws.dynamodb.projection",AWS_DYNAMODB_LIMIT:"aws.dynamodb.limit",AWS_DYNAMODB_ATTRIBUTES_TO_GET:"aws.dynamodb.attributes_to_get",AWS_DYNAMODB_INDEX_NAME:"aws.dynamodb.index_name",AWS_DYNAMODB_SELECT:"aws.dynamodb.select",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEXES:"aws.dynamodb.global_secondary_indexes",AWS_DYNAMODB_LOCAL_SECONDARY_INDEXES:"aws.dynamodb.local_secondary_indexes",AWS_DYNAMODB_EXCLUSIVE_START_TABLE:"aws.dynamodb.exclusive_start_table",AWS_DYNAMODB_TABLE_COUNT:"aws.dynamodb.table_count",AWS_DYNAMODB_SCAN_FORWARD:"aws.dynamodb.scan_forward",AWS_DYNAMODB_SEGMENT:"aws.dynamodb.segment",AWS_DYNAMODB_TOTAL_SEGMENTS:"aws.dynamodb.total_segments",AWS_DYNAMODB_COUNT:"aws.dynamodb.count",AWS_DYNAMODB_SCANNED_COUNT:"aws.dynamodb.scanned_count",AWS_DYNAMODB_ATTRIBUTE_DEFINITIONS:"aws.dynamodb.attribute_definitions",AWS_DYNAMODB_GLOBAL_SECONDARY_INDEX_UPDATES:"aws.dynamodb.global_secondary_index_updates",MESSAGING_SYSTEM:"messaging.system",MESSAGING_DESTINATION:"messaging.destination",MESSAGING_DESTINATION_KIND:"messaging.destination_kind",MESSAGING_TEMP_DESTINATION:"messaging.temp_destination",MESSAGING_PROTOCOL:"messaging.protocol",MESSAGING_PROTOCOL_VERSION:"messaging.protocol_version",MESSAGING_URL:"messaging.url",MESSAGING_MESSAGE_ID:"messaging.message_id",MESSAGING_CONVERSATION_ID:"messaging.conversation_id",MESSAGING_MESSAGE_PAYLOAD_SIZE_BYTES:"messaging.message_payload_size_bytes",MESSAGING_MESSAGE_PAYLOAD_COMPRESSED_SIZE_BYTES:"messaging.message_payload_compressed_size_bytes",MESSAGING_OPERATION:"messaging.operation",MESSAGING_CONSUMER_ID:"messaging.consumer_id",MESSAGING_RABBITMQ_ROUTING_KEY:"messaging.rabbitmq.routing_key",MESSAGING_KAFKA_MESSAGE_KEY:"messaging.kafka.message_key",MESSAGING_KAFKA_CONSUMER_GROUP:"messaging.kafka.consumer_group",MESSAGING_KAFKA_CLIENT_ID:"messaging.kafka.client_id",MESSAGING_KAFKA_PARTITION:"messaging.kafka.partition",MESSAGING_KAFKA_TOMBSTONE:"messaging.kafka.tombstone",RPC_SYSTEM:"rpc.system",RPC_SERVICE:"rpc.service",RPC_METHOD:"rpc.method",RPC_GRPC_STATUS_CODE:"rpc.grpc.status_code",RPC_JSONRPC_VERSION:"rpc.jsonrpc.version",RPC_JSONRPC_REQUEST_ID:"rpc.jsonrpc.request_id",RPC_JSONRPC_ERROR_CODE:"rpc.jsonrpc.error_code",RPC_JSONRPC_ERROR_MESSAGE:"rpc.jsonrpc.error_message",MESSAGE_TYPE:"message.type",MESSAGE_ID:"message.id",MESSAGE_COMPRESSED_SIZE:"message.compressed_size",MESSAGE_UNCOMPRESSED_SIZE:"message.uncompressed_size"},Oke={OTHER_SQL:"other_sql",MSSQL:"mssql",MYSQL:"mysql",ORACLE:"oracle",DB2:"db2",POSTGRESQL:"postgresql",REDSHIFT:"redshift",HIVE:"hive",CLOUDSCAPE:"cloudscape",HSQLDB:"hsqldb",PROGRESS:"progress",MAXDB:"maxdb",HANADB:"hanadb",INGRES:"ingres",FIRSTSQL:"firstsql",EDB:"edb",CACHE:"cache",ADABAS:"adabas",FIREBIRD:"firebird",DERBY:"derby",FILEMAKER:"filemaker",INFORMIX:"informix",INSTANTDB:"instantdb",INTERBASE:"interbase",MARIADB:"mariadb",NETEZZA:"netezza",PERVASIVE:"pervasive",POINTBASE:"pointbase",SQLITE:"sqlite",SYBASE:"sybase",TERADATA:"teradata",VERTICA:"vertica",H2:"h2",COLDFUSION:"coldfusion",CASSANDRA:"cassandra",HBASE:"hbase",MONGODB:"mongodb",REDIS:"redis",COUCHBASE:"couchbase",COUCHDB:"couchdb",COSMOSDB:"cosmosdb",DYNAMODB:"dynamodb",NEO4J:"neo4j",GEODE:"geode",ELASTICSEARCH:"elasticsearch",MEMCACHED:"memcached",COCKROACHDB:"cockroachdb"},Nke={ALL:"all",EACH_QUORUM:"each_quorum",QUORUM:"quorum",LOCAL_QUORUM:"local_quorum",ONE:"one",TWO:"two",THREE:"three",LOCAL_ONE:"local_one",ANY:"any",SERIAL:"serial",LOCAL_SERIAL:"local_serial"},Lke={DATASOURCE:"datasource",HTTP:"http",PUBSUB:"pubsub",TIMER:"timer",OTHER:"other"},Fke={INSERT:"insert",EDIT:"edit",DELETE:"delete"},Mke={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},Uke={IP_TCP:"ip_tcp",IP_UDP:"ip_udp",IP:"ip",UNIX:"unix",PIPE:"pipe",INPROC:"inproc",OTHER:"other"},qke={WIFI:"wifi",WIRED:"wired",CELL:"cell",UNAVAILABLE:"unavailable",UNKNOWN:"unknown"},jke={GPRS:"gprs",EDGE:"edge",UMTS:"umts",CDMA:"cdma",EVDO_0:"evdo_0",EVDO_A:"evdo_a",CDMA2000_1XRTT:"cdma2000_1xrtt",HSDPA:"hsdpa",HSUPA:"hsupa",HSPA:"hspa",IDEN:"iden",EVDO_B:"evdo_b",LTE:"lte",EHRPD:"ehrpd",HSPAP:"hspap",GSM:"gsm",TD_SCDMA:"td_scdma",IWLAN:"iwlan",NR:"nr",NRNSA:"nrnsa",LTE_CA:"lte_ca"},Hke={HTTP_1_0:"1.0",HTTP_1_1:"1.1",HTTP_2_0:"2.0",SPDY:"SPDY",QUIC:"QUIC"},$ke={QUEUE:"queue",TOPIC:"topic"},Bke={RECEIVE:"receive",PROCESS:"process"},Vke={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15,UNAUTHENTICATED:16},Wke={SENT:"SENT",RECEIVED:"RECEIVED"}});var Uee=k(()=>{Mee()});var Ve,Gke,zke,Yke,Kke,Xke,aU,qee=k(()=>{Ve={CLOUD_PROVIDER:"cloud.provider",CLOUD_ACCOUNT_ID:"cloud.account.id",CLOUD_REGION:"cloud.region",CLOUD_AVAILABILITY_ZONE:"cloud.availability_zone",CLOUD_PLATFORM:"cloud.platform",AWS_ECS_CONTAINER_ARN:"aws.ecs.container.arn",AWS_ECS_CLUSTER_ARN:"aws.ecs.cluster.arn",AWS_ECS_LAUNCHTYPE:"aws.ecs.launchtype",AWS_ECS_TASK_ARN:"aws.ecs.task.arn",AWS_ECS_TASK_FAMILY:"aws.ecs.task.family",AWS_ECS_TASK_REVISION:"aws.ecs.task.revision",AWS_EKS_CLUSTER_ARN:"aws.eks.cluster.arn",AWS_LOG_GROUP_NAMES:"aws.log.group.names",AWS_LOG_GROUP_ARNS:"aws.log.group.arns",AWS_LOG_STREAM_NAMES:"aws.log.stream.names",AWS_LOG_STREAM_ARNS:"aws.log.stream.arns",CONTAINER_NAME:"container.name",CONTAINER_ID:"container.id",CONTAINER_RUNTIME:"container.runtime",CONTAINER_IMAGE_NAME:"container.image.name",CONTAINER_IMAGE_TAG:"container.image.tag",DEPLOYMENT_ENVIRONMENT:"deployment.environment",DEVICE_ID:"device.id",DEVICE_MODEL_IDENTIFIER:"device.model.identifier",DEVICE_MODEL_NAME:"device.model.name",FAAS_NAME:"faas.name",FAAS_ID:"faas.id",FAAS_VERSION:"faas.version",FAAS_INSTANCE:"faas.instance",FAAS_MAX_MEMORY:"faas.max_memory",HOST_ID:"host.id",HOST_NAME:"host.name",HOST_TYPE:"host.type",HOST_ARCH:"host.arch",HOST_IMAGE_NAME:"host.image.name",HOST_IMAGE_ID:"host.image.id",HOST_IMAGE_VERSION:"host.image.version",K8S_CLUSTER_NAME:"k8s.cluster.name",K8S_NODE_NAME:"k8s.node.name",K8S_NODE_UID:"k8s.node.uid",K8S_NAMESPACE_NAME:"k8s.namespace.name",K8S_POD_UID:"k8s.pod.uid",K8S_POD_NAME:"k8s.pod.name",K8S_CONTAINER_NAME:"k8s.container.name",K8S_REPLICASET_UID:"k8s.replicaset.uid",K8S_REPLICASET_NAME:"k8s.replicaset.name",K8S_DEPLOYMENT_UID:"k8s.deployment.uid",K8S_DEPLOYMENT_NAME:"k8s.deployment.name",K8S_STATEFULSET_UID:"k8s.statefulset.uid",K8S_STATEFULSET_NAME:"k8s.statefulset.name",K8S_DAEMONSET_UID:"k8s.daemonset.uid",K8S_DAEMONSET_NAME:"k8s.daemonset.name",K8S_JOB_UID:"k8s.job.uid",K8S_JOB_NAME:"k8s.job.name",K8S_CRONJOB_UID:"k8s.cronjob.uid",K8S_CRONJOB_NAME:"k8s.cronjob.name",OS_TYPE:"os.type",OS_DESCRIPTION:"os.description",OS_NAME:"os.name",OS_VERSION:"os.version",PROCESS_PID:"process.pid",PROCESS_EXECUTABLE_NAME:"process.executable.name",PROCESS_EXECUTABLE_PATH:"process.executable.path",PROCESS_COMMAND:"process.command",PROCESS_COMMAND_LINE:"process.command_line",PROCESS_COMMAND_ARGS:"process.command_args",PROCESS_OWNER:"process.owner",PROCESS_RUNTIME_NAME:"process.runtime.name",PROCESS_RUNTIME_VERSION:"process.runtime.version",PROCESS_RUNTIME_DESCRIPTION:"process.runtime.description",SERVICE_NAME:"service.name",SERVICE_NAMESPACE:"service.namespace",SERVICE_INSTANCE_ID:"service.instance.id",SERVICE_VERSION:"service.version",TELEMETRY_SDK_NAME:"telemetry.sdk.name",TELEMETRY_SDK_LANGUAGE:"telemetry.sdk.language",TELEMETRY_SDK_VERSION:"telemetry.sdk.version",TELEMETRY_AUTO_VERSION:"telemetry.auto.version",WEBENGINE_NAME:"webengine.name",WEBENGINE_VERSION:"webengine.version",WEBENGINE_DESCRIPTION:"webengine.description"},Gke={ALIBABA_CLOUD:"alibaba_cloud",AWS:"aws",AZURE:"azure",GCP:"gcp"},zke={ALIBABA_CLOUD_ECS:"alibaba_cloud_ecs",ALIBABA_CLOUD_FC:"alibaba_cloud_fc",AWS_EC2:"aws_ec2",AWS_ECS:"aws_ecs",AWS_EKS:"aws_eks",AWS_LAMBDA:"aws_lambda",AWS_ELASTIC_BEANSTALK:"aws_elastic_beanstalk",AZURE_VM:"azure_vm",AZURE_CONTAINER_INSTANCES:"azure_container_instances",AZURE_AKS:"azure_aks",AZURE_FUNCTIONS:"azure_functions",AZURE_APP_SERVICE:"azure_app_service",GCP_COMPUTE_ENGINE:"gcp_compute_engine",GCP_CLOUD_RUN:"gcp_cloud_run",GCP_KUBERNETES_ENGINE:"gcp_kubernetes_engine",GCP_CLOUD_FUNCTIONS:"gcp_cloud_functions",GCP_APP_ENGINE:"gcp_app_engine"},Yke={EC2:"ec2",FARGATE:"fargate"},Kke={AMD64:"amd64",ARM32:"arm32",ARM64:"arm64",IA64:"ia64",PPC32:"ppc32",PPC64:"ppc64",X86:"x86"},Xke={WINDOWS:"windows",LINUX:"linux",DARWIN:"darwin",FREEBSD:"freebsd",NETBSD:"netbsd",OPENBSD:"openbsd",DRAGONFLYBSD:"dragonflybsd",HPUX:"hpux",AIX:"aix",SOLARIS:"solaris",Z_OS:"z_os"},aU={CPP:"cpp",DOTNET:"dotnet",ERLANG:"erlang",GO:"go",JAVA:"java",NODEJS:"nodejs",PHP:"php",PYTHON:"python",RUBY:"ruby",WEBJS:"webjs"}});var jee=k(()=>{qee()});var cU={};ua(cU,{AwsEcsLaunchtypeValues:()=>Yke,CloudPlatformValues:()=>zke,CloudProviderValues:()=>Gke,DbCassandraConsistencyLevelValues:()=>Nke,DbSystemValues:()=>Oke,FaasDocumentOperationValues:()=>Fke,FaasInvokedProviderValues:()=>Mke,FaasTriggerValues:()=>Lke,HostArchValues:()=>Kke,HttpFlavorValues:()=>Hke,MessageTypeValues:()=>Wke,MessagingDestinationKindValues:()=>$ke,MessagingOperationValues:()=>Bke,NetHostConnectionSubtypeValues:()=>jke,NetHostConnectionTypeValues:()=>qke,NetTransportValues:()=>Uke,OsTypeValues:()=>Xke,RpcGrpcStatusCodeValues:()=>Vke,SemanticAttributes:()=>cu,SemanticResourceAttributes:()=>Ve,TelemetrySdkLanguageValues:()=>aU});var Zs=k(()=>{Uee();jee()});var Og,bE,Hee=k(()=>{FI();Zs();bE=(Og={},Og[Ve.TELEMETRY_SDK_NAME]="opentelemetry",Og[Ve.PROCESS_RUNTIME_NAME]="node",Og[Ve.TELEMETRY_SDK_LANGUAGE]=aU.NODEJS,Og[Ve.TELEMETRY_SDK_VERSION]=sU,Og)});function uU(t){t.unref()}var $ee=k(()=>{});var Bee=k(()=>{Pee();Ree();Dee();Nee();Fee();Hee();$ee()});var lU=k(()=>{Bee()});function MI(t){var e=t/1e3,n=Math.trunc(e),r=Number((e-n).toFixed(fU))*CE;return[n,r]}function Vee(){var t=hp.timeOrigin;if(typeof t!="number"){var e=hp;t=e.timing&&e.timing.fetchStart}return t}function Wee(t){var e=MI(Vee()),n=MI(typeof t=="number"?t:hp.now()),r=e[0]+n[0],i=e[1]+n[1];return i>CE&&(i-=CE,r+=1),[r,i]}function SE(t){if(pU(t))return t;if(typeof t=="number")return t<Vee()?Wee(t):MI(t);if(t instanceof Date)return MI(t.getTime());throw TypeError("Invalid input type")}function dU(t,e){var n=e[0]-t[0],r=e[1]-t[1];return r<0&&(n-=1,r+=CE),[n,r]}function Qke(t){var e=fU,n=""+"0".repeat(e)+t[1]+"Z",r=n.substr(n.length-e-1),i=new Date(t[0]*1e3).toISOString();return i.replace("000Z",r)}function Jke(t){return t[0]*CE+t[1]}function Zke(t){return Math.round(t[0]*1e3+t[1]/1e6)}function UI(t){return Math.round(t[0]*1e6+t[1]/1e3)}function pU(t){return Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number"}function mU(t){return pU(t)||typeof t=="number"||t instanceof Date}var fU,CE,Gee=k(()=>{lU();fU=9,CE=Math.pow(10,fU)});var zee=k(()=>{});var ns,Yee=k(()=>{(function(t){t[t.SUCCESS=0]="SUCCESS",t[t.FAILED=1]="FAILED"})(ns||(ns={}))});var eOe,hU,Kee=k(()=>{xt();eOe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},hU=function(){function t(e){e===void 0&&(e={});var n;this._propagators=(n=e.propagators)!==null&&n!==void 0?n:[],this._fields=Array.from(new Set(this._propagators.map(function(r){return typeof r.fields=="function"?r.fields():[]}).reduce(function(r,i){return r.concat(i)},[])))}return t.prototype.inject=function(e,n,r){var i,o;try{for(var s=eOe(this._propagators),a=s.next();!a.done;a=s.next()){var u=a.value;try{u.inject(e,n,r)}catch(c){He.warn("Failed to inject with "+u.constructor.name+". Err: "+c.message)}}}catch(c){i={error:c}}finally{try{a&&!a.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}},t.prototype.extract=function(e,n,r){return this._propagators.reduce(function(i,o){try{return o.extract(i,n,r)}catch(s){He.warn("Failed to inject with "+o.constructor.name+". Err: "+s.message)}return i},e)},t.prototype.fields=function(){return this._fields.slice()},t}()});function Xee(t){return rOe.test(t)}function Qee(t){return iOe.test(t)&&!oOe.test(t)}var gU,tOe,nOe,rOe,iOe,oOe,Jee=k(()=>{gU="[_0-9a-z-*/]",tOe="[a-z]"+gU+"{0,255}",nOe="[a-z0-9]"+gU+"{0,240}@[a-z]"+gU+"{0,13}",rOe=new RegExp("^(?:"+tOe+"|"+nOe+")$"),iOe=/^[ -~]{0,255}[!-~]$/,oOe=/,|=/});var Zee,sOe,ete,tte,vU,yU=k(()=>{Jee();Zee=32,sOe=512,ete=",",tte="=",vU=function(){function t(e){this._internalState=new Map,e&&this._parse(e)}return t.prototype.set=function(e,n){var r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,n),r},t.prototype.unset=function(e){var n=this._clone();return n._internalState.delete(e),n},t.prototype.get=function(e){return this._internalState.get(e)},t.prototype.serialize=function(){var e=this;return this._keys().reduce(function(n,r){return n.push(r+tte+e.get(r)),n},[]).join(ete)},t.prototype._parse=function(e){e.length>sOe||(this._internalState=e.split(ete).reverse().reduce(function(n,r){var i=r.trim(),o=i.indexOf(tte);if(o!==-1){var s=i.slice(0,o),a=i.slice(o+1,r.length);Xee(s)&&Qee(a)&&n.set(s,a)}return n},new Map),this._internalState.size>Zee&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,Zee))))},t.prototype._keys=function(){return Array.from(this._internalState.keys()).reverse()},t.prototype._clone=function(){var e=new t;return e._internalState=new Map(this._internalState),e},t}()});function nte(t){var e=dOe.exec(t);return!e||e[1]==="00"&&e[5]?null:{traceId:e[2],spanId:e[3],traceFlags:parseInt(e[4],16)}}var qI,jI,aOe,cOe,uOe,lOe,fOe,dOe,xU,rte=k(()=>{xt();xE();yU();qI="traceparent",jI="tracestate",aOe="00",cOe="(?!ff)[\\da-f]{2}",uOe="(?![0]{32})[\\da-f]{32}",lOe="(?![0]{16})[\\da-f]{16}",fOe="[\\da-f]{2}",dOe=new RegExp("^\\s?("+cOe+")-("+uOe+")-("+lOe+")-("+fOe+")(-.*)?\\s?$");xU=function(){function t(){}return t.prototype.inject=function(e,n,r){var i=Kn.getSpanContext(e);if(!(!i||pp(e)||!es(i))){var o=aOe+"-"+i.traceId+"-"+i.spanId+"-0"+Number(i.traceFlags||_n.NONE).toString(16);r.set(n,qI,o),i.traceState&&r.set(n,jI,i.traceState.serialize())}},t.prototype.extract=function(e,n,r){var i=r.get(n,qI);if(!i)return e;var o=Array.isArray(i)?i[0]:i;if(typeof o!="string")return e;var s=nte(o);if(!s)return e;s.isRemote=!0;var a=r.get(n,jI);if(a){var u=Array.isArray(a)?a.join(","):a;s.traceState=new vU(typeof u=="string"?u:void 0)}return Kn.setSpanContext(e,s)},t.prototype.fields=function(){return[qI,jI]},t}()});var ite=k(()=>{});function pOe(t,e){return t.setValue(EU,e)}function mOe(t){return t.deleteValue(EU)}function hOe(t){return t.getValue(EU)}var EU,wU,ote=k(()=>{xt();EU=Ma("OpenTelemetry SDK Context Key RPC_METADATA");(function(t){t.HTTP="http"})(wU||(wU={}))});var HI,_U=k(()=>{xt();HI=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:$i.NOT_RECORD}},t.prototype.toString=function(){return"AlwaysOffSampler"},t}()});var TE,bU=k(()=>{xt();TE=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:$i.RECORD_AND_SAMPLED}},t.prototype.toString=function(){return"AlwaysOnSampler"},t}()});var gOe,ste=k(()=>{xt();nU();_U();bU();gOe=function(){function t(e){var n,r,i,o;this._root=e.root,this._root||(ts(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new TE),this._remoteParentSampled=(n=e.remoteParentSampled)!==null&&n!==void 0?n:new TE,this._remoteParentNotSampled=(r=e.remoteParentNotSampled)!==null&&r!==void 0?r:new HI,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new TE,this._localParentNotSampled=(o=e.localParentNotSampled)!==null&&o!==void 0?o:new HI}return t.prototype.shouldSample=function(e,n,r,i,o,s){var a=Kn.getSpanContext(e);return!a||!es(a)?this._root.shouldSample(e,n,r,i,o,s):a.isRemote?a.traceFlags&_n.SAMPLED?this._remoteParentSampled.shouldSample(e,n,r,i,o,s):this._remoteParentNotSampled.shouldSample(e,n,r,i,o,s):a.traceFlags&_n.SAMPLED?this._localParentSampled.shouldSample(e,n,r,i,o,s):this._localParentNotSampled.shouldSample(e,n,r,i,o,s)},t.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},t}()});var vOe,ate=k(()=>{xt();vOe=function(){function t(e){e===void 0&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}return t.prototype.shouldSample=function(e,n){return{decision:fp(n)&&this._accumulate(n)<this._upperBound?$i.RECORD_AND_SAMPLED:$i.NOT_RECORD}},t.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},t.prototype._normalize=function(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e},t.prototype._accumulate=function(e){for(var n=0,r=0;r<e.length/8;r++){var i=r*8,o=parseInt(e.slice(i,i+8),16);n=(n^o)>>>0}return n},t}()});function COe(t,e){return function(n){return t(e(n))}}function CU(t){if(!SOe(t)||TOe(t)!==yOe)return!1;var e=bOe(t);if(e===null)return!0;var n=lte.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&cte.call(n)===_Oe}function SOe(t){return t!=null&&typeof t=="object"}function TOe(t){return t==null?t===void 0?wOe:xOe:gp&&gp in Object(t)?IOe(t):POe(t)}function IOe(t){var e=lte.call(t,gp),n=t[gp],r=!1;try{t[gp]=void 0,r=!0}catch{}var i=fte.call(t);return r&&(e?t[gp]=n:delete t[gp]),i}function POe(t){return fte.call(t)}var yOe,xOe,wOe,EOe,cte,_Oe,bOe,ute,lte,gp,fte,dte=k(()=>{yOe="[object Object]",xOe="[object Null]",wOe="[object Undefined]",EOe=Function.prototype,cte=EOe.toString,_Oe=cte.call(Object),bOe=COe(Object.getPrototypeOf,Object),ute=Object.prototype,lte=ute.hasOwnProperty,gp=Symbol?Symbol.toStringTag:void 0,fte=ute.toString});function TU(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.shift(),r=new WeakMap;t.length>0;)n=mte(n,t.shift(),0,r);return n}function SU(t){return BI(t)?t.slice():t}function mte(t,e,n,r){n===void 0&&(n=0);var i;if(!(n>ROe)){if(n++,$I(t)||$I(e)||hte(e))i=SU(e);else if(BI(t)){if(i=t.slice(),BI(e))for(var o=0,s=e.length;o<s;o++)i.push(SU(e[o]));else if(IE(e))for(var a=Object.keys(e),o=0,s=a.length;o<s;o++){var u=a[o];i[u]=SU(e[u])}}else if(IE(t))if(IE(e)){if(!AOe(t,e))return e;i=Object.assign({},t);for(var a=Object.keys(e),o=0,s=a.length;o<s;o++){var u=a[o],c=e[u];if($I(c))typeof c>"u"?delete i[u]:i[u]=c;else{var l=i[u],f=c;if(pte(t,u,r)||pte(e,u,r))delete i[u];else{if(IE(l)&&IE(f)){var d=r.get(l)||[],p=r.get(f)||[];d.push({obj:t,key:u}),p.push({obj:e,key:u}),r.set(l,d),r.set(f,p)}i[u]=mte(i[u],c,n,r)}}}}else i=e;return i}}function pte(t,e,n){for(var r=n.get(t[e])||[],i=0,o=r.length;i<o;i++){var s=r[i];if(s.key===e&&s.obj===t)return!0}return!1}function BI(t){return Array.isArray(t)}function hte(t){return typeof t=="function"}function IE(t){return!$I(t)&&!BI(t)&&!hte(t)&&typeof t=="object"}function $I(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t>"u"||t instanceof Date||t instanceof RegExp||t===null}function AOe(t,e){return!(!CU(t)||!CU(e))}var ROe,gte=k(()=>{dte();ROe=20});function vte(t,e){return typeof e=="string"?t===e:!!t.match(e)}function kOe(t,e){var n,r;if(!e)return!1;try{for(var i=DOe(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(vte(t,s))return!0}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}var DOe,yte=k(()=>{DOe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}});function OOe(t){return typeof t=="function"&&typeof t.__original=="function"&&typeof t.__unwrap=="function"&&t.__wrapped===!0}var xte=k(()=>{});var wte,Ete=k(()=>{wte=function(){function t(){var e=this;this._promise=new Promise(function(n,r){e._resolve=n,e._reject=r})}return Object.defineProperty(t.prototype,"promise",{get:function(){return this._promise},enumerable:!1,configurable:!0}),t.prototype.resolve=function(e){this._resolve(e)},t.prototype.reject=function(e){this._reject(e)},t}()});var NOe,LOe,PE,_te=k(()=>{Ete();NOe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},LOe=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},PE=function(){function t(e,n){this._callback=e,this._that=n,this._isCalled=!1,this._deferred=new wte}return Object.defineProperty(t.prototype,"isCalled",{get:function(){return this._isCalled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"promise",{get:function(){return this._deferred.promise},enumerable:!1,configurable:!0}),t.prototype.call=function(){for(var e,n=this,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(!this._isCalled){this._isCalled=!0;try{Promise.resolve((e=this._callback).call.apply(e,LOe([this._that],NOe(r),!1))).then(function(o){return n._deferred.resolve(o)},function(o){return n._deferred.reject(o)})}catch(o){this._deferred.reject(o)}}return this._deferred.promise},t}()});function bte(t,e){return new Promise(function(n){ci.with(yE(ci.active()),function(){t.export(e,function(r){n(r)})})})}var Cte=k(()=>{xt();xE()});var Ste={};ua(Ste,{AlwaysOffSampler:()=>HI,AlwaysOnSampler:()=>TE,AnchoredClock:()=>dke,BindOnceFuture:()=>PE,CompositePropagator:()=>hU,DEFAULT_ATTRIBUTE_COUNT_LIMIT:()=>EE,DEFAULT_ATTRIBUTE_VALUE_LENGTH_LIMIT:()=>wE,DEFAULT_ENVIRONMENT:()=>NI,ExportResultCode:()=>ns,ParentBasedSampler:()=>gOe,RPCType:()=>wU,RandomIdGenerator:()=>kke,SDK_INFO:()=>bE,TRACE_PARENT_HEADER:()=>qI,TRACE_STATE_HEADER:()=>jI,TraceIdRatioBasedSampler:()=>vOe,TraceState:()=>vU,TracesSamplerValues:()=>xo,VERSION:()=>sU,W3CBaggagePropagator:()=>ZM,W3CTraceContextPropagator:()=>xU,_globalThis:()=>Ike,baggageUtils:()=>QM,deleteRPCMetadata:()=>mOe,getEnv:()=>vr,getEnvWithoutDefaults:()=>iU,getRPCMetadata:()=>hOe,globalErrorHandler:()=>ts,hexToBase64:()=>Ake,hrTime:()=>Wee,hrTimeDuration:()=>dU,hrTimeToMicroseconds:()=>UI,hrTimeToMilliseconds:()=>Zke,hrTimeToNanoseconds:()=>Jke,hrTimeToTimeStamp:()=>Qke,internal:()=>IU,isAttributeKey:()=>Eee,isAttributeValue:()=>OI,isTimeInput:()=>mU,isTimeInputHrTime:()=>pU,isTracingSuppressed:()=>pp,isUrlIgnored:()=>kOe,isWrapped:()=>OOe,loggingErrorHandler:()=>eU,merge:()=>TU,otperformance:()=>hp,parseEnvironment:()=>_E,parseTraceParent:()=>nte,sanitizeAttributes:()=>mp,setGlobalErrorHandler:()=>vke,setRPCMetadata:()=>pOe,suppressTracing:()=>yE,timeInputToHrTime:()=>SE,unrefTimer:()=>uU,unsuppressTracing:()=>uke,urlMatches:()=>vte});var IU,ui=k(()=>{yee();xee();bee();nU();tU();Gee();zee();Yee();FI();JM();lU();Kee();rte();ite();ote();_U();bU();ste();ate();xE();yU();oU();gte();rU();yte();xte();_te();FI();Cte();IU={_export:bte}});var Tte,Ite=k(()=>{Tte="exception"});var FOe,MOe,PU,RU=k(()=>{xt();ui();Zs();Ite();FOe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},MOe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},PU=function(){function t(e,n,r,i,o,s,a,u,c){a===void 0&&(a=[]),c===void 0&&(c=hp),this.attributes={},this.links=[],this.events=[],this.status={code:Dg.UNSET},this.endTime=[0,0],this._ended=!1,this._duration=[-1,-1],this._clock=c,this.name=r,this._spanContext=i,this.parentSpanId=s,this.kind=o,this.links=a,this.startTime=SE(u??c.now()),this.resource=e.resource,this.instrumentationLibrary=e.instrumentationLibrary,this._spanLimits=e.getSpanLimits(),this._spanProcessor=e.getActiveSpanProcessor(),this._spanProcessor.onStart(this,n),this._attributeValueLengthLimit=this._spanLimits.attributeValueLengthLimit||0}return t.prototype.spanContext=function(){return this._spanContext},t.prototype.setAttribute=function(e,n){return n==null||this._isSpanEnded()?this:e.length===0?(He.warn("Invalid attribute key: "+e),this):OI(n)?Object.keys(this.attributes).length>=this._spanLimits.attributeCountLimit&&!Object.prototype.hasOwnProperty.call(this.attributes,e)?this:(this.attributes[e]=this._truncateToSize(n),this):(He.warn("Invalid attribute value set for key: "+e),this)},t.prototype.setAttributes=function(e){var n,r;try{for(var i=FOe(Object.entries(e)),o=i.next();!o.done;o=i.next()){var s=MOe(o.value,2),a=s[0],u=s[1];this.setAttribute(a,u)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return this},t.prototype.addEvent=function(e,n,r){if(this._isSpanEnded())return this;if(this._spanLimits.eventCountLimit===0)return He.warn("No events allowed."),this;this.events.length>=this._spanLimits.eventCountLimit&&(He.warn("Dropping extra events."),this.events.shift()),mU(n)&&(typeof r>"u"&&(r=n),n=void 0),typeof r>"u"&&(r=this._clock.now());var i=mp(n);return this.events.push({name:e,attributes:i,time:SE(r)}),this},t.prototype.setStatus=function(e){return this._isSpanEnded()?this:(this.status=e,this)},t.prototype.updateName=function(e){return this._isSpanEnded()?this:(this.name=e,this)},t.prototype.end=function(e){if(this._isSpanEnded()){He.error("You can only call end() on a span once.");return}this._ended=!0,this.endTime=SE(e??this._clock.now()),this._duration=dU(this.startTime,this.endTime),this._duration[0]<0&&(He.warn("Inconsistent start and end time, startTime > endTime. Setting span duration to 0ms.",this.startTime,this.endTime),this.endTime=this.startTime.slice(),this._duration=[0,0]),this._spanProcessor.onEnd(this)},t.prototype.isRecording=function(){return this._ended===!1},t.prototype.recordException=function(e,n){n===void 0&&(n=this._clock.now());var r={};typeof e=="string"?r[cu.EXCEPTION_MESSAGE]=e:e&&(e.code?r[cu.EXCEPTION_TYPE]=e.code.toString():e.name&&(r[cu.EXCEPTION_TYPE]=e.name),e.message&&(r[cu.EXCEPTION_MESSAGE]=e.message),e.stack&&(r[cu.EXCEPTION_STACKTRACE]=e.stack)),r[cu.EXCEPTION_TYPE]||r[cu.EXCEPTION_MESSAGE]?this.addEvent(Tte,r,n):He.warn("Failed to record an exception "+e)},Object.defineProperty(t.prototype,"duration",{get:function(){return this._duration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ended",{get:function(){return this._ended},enumerable:!1,configurable:!0}),t.prototype._isSpanEnded=function(){return this._ended&&He.warn("Can not execute the operation on ended Span {traceId: "+this._spanContext.traceId+", spanId: "+this._spanContext.spanId+"}"),this._ended},t.prototype._truncateToLimitUtil=function(e,n){return e.length<=n?e:e.substr(0,n)},t.prototype._truncateToSize=function(e){var n=this,r=this._attributeValueLengthLimit;return r<=0?(He.warn("Attribute value limit must be positive, got "+r),e):typeof e=="string"?this._truncateToLimitUtil(e,r):Array.isArray(e)?e.map(function(i){return typeof i=="string"?n._truncateToLimitUtil(i,r):i}):e},t}()});var Ua,RE=k(()=>{(function(t){t[t.NOT_RECORD=0]="NOT_RECORD",t[t.RECORD=1]="RECORD",t[t.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"})(Ua||(Ua={}))});var vp,VI=k(()=>{RE();vp=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:Ua.NOT_RECORD}},t.prototype.toString=function(){return"AlwaysOffSampler"},t}()});var uu,WI=k(()=>{RE();uu=function(){function t(){}return t.prototype.shouldSample=function(){return{decision:Ua.RECORD_AND_SAMPLED}},t.prototype.toString=function(){return"AlwaysOnSampler"},t}()});var AE,AU=k(()=>{xt();ui();VI();WI();AE=function(){function t(e){var n,r,i,o;this._root=e.root,this._root||(ts(new Error("ParentBasedSampler must have a root sampler configured")),this._root=new uu),this._remoteParentSampled=(n=e.remoteParentSampled)!==null&&n!==void 0?n:new uu,this._remoteParentNotSampled=(r=e.remoteParentNotSampled)!==null&&r!==void 0?r:new vp,this._localParentSampled=(i=e.localParentSampled)!==null&&i!==void 0?i:new uu,this._localParentNotSampled=(o=e.localParentNotSampled)!==null&&o!==void 0?o:new vp}return t.prototype.shouldSample=function(e,n,r,i,o,s){var a=Kn.getSpanContext(e);return!a||!es(a)?this._root.shouldSample(e,n,r,i,o,s):a.isRemote?a.traceFlags&_n.SAMPLED?this._remoteParentSampled.shouldSample(e,n,r,i,o,s):this._remoteParentNotSampled.shouldSample(e,n,r,i,o,s):a.traceFlags&_n.SAMPLED?this._localParentSampled.shouldSample(e,n,r,i,o,s):this._localParentNotSampled.shouldSample(e,n,r,i,o,s)},t.prototype.toString=function(){return"ParentBased{root="+this._root.toString()+", remoteParentSampled="+this._remoteParentSampled.toString()+", remoteParentNotSampled="+this._remoteParentNotSampled.toString()+", localParentSampled="+this._localParentSampled.toString()+", localParentNotSampled="+this._localParentNotSampled.toString()+"}"},t}()});var GI,DU=k(()=>{xt();RE();GI=function(){function t(e){e===void 0&&(e=0),this._ratio=e,this._ratio=this._normalize(e),this._upperBound=Math.floor(this._ratio*4294967295)}return t.prototype.shouldSample=function(e,n){return{decision:fp(n)&&this._accumulate(n)<this._upperBound?Ua.RECORD_AND_SAMPLED:Ua.NOT_RECORD}},t.prototype.toString=function(){return"TraceIdRatioBased{"+this._ratio+"}"},t.prototype._normalize=function(e){return typeof e!="number"||isNaN(e)?0:e>=1?1:e<=0?0:e},t.prototype._accumulate=function(e){for(var n=0,r=0;r<e.length/8;r++){var i=r*8,o=parseInt(e.slice(i,i+8),16);n=(n^o)>>>0}return n},t}()});function zI(){return{sampler:kU(UOe),forceFlushTimeoutMillis:3e4,generalLimits:{attributeValueLengthLimit:vr().OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:vr().OTEL_ATTRIBUTE_COUNT_LIMIT},spanLimits:{attributeValueLengthLimit:vr().OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT,attributeCountLimit:vr().OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT,linkCountLimit:vr().OTEL_SPAN_LINK_COUNT_LIMIT,eventCountLimit:vr().OTEL_SPAN_EVENT_COUNT_LIMIT}}}function kU(t){switch(t===void 0&&(t=vr()),t.OTEL_TRACES_SAMPLER){case xo.AlwaysOn:return new uu;case xo.AlwaysOff:return new vp;case xo.ParentBasedAlwaysOn:return new AE({root:new uu});case xo.ParentBasedAlwaysOff:return new AE({root:new vp});case xo.TraceIdRatio:return new GI(Pte(t));case xo.ParentBasedTraceIdRatio:return new AE({root:new GI(Pte(t))});default:return He.error('OTEL_TRACES_SAMPLER value "'+t.OTEL_TRACES_SAMPLER+" invalid, defaulting to "+qOe+'".'),new uu}}function Pte(t){if(t.OTEL_TRACES_SAMPLER_ARG===void 0||t.OTEL_TRACES_SAMPLER_ARG==="")return He.error("OTEL_TRACES_SAMPLER_ARG is blank, defaulting to "+Ng+"."),Ng;var e=Number(t.OTEL_TRACES_SAMPLER_ARG);return isNaN(e)?(He.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is invalid, defaulting to "+Ng+"."),Ng):e<0||e>1?(He.error("OTEL_TRACES_SAMPLER_ARG="+t.OTEL_TRACES_SAMPLER_ARG+" was given, but it is out of range ([0..1]), defaulting to "+Ng+"."),Ng):e}var UOe,qOe,Ng,OU=k(()=>{xt();ui();VI();WI();AU();DU();UOe=vr(),qOe=xo.AlwaysOn,Ng=1});function Rte(t){var e={sampler:kU()},n=zI(),r=Object.assign({},n,e,t);return r.generalLimits=Object.assign({},n.generalLimits,t.generalLimits||{}),r.spanLimits=Object.assign({},n.spanLimits,t.spanLimits||{}),r}function Ate(t){var e,n,r,i,o,s,a,u,c,l,f,d,p=Object.assign({},t.spanLimits),m=iU();return p.attributeCountLimit=(s=(o=(i=(n=(e=t.spanLimits)===null||e===void 0?void 0:e.attributeCountLimit)!==null&&n!==void 0?n:(r=t.generalLimits)===null||r===void 0?void 0:r.attributeCountLimit)!==null&&i!==void 0?i:m.OTEL_SPAN_ATTRIBUTE_COUNT_LIMIT)!==null&&o!==void 0?o:m.OTEL_ATTRIBUTE_COUNT_LIMIT)!==null&&s!==void 0?s:EE,p.attributeValueLengthLimit=(d=(f=(l=(u=(a=t.spanLimits)===null||a===void 0?void 0:a.attributeValueLengthLimit)!==null&&u!==void 0?u:(c=t.generalLimits)===null||c===void 0?void 0:c.attributeValueLengthLimit)!==null&&l!==void 0?l:m.OTEL_SPAN_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&f!==void 0?f:m.OTEL_ATTRIBUTE_VALUE_LENGTH_LIMIT)!==null&&d!==void 0?d:wE,Object.assign({},t,{spanLimits:p})}var NU=k(()=>{OU();ui()});var Dte,kte=k(()=>{xt();ui();Dte=function(){function t(e,n){this._exporter=e,this._finishedSpans=[];var r=vr();this._maxExportBatchSize=typeof(n==null?void 0:n.maxExportBatchSize)=="number"?n.maxExportBatchSize:r.OTEL_BSP_MAX_EXPORT_BATCH_SIZE,this._maxQueueSize=typeof(n==null?void 0:n.maxQueueSize)=="number"?n.maxQueueSize:r.OTEL_BSP_MAX_QUEUE_SIZE,this._scheduledDelayMillis=typeof(n==null?void 0:n.scheduledDelayMillis)=="number"?n.scheduledDelayMillis:r.OTEL_BSP_SCHEDULE_DELAY,this._exportTimeoutMillis=typeof(n==null?void 0:n.exportTimeoutMillis)=="number"?n.exportTimeoutMillis:r.OTEL_BSP_EXPORT_TIMEOUT,this._shutdownOnce=new PE(this._shutdown,this),this._maxExportBatchSize>this._maxQueueSize&&(He.warn("BatchSpanProcessor: maxExportBatchSize must be smaller or equal to maxQueueSize, setting maxExportBatchSize to match maxQueueSize"),this._maxExportBatchSize=this._maxQueueSize)}return t.prototype.forceFlush=function(){return this._shutdownOnce.isCalled?this._shutdownOnce.promise:this._flushAll()},t.prototype.onStart=function(e,n){},t.prototype.onEnd=function(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&_n.SAMPLED&&this._addToBuffer(e)},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype._shutdown=function(){var e=this;return Promise.resolve().then(function(){return e.onShutdown()}).then(function(){return e._flushAll()}).then(function(){return e._exporter.shutdown()})},t.prototype._addToBuffer=function(e){this._finishedSpans.length>=this._maxQueueSize||(this._finishedSpans.push(e),this._maybeStartTimer())},t.prototype._flushAll=function(){var e=this;return new Promise(function(n,r){for(var i=[],o=Math.ceil(e._finishedSpans.length/e._maxExportBatchSize),s=0,a=o;s<a;s++)i.push(e._flushOneBatch());Promise.all(i).then(function(){n()}).catch(r)})},t.prototype._flushOneBatch=function(){var e=this;return this._clearTimer(),this._finishedSpans.length===0?Promise.resolve():new Promise(function(n,r){var i=setTimeout(function(){r(new Error("Timeout"))},e._exportTimeoutMillis);ci.with(yE(ci.active()),function(){e._exporter.export(e._finishedSpans.splice(0,e._maxExportBatchSize),function(o){var s;clearTimeout(i),o.code===ns.SUCCESS?n():r((s=o.error)!==null&&s!==void 0?s:new Error("BatchSpanProcessor: span export failed"))})})})},t.prototype._maybeStartTimer=function(){var e=this;this._timer===void 0&&(this._timer=setTimeout(function(){e._flushOneBatch().then(function(){e._finishedSpans.length>0&&(e._clearTimer(),e._maybeStartTimer())}).catch(function(n){ts(n)})},this._scheduledDelayMillis),uU(this._timer))},t.prototype._clearTimer=function(){this._timer!==void 0&&(clearTimeout(this._timer),this._timer=void 0)},t}()});var jOe,LU,Ote=k(()=>{kte();jOe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),LU=function(t){jOe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.onShutdown=function(){},e}(Dte)});function Nte(t){return function(){for(var n=0;n<t/4;n++)YI.writeUInt32BE(Math.random()*Math.pow(2,32)>>>0,n*4);for(var n=0;n<t&&!(YI[n]>0);n++)n===t-1&&(YI[t-1]=1);return YI.toString("hex",0,t)}}var HOe,Lte,FU,YI,Fte=k(()=>{HOe=8,Lte=16,FU=function(){function t(){this.generateTraceId=Nte(Lte),this.generateSpanId=Nte(HOe)}return t}(),YI=Buffer.allocUnsafe(Lte)});var Mte=k(()=>{Ote();Fte()});var KI=k(()=>{Mte()});var MU,Ute=k(()=>{xt();ui();RU();NU();KI();MU=function(){function t(e,n,r){this._tracerProvider=r;var i=Rte(n);this._sampler=i.sampler,this._generalLimits=i.generalLimits,this._spanLimits=i.spanLimits,this._idGenerator=n.idGenerator||new FU,this.resource=r.resource,this.instrumentationLibrary=e}return t.prototype.startSpan=function(e,n,r){var i,o;n===void 0&&(n={}),r===void 0&&(r=ci.active()),n.root&&(r=Kn.deleteSpan(r));var s=Kn.getSpan(r);if(pp(r)){He.debug("Instrumentation suppressed, returning Noop Span");var a=Kn.wrapSpanContext(Rg);return a}var u=s==null?void 0:s.spanContext(),c=this._idGenerator.generateSpanId(),l,f,d;!u||!Kn.isSpanContextValid(u)?l=this._idGenerator.generateTraceId():(l=u.traceId,f=u.traceState,d=u.spanId);var p=(i=n.kind)!==null&&i!==void 0?i:Ag.INTERNAL,m=((o=n.links)!==null&&o!==void 0?o:[]).map(function(_){return{context:_.context,attributes:mp(_.attributes)}}),h=mp(n.attributes),g=this._sampler.shouldSample(r,l,e,p,h,m),v=g.decision===$i.RECORD_AND_SAMPLED?_n.SAMPLED:_n.NONE,x={traceId:l,spanId:c,traceFlags:v,traceState:f};if(g.decision===$i.NOT_RECORD){He.debug("Recording is off, propagating context in a non-recording span");var a=Kn.wrapSpanContext(x);return a}var y=new PU(this,r,e,x,p,d,m,n.startTime),w=mp(Object.assign(h,g.attributes));return y.setAttributes(w),y},t.prototype.startActiveSpan=function(e,n,r,i){var o,s,a;if(!(arguments.length<2)){arguments.length===2?a=n:arguments.length===3?(o=n,a=r):(o=n,s=r,a=i);var u=s??ci.active(),c=this.startSpan(e,o,u),l=Kn.setSpan(u,c);return ci.with(l,a,void 0,c)}},t.prototype.getGeneralLimits=function(){return this._generalLimits},t.prototype.getSpanLimits=function(){return this._spanLimits},t.prototype.getActiveSpanProcessor=function(){return this._tracerProvider.getActiveSpanProcessor()},t}()});function qte(){return"unknown_service:"+process.argv0}var jte=k(()=>{});var Hte=k(()=>{});var XI,$Oe,BOe,VOe,_st,$te=k(()=>{Zs();Lg();XI=require("os"),$Oe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},BOe=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},VOe=function(){function t(){}return t.prototype.detect=function(e){return $Oe(this,void 0,void 0,function(){var n,r;return BOe(this,function(i){return n=(r={},r[Ve.HOST_NAME]=(0,XI.hostname)(),r[Ve.HOST_ARCH]=this._normalizeArch((0,XI.arch)()),r),[2,new yr(n)]})})},t.prototype._normalizeArch=function(e){switch(e){case"arm":return"arm32";case"ppc":return"ppc32";case"x64":return"amd64";default:return e}},t}(),_st=new VOe});var QI,WOe,GOe,zOe,Tst,Bte=k(()=>{Zs();Lg();QI=require("os"),WOe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},GOe=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},zOe=function(){function t(){}return t.prototype.detect=function(e){return WOe(this,void 0,void 0,function(){var n,r;return GOe(this,function(i){return n=(r={},r[Ve.OS_TYPE]=this._normalizeType((0,QI.platform)()),r[Ve.OS_VERSION]=(0,QI.release)(),r),[2,new yr(n)]})})},t.prototype._normalizeType=function(e){switch(e){case"sunos":return"solaris";case"win32":return"windows";default:return e}},t}(),Tst=new zOe});var Vte=k(()=>{jte();Hte();$te();Bte()});var UU=k(()=>{Vte()});var yr,Lg=k(()=>{Zs();ui();UU();yr=function(){function t(e){this.attributes=e}return t.empty=function(){return t.EMPTY},t.default=function(){var e;return new t((e={},e[Ve.SERVICE_NAME]=qte(),e[Ve.TELEMETRY_SDK_LANGUAGE]=bE[Ve.TELEMETRY_SDK_LANGUAGE],e[Ve.TELEMETRY_SDK_NAME]=bE[Ve.TELEMETRY_SDK_NAME],e[Ve.TELEMETRY_SDK_VERSION]=bE[Ve.TELEMETRY_SDK_VERSION],e))},t.prototype.merge=function(e){if(!e||!Object.keys(e.attributes).length)return this;var n=Object.assign({},this.attributes,e.attributes);return new t(n)},t.EMPTY=new t({}),t}()});var Wte=k(()=>{});var Gte=k(()=>{});var qU,YOe,KOe,XOe,$st,zte=k(()=>{xt();Zs();jU();qU=function(){return qU=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},qU.apply(this,arguments)},YOe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},KOe=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},XOe=function(){function t(){}return t.prototype.detect=function(e){return YOe(this,void 0,void 0,function(){var n,r,i;return KOe(this,function(o){return n=typeof navigator<"u",n?(r=(i={},i[Ve.PROCESS_RUNTIME_NAME]="browser",i[Ve.PROCESS_RUNTIME_DESCRIPTION]="Web Browser",i[Ve.PROCESS_RUNTIME_VERSION]=navigator.userAgent,i),[2,this._getResourceAttributes(r,e)]):[2,yr.empty()]})})},t.prototype._getResourceAttributes=function(e,n){return e[Ve.PROCESS_RUNTIME_VERSION]===""?(He.debug("BrowserDetector failed: Unable to find required browser resources. "),yr.empty()):new yr(qU({},e))},t}(),$st=new XOe});var QOe,JOe,ZOe,eNe,tNe,Yst,Yte=k(()=>{xt();ui();Zs();Lg();QOe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},JOe=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},ZOe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},eNe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},tNe=function(){function t(){this._MAX_LENGTH=255,this._COMMA_SEPARATOR=",",this._LABEL_KEY_VALUE_SPLITTER="=",this._ERROR_MESSAGE_INVALID_CHARS="should be a ASCII string with a length greater than 0 and not exceed "+this._MAX_LENGTH+" characters.",this._ERROR_MESSAGE_INVALID_VALUE="should be a ASCII string with a length not exceed "+this._MAX_LENGTH+" characters."}return t.prototype.detect=function(e){return QOe(this,void 0,void 0,function(){var n,r,i,o,s;return JOe(this,function(a){if(n={},r=vr(),i=r.OTEL_RESOURCE_ATTRIBUTES,o=r.OTEL_SERVICE_NAME,i)try{s=this._parseResourceAttributes(i),Object.assign(n,s)}catch(u){He.debug("EnvDetector failed: "+u.message)}return o&&(n[Ve.SERVICE_NAME]=o),[2,new yr(n)]})})},t.prototype._parseResourceAttributes=function(e){var n,r;if(!e)return{};var i={},o=e.split(this._COMMA_SEPARATOR,-1);try{for(var s=ZOe(o),a=s.next();!a.done;a=s.next()){var u=a.value,c=u.split(this._LABEL_KEY_VALUE_SPLITTER,-1);if(c.length===2){var l=eNe(c,2),f=l[0],d=l[1];if(f=f.trim(),d=d.trim().split(/^"|"$/).join(""),!this._isValidAndNotEmpty(f))throw new Error("Attribute key "+this._ERROR_MESSAGE_INVALID_CHARS);if(!this._isValid(d))throw new Error("Attribute value "+this._ERROR_MESSAGE_INVALID_VALUE);i[f]=decodeURIComponent(d)}}}catch(p){n={error:p}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i},t.prototype._isValid=function(e){return e.length<=this._MAX_LENGTH&&this._isBaggageOctetString(e)},t.prototype._isBaggageOctetString=function(e){for(var n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<33||r===44||r===59||r===92||r>126)return!1}return!0},t.prototype._isValidAndNotEmpty=function(e){return e.length>0&&this._isValid(e)},t}(),Yst=new tNe});var HU,nNe,rNe,iNe,Zst,Kte=k(()=>{xt();Zs();Lg();HU=function(){return HU=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},HU.apply(this,arguments)},nNe=function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},rNe=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},iNe=function(){function t(){}return t.prototype.detect=function(e){return nNe(this,void 0,void 0,function(){var n,r;return rNe(this,function(i){return typeof process!="object"?[2,yr.empty()]:(n=(r={},r[Ve.PROCESS_PID]=process.pid,r[Ve.PROCESS_EXECUTABLE_NAME]=process.title||"",r[Ve.PROCESS_COMMAND]=process.argv[1]||"",r[Ve.PROCESS_COMMAND_LINE]=process.argv.join(" ")||"",r[Ve.PROCESS_RUNTIME_VERSION]=process.versions.node,r[Ve.PROCESS_RUNTIME_NAME]="nodejs",r[Ve.PROCESS_RUNTIME_DESCRIPTION]="Node.js",r),[2,this._getResourceAttributes(n,e)])})})},t.prototype._getResourceAttributes=function(e,n){return e[Ve.PROCESS_EXECUTABLE_NAME]===""||e[Ve.PROCESS_EXECUTABLE_PATH]===""||e[Ve.PROCESS_COMMAND]===""||e[Ve.PROCESS_COMMAND_LINE]===""||e[Ve.PROCESS_RUNTIME_VERSION]===""?(He.debug("ProcessDetector failed: Unable to find required process resources. "),yr.empty()):new yr(HU({},e))},t}(),Zst=new iNe});var Xte=k(()=>{zte();Yte();Kte()});var jU=k(()=>{Lg();UU();Wte();Gte();Xte()});var JI,Qte,Jte=k(()=>{ui();JI=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},Qte=function(){function t(e){this._spanProcessors=e}return t.prototype.forceFlush=function(){var e,n,r=[];try{for(var i=JI(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;r.push(s.forceFlush())}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return new Promise(function(a){Promise.all(r).then(function(){a()}).catch(function(u){ts(u||new Error("MultiSpanProcessor: forceFlush failed")),a()})})},t.prototype.onStart=function(e,n){var r,i;try{for(var o=JI(this._spanProcessors),s=o.next();!s.done;s=o.next()){var a=s.value;a.onStart(e,n)}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}},t.prototype.onEnd=function(e){var n,r;try{for(var i=JI(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;s.onEnd(e)}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},t.prototype.shutdown=function(){var e,n,r=[];try{for(var i=JI(this._spanProcessors),o=i.next();!o.done;o=i.next()){var s=o.value;r.push(s.shutdown())}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return new Promise(function(a,u){Promise.all(r).then(function(){a()},u)})},t}()});var $U,BU=k(()=>{$U=function(){function t(){}return t.prototype.onStart=function(e,n){},t.prototype.onEnd=function(e){},t.prototype.shutdown=function(){return Promise.resolve()},t.prototype.forceFlush=function(){return Promise.resolve()},t}()});var Gl,oNe,Zte=k(()=>{xt();ui();jU();VU();OU();Jte();BU();KI();NU();(function(t){t[t.resolved=0]="resolved",t[t.timeout=1]="timeout",t[t.error=2]="error",t[t.unresolved=3]="unresolved"})(Gl||(Gl={}));oNe=function(){function t(e){e===void 0&&(e={});var n;this._registeredSpanProcessors=[],this._tracers=new Map;var r=TU({},zI(),Ate(e));this.resource=(n=r.resource)!==null&&n!==void 0?n:yr.empty(),this.resource=yr.default().merge(this.resource),this._config=Object.assign({},r,{resource:this.resource});var i=this._buildExporterFromEnv();if(i!==void 0){var o=new LU(i);this.activeSpanProcessor=o}else this.activeSpanProcessor=new $U}return t.prototype.getTracer=function(e,n,r){var i=e+"@"+(n||"")+":"+((r==null?void 0:r.schemaUrl)||"");return this._tracers.has(i)||this._tracers.set(i,new MU({name:e,version:n,schemaUrl:r==null?void 0:r.schemaUrl},this._config,this)),this._tracers.get(i)},t.prototype.addSpanProcessor=function(e){this._registeredSpanProcessors.length===0&&this.activeSpanProcessor.shutdown().catch(function(n){return He.error("Error while trying to shutdown current span processor",n)}),this._registeredSpanProcessors.push(e),this.activeSpanProcessor=new Qte(this._registeredSpanProcessors)},t.prototype.getActiveSpanProcessor=function(){return this.activeSpanProcessor},t.prototype.register=function(e){e===void 0&&(e={}),Kn.setGlobalTracerProvider(this),e.propagator===void 0&&(e.propagator=this._buildPropagatorFromEnv()),e.contextManager&&ci.setGlobalContextManager(e.contextManager),e.propagator&&au.setGlobalPropagator(e.propagator)},t.prototype.forceFlush=function(){var e=this._config.forceFlushTimeoutMillis,n=this._registeredSpanProcessors.map(function(r){return new Promise(function(i){var o,s=setTimeout(function(){i(new Error("Span processor did not completed within timeout period of "+e+" ms")),o=Gl.timeout},e);r.forceFlush().then(function(){clearTimeout(s),o!==Gl.timeout&&(o=Gl.resolved,i(o))}).catch(function(a){clearTimeout(s),o=Gl.error,i(a)})})});return new Promise(function(r,i){Promise.all(n).then(function(o){var s=o.filter(function(a){return a!==Gl.resolved});s.length>0?i(s):r()}).catch(function(o){return i([o])})})},t.prototype.shutdown=function(){return this.activeSpanProcessor.shutdown()},t.prototype._getPropagator=function(e){var n;return(n=this.constructor._registeredPropagators.get(e))===null||n===void 0?void 0:n()},t.prototype._getSpanExporter=function(e){var n;return(n=this.constructor._registeredExporters.get(e))===null||n===void 0?void 0:n()},t.prototype._buildPropagatorFromEnv=function(){var e=this,n=Array.from(new Set(vr().OTEL_PROPAGATORS)),r=n.map(function(o){var s=e._getPropagator(o);return s||He.warn('Propagator "'+o+'" requested through environment variable is unavailable.'),s}),i=r.reduce(function(o,s){return s&&o.push(s),o},[]);if(i.length!==0)return n.length===1?i[0]:new hU({propagators:i})},t.prototype._buildExporterFromEnv=function(){var e=vr().OTEL_TRACES_EXPORTER;if(e!=="none"){var n=this._getSpanExporter(e);return n||He.error('Exporter "'+e+'" requested through environment variable is unavailable.'),n}},t._registeredPropagators=new Map([["tracecontext",function(){return new xU}],["baggage",function(){return new ZM}]]),t._registeredExporters=new Map,t}()});var sNe,aNe,ene=k(()=>{ui();sNe=function(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},aNe=function(){function t(){}return t.prototype.export=function(e,n){return this._sendSpans(e,n)},t.prototype.shutdown=function(){return this._sendSpans([]),Promise.resolve()},t.prototype._exportInfo=function(e){return{traceId:e.spanContext().traceId,parentId:e.parentSpanId,name:e.name,id:e.spanContext().spanId,kind:e.kind,timestamp:UI(e.startTime),duration:UI(e.duration),attributes:e.attributes,status:e.status,events:e.events,links:e.links}},t.prototype._sendSpans=function(e,n){var r,i;try{for(var o=sNe(e),s=o.next();!s.done;s=o.next()){var a=s.value;console.dir(this._exportInfo(a),{depth:3})}}catch(u){r={error:u}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}if(n)return n({code:ns.SUCCESS})},t}()});var cNe,uNe,lNe,tne=k(()=>{ui();cNe=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(a){s={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o},uNe=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))},lNe=function(){function t(){this._finishedSpans=[],this._stopped=!1}return t.prototype.export=function(e,n){var r;if(this._stopped)return n({code:ns.FAILED,error:new Error("Exporter has been stopped")});(r=this._finishedSpans).push.apply(r,uNe([],cNe(e),!1)),setTimeout(function(){return n({code:ns.SUCCESS})},0)},t.prototype.shutdown=function(){return this._stopped=!0,this._finishedSpans=[],Promise.resolve()},t.prototype.reset=function(){this._finishedSpans=[]},t.prototype.getFinishedSpans=function(){return this._finishedSpans},t}()});var nne=k(()=>{});var fNe,rne=k(()=>{xt();ui();fNe=function(){function t(e){this._exporter=e,this._shutdownOnce=new PE(this._shutdown,this)}return t.prototype.forceFlush=function(){return Promise.resolve()},t.prototype.onStart=function(e,n){},t.prototype.onEnd=function(e){this._shutdownOnce.isCalled||e.spanContext().traceFlags&_n.SAMPLED&&IU._export(this._exporter,[e]).then(function(n){var r;n.code!==ns.SUCCESS&&ts((r=n.error)!==null&&r!==void 0?r:new Error("SimpleSpanProcessor: span export failed (status "+n+")"))}).catch(function(n){ts(n)})},t.prototype.shutdown=function(){return this._shutdownOnce.call()},t.prototype._shutdown=function(){return this._exporter.shutdown()},t}()});var ine=k(()=>{});var one=k(()=>{});var sne=k(()=>{});var ane=k(()=>{});var cne=k(()=>{});var une={};ua(une,{AlwaysOffSampler:()=>vp,AlwaysOnSampler:()=>uu,BasicTracerProvider:()=>oNe,BatchSpanProcessor:()=>LU,ConsoleSpanExporter:()=>aNe,ForceFlushState:()=>Gl,InMemorySpanExporter:()=>lNe,NoopSpanProcessor:()=>$U,ParentBasedSampler:()=>AE,RandomIdGenerator:()=>FU,SamplingDecision:()=>Ua,SimpleSpanProcessor:()=>fNe,Span:()=>PU,TraceIdRatioBasedSampler:()=>GI,Tracer:()=>MU});var VU=k(()=>{Ute();Zte();KI();ene();tne();nne();rne();ine();BU();VI();WI();AU();DU();RE();RU();one();sne();ane();cne()});var fne=b(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.enable=rs.azureCoreTracing=rs.AzureMonitorSymbol=void 0;var WU=ln();rs.AzureMonitorSymbol="Azure_Monitor_Tracer";var GU="azure-coretracing",lne=!1,dNe=function(t){if(lne)return t;try{var e=(VU(),Xi(une)),n=(xt(),Xi(dp)),r=new e.BasicTracerProvider,i=r.getTracer("applicationinsights tracer");if(t.setTracer){var o=t.setTracer;t.setTracer=function(c){var l=c.startSpan;c.startSpan=function(f,d,p){var m=l.call(this,f,d,p),h=m.end;return m.end=function(){var g=h.apply(this,arguments);return WU.channel.publish(GU,m),g},m},c[rs.AzureMonitorSymbol]=!0,o.call(this,c)},n.trace.getSpan(n.context.active()),t.setTracer(i)}else{var s=n.trace.setGlobalTracerProvider;n.trace.setGlobalTracerProvider=function(c){var l=c.getTracer;return c.getTracer=function(f,d){var p=l.call(this,f,d);if(!p[rs.AzureMonitorSymbol]){var m=p.startSpan;p.startSpan=function(h,g,v){var x=m.call(this,h,g,v),y=x.end;return x.end=function(){var w=y.apply(this,arguments);return WU.channel.publish(GU,x),w},x},p[rs.AzureMonitorSymbol]=!0}return p},s.call(this,c)},r.register(),n.trace.getSpan(n.context.active());var a=require("@opentelemetry/instrumentation"),u=require("@azure/opentelemetry-instrumentation-azure-sdk");a.registerInstrumentations({instrumentations:[u.createAzureSdkInstrumentation()]})}lne=!0}catch{}return t};rs.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:dNe,publisherName:GU};function pNe(){WU.channel.registerMonkeyPatch("@azure/core-tracing",rs.azureCoreTracing)}rs.enable=pNe});var pne=b(yp=>{"use strict";Object.defineProperty(yp,"__esModule",{value:!0});yp.enable=yp.bunyan=void 0;var dne=ln(),mNe=function(t){var e=t.prototype._emit;return t.prototype._emit=function(n,r){var i=e.apply(this,arguments);if(!r){var o=i;o||(o=e.call(this,n,!0)),dne.channel.publish("bunyan",{level:n.level,result:o})}return i},t};yp.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:mNe};function hNe(){dne.channel.registerMonkeyPatch("bunyan",yp.bunyan)}yp.enable=hNe});var hne=b(xp=>{"use strict";Object.defineProperty(xp,"__esModule",{value:!0});xp.enable=xp.console=void 0;var zU=ln(),mne=require("stream"),gNe=function(t){var e=new mne.Writable,n=new mne.Writable;e.write=function(c){if(!c)return!0;var l=c.toString();return zU.channel.publish("console",{message:l}),!0},n.write=function(c){if(!c)return!0;var l=c.toString();return zU.channel.publish("console",{message:l,stderr:!0}),!0};for(var r=new t.Console(e,n),i=["log","info","warn","error","dir","time","timeEnd","trace","assert"],o=function(c){var l=t[c];l&&(t[c]=function(){if(r[c])try{r[c].apply(r,arguments)}catch{}return l.apply(t,arguments)})},s=0,a=i;s<a.length;s++){var u=a[s];o(u)}return t};xp.console={versionSpecifier:">= 4.0.0",patch:gNe};function vNe(){zU.channel.registerMonkeyPatch("console",xp.console),require("console")}xp.enable=vNe});var gne=b(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});wp.enable=wp.mongoCore=void 0;var YU=ln(),yNe=function(t){var e=t.Server.prototype.connect;return t.Server.prototype.connect=function(){var r=e.apply(this,arguments),i=this.s.pool.write;this.s.pool.write=function(){var a=typeof arguments[1]=="function"?1:2;return typeof arguments[a]=="function"&&(arguments[a]=YU.channel.bindToContext(arguments[a])),i.apply(this,arguments)};var o=this.s.pool.logout;return this.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=YU.channel.bindToContext(arguments[1])),o.apply(this,arguments)},r},t};wp.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:yNe};function xNe(){YU.channel.registerMonkeyPatch("mongodb-core",wp.mongoCore)}wp.enable=xNe});var vne=b(li=>{"use strict";var Fg=li&&li.__assign||function(){return Fg=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Fg.apply(this,arguments)};Object.defineProperty(li,"__esModule",{value:!0});li.enable=li.mongo330=li.mongo3=li.mongo2=void 0;var $r=ln(),wNe=function(t){var e=t.instrument({operationIdGenerator:{next:function(){return $r.channel.bindToContext(function(r){return r()})}}}),n={};return e.on("started",function(r){n[r.requestId]||(n[r.requestId]=Fg(Fg({},r),{time:new Date}))}),e.on("succeeded",function(r){var i=n[r.requestId];i&&delete n[r.requestId],typeof r.operationId=="function"?r.operationId(function(){return $r.channel.publish("mongodb",{startedData:i,event:r,succeeded:!0})}):$r.channel.publish("mongodb",{startedData:i,event:r,succeeded:!0})}),e.on("failed",function(r){var i=n[r.requestId];i&&delete n[r.requestId],typeof r.operationId=="function"?r.operationId(function(){return $r.channel.publish("mongodb",{startedData:i,event:r,succeeded:!1})}):$r.channel.publish("mongodb",{startedData:i,event:r,succeeded:!1})}),t},ENe=function(t){var e=t.instrument(),n={},r={};return e.on("started",function(i){n[i.requestId]||(r[i.requestId]=$r.channel.bindToContext(function(o){return o()}),n[i.requestId]=Fg(Fg({},i),{time:new Date}))}),e.on("succeeded",function(i){var o=n[i.requestId];o&&delete n[i.requestId],typeof i=="object"&&typeof r[i.requestId]=="function"&&(r[i.requestId](function(){return $r.channel.publish("mongodb",{startedData:o,event:i,succeeded:!0})}),delete r[i.requestId])}),e.on("failed",function(i){var o=n[i.requestId];o&&delete n[i.requestId],typeof i=="object"&&typeof r[i.requestId]=="function"&&(r[i.requestId](function(){return $r.channel.publish("mongodb",{startedData:o,event:i,succeeded:!1})}),delete r[i.requestId])}),t},_Ne=function(t){var e=t.Server.prototype.connect;return t.Server.prototype.connect=function(){var r=e.apply(this,arguments),i=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var a=typeof arguments[1]=="function"?1:2;return typeof arguments[a]=="function"&&(arguments[a]=$r.channel.bindToContext(arguments[a])),i.apply(this,arguments)};var o=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return typeof arguments[1]=="function"&&(arguments[1]=$r.channel.bindToContext(arguments[1])),o.apply(this,arguments)},r},t},bNe=function(t){_Ne(t);var e=t.instrument(),n={},r={};return e.on("started",function(i){n[i.requestId]||(r[i.requestId]=$r.channel.bindToContext(function(o){return o()}),n[i.requestId]=i)}),e.on("succeeded",function(i){var o=n[i.requestId];o&&delete n[i.requestId],typeof i=="object"&&typeof r[i.requestId]=="function"&&(r[i.requestId](function(){return $r.channel.publish("mongodb",{startedData:o,event:i,succeeded:!0})}),delete r[i.requestId])}),e.on("failed",function(i){var o=n[i.requestId];o&&delete n[i.requestId],typeof i=="object"&&typeof r[i.requestId]=="function"&&(r[i.requestId](function(){return $r.channel.publish("mongodb",{startedData:o,event:i,succeeded:!1})}),delete r[i.requestId])}),t};li.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:wNe};li.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:ENe};li.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:bNe};function CNe(){$r.channel.registerMonkeyPatch("mongodb",li.mongo2),$r.channel.registerMonkeyPatch("mongodb",li.mongo3),$r.channel.registerMonkeyPatch("mongodb",li.mongo330)}li.enable=CNe});var xne=b(Ep=>{"use strict";Object.defineProperty(Ep,"__esModule",{value:!0});Ep.enable=Ep.mysql=void 0;var ZI=ln(),yne=require("path"),SNe=function(t,e){var n=function(u,c){return function(l,f){var d=u[l];d&&(u[l]=function(){for(var m=arguments.length-1,h=arguments.length-1;h>=0;--h)if(typeof arguments[h]=="function"){m=h;break}else if(typeof arguments[h]<"u")break;var g=arguments[m],v={result:null,startTime:null,startDate:null};typeof g=="function"&&(f?(v.startTime=process.hrtime(),v.startDate=new Date,arguments[m]=ZI.channel.bindToContext(f(v,g))):arguments[m]=ZI.channel.bindToContext(g));var x=d.apply(this,arguments);return v.result=x,x})}},r=function(u,c){return n(u.prototype,c+".prototype")},i=["connect","changeUser","ping","statistics","end"],o=require(yne.dirname(e)+"/lib/Connection");i.forEach(function(u){return r(o,"Connection")(u)}),n(o,"Connection")("createQuery",function(u,c){return function(l){var f=process.hrtime(u.startTime),d=f[0]*1e3+f[1]/1e6|0;ZI.channel.publish("mysql",{query:u.result,callbackArgs:arguments,err:l,duration:d,time:u.startDate}),c.apply(this,arguments)}});var s=["_enqueueCallback"],a=require(yne.dirname(e)+"/lib/Pool");return s.forEach(function(u){return r(a,"Pool")(u)}),t};Ep.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:SNe};function TNe(){ZI.channel.registerMonkeyPatch("mysql",Ep.mysql)}Ep.enable=TNe});var Ene=b(_p=>{"use strict";Object.defineProperty(_p,"__esModule",{value:!0});_p.enable=_p.postgresPool1=void 0;var wne=ln();function INe(t){var e=t.prototype.connect;return t.prototype.connect=function(r){return r&&(arguments[0]=wne.channel.bindToContext(r)),e.apply(this,arguments)},t}_p.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:INe};function PNe(){wne.channel.registerMonkeyPatch("pg-pool",_p.postgresPool1)}_p.enable=PNe});var bne=b(qa=>{"use strict";Object.defineProperty(qa,"__esModule",{value:!0});qa.enable=qa.postgres7=qa.postgres6=void 0;var Mg=ln(),_ne=require("events"),KU="postgres";function RNe(t,e){var n=t.Client.prototype.query,r="__diagnosticOriginalFunc";return t.Client.prototype.query=function(o,s,a){var u={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},c=process.hrtime(),l;function f(d){d&&d[r]&&(d=d[r]);var p=Mg.channel.bindToContext(function(m,h){var g=process.hrtime(c);if(u.result=h&&{rowCount:h.rowCount,command:h.command},u.error=m,u.duration=Math.ceil(g[0]*1e3+g[1]/1e6),Mg.channel.publish(KU,u),m){if(d)return d.apply(this,arguments);l&&l instanceof _ne.EventEmitter&&l.emit("error",m)}else d&&d.apply(this,arguments)});try{return Object.defineProperty(p,r,{value:d}),p}catch{return d}}try{typeof o=="string"?s instanceof Array?(u.query.preparable={text:o,args:s},a=f(a)):(u.query.text=o,a?a=f(a):s=f(s)):(typeof o.name=="string"?u.query.plan=o.name:o.values instanceof Array?u.query.preparable={text:o.text,args:o.values}:u.query.text=o.text,a?a=f(a):s?s=f(s):o.callback=f(o.callback))}catch{return n.apply(this,arguments)}return arguments[0]=o,arguments[1]=s,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3,l=n.apply(this,arguments),l},t}function ANe(t,e){var n=t.Client.prototype.query,r="__diagnosticOriginalFunc";return t.Client.prototype.query=function(o,s,a){var u=this,c=!!a,l={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},f=process.hrtime(),d;function p(m){m&&m[r]&&(m=m[r]);var h=Mg.channel.bindToContext(function(g,v){var x=process.hrtime(f);if(l.result=v&&{rowCount:v.rowCount,command:v.command},l.error=g,l.duration=Math.ceil(x[0]*1e3+x[1]/1e6),Mg.channel.publish(KU,l),g){if(m)return m.apply(this,arguments);d&&d instanceof _ne.EventEmitter&&d.emit("error",g)}else m&&m.apply(this,arguments)});try{return Object.defineProperty(h,r,{value:m}),h}catch{return m}}try{typeof o=="string"?s instanceof Array?(l.query.preparable={text:o,args:s},c=typeof a=="function",a=c?p(a):a):(l.query.text=o,a?(c=typeof a=="function",a=c?p(a):a):(c=typeof s=="function",s=c?p(s):s)):(typeof o.name=="string"?l.query.plan=o.name:o.values instanceof Array?l.query.preparable={text:o.text,args:o.values}:l.query.text=o.text,a?(c=typeof a=="function",a=p(a)):s?(c=typeof s=="function",s=c?p(s):s):(c=typeof o.callback=="function",o.callback=c?p(o.callback):o.callback))}catch{return n.apply(this,arguments)}return arguments[0]=o,arguments[1]=s,arguments[2]=a,arguments.length=arguments.length>3?arguments.length:3,d=n.apply(this,arguments),c?d:d.then(function(m){return p()(void 0,m),new u._Promise(function(h,g){h(m)})}).catch(function(m){return p()(m,void 0),new u._Promise(function(h,g){g(m)})})},t}qa.postgres6={versionSpecifier:"6.*",patch:RNe};qa.postgres7={versionSpecifier:">=7.* <=8.*",patch:ANe,publisherName:KU};function DNe(){Mg.channel.registerMonkeyPatch("pg",qa.postgres6),Mg.channel.registerMonkeyPatch("pg",qa.postgres7)}qa.enable=DNe});var Cne=b(bp=>{"use strict";Object.defineProperty(bp,"__esModule",{value:!0});bp.enable=bp.redis=void 0;var XU=ln(),kNe=function(t){var e=t.RedisClient.prototype.internal_send_command;return t.RedisClient.prototype.internal_send_command=function(n){if(n){var r=n.callback;if(!r||!r.pubsubBound){var i=this.address,o=process.hrtime(),s=new Date;n.callback=XU.channel.bindToContext(function(a,u){var c=process.hrtime(o),l=c[0]*1e3+c[1]/1e6|0;XU.channel.publish("redis",{duration:l,address:i,commandObj:n,err:a,result:u,time:s}),typeof r=="function"&&r.apply(this,arguments)}),n.callback.pubsubBound=!0}}return e.call(this,n)},t};bp.redis={versionSpecifier:">= 2.0.0 < 4.0.0",patch:kNe};function ONe(){XU.channel.registerMonkeyPatch("redis",bp.redis)}bp.enable=ONe});var Sne=b(lu=>{"use strict";var eP=lu&&lu.__assign||function(){return eP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},eP.apply(this,arguments)};Object.defineProperty(lu,"__esModule",{value:!0});lu.enable=lu.tedious=void 0;var QU=ln(),NNe=function(t){var e=t.Connection.prototype.makeRequest;return t.Connection.prototype.makeRequest=function(){function r(o){var s=process.hrtime(),a={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return QU.channel.bindToContext(function(u,c,l){var f=process.hrtime(s);a=eP(eP({},a),{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!u&&{rowCount:c,rows:l},query:{text:this.parametersByName.statement.value},error:u,duration:Math.ceil(f[0]*1e3+f[1]/1e6)}),QU.channel.publish("tedious",a),o.call(this,u,c,l)})}var i=arguments[0];arguments[0].callback=r(i.callback),e.apply(this,arguments)},t};lu.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:NNe};function LNe(){QU.channel.registerMonkeyPatch("tedious",lu.tedious)}lu.enable=LNe});var Tne=b(Bi=>{"use strict";var FNe=Bi&&Bi.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),MNe=Bi&&Bi.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.enable=Bi.winston2=Bi.winston3=void 0;var tP=ln(),UNe=function(t){var e=t.Logger.prototype.log,n,r=function(i,o,s){var a;return n===t.config.npm.levels?a="npm":n===t.config.syslog.levels?a="syslog":a="unknown",tP.channel.publish("winston",{level:i,message:o,meta:s,levelKind:a}),o};return t.Logger.prototype.log=function(){return n=this.levels,!this.filters||this.filters.length===0?this.filters=[r]:this.filters[this.filters.length-1]!==r&&(this.filters=this.filters.filter(function(o){return o!==r}),this.filters.push(r)),e.apply(this,arguments)},t},qNe=function(t){var e=function(s,a){var u;return s.config.npm.levels[a]!=null?u="npm":s.config.syslog.levels[a]!=null?u="syslog":u="unknown",u},n=function(s){FNe(a,s);function a(u,c){var l=s.call(this,c)||this;return l.winston=u,l}return a.prototype.log=function(u,c){var l=u.message,f=u.level,d=u.meta,p=MNe(u,["message","level","meta"]);f=typeof Symbol.for=="function"?u[Symbol.for("level")]:f,l=u instanceof Error?u:l;var m=e(this.winston,f);d=d||{};for(var h in p)p.hasOwnProperty(h)&&(d[h]=p[h]);tP.channel.publish("winston",{message:l,level:f,levelKind:m,meta:d}),c()},a}(t.Transport);function r(){var s=t.config.npm.levels;arguments&&arguments[0]&&arguments[0].levels&&(s=arguments[0].levels);var a;for(var u in s)s.hasOwnProperty(u)&&(a=a===void 0||s[u]>s[a]?u:a);this.add(new n(t,{level:a}))}var i=t.createLogger;t.createLogger=function(){var a=t.config.npm.levels;arguments&&arguments[0]&&arguments[0].levels&&(a=arguments[0].levels);var u;for(var c in a)a.hasOwnProperty(c)&&(u=u===void 0||a[c]>a[u]?c:u);var l=i.apply(this,arguments);l.add(new n(t,{level:u}));var f=l.configure;return l.configure=function(){f.apply(this,arguments),r.apply(this,arguments)},l};var o=t.configure;return t.configure=function(){o.apply(this,arguments),r.apply(this,arguments)},t.add(new n(t)),t};Bi.winston3={versionSpecifier:"3.x",patch:qNe};Bi.winston2={versionSpecifier:"2.x",patch:UNe};function jNe(){tP.channel.registerMonkeyPatch("winston",Bi.winston2),tP.channel.registerMonkeyPatch("winston",Bi.winston3)}Bi.enable=jNe});var Une=b(Mt=>{"use strict";Object.defineProperty(Mt,"__esModule",{value:!0});Mt.enable=Mt.tedious=Mt.pgPool=Mt.pg=Mt.winston=Mt.redis=Mt.mysql=Mt.mongodb=Mt.mongodbCore=Mt.console=Mt.bunyan=Mt.azuresdk=void 0;var Ine=fne();Mt.azuresdk=Ine;var Pne=pne();Mt.bunyan=Pne;var Rne=hne();Mt.console=Rne;var Ane=gne();Mt.mongodbCore=Ane;var Dne=vne();Mt.mongodb=Dne;var kne=xne();Mt.mysql=kne;var One=Ene();Mt.pgPool=One;var Nne=bne();Mt.pg=Nne;var Lne=Cne();Mt.redis=Lne;var Fne=Sne();Mt.tedious=Fne;var Mne=Tne();Mt.winston=Mne;function HNe(){Pne.enable(),Rne.enable(),Ane.enable(),Dne.enable(),kne.enable(),Nne.enable(),One.enable(),Lne.enable(),Mne.enable(),Ine.enable(),Fne.enable()}Mt.enable=HNe});var iP=b(zl=>{"use strict";Object.defineProperty(zl,"__esModule",{value:!0});zl.registerContextPreservation=zl.IsInitialized=void 0;var JU=Zt(),jne=iI();zl.IsInitialized=!jne.JsonConfig.getInstance().noDiagnosticChannel;var ZU="DiagnosticChannel";if(zl.IsInitialized){ea=Une(),qne=jne.JsonConfig.getInstance().noPatchModules,nP=qne.split(","),eq={bunyan:ea.bunyan,console:ea.console,mongodb:ea.mongodb,mongodbCore:ea.mongodbCore,mysql:ea.mysql,redis:ea.redis,pg:ea.pg,pgPool:ea.pgPool,winston:ea.winston,azuresdk:ea.azuresdk};for(rP in eq)nP.indexOf(rP)===-1&&(eq[rP].enable(),JU.info(ZU,"Subscribed to "+rP+" events"));nP.length>0&&JU.info(ZU,"Some modules will not be patched",nP)}else JU.info(ZU,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");var ea,qne,nP,eq,rP;function $Ne(t){if(zl.IsInitialized){var e=ln();e.channel.addContextPreservation(t)}}zl.registerContextPreservation=$Ne});var Ug=b((uct,Hne)=>{"use strict";Hne.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}});var xr=b((rq,$ne)=>{"use strict";var Kl=rq&&rq.__assign||function(){return Kl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Kl.apply(this,arguments)},BNe=require("http"),tq=require("https"),nq=require("url"),Yl=require("constants"),Cp=Zt(),qg=Ug(),VNe=iI(),WNe=function(){function t(){t._addCloseHandler()}return t.getCookie=function(e,n){var r="";if(e&&e.length&&typeof n=="string")for(var i=e+"=",o=n.split(";"),s=0;s<o.length;s++){var n=o[s];if(n=t.trim(n),n&&n.indexOf(i)===0){r=n.substring(i.length,o[s].length);break}}return r},t.trim=function(e){return typeof e=="string"?e.replace(/^\s+|\s+$/g,""):""},t.int32ArrayToBase64=function(e){var n=function(a,u){return String.fromCharCode(a>>u&255)},r=function(a){return n(a,24)+n(a,16)+n(a,8)+n(a,0)},i=e.map(r).join(""),o=Buffer.from?Buffer.from(i,"binary"):new Buffer(i,"binary"),s=o.toString("base64");return s.substr(0,s.indexOf("="))},t.random32=function(){return 4294967296*Math.random()|0},t.randomu32=function(){return t.random32()+2147483648},t.w3cTraceId=function(){for(var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r,i=0;i<4;i++)r=t.random32(),n+=e[r&15]+e[r>>4&15]+e[r>>8&15]+e[r>>12&15]+e[r>>16&15]+e[r>>20&15]+e[r>>24&15]+e[r>>28&15];var o=e[8+Math.random()*4|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+o+n.substr(16,3)+n.substr(19,12)},t.w3cSpanId=function(){return t.w3cTraceId().substring(16)},t.isValidW3CId=function(e){return e.length===32&&e!=="00000000000000000000000000000000"},t.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"},t.isError=function(e){return Object.prototype.toString.call(e)==="[object Error]"},t.isPrimitive=function(e){var n=typeof e;return n==="string"||n==="number"||n==="boolean"},t.isDate=function(e){return Object.prototype.toString.call(e)==="[object Date]"},t.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var n=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),r=""+Math.floor(e/(1e3*60))%60,i=""+Math.floor(e/(1e3*60*60))%24,o=Math.floor(e/(1e3*60*60*24));n=n.indexOf(".")<2?"0"+n:n,r=r.length<2?"0"+r:r,i=i.length<2?"0"+i:i;var s=o>0?o+".":"";return s+i+":"+r+":"+n},t.extractError=function(e){var n=e;return{message:e.message,code:n.code||n.id||""}},t.extractObject=function(e){return e instanceof Error?t.extractError(e):typeof e.toJSON=="function"?e.toJSON():e},t.validateStringMap=function(e){if(typeof e!="object"){Cp.info("Invalid properties dropped from payload");return}var n={};for(var r in e){var i="",o=e[r],s=typeof o;if(t.isPrimitive(o))i=o.toString();else if(o===null||s==="undefined")i="";else if(s==="function"){Cp.info("key: "+r+" was function; will not serialize");continue}else{var a=t.isArray(o)?o:t.extractObject(o);try{t.isPrimitive(a)?i=a:i=JSON.stringify(a)}catch(u){i=o.constructor.name.toString()+" (Error: "+u.message+")",Cp.info("key: "+r+", could not be serialized")}}n[r]=i.substring(0,t.MAX_PROPERTY_LENGTH)}return n},t.canIncludeCorrelationHeader=function(e,n){var r=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!r||r.length==0||!n)return!0;for(var i=0;i<r.length;i++){var o=new RegExp(r[i].replace(/\./g,".").replace(/\*/g,".*"));try{if(o.test(new nq.URL(n).hostname))return!1}catch{}}return!0},t.getCorrelationContextTarget=function(e,n){var r=e.headers&&e.headers[qg.requestContextHeader];if(r)for(var i=r.split(","),o=0;o<i.length;++o){var s=i[o].split("=");if(s.length==2&&s[0]==n)return s[1]}},t.makeRequest=function(e,n,r,i,o,s){o===void 0&&(o=!0),s===void 0&&(s=!0),n&&n.indexOf("//")===0&&(n="https:"+n);var a=new nq.URL(n),u=Kl(Kl({},r),{host:a.hostname,port:a.port,path:a.pathname}),c=void 0;if(o&&(a.protocol==="https:"&&(c=e.proxyHttpsUrl||void 0),a.protocol==="http:"&&(c=e.proxyHttpUrl||void 0),c)){c.indexOf("//")===0&&(c="http:"+c);try{var l=new nq.URL(c);l.protocol==="https:"?(Cp.info("Proxies that use HTTPS are not supported"),c=void 0):u=Kl(Kl({},u),{host:l.hostname,port:l.port||"80",path:n,headers:Kl(Kl({},u.headers),{Host:a.hostname})})}catch{Cp.warn("Wrong proxy URL provided")}}var f=a.protocol==="https:"&&!c;return s&&(f&&e.httpsAgent!==void 0?u.agent=e.httpsAgent:!f&&e.httpAgent!==void 0?u.agent=e.httpAgent:f&&(u.agent=t._useKeepAlive?t.keepAliveAgent:t.tlsRestrictedAgent)),f?tq.request(u,i):BNe.request(u,i)},t.safeIncludeCorrelationHeader=function(e,n,r){var i;if(typeof r=="string")i=r;else if(r instanceof Array)i=r.join(",");else if(r&&typeof r.toString=="function")try{i=r.toString()}catch(o){Cp.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",o,r)}i?t.addCorrelationIdHeaderFromString(e,n,i):n.setHeader(qg.requestContextHeader,qg.requestContextSourceKey+"="+e.config.correlationId)},t.dumpObj=function(e){if(e)try{var n=Object.prototype.toString.call(e),r="";return n==="[object Error]"?r="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":r=this.stringify(e),n+r}catch{return e.toString()}},t.stringify=function(e){try{return JSON.stringify(e)}catch(n){Cp.warn("Failed to serialize payload",n,e)}},t.addCorrelationIdHeaderFromString=function(e,n,r){var i=r.split(","),o=qg.requestContextSourceKey+"=",s=i.some(function(a){return a.substring(0,o.length)===o});s||n.setHeader(qg.requestContextHeader,r+","+qg.requestContextSourceKey+"="+e.config.correlationId)},t._addCloseHandler=function(){t._listenerAttached||(process.on("exit",function(){t.isNodeExit=!0,t._useKeepAlive=!1}),t._listenerAttached=!0)},t._useKeepAlive=!VNe.JsonConfig.getInstance().noHttpAgentKeepAlive,t._listenerAttached=!1,t.MAX_PROPERTY_LENGTH=8192,t.keepAliveAgent=new tq.Agent({keepAlive:!0,maxSockets:25,secureOptions:Yl.SSL_OP_NO_SSLv2|Yl.SSL_OP_NO_SSLv3|Yl.SSL_OP_NO_TLSv1|Yl.SSL_OP_NO_TLSv1_1}),t.tlsRestrictedAgent=new tq.Agent({secureOptions:Yl.SSL_OP_NO_SSLv2|Yl.SSL_OP_NO_SSLv3|Yl.SSL_OP_NO_TLSv1|Yl.SSL_OP_NO_TLSv1_1}),t.isNodeExit=!1,t}();$ne.exports=WNe});var Sp=b((lct,Bne)=>{"use strict";var iq=xr(),GNe=function(){function t(){}return t.queryCorrelationId=function(e,n){},t.cancelCorrelationIdQuery=function(e,n){},t.generateRequestId=function(e){if(e){e=e[0]=="|"?e:"|"+e,e[e.length-1]!=="."&&(e+=".");var n=(t.currentRootId++).toString(16);return t.appendSuffix(e,n,"_")}else return t.generateRootId()},t.getRootId=function(e){var n=e.indexOf(".");n<0&&(n=e.length);var r=e[0]==="|"?1:0;return e.substring(r,n)},t.generateRootId=function(){return"|"+iq.w3cTraceId()+"."},t.appendSuffix=function(e,n,r){if(e.length+n.length<t.requestIdMaxLength)return e+n+r;var i=t.requestIdMaxLength-9;if(e.length>i)for(;i>1;--i){var o=e[i-1];if(o==="."||o==="_")break}if(i<=1)return t.generateRootId();for(n=iq.randomu32().toString(16);n.length<8;)n="0"+n;return e.substring(0,i)+n+"#"},t.correlationIdPrefix="cid-v1:",t.w3cEnabled=!0,t.HTTP_TIMEOUT=2500,t.requestIdMaxLength=1024,t.currentRootId=iq.randomu32(),t}();Bne.exports=GNe});var oP=b((fct,Vne)=>{"use strict";var wr=xr(),zNe=Sp(),YNe=function(){function t(e,n){if(this.traceFlag=t.DEFAULT_TRACE_FLAG,this.version=t.DEFAULT_VERSION,e&&typeof e=="string")if(e.split(",").length>1)this.traceId=wr.w3cTraceId(),this.spanId=wr.w3cTraceId().substr(0,16);else{var r=e.trim().split("-"),i=r.length;i>=4?(this.version=r[0],this.traceId=r[1],this.spanId=r[2],this.traceFlag=r[3]):(this.traceId=wr.w3cTraceId(),this.spanId=wr.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=t.DEFAULT_VERSION,this.traceId=wr.w3cTraceId()),this.version==="00"&&i!==4&&(this.traceId=wr.w3cTraceId(),this.spanId=wr.w3cTraceId().substr(0,16)),this.version==="ff"&&(this.version=t.DEFAULT_VERSION,this.traceId=wr.w3cTraceId(),this.spanId=wr.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=t.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=t.DEFAULT_TRACE_FLAG,this.traceId=wr.w3cTraceId()),t.isValidTraceId(this.traceId)||(this.traceId=wr.w3cTraceId()),t.isValidSpanId(this.spanId)||(this.spanId=wr.w3cTraceId().substr(0,16),this.traceId=wr.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(n){this.parentId=n.slice();var o=zNe.getRootId(n);t.isValidTraceId(o)||(this.legacyRootId=o,o=wr.w3cTraceId()),n.indexOf("|")!==-1&&(n=n.substring(1+n.substring(0,n.length-1).lastIndexOf("."),n.length-1)),this.traceId=o,this.spanId=n}else this.traceId=wr.w3cTraceId(),this.spanId=wr.w3cTraceId().substr(0,16)}return t.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&e!=="00000000000000000000000000000000"},t.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&e!=="0000000000000000"},t.formatOpenTelemetryTraceFlags=function(e){var n="0"+e.toString(16);return n.substring(n.length-2)},t.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},t.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},t.prototype.updateSpanId=function(){this.spanId=wr.w3cTraceId().substr(0,16)},t.DEFAULT_TRACE_FLAG="01",t.DEFAULT_VERSION="00",t}();Vne.exports=YNe});var oq=b((dct,Wne)=>{"use strict";var KNe=function(){function t(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return t.prototype.toString=function(){var e=this.fieldmap;return!e||e.length==0?null:e.join(", ")},t.validateKeyChars=function(e){var n=e.split("@");if(n.length==2){var r=n[0].trim(),i=n[1].trim(),o=!!r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/),s=!!i.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/);return o&&s}else if(n.length==1)return!!e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/);return!1},t.prototype.parseHeader=function(e){var n=[],r={},i=e.split(",");if(i.length>32)return null;for(var o=0,s=i;o<s.length;o++){var a=s[o],u=a.trim();if(u.length!==0){var c=u.split("=");if(c.length!==2||!t.validateKeyChars(c[0])||r[c[0]])return null;r[c[0]]=!0,n.push(u)}}return n},t.strict=!0,t}();Wne.exports=KNe});var fu=b((pct,Gne)=>{"use strict";var XNe=function(){function t(){}return t}();Gne.exports=XNe});var Yne=b((sq,zne)=>{"use strict";var QNe=sq&&sq.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),JNe=fu(),ZNe=function(t){QNe(e,t);function e(){var n=t.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return e}(JNe);zne.exports=ZNe});var aq=b((mct,Kne)=>{"use strict";var eLe=function(){function t(){}return t}();Kne.exports=eLe});var Qne=b((hct,Xne)=>{"use strict";var tLe=function(){function t(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"}return t}();Xne.exports=tLe});var Zne=b((cq,Jne)=>{"use strict";var nLe=cq&&cq.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),rLe=aq(),iLe=function(t){nLe(e,t);function e(){return t.call(this)||this}return e}(rLe);Jne.exports=iLe});var lq=b((gct,ere)=>{"use strict";var uq;(function(t){t[t.Measurement=0]="Measurement",t[t.Aggregation=1]="Aggregation"})(uq||(uq={}));ere.exports=uq});var nre=b((vct,tre)=>{"use strict";var oLe=lq(),sLe=function(){function t(){this.kind=oLe.Measurement}return t}();tre.exports=sLe});var ire=b((yct,rre)=>{"use strict";var aLe=function(){function t(){this.ver=1,this.sampleRate=100,this.tags={}}return t}();rre.exports=aLe});var dq=b((fq,ore)=>{"use strict";var cLe=fq&&fq.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),uLe=fu(),lLe=function(t){cLe(e,t);function e(){var n=t.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return e}(uLe);ore.exports=lLe});var are=b((pq,sre)=>{"use strict";var fLe=pq&&pq.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),dLe=fu(),pLe=function(t){fLe(e,t);function e(){var n=t.call(this)||this;return n.ver=2,n.exceptions=[],n.properties={},n.measurements={},n}return e}(dLe);sre.exports=pLe});var ure=b((xct,cre)=>{"use strict";var mLe=function(){function t(){this.hasFullStack=!0,this.parsedStack=[]}return t}();cre.exports=mLe});var fre=b((mq,lre)=>{"use strict";var hLe=mq&&mq.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),gLe=fu(),vLe=function(t){hLe(e,t);function e(){var n=t.call(this)||this;return n.ver=2,n.properties={},n}return e}(gLe);lre.exports=vLe});var pre=b((hq,dre)=>{"use strict";var yLe=hq&&hq.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),xLe=fu(),wLe=function(t){yLe(e,t);function e(){var n=t.call(this)||this;return n.ver=2,n.metrics=[],n.properties={},n}return e}(xLe);dre.exports=wLe});var hre=b((gq,mre)=>{"use strict";var ELe=gq&&gq.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_Le=dq(),bLe=function(t){ELe(e,t);function e(){var n=t.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return e}(_Le);mre.exports=bLe});var vre=b((vq,gre)=>{"use strict";var CLe=vq&&vq.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),SLe=fu(),TLe=function(t){CLe(e,t);function e(){var n=t.call(this)||this;return n.ver=2,n.success=!0,n.properties={},n.measurements={},n}return e}(SLe);gre.exports=TLe});var xre=b((yq,yre)=>{"use strict";var ILe=yq&&yq.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),PLe=fu(),RLe=function(t){ILe(e,t);function e(){var n=t.call(this)||this;return n.ver=2,n.properties={},n.measurements={},n}return e}(PLe);yre.exports=RLe});var Ere=b((wct,wre)=>{"use strict";var xq;(function(t){t[t.Verbose=0]="Verbose",t[t.Information=1]="Information",t[t.Warning=2]="Warning",t[t.Error=3]="Error",t[t.Critical=4]="Critical"})(xq||(xq={}));wre.exports=xq});var bre=b((Ect,_re)=>{"use strict";var ALe=function(){function t(){}return t}();_re.exports=ALe});var wq=b(Un=>{"use strict";Object.defineProperty(Un,"__esModule",{value:!0});Un.AvailabilityData=Yne();Un.Base=aq();Un.ContextTagKeys=Qne();Un.Data=Zne();Un.DataPoint=nre();Un.DataPointType=lq();Un.Domain=fu();Un.Envelope=ire();Un.EventData=dq();Un.ExceptionData=are();Un.ExceptionDetails=ure();Un.MessageData=fre();Un.MetricData=pre();Un.PageViewData=hre();Un.RemoteDependencyData=vre();Un.RequestData=xre();Un.SeverityLevel=Ere();Un.StackFrame=bre()});var Cre=b(jg=>{"use strict";Object.defineProperty(jg,"__esModule",{value:!0});jg.domainSupportsProperties=jg.RemoteDependencyDataConstants=void 0;var Tp=wq(),DLe=function(){function t(){}return t.TYPE_HTTP="Http",t.TYPE_AI="Http (tracked component)",t}();jg.RemoteDependencyDataConstants=DLe;function kLe(t){return"properties"in t||t instanceof Tp.EventData||t instanceof Tp.ExceptionData||t instanceof Tp.MessageData||t instanceof Tp.MetricData||t instanceof Tp.PageViewData||t instanceof Tp.RemoteDependencyData||t instanceof Tp.RequestData}jg.domainSupportsProperties=kLe});var Tre=b(Sre=>{"use strict";Object.defineProperty(Sre,"__esModule",{value:!0})});var Pre=b(Ire=>{"use strict";Object.defineProperty(Ire,"__esModule",{value:!0})});var Are=b(Rre=>{"use strict";Object.defineProperty(Rre,"__esModule",{value:!0})});var kre=b(Dre=>{"use strict";Object.defineProperty(Dre,"__esModule",{value:!0})});var Nre=b(Ore=>{"use strict";Object.defineProperty(Ore,"__esModule",{value:!0})});var Fre=b(Lre=>{"use strict";Object.defineProperty(Lre,"__esModule",{value:!0})});var Ure=b(Mre=>{"use strict";Object.defineProperty(Mre,"__esModule",{value:!0})});var jre=b(qre=>{"use strict";Object.defineProperty(qre,"__esModule",{value:!0})});var $re=b(Hre=>{"use strict";Object.defineProperty(Hre,"__esModule",{value:!0})});var Vre=b(Bre=>{"use strict";Object.defineProperty(Bre,"__esModule",{value:!0})});var Gre=b(Wre=>{"use strict";Object.defineProperty(Wre,"__esModule",{value:!0})});var Yre=b(zre=>{"use strict";Object.defineProperty(zre,"__esModule",{value:!0})});var Kre=b(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.TelemetryType=ta.TelemetryTypeString=ta.baseTypeToTelemetryType=ta.telemetryTypeToBaseType=void 0;function OLe(t){switch(t){case Er.Event:return"EventData";case Er.Exception:return"ExceptionData";case Er.Trace:return"MessageData";case Er.Metric:return"MetricData";case Er.Request:return"RequestData";case Er.Dependency:return"RemoteDependencyData";case Er.Availability:return"AvailabilityData";case Er.PageView:return"PageViewData"}}ta.telemetryTypeToBaseType=OLe;function NLe(t){switch(t){case"EventData":return Er.Event;case"ExceptionData":return Er.Exception;case"MessageData":return Er.Trace;case"MetricData":return Er.Metric;case"RequestData":return Er.Request;case"RemoteDependencyData":return Er.Dependency;case"AvailabilityData":return Er.Availability;case"PageViewData":return Er.PageView}}ta.baseTypeToTelemetryType=NLe;ta.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData",PageView:"PageViewData"};var Er;(function(t){t[t.Event=0]="Event",t[t.Exception=1]="Exception",t[t.Trace=2]="Trace",t[t.Metric=3]="Metric",t[t.Request=4]="Request",t[t.Dependency=5]="Dependency",t[t.Availability=6]="Availability",t[t.PageView=7]="PageView"})(Er=ta.TelemetryType||(ta.TelemetryType={}))});var Xre=b(Xn=>{"use strict";var LLe=Xn&&Xn.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),wo=Xn&&Xn.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&LLe(e,t,n)};Object.defineProperty(Xn,"__esModule",{value:!0});wo(Tre(),Xn);wo(Pre(),Xn);wo(Are(),Xn);wo(kre(),Xn);wo(Nre(),Xn);wo(Fre(),Xn);wo(Ure(),Xn);wo(jre(),Xn);wo($re(),Xn);wo(Vre(),Xn);wo(Gre(),Xn);wo(Yre(),Xn);wo(Kre(),Xn)});var Jre=b(Qre=>{"use strict";Object.defineProperty(Qre,"__esModule",{value:!0})});var eie=b(Zre=>{"use strict";Object.defineProperty(Zre,"__esModule",{value:!0})});var nie=b(tie=>{"use strict";Object.defineProperty(tie,"__esModule",{value:!0})});var iie=b(rie=>{"use strict";Object.defineProperty(rie,"__esModule",{value:!0})});var sie=b(oie=>{"use strict";Object.defineProperty(oie,"__esModule",{value:!0})});var cie=b(aie=>{"use strict";Object.defineProperty(aie,"__esModule",{value:!0})});var lie=b(uie=>{"use strict";Object.defineProperty(uie,"__esModule",{value:!0})});var die=b(fie=>{"use strict";Object.defineProperty(fie,"__esModule",{value:!0})});var pie=b(Vi=>{"use strict";var FLe=Vi&&Vi.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),Xl=Vi&&Vi.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&FLe(e,t,n)};Object.defineProperty(Vi,"__esModule",{value:!0});Xl(Jre(),Vi);Xl(eie(),Vi);Xl(nie(),Vi);Xl(iie(),Vi);Xl(sie(),Vi);Xl(cie(),Vi);Xl(lie(),Vi);Xl(die(),Vi)});var Br=b(ja=>{"use strict";var MLe=ja&&ja.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),sP=ja&&ja.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&MLe(e,t,n)};Object.defineProperty(ja,"__esModule",{value:!0});sP(Cre(),ja);sP(wq(),ja);sP(Xre(),ja);sP(pie(),ja)});var Eq=b((Yct,mie)=>{"use strict";var ULe=function(){function t(){}return t.prototype.getUrl=function(){return this.url},t.prototype.RequestParser=function(){this.startTime=+new Date},t.prototype._setStatus=function(e,n){var r=+new Date;this.duration=r-this.startTime,this.statusCode=e;var i=this.properties||{};if(n){if(typeof n=="string")i.error=n;else if(n instanceof Error)i.error=n.message;else if(typeof n=="object")for(var o in n)i[o]=n[o]&&n[o].toString&&n[o].toString()}this.properties=i},t.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},t}();mie.exports=ULe});var Cq=b((bq,gie)=>{"use strict";var qLe=bq&&bq.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),aP=require("url"),jLe=Br(),hie=xr(),Eo=Ug(),HLe=Eq(),Ql=Sp(),$Le=oq(),_q=oP(),BLe=function(t){qLe(e,t);function e(n,r){var i=t.call(this)||this;return n&&(i.method=n.method,i.url=i._getAbsoluteUrl(n),i.startTime=+new Date,i.socketRemoteAddress=n.socket&&n.socket.remoteAddress,i.parseHeaders(n,r),n.connection&&(i.connectionRemoteAddress=n.connection.remoteAddress,i.legacySocketRemoteAddress=n.connection.socket&&n.connection.socket.remoteAddress)),i}return e.prototype.onError=function(n,r){this._setStatus(void 0,n),r&&(this.duration=r)},e.prototype.onResponse=function(n,r){this._setStatus(n.statusCode,void 0),r&&(this.duration=r)},e.prototype.getRequestTelemetry=function(n){var r=this.method;try{r+=" "+new aP.URL(this.url).pathname}catch{}var i={id:this.requestId,name:r,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(n&&n.time?i.time=n.time:this.startTime&&(i.time=new Date(this.startTime)),n){for(var o in n)i[o]||(i[o]=n[o]);if(n.properties)for(var o in n.properties)i.properties[o]=n.properties[o]}return i},e.prototype.getRequestTags=function(n){var r={};for(var i in n)r[i]=n[i];return r[e.keys.locationIp]=n[e.keys.locationIp]||this._getIp(),r[e.keys.sessionId]=n[e.keys.sessionId]||this._getId("ai_session"),r[e.keys.userId]=n[e.keys.userId]||this._getId("ai_user"),r[e.keys.userAuthUserId]=n[e.keys.userAuthUserId]||this._getId("ai_authUser"),r[e.keys.operationName]=this.getOperationName(n),r[e.keys.operationParentId]=this.getOperationParentId(n),r[e.keys.operationId]=this.getOperationId(n),r},e.prototype.getOperationId=function(n){return n[e.keys.operationId]||this.operationId},e.prototype.getOperationParentId=function(n){return n[e.keys.operationParentId]||this.parentId||this.getOperationId(n)},e.prototype.getOperationName=function(n){if(n[e.keys.operationName])return n[e.keys.operationName];var r="";try{r=new aP.URL(this.url).pathname}catch{}var i=this.method;return r&&(i+=" "+r),i},e.prototype.getRequestId=function(){return this.requestId},e.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},e.prototype.getTraceparent=function(){return this.traceparent},e.prototype.getTracestate=function(){return this.tracestate},e.prototype.getLegacyRootId=function(){return this.legacyRootId},e.prototype._getAbsoluteUrl=function(n){if(!n.headers)return n.url;var r=n.connection?n.connection.encrypted:null,i=r||n.headers["x-forwarded-proto"]=="https"?"https":"http",o=i+"://"+n.headers.host+"/",s="",a="";try{var u=new aP.URL(n.url,o);s=u.pathname,a=u.search}catch{}var c=aP.format({protocol:i,host:n.headers.host,pathname:s,search:a});return c},e.prototype._getIp=function(){var n=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,r=function(o){var s=n.exec(o);if(s)return s[0]},i=r(this.rawHeaders["x-forwarded-for"])||r(this.rawHeaders["x-client-ip"])||r(this.rawHeaders["x-real-ip"])||r(this.connectionRemoteAddress)||r(this.socketRemoteAddress)||r(this.legacySocketRemoteAddress);return!i&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&this.connectionRemoteAddress.substr(0,2)==="::"&&(i="127.0.0.1"),i},e.prototype._getId=function(n){var r=this.rawHeaders&&this.rawHeaders.cookie&&typeof this.rawHeaders.cookie=="string"&&this.rawHeaders.cookie||"",i=e.parseId(hie.getCookie(n,r));return i},e.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},e.prototype.parseHeaders=function(n,r){if(this.rawHeaders=n.headers||n.rawHeaders,this.userAgent=n.headers&&n.headers["user-agent"],this.sourceCorrelationId=hie.getCorrelationContextTarget(n,Eo.requestContextSourceKey),n.headers){var i=n.headers[Eo.traceStateHeader]?n.headers[Eo.traceStateHeader].toString():null,o=n.headers[Eo.traceparentHeader]?n.headers[Eo.traceparentHeader].toString():null,s=n.headers[Eo.requestIdHeader]?n.headers[Eo.requestIdHeader].toString():null,a=n.headers[Eo.parentIdHeader]?n.headers[Eo.parentIdHeader].toString():null,u=n.headers[Eo.rootIdHeader]?n.headers[Eo.rootIdHeader].toString():null;this.correlationContextHeader=n.headers[Eo.correlationContextHeader]?n.headers[Eo.correlationContextHeader].toString():null,Ql.w3cEnabled&&(o||i)?(this.traceparent=new _q(o?o.toString():null),this.tracestate=o&&i&&new $Le(i?i.toString():null),this.setBackCompatFromThisTraceContext()):s?Ql.w3cEnabled?(this.traceparent=new _q(null,s),this.setBackCompatFromThisTraceContext()):(this.parentId=s,this.requestId=Ql.generateRequestId(this.parentId),this.operationId=Ql.getRootId(this.requestId)):Ql.w3cEnabled?(this.traceparent=new _q,this.traceparent.parentId=a,this.traceparent.legacyRootId=u||a,this.setBackCompatFromThisTraceContext()):(this.parentId=a,this.requestId=Ql.generateRequestId(u||this.parentId),this.correlationContextHeader=null,this.operationId=Ql.getRootId(this.requestId)),r&&(this.requestId=r,this.operationId=Ql.getRootId(this.requestId))}},e.parseId=function(n){var r=n.split("|");return r.length>0?r[0]:""},e.keys=new jLe.ContextTagKeys,e}(HLe);gie.exports=BLe});var Oie=b((Le,kie)=>{Le=kie.exports=tt;var _t;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?_t=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:_t=function(){};Le.SEMVER_SPEC_VERSION="2.0.0";var Tq=256,cP=Number.MAX_SAFE_INTEGER||9007199254740991,Sq=16,It=Le.re=[],J=Le.src=[],Je=0,Hg=Je++;J[Hg]="0|[1-9]\\d*";var $g=Je++;J[$g]="[0-9]+";var Aq=Je++;J[Aq]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var yie=Je++;J[yie]="("+J[Hg]+")\\.("+J[Hg]+")\\.("+J[Hg]+")";var xie=Je++;J[xie]="("+J[$g]+")\\.("+J[$g]+")\\.("+J[$g]+")";var Iq=Je++;J[Iq]="(?:"+J[Hg]+"|"+J[Aq]+")";var Pq=Je++;J[Pq]="(?:"+J[$g]+"|"+J[Aq]+")";var Dq=Je++;J[Dq]="(?:-("+J[Iq]+"(?:\\."+J[Iq]+")*))";var kq=Je++;J[kq]="(?:-?("+J[Pq]+"(?:\\."+J[Pq]+")*))";var Rq=Je++;J[Rq]="[0-9A-Za-z-]+";var OE=Je++;J[OE]="(?:\\+("+J[Rq]+"(?:\\."+J[Rq]+")*))";var Oq=Je++,wie="v?"+J[yie]+J[Dq]+"?"+J[OE]+"?";J[Oq]="^"+wie+"$";var Nq="[v=\\s]*"+J[xie]+J[kq]+"?"+J[OE]+"?",Lq=Je++;J[Lq]="^"+Nq+"$";var Wg=Je++;J[Wg]="((?:<|>)?=?)";var uP=Je++;J[uP]=J[$g]+"|x|X|\\*";var lP=Je++;J[lP]=J[Hg]+"|x|X|\\*";var Ip=Je++;J[Ip]="[v=\\s]*("+J[lP]+")(?:\\.("+J[lP]+")(?:\\.("+J[lP]+")(?:"+J[Dq]+")?"+J[OE]+"?)?)?";var Vg=Je++;J[Vg]="[v=\\s]*("+J[uP]+")(?:\\.("+J[uP]+")(?:\\.("+J[uP]+")(?:"+J[kq]+")?"+J[OE]+"?)?)?";var Eie=Je++;J[Eie]="^"+J[Wg]+"\\s*"+J[Ip]+"$";var _ie=Je++;J[_ie]="^"+J[Wg]+"\\s*"+J[Vg]+"$";var bie=Je++;J[bie]="(?:^|[^\\d])(\\d{1,"+Sq+"})(?:\\.(\\d{1,"+Sq+"}))?(?:\\.(\\d{1,"+Sq+"}))?(?:$|[^\\d])";var gP=Je++;J[gP]="(?:~>?)";var fP=Je++;J[fP]="(\\s*)"+J[gP]+"\\s+";It[fP]=new RegExp(J[fP],"g");var VLe="$1~",Cie=Je++;J[Cie]="^"+J[gP]+J[Ip]+"$";var Sie=Je++;J[Sie]="^"+J[gP]+J[Vg]+"$";var vP=Je++;J[vP]="(?:\\^)";var dP=Je++;J[dP]="(\\s*)"+J[vP]+"\\s+";It[dP]=new RegExp(J[dP],"g");var WLe="$1^",Tie=Je++;J[Tie]="^"+J[vP]+J[Ip]+"$";var Iie=Je++;J[Iie]="^"+J[vP]+J[Vg]+"$";var Fq=Je++;J[Fq]="^"+J[Wg]+"\\s*("+Nq+")$|^$";var Mq=Je++;J[Mq]="^"+J[Wg]+"\\s*("+wie+")$|^$";var DE=Je++;J[DE]="(\\s*)"+J[Wg]+"\\s*("+Nq+"|"+J[Ip]+")";It[DE]=new RegExp(J[DE],"g");var GLe="$1$2$3",Pie=Je++;J[Pie]="^\\s*("+J[Ip]+")\\s+-\\s+("+J[Ip]+")\\s*$";var Rie=Je++;J[Rie]="^\\s*("+J[Vg]+")\\s+-\\s+("+J[Vg]+")\\s*$";var Aie=Je++;J[Aie]="(<|>)?=?\\s*\\*";for(Jl=0;Jl<Je;Jl++)_t(Jl,J[Jl]),It[Jl]||(It[Jl]=new RegExp(J[Jl]));var Jl;Le.parse=Pp;function Pp(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof tt)return t;if(typeof t!="string"||t.length>Tq)return null;var n=e.loose?It[Lq]:It[Oq];if(!n.test(t))return null;try{return new tt(t,e)}catch{return null}}Le.valid=zLe;function zLe(t,e){var n=Pp(t,e);return n?n.version:null}Le.clean=YLe;function YLe(t,e){var n=Pp(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null}Le.SemVer=tt;function tt(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof tt){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>Tq)throw new TypeError("version is longer than "+Tq+" characters");if(!(this instanceof tt))return new tt(t,e);_t("SemVer",t,e),this.options=e,this.loose=!!e.loose;var n=t.trim().match(e.loose?It[Lq]:It[Oq]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>cP||this.major<0)throw new TypeError("Invalid major version");if(this.minor>cP||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>cP||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<cP)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}tt.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};tt.prototype.toString=function(){return this.version};tt.prototype.compare=function(t){return _t("SemVer.compare",this.version,this.options,t),t instanceof tt||(t=new tt(t,this.options)),this.compareMain(t)||this.comparePre(t)};tt.prototype.compareMain=function(t){return t instanceof tt||(t=new tt(t,this.options)),Bg(this.major,t.major)||Bg(this.minor,t.minor)||Bg(this.patch,t.patch)};tt.prototype.comparePre=function(t){if(t instanceof tt||(t=new tt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(_t("prerelease compare",e,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Bg(n,r)}while(++e)};tt.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};Le.inc=KLe;function KLe(t,e,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new tt(t,n).inc(e,r).version}catch{return null}}Le.diff=XLe;function XLe(t,e){if(Uq(t,e))return null;var n=Pp(t),r=Pp(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if((s==="major"||s==="minor"||s==="patch")&&n[s]!==r[s])return i+s;return o}Le.compareIdentifiers=Bg;var vie=/^[0-9]+$/;function Bg(t,e){var n=vie.test(t),r=vie.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}Le.rcompareIdentifiers=QLe;function QLe(t,e){return Bg(e,t)}Le.major=JLe;function JLe(t,e){return new tt(t,e).major}Le.minor=ZLe;function ZLe(t,e){return new tt(t,e).minor}Le.patch=e1e;function e1e(t,e){return new tt(t,e).patch}Le.compare=du;function du(t,e,n){return new tt(t,n).compare(new tt(e,n))}Le.compareLoose=t1e;function t1e(t,e){return du(t,e,!0)}Le.rcompare=n1e;function n1e(t,e,n){return du(e,t,n)}Le.sort=r1e;function r1e(t,e){return t.sort(function(n,r){return Le.compare(n,r,e)})}Le.rsort=i1e;function i1e(t,e){return t.sort(function(n,r){return Le.rcompare(n,r,e)})}Le.gt=kE;function kE(t,e,n){return du(t,e,n)>0}Le.lt=pP;function pP(t,e,n){return du(t,e,n)<0}Le.eq=Uq;function Uq(t,e,n){return du(t,e,n)===0}Le.neq=Die;function Die(t,e,n){return du(t,e,n)!==0}Le.gte=qq;function qq(t,e,n){return du(t,e,n)>=0}Le.lte=jq;function jq(t,e,n){return du(t,e,n)<=0}Le.cmp=mP;function mP(t,e,n,r){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return Uq(t,n,r);case"!=":return Die(t,n,r);case">":return kE(t,n,r);case">=":return qq(t,n,r);case"<":return pP(t,n,r);case"<=":return jq(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}Le.Comparator=is;function is(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof is){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof is))return new is(t,e);_t("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===NE?this.value="":this.value=this.operator+this.semver.version,_t("comp",this)}var NE={};is.prototype.parse=function(t){var e=this.options.loose?It[Fq]:It[Mq],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new tt(n[2],this.options.loose):this.semver=NE};is.prototype.toString=function(){return this.value};is.prototype.test=function(t){return _t("Comparator.test",t,this.options.loose),this.semver===NE?!0:(typeof t=="string"&&(t=new tt(t,this.options)),mP(t,this.operator,this.semver,this.options))};is.prototype.intersects=function(t,e){if(!(t instanceof is))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var n;if(this.operator==="")return n=new tn(t.value,e),hP(this.value,n,e);if(t.operator==="")return n=new tn(this.value,e),hP(t.semver,n,e);var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),o=this.semver.version===t.semver.version,s=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=mP(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),u=mP(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||i||o&&s||a||u};Le.Range=tn;function tn(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof tn)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new tn(t.raw,e);if(t instanceof is)return new tn(t.value,e);if(!(this instanceof tn))return new tn(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}tn.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};tn.prototype.toString=function(){return this.range};tn.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var n=e?It[Rie]:It[Pie];t=t.replace(n,m1e),_t("hyphen replace",t),t=t.replace(It[DE],GLe),_t("comparator trim",t,It[DE]),t=t.replace(It[fP],VLe),t=t.replace(It[dP],WLe),t=t.split(/\s+/).join(" ");var r=e?It[Fq]:It[Mq],i=t.split(" ").map(function(o){return s1e(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(r)})),i=i.map(function(o){return new is(o,this.options)},this),i};tn.prototype.intersects=function(t,e){if(!(t instanceof tn))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return t.set.some(function(i){return i.every(function(o){return r.intersects(o,e)})})})})};Le.toComparators=o1e;function o1e(t,e){return new tn(t,e).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function s1e(t,e){return _t("comp",t,e),t=u1e(t,e),_t("caret",t),t=a1e(t,e),_t("tildes",t),t=f1e(t,e),_t("xrange",t),t=p1e(t,e),_t("stars",t),t}function fi(t){return!t||t.toLowerCase()==="x"||t==="*"}function a1e(t,e){return t.trim().split(/\s+/).map(function(n){return c1e(n,e)}).join(" ")}function c1e(t,e){var n=e.loose?It[Sie]:It[Cie];return t.replace(n,function(r,i,o,s,a){_t("tilde",t,r,i,o,s,a);var u;return fi(i)?u="":fi(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":fi(s)?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(_t("replaceTilde pr",a),u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",_t("tilde return",u),u})}function u1e(t,e){return t.trim().split(/\s+/).map(function(n){return l1e(n,e)}).join(" ")}function l1e(t,e){_t("caret",t,e);var n=e.loose?It[Iie]:It[Tie];return t.replace(n,function(r,i,o,s,a){_t("caret",t,r,i,o,s,a);var u;return fi(i)?u="":fi(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":fi(s)?i==="0"?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(_t("replaceCaret pr",a),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(_t("no pr"),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),_t("caret return",u),u})}function f1e(t,e){return _t("replaceXRanges",t,e),t.split(/\s+/).map(function(n){return d1e(n,e)}).join(" ")}function d1e(t,e){t=t.trim();var n=e.loose?It[_ie]:It[Eie];return t.replace(n,function(r,i,o,s,a,u){_t("xRange",t,r,i,o,s,a,u);var c=fi(o),l=c||fi(s),f=l||fi(a),d=f;return i==="="&&d&&(i=""),c?i===">"||i==="<"?r="<0.0.0":r="*":i&&d?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),r=i+o+"."+s+"."+a):l?r=">="+o+".0.0 <"+(+o+1)+".0.0":f&&(r=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),_t("xRange return",r),r})}function p1e(t,e){return _t("replaceStars",t,e),t.trim().replace(It[Aie],"")}function m1e(t,e,n,r,i,o,s,a,u,c,l,f,d){return fi(n)?e="":fi(r)?e=">="+n+".0.0":fi(i)?e=">="+n+"."+r+".0":e=">="+e,fi(u)?a="":fi(c)?a="<"+(+u+1)+".0.0":fi(l)?a="<"+u+"."+(+c+1)+".0":f?a="<="+u+"."+c+"."+l+"-"+f:a="<="+a,(e+" "+a).trim()}tn.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new tt(t,this.options));for(var e=0;e<this.set.length;e++)if(h1e(this.set[e],t,this.options))return!0;return!1};function h1e(t,e,n){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(r=0;r<t.length;r++)if(_t(t[r].semver),t[r].semver!==NE&&t[r].semver.prerelease.length>0){var i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}Le.satisfies=hP;function hP(t,e,n){try{e=new tn(e,n)}catch{return!1}return e.test(t)}Le.maxSatisfying=g1e;function g1e(t,e,n){var r=null,i=null;try{var o=new tn(e,n)}catch{return null}return t.forEach(function(s){o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new tt(r,n))}),r}Le.minSatisfying=v1e;function v1e(t,e,n){var r=null,i=null;try{var o=new tn(e,n)}catch{return null}return t.forEach(function(s){o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new tt(r,n))}),r}Le.minVersion=y1e;function y1e(t,e){t=new tn(t,e);var n=new tt("0.0.0");if(t.test(n)||(n=new tt("0.0.0-0"),t.test(n)))return n;n=null;for(var r=0;r<t.set.length;++r){var i=t.set[r];i.forEach(function(o){var s=new tt(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!n||kE(n,s))&&(n=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return n&&t.test(n)?n:null}Le.validRange=x1e;function x1e(t,e){try{return new tn(t,e).range||"*"}catch{return null}}Le.ltr=w1e;function w1e(t,e,n){return Hq(t,e,"<",n)}Le.gtr=E1e;function E1e(t,e,n){return Hq(t,e,">",n)}Le.outside=Hq;function Hq(t,e,n,r){t=new tt(t,r),e=new tn(e,r);var i,o,s,a,u;switch(n){case">":i=kE,o=jq,s=pP,a=">",u=">=";break;case"<":i=pP,o=qq,s=kE,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(hP(t,e,r))return!1;for(var c=0;c<e.set.length;++c){var l=e.set[c],f=null,d=null;if(l.forEach(function(p){p.semver===NE&&(p=new is(">=0.0.0")),f=f||p,d=d||p,i(p.semver,f.semver,r)?f=p:s(p.semver,d.semver,r)&&(d=p)}),f.operator===a||f.operator===u||(!d.operator||d.operator===a)&&o(t,d.semver))return!1;if(d.operator===u&&s(t,d.semver))return!1}return!0}Le.prerelease=_1e;function _1e(t,e){var n=Pp(t,e);return n&&n.prerelease.length?n.prerelease:null}Le.intersects=b1e;function b1e(t,e,n){return t=new tn(t,n),e=new tn(e,n),t.intersects(e)}Le.coerce=C1e;function C1e(t){if(t instanceof tt)return t;if(typeof t!="string")return null;var e=t.match(It[bie]);return e==null?null:Pp(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var yP=b((Kct,Fie)=>{"use strict";function $q(t){return typeof t=="function"}var di=console.error.bind(console);function LE(t,e,n){var r=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:r,writable:!0,value:n})}function FE(t){t&&t.logger&&($q(t.logger)?di=t.logger:di("new logger isn't a function, not replacing"))}function Nie(t,e,n){if(!t||!t[e]){di("no original function "+e+" to wrap");return}if(!n){di("no wrapper function"),di(new Error().stack);return}if(!$q(t[e])||!$q(n)){di("original object and wrapper must be functions");return}var r=t[e],i=n(r,e);return LE(i,"__original",r),LE(i,"__unwrap",function(){t[e]===i&&LE(t,e,r)}),LE(i,"__wrapped",!0),LE(t,e,i),i}function S1e(t,e,n){if(t)Array.isArray(t)||(t=[t]);else{di("must provide one or more modules to patch"),di(new Error().stack);return}if(!(e&&Array.isArray(e))){di("must provide one or more functions to wrap on modules");return}t.forEach(function(r){e.forEach(function(i){Nie(r,i,n)})})}function Lie(t,e){if(!t||!t[e]){di("no function to unwrap."),di(new Error().stack);return}if(!t[e].__unwrap)di("no original to unwrap to -- has "+e+" already been unwrapped?");else return t[e].__unwrap()}function T1e(t,e){if(t)Array.isArray(t)||(t=[t]);else{di("must provide one or more modules to patch"),di(new Error().stack);return}if(!(e&&Array.isArray(e))){di("must provide one or more functions to unwrap on modules");return}t.forEach(function(n){e.forEach(function(r){Lie(n,r)})})}FE.wrap=Nie;FE.massWrap=S1e;FE.unwrap=Lie;FE.massUnwrap=T1e;Fie.exports=FE});var EP=b((Xct,jie)=>{"use strict";var Uie=yP(),Gg=Uie.wrap,xP=Uie.unwrap,pu="wrap@before";function wP(t,e,n){var r=!!t[e]&&t.propertyIsEnumerable(e);Object.defineProperty(t,e,{configurable:!0,enumerable:r,writable:!0,value:n})}function I1e(t,e){for(var n=e.length,r=0;r<n;r++){var i=e[r],o=t[pu];if(typeof o=="function")o(i);else if(Array.isArray(o))for(var s=o.length,a=0;a<s;a++)o[a](i)}}function qie(t,e){var n;return n=t._events&&t._events[e],Array.isArray(n)||(n?n=[n]:n=[]),n}function P1e(t,e,n){var r=qie(t,e),i=r.filter(function(o){return n.indexOf(o)===-1});i.length>0&&I1e(t,i)}function Mie(t,e){if(t){var n=t;if(typeof t=="function")n=e(t);else if(Array.isArray(t)){n=[];for(var r=0;r<t.length;r++)n[r]=e(t[r])}return n}}jie.exports=function(e,n,r){if(!e||!e.on||!e.addListener||!e.removeListener||!e.emit)throw new Error("can only wrap real EEs");if(!n)throw new Error("must have function to run on listener addition");if(!r)throw new Error("must have function to wrap listeners when emitting");function i(s){return function(u,c){var l=qie(this,u).slice();try{var f=s.call(this,u,c);return P1e(this,u,l),f}finally{this.on.__wrapped||Gg(this,"on",i),this.addListener.__wrapped||Gg(this,"addListener",i)}}}function o(s){return function(u){if(!this._events||!this._events[u])return s.apply(this,arguments);var c=this._events[u];function l(f){return function(){this._events[u]=c;try{return f.apply(this,arguments)}finally{c=this._events[u],this._events[u]=Mie(c,r)}}}Gg(this,"removeListener",l);try{return this._events[u]=Mie(c,r),s.apply(this,arguments)}finally{xP(this,"removeListener"),this._events[u]=c}}}e[pu]?typeof e[pu]=="function"?wP(e,pu,[e[pu],n]):Array.isArray(e[pu])&&e[pu].push(n):wP(e,pu,n),e.__wrapped||(Gg(e,"addListener",i),Gg(e,"on",i),Gg(e,"emit",o),wP(e,"__unwrap",function(){xP(e,"addListener"),xP(e,"on"),xP(e,"emit"),delete e[pu],delete e.__wrapped}),wP(e,"__wrapped",!0))}});var Vie=b((Qct,Bie)=>{"use strict";var gt=require("util"),mu=require("assert"),R1e=EP(),Ht=require("async_hooks"),ME="cls@contexts",UE="error@context",nn=process.env.DEBUG_CLS_HOOKED,ht=-1;Bie.exports={getNamespace:Hie,createNamespace:A1e,destroyNamespace:$ie,reset:D1e,ERROR_SYMBOL:UE};function os(t){this.name=t,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}os.prototype.set=function(e,n){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[e]=n,nn){let r=" ".repeat(this._indent<0?0:this._indent);zt(r+"CONTEXT-SET KEY:"+e+"="+n+" in ns:"+this.name+" currentUid:"+ht+" active:"+gt.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return n};os.prototype.get=function(e){if(!this.active){if(nn){let n=Ht.currentId(),r=Ht.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);zt(`${i}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${ht} asyncHooksCurrentId:${n} triggerId:${r} len:${this._set.length}`)}return}if(nn){let n=Ht.executionAsyncId(),r=Ht.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);zt(i+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+ht+" active:"+gt.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),zt(`${i}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${ht} asyncHooksCurrentId:${n} triggerId:${r} len:${this._set.length} active:${gt.inspect(this.active)}`)}return this.active[e]};os.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=ht,nn){let n=Ht.executionAsyncId(),r=Ht.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);zt(`${i}CONTEXT-CREATED Context: (${this.name}) currentUid:${ht} asyncHooksCurrentId:${n} triggerId:${r} len:${this._set.length} context:${gt.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e};os.prototype.run=function(e){let n=this.createContext();this.enter(n);try{if(nn){let r=Ht.triggerAsyncId(),i=Ht.executionAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);zt(`${o}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${ht} triggerId:${r} asyncHooksCurrentId:${i} len:${this._set.length} context:${gt.inspect(n)}`)}return e(n),n}catch(r){throw r&&(r[UE]=n),r}finally{if(nn){let r=Ht.triggerAsyncId(),i=Ht.executionAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);zt(`${o}CONTEXT-RUN END: (${this.name}) currentUid:${ht} triggerId:${r} asyncHooksCurrentId:${i} len:${this._set.length} ${gt.inspect(n)}`)}this.exit(n)}};os.prototype.runAndReturn=function(e){let n;return this.run(function(r){n=e(r)}),n};os.prototype.runPromise=function(e){let n=this.createContext();this.enter(n);let r=e(n);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return nn&&zt("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+ht+" len:"+this._set.length+" "+gt.inspect(n)),r.then(i=>(nn&&zt("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+ht+" len:"+this._set.length+" "+gt.inspect(n)),this.exit(n),i)).catch(i=>{throw i[UE]=n,nn&&zt("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+ht+" len:"+this._set.length+" "+gt.inspect(n)),this.exit(n),i})};os.prototype.bind=function(e,n){n||(this.active?n=this.active:n=this.createContext());let r=this;return function(){r.enter(n);try{return e.apply(this,arguments)}catch(o){throw o&&(o[UE]=n),o}finally{r.exit(n)}}};os.prototype.enter=function(e){if(mu.ok(e,"context must be provided for entering"),nn){let n=Ht.executionAsyncId(),r=Ht.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);zt(`${i}CONTEXT-ENTER: (${this.name}) currentUid:${ht} triggerId:${r} asyncHooksCurrentId:${n} len:${this._set.length} ${gt.inspect(e)}`)}this._set.push(this.active),this.active=e};os.prototype.exit=function(e){if(mu.ok(e,"context must be provided for exiting"),nn){let r=Ht.executionAsyncId(),i=Ht.triggerAsyncId(),o=" ".repeat(this._indent<0?0:this._indent);zt(`${o}CONTEXT-EXIT: (${this.name}) currentUid:${ht} triggerId:${i} asyncHooksCurrentId:${r} len:${this._set.length} ${gt.inspect(e)}`)}if(this.active===e){mu.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let n=this._set.lastIndexOf(e);n<0?(nn&&zt("??ERROR?? context exiting but not entered - ignoring: "+gt.inspect(e)),mu.ok(n>=0,`context not currently entered; can't exit. 
`+gt.inspect(this)+`
`+gt.inspect(e))):(mu.ok(n,"can't remove top context"),this._set.splice(n,1))};os.prototype.bindEmitter=function(e){mu.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let n=this,r="context@"+this.name;function i(s){s&&(s[ME]||(s[ME]=Object.create(null)),s[ME][r]={namespace:n,context:n.active})}function o(s){if(!(s&&s[ME]))return s;let a=s,u=s[ME];return Object.keys(u).forEach(function(c){let l=u[c];a=l.namespace.bind(a,l.context)}),a}R1e(e,i,o)};os.prototype.fromException=function(e){return e[UE]};function Hie(t){return process.namespaces[t]}function A1e(t){mu.ok(t,"namespace must be given a name."),nn&&zt(`NS-CREATING NAMESPACE (${t})`);let e=new os(t);return e.id=ht,Ht.createHook({init(r,i,o,s){if(ht=Ht.executionAsyncId(),e.active){if(e._contexts.set(r,e.active),nn){let a=" ".repeat(e._indent<0?0:e._indent);zt(`${a}INIT [${i}] (${t}) asyncId:${r} currentUid:${ht} triggerId:${o} active:${gt.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}}else if(ht===0){let a=Ht.triggerAsyncId(),u=e._contexts.get(a);if(u){if(e._contexts.set(r,u),nn){let c=" ".repeat(e._indent<0?0:e._indent);zt(`${c}INIT USING CONTEXT FROM TRIGGERID [${i}] (${t}) asyncId:${r} currentUid:${ht} triggerId:${a} active:${gt.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}}else if(nn){let c=" ".repeat(e._indent<0?0:e._indent);zt(`${c}INIT MISSING CONTEXT [${i}] (${t}) asyncId:${r} currentUid:${ht} triggerId:${a} active:${gt.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}}if(nn&&i==="PROMISE"){zt(gt.inspect(s,{showHidden:!0}));let a=s.parentId,u=" ".repeat(e._indent<0?0:e._indent);zt(`${u}INIT RESOURCE-PROMISE [${i}] (${t}) parentId:${a} asyncId:${r} currentUid:${ht} triggerId:${o} active:${gt.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} resource:${s}`)}},before(r){ht=Ht.executionAsyncId();let i;if(i=e._contexts.get(r)||e._contexts.get(ht),i){if(nn){let o=Ht.triggerAsyncId(),s=" ".repeat(e._indent<0?0:e._indent);zt(`${s}BEFORE (${t}) asyncId:${r} currentUid:${ht} triggerId:${o} active:${gt.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} context:${gt.inspect(i)}`),e._indent+=2}e.enter(i)}else if(nn){let o=Ht.triggerAsyncId(),s=" ".repeat(e._indent<0?0:e._indent);zt(`${s}BEFORE MISSING CONTEXT (${t}) asyncId:${r} currentUid:${ht} triggerId:${o} active:${gt.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} namespace._contexts:${gt.inspect(e._contexts,{showHidden:!0,depth:2,colors:!0})}`),e._indent+=2}},after(r){ht=Ht.executionAsyncId();let i;if(i=e._contexts.get(r)||e._contexts.get(ht),i){if(nn){let o=Ht.triggerAsyncId();e._indent-=2;let s=" ".repeat(e._indent<0?0:e._indent);zt(`${s}AFTER (${t}) asyncId:${r} currentUid:${ht} triggerId:${o} active:${gt.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} context:${gt.inspect(i)}`)}e.exit(i)}else if(nn){let o=Ht.triggerAsyncId();e._indent-=2;let s=" ".repeat(e._indent<0?0:e._indent);zt(`${s}AFTER MISSING CONTEXT (${t}) asyncId:${r} currentUid:${ht} triggerId:${o} active:${gt.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} context:${gt.inspect(i)}`)}},destroy(r){if(ht=Ht.executionAsyncId(),nn){let i=Ht.triggerAsyncId(),o=" ".repeat(e._indent<0?0:e._indent);zt(`${o}DESTROY (${t}) currentUid:${ht} asyncId:${r} triggerId:${i} active:${gt.inspect(e.active,{showHidden:!0,depth:2,colors:!0})} context:${gt.inspect(e._contexts.get(ht))}`)}e._contexts.delete(r)}}).enable(),process.namespaces[t]=e,e}function $ie(t){let e=Hie(t);mu.ok(e,`can't delete nonexistent namespace! "`+t+'"'),mu.ok(e.id,"don't assign to process.namespaces directly! "+gt.inspect(e)),process.namespaces[t]=null}function D1e(){process.namespaces&&Object.keys(process.namespaces).forEach(function(t){$ie(t)}),process.namespaces=Object.create(null)}process.namespaces={};function zt(...t){nn&&process._rawDebug(`${gt.format(...t)}`)}});var Gie=b((Jct,Wie)=>{"use strict";function k1e(){}Wie.exports=function(){let e=this._hooks,n=this._state,r=process.nextTick;process.nextTick=function(){if(!n.enabled)return r.apply(process,arguments);let i=new Array(arguments.length);for(let u=0;u<arguments.length;u++)i[u]=arguments[u];let o=i[0];if(typeof o!="function")throw new TypeError("callback is not a function");let s=new k1e,a=--n.counter;return e.init.call(s,a,0,null,null),i[0]=function(){e.pre.call(s,a);let u=!0;try{o.apply(this,arguments),u=!1}finally{u&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){e.post.call(s,a,!0),e.destroy.call(null,a)})}e.post.call(s,a,!1),e.destroy.call(null,a)},r.apply(process,i)}}});var Yie=b((Zct,zie)=>{"use strict";function O1e(){}zie.exports=function(){let e=this._hooks,n=this._state,r=global.Promise,i=r.prototype.then;r.prototype.then=u;function o(c,l,f,d){return typeof c!="function"?d?s(f):a(f):function(){e.pre.call(l,f);try{return c.apply(this,arguments)}finally{e.post.call(l,f,!1),e.destroy.call(null,f)}}}function s(c){return function(f){return e.destroy.call(null,c),f}}function a(c){return function(f){throw e.destroy.call(null,c),f}}function u(c,l){if(!n.enabled)return i.call(this,c,l);let f=new O1e,d=--n.counter;return e.init.call(f,d,0,null,null),i.call(this,o(c,f,d,!0),o(l,f,d,!1))}}});var Xie=b((eut,Kie)=>{"use strict";var _o=require("timers");function N1e(){}function L1e(){}function F1e(){}var M1e=new Map,U1e=new Map,q1e=new Map,Bq=null,Vq=!1;Kie.exports=function(){Wq(this._hooks,this._state,"setTimeout","clearTimeout",N1e,M1e,!0),Wq(this._hooks,this._state,"setInterval","clearInterval",L1e,U1e,!1),Wq(this._hooks,this._state,"setImmediate","clearImmediate",F1e,q1e,!0),global.setTimeout=_o.setTimeout,global.setInterval=_o.setInterval,global.setImmediate=_o.setImmediate,global.clearTimeout=_o.clearTimeout,global.clearInterval=_o.clearInterval,global.clearImmediate=_o.clearImmediate};function Wq(t,e,n,r,i,o,s){let a=_o[n],u=_o[r];_o[n]=function(){if(!e.enabled)return a.apply(_o,arguments);let c=new Array(arguments.length);for(let m=0;m<arguments.length;m++)c[m]=arguments[m];let l=c[0];if(typeof l!="function")throw new TypeError('"callback" argument must be a function');let f=new i,d=--e.counter,p;return t.init.call(f,d,0,null,null),c[0]=function(){Bq=p,t.pre.call(f,d);let m=!0;try{l.apply(this,arguments),m=!1}finally{m&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",function(){t.post.call(f,d,!0),o.delete(p),t.destroy.call(null,d)})}t.post.call(f,d,!1),Bq=null,(s||Vq)&&(Vq=!1,o.delete(p),t.destroy.call(null,d))},p=a.apply(_o,c),o.set(p,d),p},_o[r]=function(c){if(Bq===c&&c!==null)Vq=!0;else if(o.has(c)){let l=o.get(c);o.delete(c),t.destroy.call(null,l)}u.apply(_o,arguments)}}});var Gq=b((tut,j1e)=>{j1e.exports={name:"async-hook-jl",description:"Inspect the life of handle objects in node",version:"1.7.6",author:"Andreas Madsen <amwebdk@gmail.com>",main:"./index.js",scripts:{test:"node ./test/runner.js && eslint ."},repository:{type:"git",url:"git://github.com/jeff-lewis/async-hook-jl.git"},keywords:["async","async hooks","inspect","async wrap"],license:"MIT",dependencies:{"stack-chain":"^1.3.7"},devDependencies:{async:"1.5.x","cli-color":"1.1.x",eslint:"^3.4.0",endpoint:"0.4.x"},engines:{node:"^4.7 || >=6.9 || >=7.3"}}});var Zie=b((nut,Jie)=>{"use strict";var jE=process.binding("async_wrap"),H1e=jE.Providers.TIMERWRAP,Qie={nextTick:Gie(),promise:Yie(),timers:Xie()},qE=new Set;function $1e(){this.enabled=!1,this.counter=0}function zq(){let t=this.initFns=[],e=this.preFns=[],n=this.postFns=[],r=this.destroyFns=[];this.init=function(i,o,s,a){if(o===H1e){qE.add(i);return}for(let u of t)u(i,this,o,s,a)},this.pre=function(i){if(!qE.has(i))for(let o of e)o(i,this)},this.post=function(i,o){if(!qE.has(i))for(let s of n)s(i,this,o)},this.destroy=function(i){if(qE.has(i)){qE.delete(i);return}for(let o of r)o(i)}}zq.prototype.add=function(t){t.init&&this.initFns.push(t.init),t.pre&&this.preFns.push(t.pre),t.post&&this.postFns.push(t.post),t.destroy&&this.destroyFns.push(t.destroy)};function _P(t,e){let n=t.indexOf(e);n!==-1&&t.splice(n,1)}zq.prototype.remove=function(t){t.init&&_P(this.initFns,t.init),t.pre&&_P(this.preFns,t.pre),t.post&&_P(this.postFns,t.post),t.destroy&&_P(this.destroyFns,t.destroy)};function HE(){this._state=new $1e,this._hooks=new zq,this.version=Gq().version,this.providers=jE.Providers;for(let t of Object.keys(Qie))Qie[t].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),jE.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}Jie.exports=HE;HE.prototype.addHooks=function(t){this._hooks.add(t)};HE.prototype.removeHooks=function(t){this._hooks.remove(t)};HE.prototype.enable=function(){this._state.enabled=!0,jE.enable()};HE.prototype.disable=function(){this._state.enabled=!1,jE.disable()}});var Yq=b((rut,B1e)=>{B1e.exports={name:"stack-chain",description:"API for combining call site modifiers",version:"1.3.7",author:"Andreas Madsen <amwebdk@gmail.com>",scripts:{test:"tap ./test/simple"},repository:{type:"git",url:"git://github.com/AndreasMadsen/stack-chain.git"},keywords:["stack","chain","trace","call site","concat","format"],devDependencies:{tap:"2.x.x","uglify-js":"2.5.x"},license:"MIT"}});var toe=b((iut,eoe)=>{function V1e(t){try{return Error.prototype.toString.call(t)}catch(e){try{return"<error: "+e+">"}catch{return"<error>"}}}eoe.exports=function(e,n){var r=[];r.push(V1e(e));for(var i=0;i<n.length;i++){var o=n[i],s;try{s=o.toString()}catch(a){try{s="<error: "+a+">"}catch{s="<error>"}}r.push("    at "+s)}return r.join(`
`)}});var ooe=b((out,ioe)=>{var bP=toe();function roe(){this.extend=new $E,this.filter=new $E,this.format=new BE,this.version=Yq().version}var Xq=!1;roe.prototype.callSite=function t(e){e||(e={}),Xq=!0;var n={};Error.captureStackTrace(n,t);var r=n.stack;return Xq=!1,r=r.slice(e.slice||0),e.extend&&(r=this.extend._modify(n,r)),e.filter&&(r=this.filter._modify(n,r)),r};var Zl=new roe;function $E(){this._modifiers=[]}$E.prototype._modify=function(t,e){for(var n=0,r=this._modifiers.length;n<r;n++)e=this._modifiers[n](t,e);return e};$E.prototype.attach=function(t){this._modifiers.push(t)};$E.prototype.deattach=function(t){var e=this._modifiers.indexOf(t);return e===-1?!1:(this._modifiers.splice(e,1),!0)};function BE(){this._formater=bP,this._previous=void 0}BE.prototype.replace=function(t){t?this._formater=t:this.restore()};BE.prototype.restore=function(){this._formater=bP,this._previous=void 0};BE.prototype._backup=function(){this._previous=this._formater};BE.prototype._roolback=function(){this._previous===bP?this.replace(void 0):this.replace(this._previous),this._previous=void 0};Error.prepareStackTrace&&Zl.format.replace(Error.prepareStackTrace);var Kq=!1;function noe(t,e){if(Xq)return e;if(Kq)return bP(t,e);var n=e.concat();n=Zl.extend._modify(t,n),n=Zl.filter._modify(t,n),n=n.slice(0,Error.stackTraceLimit),Object.isExtensible(t)&&Object.getOwnPropertyDescriptor(t,"callSite")===void 0&&(t.callSite={original:e,mutated:n}),Kq=!0;var r=Zl.format._formater(t,n);return Kq=!1,r}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return noe},set:function(t){t===noe?Zl.format._roolback():(Zl.format._backup(),Zl.format.replace(t))}});function W1e(){return this.stack,this.callSite}Object.defineProperty(Error.prototype,"callSite",{get:W1e,set:function(t){Object.defineProperty(this,"callSite",{value:t,writable:!0,configurable:!0})},configurable:!0});ioe.exports=Zl});var Jq=b((sut,Qq)=>{if(global._stackChain)if(global._stackChain.version===Yq().version)Qq.exports=global._stackChain;else throw new Error("Conflicting version of stack-chain found");else Qq.exports=global._stackChain=ooe()});var soe=b((aut,Zq)=>{"use strict";var G1e=Zie();if(global._asyncHook)if(global._asyncHook.version===Gq().version)Zq.exports=global._asyncHook;else throw new Error("Conflicting version of async-hook-jl found");else Jq().filter.attach(function(e,n){return n.filter(function(r){let i=r.getFileName();return!(i&&i.slice(0,__dirname.length)===__dirname)})}),Zq.exports=global._asyncHook=new G1e});var doe=b((cut,foe)=>{"use strict";var Cn=require("util"),hu=require("assert"),z1e=EP(),zg=soe(),VE="cls@contexts",WE="error@context",coe=[];for(let t in zg.providers)coe[zg.providers[t]]=t;var fn=process.env.DEBUG_CLS_HOOKED,qn=-1;foe.exports={getNamespace:uoe,createNamespace:Y1e,destroyNamespace:loe,reset:K1e,ERROR_SYMBOL:WE};function ss(t){this.name=t,this.active=null,this._set=[],this.id=null,this._contexts=new Map}ss.prototype.set=function(e,n){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return fn&&bn("    SETTING KEY:"+e+"="+n+" in ns:"+this.name+" uid:"+qn+" active:"+Cn.inspect(this.active,!0)),this.active[e]=n,n};ss.prototype.get=function(e){if(!this.active){fn&&bn("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+qn+" active:"+Cn.inspect(this.active,!0));return}return fn&&bn("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+qn+" active:"+Cn.inspect(this.active,!0)),this.active[e]};ss.prototype.createContext=function(){fn&&bn("   CREATING Context: "+this.name+" uid:"+qn+" len:"+this._set.length+"  active:"+Cn.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=qn,fn&&bn("   CREATED Context: "+this.name+" uid:"+qn+" len:"+this._set.length+"  context:"+Cn.inspect(e,!0,2,!0)),e};ss.prototype.run=function(e){let n=this.createContext();this.enter(n);try{return fn&&bn(" BEFORE RUN: "+this.name+" uid:"+qn+" len:"+this._set.length+" "+Cn.inspect(n)),e(n),n}catch(r){throw r&&(r[WE]=n),r}finally{fn&&bn(" AFTER RUN: "+this.name+" uid:"+qn+" len:"+this._set.length+" "+Cn.inspect(n)),this.exit(n)}};ss.prototype.runAndReturn=function(e){var n;return this.run(function(r){n=e(r)}),n};ss.prototype.runPromise=function(e){let n=this.createContext();this.enter(n);let r=e(n);if(!r||!r.then||!r.catch)throw new Error("fn must return a promise.");return fn&&bn(" BEFORE runPromise: "+this.name+" uid:"+qn+" len:"+this._set.length+" "+Cn.inspect(n)),r.then(i=>(fn&&bn(" AFTER runPromise: "+this.name+" uid:"+qn+" len:"+this._set.length+" "+Cn.inspect(n)),this.exit(n),i)).catch(i=>{throw i[WE]=n,fn&&bn(" AFTER runPromise: "+this.name+" uid:"+qn+" len:"+this._set.length+" "+Cn.inspect(n)),this.exit(n),i})};ss.prototype.bind=function(e,n){n||(this.active?n=this.active:n=this.createContext());let r=this;return function(){r.enter(n);try{return e.apply(this,arguments)}catch(o){throw o&&(o[WE]=n),o}finally{r.exit(n)}}};ss.prototype.enter=function(e){hu.ok(e,"context must be provided for entering"),fn&&bn("  ENTER "+this.name+" uid:"+qn+" len:"+this._set.length+" context: "+Cn.inspect(e)),this._set.push(this.active),this.active=e};ss.prototype.exit=function(e){if(hu.ok(e,"context must be provided for exiting"),fn&&bn("  EXIT "+this.name+" uid:"+qn+" len:"+this._set.length+" context: "+Cn.inspect(e)),this.active===e){hu.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}let n=this._set.lastIndexOf(e);n<0?(fn&&bn("??ERROR?? context exiting but not entered - ignoring: "+Cn.inspect(e)),hu.ok(n>=0,`context not currently entered; can't exit. 
`+Cn.inspect(this)+`
`+Cn.inspect(e))):(hu.ok(n,"can't remove top context"),this._set.splice(n,1))};ss.prototype.bindEmitter=function(e){hu.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let n=this,r="context@"+this.name;function i(s){s&&(s[VE]||(s[VE]=Object.create(null)),s[VE][r]={namespace:n,context:n.active})}function o(s){if(!(s&&s[VE]))return s;let a=s,u=s[VE];return Object.keys(u).forEach(function(c){let l=u[c];a=l.namespace.bind(a,l.context)}),a}z1e(e,i,o)};ss.prototype.fromException=function(e){return e[WE]};function uoe(t){return process.namespaces[t]}function Y1e(t){hu.ok(t,"namespace must be given a name."),fn&&bn("CREATING NAMESPACE "+t);let e=new ss(t);return e.id=qn,zg.addHooks({init(n,r,i,o,s){qn=n,o?(e._contexts.set(n,e._contexts.get(o)),fn&&bn("PARENTID: "+t+" uid:"+n+" parent:"+o+" provider:"+i)):e._contexts.set(qn,e.active),fn&&bn("INIT "+t+" uid:"+n+" parent:"+o+" provider:"+coe[i]+" active:"+Cn.inspect(e.active,!0))},pre(n,r){qn=n;let i=e._contexts.get(n);i?(fn&&bn(" PRE "+t+" uid:"+n+" handle:"+CP(r)+" context:"+Cn.inspect(i)),e.enter(i)):fn&&bn(" PRE MISSING CONTEXT "+t+" uid:"+n+" handle:"+CP(r))},post(n,r){qn=n;let i=e._contexts.get(n);i?(fn&&bn(" POST "+t+" uid:"+n+" handle:"+CP(r)+" context:"+Cn.inspect(i)),e.exit(i)):fn&&bn(" POST MISSING CONTEXT "+t+" uid:"+n+" handle:"+CP(r))},destroy(n){qn=n,fn&&bn("DESTROY "+t+" uid:"+n+" context:"+Cn.inspect(e._contexts.get(qn))+" active:"+Cn.inspect(e.active,!0)),e._contexts.delete(n)}}),process.namespaces[t]=e,e}function loe(t){let e=uoe(t);hu.ok(e,`can't delete nonexistent namespace! "`+t+'"'),hu.ok(e.id,"don't assign to process.namespaces directly! "+Cn.inspect(e)),process.namespaces[t]=null}function K1e(){process.namespaces&&Object.keys(process.namespaces).forEach(function(t){loe(t)}),process.namespaces=Object.create(null)}process.namespaces={};zg._state&&!zg._state.enabled&&zg.enable();function bn(t){process.env.DEBUG&&process._rawDebug(t)}function CP(t){if(!t)return t;if(typeof t=="function")return t.name?t.name:(t.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1];if(t.constructor&&t.constructor.name)return t.constructor.name}if(fn){e2=Jq();for(aoe in e2.filter._modifiers)e2.filter.deattach(aoe)}var e2,aoe});var poe=b((uut,t2)=>{"use strict";var X1e=Oie();process&&X1e.gte(process.versions.node,"8.0.0")?t2.exports=Vie():t2.exports=doe()});var Aoe=b((Fe,Roe)=>{Fe=Roe.exports=nt;var bt;typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?bt=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:bt=function(){};Fe.SEMVER_SPEC_VERSION="2.0.0";var r2=256,SP=Number.MAX_SAFE_INTEGER||9007199254740991,n2=16,Pt=Fe.re=[],Z=Fe.src=[],Ze=0,Yg=Ze++;Z[Yg]="0|[1-9]\\d*";var Kg=Ze++;Z[Kg]="[0-9]+";var a2=Ze++;Z[a2]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var hoe=Ze++;Z[hoe]="("+Z[Yg]+")\\.("+Z[Yg]+")\\.("+Z[Yg]+")";var goe=Ze++;Z[goe]="("+Z[Kg]+")\\.("+Z[Kg]+")\\.("+Z[Kg]+")";var i2=Ze++;Z[i2]="(?:"+Z[Yg]+"|"+Z[a2]+")";var o2=Ze++;Z[o2]="(?:"+Z[Kg]+"|"+Z[a2]+")";var c2=Ze++;Z[c2]="(?:-("+Z[i2]+"(?:\\."+Z[i2]+")*))";var u2=Ze++;Z[u2]="(?:-?("+Z[o2]+"(?:\\."+Z[o2]+")*))";var s2=Ze++;Z[s2]="[0-9A-Za-z-]+";var YE=Ze++;Z[YE]="(?:\\+("+Z[s2]+"(?:\\."+Z[s2]+")*))";var l2=Ze++,voe="v?"+Z[hoe]+Z[c2]+"?"+Z[YE]+"?";Z[l2]="^"+voe+"$";var f2="[v=\\s]*"+Z[goe]+Z[u2]+"?"+Z[YE]+"?",d2=Ze++;Z[d2]="^"+f2+"$";var Jg=Ze++;Z[Jg]="((?:<|>)?=?)";var TP=Ze++;Z[TP]=Z[Kg]+"|x|X|\\*";var IP=Ze++;Z[IP]=Z[Yg]+"|x|X|\\*";var Rp=Ze++;Z[Rp]="[v=\\s]*("+Z[IP]+")(?:\\.("+Z[IP]+")(?:\\.("+Z[IP]+")(?:"+Z[c2]+")?"+Z[YE]+"?)?)?";var Qg=Ze++;Z[Qg]="[v=\\s]*("+Z[TP]+")(?:\\.("+Z[TP]+")(?:\\.("+Z[TP]+")(?:"+Z[u2]+")?"+Z[YE]+"?)?)?";var yoe=Ze++;Z[yoe]="^"+Z[Jg]+"\\s*"+Z[Rp]+"$";var xoe=Ze++;Z[xoe]="^"+Z[Jg]+"\\s*"+Z[Qg]+"$";var woe=Ze++;Z[woe]="(?:^|[^\\d])(\\d{1,"+n2+"})(?:\\.(\\d{1,"+n2+"}))?(?:\\.(\\d{1,"+n2+"}))?(?:$|[^\\d])";var OP=Ze++;Z[OP]="(?:~>?)";var PP=Ze++;Z[PP]="(\\s*)"+Z[OP]+"\\s+";Pt[PP]=new RegExp(Z[PP],"g");var Q1e="$1~",Eoe=Ze++;Z[Eoe]="^"+Z[OP]+Z[Rp]+"$";var _oe=Ze++;Z[_oe]="^"+Z[OP]+Z[Qg]+"$";var NP=Ze++;Z[NP]="(?:\\^)";var RP=Ze++;Z[RP]="(\\s*)"+Z[NP]+"\\s+";Pt[RP]=new RegExp(Z[RP],"g");var J1e="$1^",boe=Ze++;Z[boe]="^"+Z[NP]+Z[Rp]+"$";var Coe=Ze++;Z[Coe]="^"+Z[NP]+Z[Qg]+"$";var p2=Ze++;Z[p2]="^"+Z[Jg]+"\\s*("+f2+")$|^$";var m2=Ze++;Z[m2]="^"+Z[Jg]+"\\s*("+voe+")$|^$";var GE=Ze++;Z[GE]="(\\s*)"+Z[Jg]+"\\s*("+f2+"|"+Z[Rp]+")";Pt[GE]=new RegExp(Z[GE],"g");var Z1e="$1$2$3",Soe=Ze++;Z[Soe]="^\\s*("+Z[Rp]+")\\s+-\\s+("+Z[Rp]+")\\s*$";var Toe=Ze++;Z[Toe]="^\\s*("+Z[Qg]+")\\s+-\\s+("+Z[Qg]+")\\s*$";var Ioe=Ze++;Z[Ioe]="(<|>)?=?\\s*\\*";for(ef=0;ef<Ze;ef++)bt(ef,Z[ef]),Pt[ef]||(Pt[ef]=new RegExp(Z[ef]));var ef;Fe.parse=Ap;function Ap(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof nt)return t;if(typeof t!="string"||t.length>r2)return null;var n=e.loose?Pt[d2]:Pt[l2];if(!n.test(t))return null;try{return new nt(t,e)}catch{return null}}Fe.valid=eFe;function eFe(t,e){var n=Ap(t,e);return n?n.version:null}Fe.clean=tFe;function tFe(t,e){var n=Ap(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null}Fe.SemVer=nt;function nt(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof nt){if(t.loose===e.loose)return t;t=t.version}else if(typeof t!="string")throw new TypeError("Invalid Version: "+t);if(t.length>r2)throw new TypeError("version is longer than "+r2+" characters");if(!(this instanceof nt))return new nt(t,e);bt("SemVer",t,e),this.options=e,this.loose=!!e.loose;var n=t.trim().match(e.loose?Pt[d2]:Pt[l2]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>SP||this.major<0)throw new TypeError("Invalid major version");if(this.minor>SP||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>SP||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(r){if(/^[0-9]+$/.test(r)){var i=+r;if(i>=0&&i<SP)return i}return r}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}nt.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version};nt.prototype.toString=function(){return this.version};nt.prototype.compare=function(t){return bt("SemVer.compare",this.version,this.options,t),t instanceof nt||(t=new nt(t,this.options)),this.compareMain(t)||this.comparePre(t)};nt.prototype.compareMain=function(t){return t instanceof nt||(t=new nt(t,this.options)),Xg(this.major,t.major)||Xg(this.minor,t.minor)||Xg(this.patch,t.patch)};nt.prototype.comparePre=function(t){if(t instanceof nt||(t=new nt(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var n=this.prerelease[e],r=t.prerelease[e];if(bt("prerelease compare",e,n,r),n===void 0&&r===void 0)return 0;if(r===void 0)return 1;if(n===void 0)return-1;if(n===r)continue;return Xg(n,r)}while(++e)};nt.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",e),this.inc("pre",e);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this};Fe.inc=nFe;function nFe(t,e,n,r){typeof n=="string"&&(r=n,n=void 0);try{return new nt(t,n).inc(e,r).version}catch{return null}}Fe.diff=rFe;function rFe(t,e){if(h2(t,e))return null;var n=Ap(t),r=Ap(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if((s==="major"||s==="minor"||s==="patch")&&n[s]!==r[s])return i+s;return o}Fe.compareIdentifiers=Xg;var moe=/^[0-9]+$/;function Xg(t,e){var n=moe.test(t),r=moe.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}Fe.rcompareIdentifiers=iFe;function iFe(t,e){return Xg(e,t)}Fe.major=oFe;function oFe(t,e){return new nt(t,e).major}Fe.minor=sFe;function sFe(t,e){return new nt(t,e).minor}Fe.patch=aFe;function aFe(t,e){return new nt(t,e).patch}Fe.compare=gu;function gu(t,e,n){return new nt(t,n).compare(new nt(e,n))}Fe.compareLoose=cFe;function cFe(t,e){return gu(t,e,!0)}Fe.rcompare=uFe;function uFe(t,e,n){return gu(e,t,n)}Fe.sort=lFe;function lFe(t,e){return t.sort(function(n,r){return Fe.compare(n,r,e)})}Fe.rsort=fFe;function fFe(t,e){return t.sort(function(n,r){return Fe.rcompare(n,r,e)})}Fe.gt=zE;function zE(t,e,n){return gu(t,e,n)>0}Fe.lt=AP;function AP(t,e,n){return gu(t,e,n)<0}Fe.eq=h2;function h2(t,e,n){return gu(t,e,n)===0}Fe.neq=Poe;function Poe(t,e,n){return gu(t,e,n)!==0}Fe.gte=g2;function g2(t,e,n){return gu(t,e,n)>=0}Fe.lte=v2;function v2(t,e,n){return gu(t,e,n)<=0}Fe.cmp=DP;function DP(t,e,n,r){switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return h2(t,n,r);case"!=":return Poe(t,n,r);case">":return zE(t,n,r);case">=":return g2(t,n,r);case"<":return AP(t,n,r);case"<=":return v2(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}Fe.Comparator=as;function as(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof as){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof as))return new as(t,e);bt("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===KE?this.value="":this.value=this.operator+this.semver.version,bt("comp",this)}var KE={};as.prototype.parse=function(t){var e=this.options.loose?Pt[p2]:Pt[m2],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],this.operator==="="&&(this.operator=""),n[2]?this.semver=new nt(n[2],this.options.loose):this.semver=KE};as.prototype.toString=function(){return this.value};as.prototype.test=function(t){return bt("Comparator.test",t,this.options.loose),this.semver===KE?!0:(typeof t=="string"&&(t=new nt(t,this.options)),DP(t,this.operator,this.semver,this.options))};as.prototype.intersects=function(t,e){if(!(t instanceof as))throw new TypeError("a Comparator is required");(!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1});var n;if(this.operator==="")return n=new rn(t.value,e),kP(this.value,n,e);if(t.operator==="")return n=new rn(this.value,e),kP(t.semver,n,e);var r=(this.operator===">="||this.operator===">")&&(t.operator===">="||t.operator===">"),i=(this.operator==="<="||this.operator==="<")&&(t.operator==="<="||t.operator==="<"),o=this.semver.version===t.semver.version,s=(this.operator===">="||this.operator==="<=")&&(t.operator===">="||t.operator==="<="),a=DP(this.semver,"<",t.semver,e)&&(this.operator===">="||this.operator===">")&&(t.operator==="<="||t.operator==="<"),u=DP(this.semver,">",t.semver,e)&&(this.operator==="<="||this.operator==="<")&&(t.operator===">="||t.operator===">");return r||i||o&&s||a||u};Fe.Range=rn;function rn(t,e){if((!e||typeof e!="object")&&(e={loose:!!e,includePrerelease:!1}),t instanceof rn)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new rn(t.raw,e);if(t instanceof as)return new rn(t.value,e);if(!(this instanceof rn))return new rn(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(function(n){return this.parseRange(n.trim())},this).filter(function(n){return n.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}rn.prototype.format=function(){return this.range=this.set.map(function(t){return t.join(" ").trim()}).join("||").trim(),this.range};rn.prototype.toString=function(){return this.range};rn.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var n=e?Pt[Toe]:Pt[Soe];t=t.replace(n,EFe),bt("hyphen replace",t),t=t.replace(Pt[GE],Z1e),bt("comparator trim",t,Pt[GE]),t=t.replace(Pt[PP],Q1e),t=t.replace(Pt[RP],J1e),t=t.split(/\s+/).join(" ");var r=e?Pt[p2]:Pt[m2],i=t.split(" ").map(function(o){return pFe(o,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(i=i.filter(function(o){return!!o.match(r)})),i=i.map(function(o){return new as(o,this.options)},this),i};rn.prototype.intersects=function(t,e){if(!(t instanceof rn))throw new TypeError("a Range is required");return this.set.some(function(n){return n.every(function(r){return t.set.some(function(i){return i.every(function(o){return r.intersects(o,e)})})})})};Fe.toComparators=dFe;function dFe(t,e){return new rn(t,e).set.map(function(n){return n.map(function(r){return r.value}).join(" ").trim().split(" ")})}function pFe(t,e){return bt("comp",t,e),t=gFe(t,e),bt("caret",t),t=mFe(t,e),bt("tildes",t),t=yFe(t,e),bt("xrange",t),t=wFe(t,e),bt("stars",t),t}function pi(t){return!t||t.toLowerCase()==="x"||t==="*"}function mFe(t,e){return t.trim().split(/\s+/).map(function(n){return hFe(n,e)}).join(" ")}function hFe(t,e){var n=e.loose?Pt[_oe]:Pt[Eoe];return t.replace(n,function(r,i,o,s,a){bt("tilde",t,r,i,o,s,a);var u;return pi(i)?u="":pi(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":pi(s)?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":a?(bt("replaceTilde pr",a),u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0"):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0",bt("tilde return",u),u})}function gFe(t,e){return t.trim().split(/\s+/).map(function(n){return vFe(n,e)}).join(" ")}function vFe(t,e){bt("caret",t,e);var n=e.loose?Pt[Coe]:Pt[boe];return t.replace(n,function(r,i,o,s,a){bt("caret",t,r,i,o,s,a);var u;return pi(i)?u="":pi(o)?u=">="+i+".0.0 <"+(+i+1)+".0.0":pi(s)?i==="0"?u=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+".0 <"+(+i+1)+".0.0":a?(bt("replaceCaret pr",a),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+"-"+a+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+"-"+a+" <"+(+i+1)+".0.0"):(bt("no pr"),i==="0"?o==="0"?u=">="+i+"."+o+"."+s+" <"+i+"."+o+"."+(+s+1):u=">="+i+"."+o+"."+s+" <"+i+"."+(+o+1)+".0":u=">="+i+"."+o+"."+s+" <"+(+i+1)+".0.0"),bt("caret return",u),u})}function yFe(t,e){return bt("replaceXRanges",t,e),t.split(/\s+/).map(function(n){return xFe(n,e)}).join(" ")}function xFe(t,e){t=t.trim();var n=e.loose?Pt[xoe]:Pt[yoe];return t.replace(n,function(r,i,o,s,a,u){bt("xRange",t,r,i,o,s,a,u);var c=pi(o),l=c||pi(s),f=l||pi(a),d=f;return i==="="&&d&&(i=""),c?i===">"||i==="<"?r="<0.0.0":r="*":i&&d?(l&&(s=0),a=0,i===">"?(i=">=",l?(o=+o+1,s=0,a=0):(s=+s+1,a=0)):i==="<="&&(i="<",l?o=+o+1:s=+s+1),r=i+o+"."+s+"."+a):l?r=">="+o+".0.0 <"+(+o+1)+".0.0":f&&(r=">="+o+"."+s+".0 <"+o+"."+(+s+1)+".0"),bt("xRange return",r),r})}function wFe(t,e){return bt("replaceStars",t,e),t.trim().replace(Pt[Ioe],"")}function EFe(t,e,n,r,i,o,s,a,u,c,l,f,d){return pi(n)?e="":pi(r)?e=">="+n+".0.0":pi(i)?e=">="+n+"."+r+".0":e=">="+e,pi(u)?a="":pi(c)?a="<"+(+u+1)+".0.0":pi(l)?a="<"+u+"."+(+c+1)+".0":f?a="<="+u+"."+c+"."+l+"-"+f:a="<="+a,(e+" "+a).trim()}rn.prototype.test=function(t){if(!t)return!1;typeof t=="string"&&(t=new nt(t,this.options));for(var e=0;e<this.set.length;e++)if(_Fe(this.set[e],t,this.options))return!0;return!1};function _Fe(t,e,n){for(var r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(r=0;r<t.length;r++)if(bt(t[r].semver),t[r].semver!==KE&&t[r].semver.prerelease.length>0){var i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}Fe.satisfies=kP;function kP(t,e,n){try{e=new rn(e,n)}catch{return!1}return e.test(t)}Fe.maxSatisfying=bFe;function bFe(t,e,n){var r=null,i=null;try{var o=new rn(e,n)}catch{return null}return t.forEach(function(s){o.test(s)&&(!r||i.compare(s)===-1)&&(r=s,i=new nt(r,n))}),r}Fe.minSatisfying=CFe;function CFe(t,e,n){var r=null,i=null;try{var o=new rn(e,n)}catch{return null}return t.forEach(function(s){o.test(s)&&(!r||i.compare(s)===1)&&(r=s,i=new nt(r,n))}),r}Fe.minVersion=SFe;function SFe(t,e){t=new rn(t,e);var n=new nt("0.0.0");if(t.test(n)||(n=new nt("0.0.0-0"),t.test(n)))return n;n=null;for(var r=0;r<t.set.length;++r){var i=t.set[r];i.forEach(function(o){var s=new nt(o.semver.version);switch(o.operator){case">":s.prerelease.length===0?s.patch++:s.prerelease.push(0),s.raw=s.format();case"":case">=":(!n||zE(n,s))&&(n=s);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+o.operator)}})}return n&&t.test(n)?n:null}Fe.validRange=TFe;function TFe(t,e){try{return new rn(t,e).range||"*"}catch{return null}}Fe.ltr=IFe;function IFe(t,e,n){return y2(t,e,"<",n)}Fe.gtr=PFe;function PFe(t,e,n){return y2(t,e,">",n)}Fe.outside=y2;function y2(t,e,n,r){t=new nt(t,r),e=new rn(e,r);var i,o,s,a,u;switch(n){case">":i=zE,o=v2,s=AP,a=">",u=">=";break;case"<":i=AP,o=g2,s=zE,a="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(kP(t,e,r))return!1;for(var c=0;c<e.set.length;++c){var l=e.set[c],f=null,d=null;if(l.forEach(function(p){p.semver===KE&&(p=new as(">=0.0.0")),f=f||p,d=d||p,i(p.semver,f.semver,r)?f=p:s(p.semver,d.semver,r)&&(d=p)}),f.operator===a||f.operator===u||(!d.operator||d.operator===a)&&o(t,d.semver))return!1;if(d.operator===u&&s(t,d.semver))return!1}return!0}Fe.prerelease=RFe;function RFe(t,e){var n=Ap(t,e);return n&&n.prerelease.length?n.prerelease:null}Fe.intersects=AFe;function AFe(t,e,n){return t=new rn(t,n),e=new rn(e,n),t.intersects(e)}Fe.coerce=DFe;function DFe(t){if(t instanceof nt)return t;if(typeof t!="string")return null;var e=t.match(Pt[woe]);return e==null?null:Ap(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}});var Ooe=b((lut,koe)=>{var kFe=yP().wrap,w2=1<<0,E2=1<<1,_2=1<<2,FP=1<<3,Rt=[],OFe=0,Vr=!1,tf=[],Zg,b2;function C2(t,e){var n=t.length,r=e.length,i=[];if(n===0&&r===0)return i;for(var o=0;o<n;o++)i[o]=t[o];if(r===0)return i;for(var s=0;s<r;s++){var a=!0;for(o=0;o<n;o++)if(t[o].uid===e[s].uid){a=!1;break}a&&i.push(e[s])}return i}process._fatalException?(LP=!1,Zg=function(e){var n=Rt.length;if(LP||n===0)return!1;var r=!1;LP=!0;for(var i=0;i<n;++i){var o=Rt[i];if(o.flags&FP){var s=ev&&ev[o.uid];r=o.error(s,e)||r}}return LP=!1,tf.length>0&&(Rt=tf.pop()),ev=void 0,r&&!Vr},b2=function(e,n,r){var i=[];Vr=!0;for(var o=0;o<r;++o){var s=n[o];if(i[s.uid]=s.data,!!(s.flags&w2)){var a=s.create(s.data);a!==void 0&&(i[s.uid]=a)}}return Vr=!1,function(){ev=i,tf.push(Rt),Rt=C2(n,Rt),Vr=!0;for(var u=0;u<r;++u)(n[u].flags&E2)>0&&n[u].before(this,i[n[u].uid]);Vr=!1;var c=e.apply(this,arguments);for(Vr=!0,u=0;u<r;++u)(n[u].flags&_2)>0&&n[u].after(this,i[n[u].uid]);return Vr=!1,Rt=tf.pop(),ev=void 0,c}},kFe(process,"_fatalException",function(t){return function(n){return Zg(n)||t(n)}})):(x2=!1,Zg=function(e){if(x2)throw e;for(var n=!1,r=Rt.length,i=0;i<r;++i){var o=Rt[i];o.flags&FP&&(n=o.error(null,e)||n)}if(!n&&Vr)throw e},b2=function(e,n,r){var i=[];Vr=!0;for(var o=0;o<r;++o){var s=n[o];if(i[s.uid]=s.data,!!(s.flags&w2)){var a=s.create(s.data);a!==void 0&&(i[s.uid]=a)}}return Vr=!1,function(){var u=!1,c=!1;tf.push(Rt),Rt=C2(n,Rt),Vr=!0;for(var l=0;l<r;++l)(n[l].flags&E2)>0&&n[l].before(this,i[n[l].uid]);Vr=!1;var f;try{f=e.apply(this,arguments)}catch(d){u=!0;for(var l=0;l<r;++l)if(Rt[l].flags&FP)try{c=Rt[l].error(i[n[l].uid],d)||c}catch(m){throw x2=!0,m}if(!c)throw process.removeListener("uncaughtException",Zg),process._originalNextTick(function(){process.addListener("uncaughtException",Zg)}),d}finally{if(!u||c){for(Vr=!0,l=0;l<r;++l)(n[l].flags&_2)>0&&n[l].after(this,i[n[l].uid]);Vr=!1}Rt=tf.pop()}return f}},process.addListener("uncaughtException",Zg));var LP,ev,x2;function NFe(t,e,n){Vr=!0;for(var r=0;r<n;++r){var i=e[r];i.create&&i.create(i.data)}return Vr=!1,function(){tf.push(Rt),Rt=C2(e,Rt);var o=t.apply(this,arguments);return Rt=tf.pop(),o}}function LFe(t){var e=Rt.length;if(e===0)return t;for(var n=Rt.slice(),r=0;r<e;++r)if(n[r].flags>0)return b2(t,n,e);return NFe(t,n,e)}function Ha(t,e){typeof t.create=="function"&&(this.create=t.create,this.flags|=w2),typeof t.before=="function"&&(this.before=t.before,this.flags|=E2),typeof t.after=="function"&&(this.after=t.after,this.flags|=_2),typeof t.error=="function"&&(this.error=t.error,this.flags|=FP),this.uid=++OFe,this.data=e===void 0?null:e}Ha.prototype.create=void 0;Ha.prototype.before=void 0;Ha.prototype.after=void 0;Ha.prototype.error=void 0;Ha.prototype.data=void 0;Ha.prototype.uid=0;Ha.prototype.flags=0;function Doe(t,e){if(typeof t!="object"||!t)throw new TypeError("callbacks argument must be an object");return t instanceof Ha?t:new Ha(t,e)}function FFe(t,e){var n;t instanceof Ha?n=t:n=Doe(t,e);for(var r=!1,i=0;i<Rt.length;i++)if(n===Rt[i]){r=!0;break}return r||Rt.push(n),n}function MFe(t){for(var e=0;e<Rt.length;e++)if(t===Rt[e]){Rt.splice(e,1);break}}process.createAsyncListener=Doe;process.addAsyncListener=FFe;process.removeAsyncListener=MFe;koe.exports=LFe});var Loe=b((dut,Noe)=>{"use strict";Noe.exports=(t,e)=>class extends t{constructor(r){var i,o;super(a);var s=this;try{r.apply(i,o)}catch(u){o[1](u)}return s;function a(u,c){i=this,o=[l,f];function l(d){return e(s,!1),u(d)}function f(d){return e(s,!1),c(d)}}}}});var $oe=b(()=>{"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var qoe=yP(),UP=Aoe(),Wi=qoe.wrap,nf=qoe.massWrap,on=Ooe(),UFe=require("util"),qFe=UP.gte(process.version,"6.0.0"),I2=UP.gte(process.version,"7.0.0"),jFe=UP.gte(process.version,"8.0.0"),HFe=UP.gte(process.version,"11.0.0"),$a=require("net");I2&&!$a._normalizeArgs?$a._normalizeArgs=function(t){if(t.length===0)return[{},null];var e=t[0],n={};typeof e=="object"&&e!==null?n=e:GFe(e)?n.path=e:(n.port=e,t.length>1&&typeof t[1]=="string"&&(n.host=t[1]));var r=t[t.length-1];return typeof r!="function"?[n,null]:[n,r]}:!I2&&!$a._normalizeConnectArgs&&($a._normalizeConnectArgs=function(t){var e={};function n(i){return(i=Number(i))>=0?i:!1}typeof t[0]=="object"&&t[0]!==null?e=t[0]:typeof t[0]=="string"&&n(t[0])===!1?e.path=t[0]:(e.port=t[0],typeof t[1]=="string"&&(e.host=t[1]));var r=t[t.length-1];return typeof r=="function"?[e,r]:[e]});"_setUpListenHandle"in $a.Server.prototype?Wi($a.Server.prototype,"_setUpListenHandle",Foe):Wi($a.Server.prototype,"_listen2",Foe);function Foe(t){return function(){this.on("connection",function(e){e._handle&&(e._handle.onread=on(e._handle.onread))});try{return t.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=on(this._handle.onconnection))}}}function joe(t){if(t&&t._handle){var e=t._handle;e._originalOnread||(e._originalOnread=e.onread),e.onread=on(e._originalOnread)}}Wi($a.Socket.prototype,"connect",function(t){return function(){var e;jFe&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?e=arguments[0]:e=I2?$a._normalizeArgs(arguments):$a._normalizeConnectArgs(arguments),e[1]&&(e[1]=on(e[1]));var n=t.apply(this,e);return joe(this),n}});var $Fe=require("http");Wi($Fe.Agent.prototype,"addRequest",function(t){return function(e){var n=e.onSocket;return e.onSocket=on(function(r){return joe(r),n.apply(this,arguments)}),t.apply(this,arguments)}});var S2=require("child_process");function Moe(t){Array.isArray(t.stdio)&&t.stdio.forEach(function(e){e&&e._handle&&(e._handle.onread=on(e._handle.onread),Wi(e._handle,"close",qP))}),t._handle&&(t._handle.onexit=on(t._handle.onexit))}S2.ChildProcess?Wi(S2.ChildProcess.prototype,"spawn",function(t){return function(){var e=t.apply(this,arguments);return Moe(this),e}}):nf(S2,["execFile","fork","spawn"],function(t){return function(){var e=t.apply(this,arguments);return Moe(e),e}});process._fatalException||(process._originalNextTick=process.nextTick);var A2=[];process._nextDomainTick&&A2.push("_nextDomainTick");process._tickDomainCallback&&A2.push("_tickDomainCallback");nf(process,A2,Ba);Wi(process,"nextTick",qP);var D2=["setTimeout","setInterval"];global.setImmediate&&D2.push("setImmediate");var Hoe=require("timers"),BFe=global.setTimeout===Hoe.setTimeout;nf(Hoe,D2,qP);BFe&&nf(global,D2,qP);var P2=require("dns");nf(P2,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],Ba);P2.resolveNaptr&&Wi(P2,"resolveNaptr",Ba);var kp=require("fs");nf(kp,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],Ba);kp.lchown&&Wi(kp,"lchown",Ba);kp.lchmod&&Wi(kp,"lchmod",Ba);kp.ftruncate&&Wi(kp,"ftruncate",Ba);var XE;try{XE=require("zlib")}catch{}XE&&XE.Deflate&&XE.Deflate.prototype&&(Dp=Object.getPrototypeOf(XE.Deflate.prototype),Dp._transform?Wi(Dp,"_transform",Ba):Dp.write&&Dp.flush&&Dp.end&&nf(Dp,["write","flush","end"],Ba));var Dp,R2;try{R2=require("crypto")}catch{}R2&&(T2=["pbkdf2","randomBytes"],HFe||T2.push("pseudoRandomBytes"),nf(R2,T2,Ba));var T2,MP=!!global.Promise&&Promise.toString()==="function Promise() { [native code] }"&&Promise.toString.toString()==="function toString() { [native code] }";MP&&(Uoe=process.addAsyncListener({create:function(){MP=!1}}),global.Promise.resolve(!0).then(function(){MP=!1}),process.removeAsyncListener(Uoe));var Uoe;MP&&VFe();function VFe(){var t=global.Promise;function e(s){if(!(this instanceof e))return t(s);if(typeof s!="function")return new t(s);var a,u,c=new t(l);c.__proto__=e.prototype;try{s.apply(a,u)}catch(f){u[1](f)}return c;function l(f,d){a=this,u=[p,m];function p(h){return r(c,!1),f(h)}function m(h){return r(c,!1),d(h)}}}if(UFe.inherits(e,t),Wi(t.prototype,"then",o),t.prototype.chain&&Wi(t.prototype,"chain",o),qFe)global.Promise=Loe()(t,r);else{var n=["all","race","reject","resolve","accept","defer"];n.forEach(function(s){typeof t[s]=="function"&&(e[s]=t[s])}),global.Promise=e}function r(s,a){(!s.__asl_wrapper||a)&&(s.__asl_wrapper=on(i))}function i(s,a,u,c){var l;try{return l=a.call(s,u),{returnVal:l,error:!1}}catch(f){return{errorVal:f,error:!0}}finally{l instanceof t?c.__asl_wrapper=function(){var d=l.__asl_wrapper||i;return d.apply(this,arguments)}:r(c,!0)}}function o(s){return function(){var u=this,c=s.apply(u,Array.prototype.map.call(arguments,l));return c.__asl_wrapper=function(d,p,m,h){return u.__asl_wrapper?(u.__asl_wrapper(d,function(){},null,c),c.__asl_wrapper(d,p,m,h)):i(d,p,m,h)},c;function l(f){return typeof f!="function"?f:on(function(d){var p=(u.__asl_wrapper||i)(this,f,d,c);if(p.error)throw p.errorVal;return p.returnVal})}}}}function Ba(t){var e=function(){var n,r=arguments.length-1;if(typeof arguments[r]=="function"){n=Array(arguments.length);for(var i=0;i<arguments.length-1;i++)n[i]=arguments[i];n[r]=on(arguments[r])}return t.apply(this,n||arguments)};switch(t.length){case 1:return function(n){return arguments.length!==1?e.apply(this,arguments):(typeof n=="function"&&(n=on(n)),t.call(this,n))};case 2:return function(n,r){return arguments.length!==2?e.apply(this,arguments):(typeof r=="function"&&(r=on(r)),t.call(this,n,r))};case 3:return function(n,r,i){return arguments.length!==3?e.apply(this,arguments):(typeof i=="function"&&(i=on(i)),t.call(this,n,r,i))};case 4:return function(n,r,i,o){return arguments.length!==4?e.apply(this,arguments):(typeof o=="function"&&(o=on(o)),t.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return arguments.length!==5?e.apply(this,arguments):(typeof s=="function"&&(s=on(s)),t.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,a){return arguments.length!==6?e.apply(this,arguments):(typeof a=="function"&&(a=on(a)),t.call(this,n,r,i,o,s,a))};default:return e}}function qP(t){var e=function(){var n;if(typeof arguments[0]=="function"){n=Array(arguments.length),n[0]=on(arguments[0]);for(var r=1;r<arguments.length;r++)n[r]=arguments[r]}return t.apply(this,n||arguments)};switch(t.length){case 1:return function(n){return arguments.length!==1?e.apply(this,arguments):(typeof n=="function"&&(n=on(n)),t.call(this,n))};case 2:return function(n,r){return arguments.length!==2?e.apply(this,arguments):(typeof n=="function"&&(n=on(n)),t.call(this,n,r))};case 3:return function(n,r,i){return arguments.length!==3?e.apply(this,arguments):(typeof n=="function"&&(n=on(n)),t.call(this,n,r,i))};case 4:return function(n,r,i,o){return arguments.length!==4?e.apply(this,arguments):(typeof n=="function"&&(n=on(n)),t.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return arguments.length!==5?e.apply(this,arguments):(typeof n=="function"&&(n=on(n)),t.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,a){return arguments.length!==6?e.apply(this,arguments):(typeof n=="function"&&(n=on(n)),t.call(this,n,r,i,o,s,a))};default:return e}}function WFe(t){return(t=Number(t))>=0?t:!1}function GFe(t){return typeof t=="string"&&WFe(t)===!1}});var zoe=b((hut,Goe)=>{"use strict";var vu=require("assert"),zFe=EP(),QE="cls@contexts",k2="error@context";process.addAsyncListener||$oe();function na(t){this.name=t,this.active=null,this._set=[],this.id=null}na.prototype.set=function(t,e){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[t]=e,e};na.prototype.get=function(t){if(this.active)return this.active[t]};na.prototype.createContext=function(){return Object.create(this.active)};na.prototype.run=function(t){var e=this.createContext();this.enter(e);try{return t(e),e}catch(n){throw n&&(n[k2]=e),n}finally{this.exit(e)}};na.prototype.runAndReturn=function(t){var e;return this.run(function(n){e=t(n)}),e};na.prototype.bind=function(t,e){e||(this.active?e=this.active:e=this.createContext());var n=this;return function(){n.enter(e);try{return t.apply(this,arguments)}catch(r){throw r&&(r[k2]=e),r}finally{n.exit(e)}}};na.prototype.enter=function(t){vu.ok(t,"context must be provided for entering"),this._set.push(this.active),this.active=t};na.prototype.exit=function(t){if(vu.ok(t,"context must be provided for exiting"),this.active===t){vu.ok(this._set.length,"can't remove top context"),this.active=this._set.pop();return}var e=this._set.lastIndexOf(t);vu.ok(e>=0,"context not currently entered; can't exit"),vu.ok(e,"can't remove top context"),this._set.splice(e,1)};na.prototype.bindEmitter=function(t){vu.ok(t.on&&t.addListener&&t.emit,"can only bind real EEs");var e=this,n="context@"+this.name;function r(o){o&&(o[QE]||(o[QE]=Object.create(null)),o[QE][n]={namespace:e,context:e.active})}function i(o){if(!(o&&o[QE]))return o;var s=o,a=o[QE];return Object.keys(a).forEach(function(u){var c=a[u];s=c.namespace.bind(s,c.context)}),s}zFe(t,r,i)};na.prototype.fromException=function(t){return t[k2]};function Boe(t){return process.namespaces[t]}function YFe(t){vu.ok(t,"namespace must be given a name!");var e=new na(t);return e.id=process.addAsyncListener({create:function(){return e.active},before:function(n,r){r&&e.enter(r)},after:function(n,r){r&&e.exit(r)},error:function(n){n&&e.exit(n)}}),process.namespaces[t]=e,e}function Voe(t){var e=Boe(t);vu.ok(e,"can't delete nonexistent namespace!"),vu.ok(e.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(e.id),process.namespaces[t]=null}function Woe(){process.namespaces&&Object.keys(process.namespaces).forEach(function(t){Voe(t)}),process.namespaces=Object.create(null)}process.namespaces||Woe();Goe.exports={getNamespace:Boe,createNamespace:YFe,destroyNamespace:Voe,reset:Woe}});var rf=b(HP=>{"use strict";Object.defineProperty(HP,"__esModule",{value:!0});HP.CorrelationContextManager=void 0;var tv=Zt(),KFe=iP(),Op=oP(),O2=oq(),Yoe=Cq(),jP=xr(),XFe=function(){function t(){}return t.getCurrentContext=function(){if(!t.enabled)return null;var e=t.session.get(t.CONTEXT_NAME);return e===void 0?null:e},t.generateContextObject=function(e,n,r,i,o,s){return n=n||e,this.enabled?{operation:{name:r,id:e,parentId:n,traceparent:o,tracestate:s},customProperties:new QFe(i)}:null},t.spanToContextObject=function(e,n,r){var i=new Op;return i.traceId=e.traceId,i.spanId=e.spanId,i.traceFlag=Op.formatOpenTelemetryTraceFlags(e.traceFlags)||Op.DEFAULT_TRACE_FLAG,i.parentId=n,t.generateContextObject(i.traceId,i.parentId,r,null,i)},t.runWithContext=function(e,n){var r;if(t.enabled)try{return t.session.bind(n,(r={},r[t.CONTEXT_NAME]=e,r))()}catch(i){tv.warn("Error binding to session context",jP.dumpObj(i))}return n()},t.wrapEmitter=function(e){if(t.enabled)try{t.session.bindEmitter(e)}catch(n){tv.warn("Error binding to session context",jP.dumpObj(n))}},t.wrapCallback=function(e,n){var r;if(t.enabled)try{return t.session.bind(e,n?(r={},r[t.CONTEXT_NAME]=n,r):void 0)}catch(i){tv.warn("Error binding to session context",jP.dumpObj(i))}return e},t.enable=function(e){if(!this.enabled){if(!this.isNodeVersionCompatible()){this.enabled=!1;return}t.hasEverEnabled||(this.forceClsHooked=e,this.hasEverEnabled=!0,typeof this.cls>"u"&&(t.forceClsHooked===!0||t.forceClsHooked===void 0&&t.shouldUseClsHooked()?this.cls=poe():this.cls=zoe()),t.session=this.cls.createNamespace("AI-CLS-Session"),KFe.registerContextPreservation(function(n){try{return t.session.bind(n)}catch(r){tv.warn("Error binding to session context",jP.dumpObj(r))}})),this.enabled=!0}},t.startOperation=function(e,n){var r=e&&e.traceContext||null,i=e&&e.spanContext?e:null,o=e&&e.traceId?e:null,s=e&&e.headers;if(i)return this.spanToContextObject(i.spanContext(),i.parentSpanId,i.name);if(o)return this.spanToContextObject(o,"|"+o.traceId+"."+o.spanId+".",typeof n=="string"?n:"");var a=typeof n=="string"?n:"";if(r){var u=null,c=null;if(a=r.attributes.OperationName||a,n){var l=n;l.headers&&(l.headers.traceparent?u=new Op(l.headers.traceparent):l.headers["request-id"]&&(u=new Op(null,l.headers["request-id"])),l.headers.tracestate&&(c=new O2(l.headers.tracestate)))}u||(u=new Op(r.traceparent)),c||(c=new O2(r.tracestate));var f=void 0;if(typeof n=="object"){var d=new Yoe(n);f=d.getCorrelationContextHeader(),a=d.getOperationName({})}var p=t.generateContextObject(u.traceId,u.parentId,a,f,u,c);return p}if(s){var u=new Op(s.traceparent?s.traceparent.toString():null),c=new O2(s.tracestate?s.tracestate.toString():null),d=new Yoe(e),p=t.generateContextObject(u.traceId,u.parentId,d.getOperationName({}),d.getCorrelationContextHeader(),u,c);return p}return tv.warn("startOperation was called with invalid arguments",arguments),null},t.disable=function(){this.enabled=!1},t.reset=function(){t.hasEverEnabled&&(t.session=null,t.session=this.cls.createNamespace("AI-CLS-Session"))},t.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},t.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},t.canUseClsHooked=function(){var e=process.versions.node.split("."),n=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,r=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,i=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(n&&r)&&i},t.enabled=!1,t.hasEverEnabled=!1,t.forceClsHooked=void 0,t.CONTEXT_NAME="ApplicationInsights-Context",t}();HP.CorrelationContextManager=XFe;var QFe=function(){function t(e){this.props=[],this.addHeaderData(e)}return t.prototype.addHeaderData=function(e){var n=e?e.split(", "):[];this.props=n.map(function(r){var i=r.split("=");return{key:i[0],value:i[1]}}).concat(this.props)},t.prototype.serializeToHeader=function(){return this.props.map(function(e){return e.key+"="+e.value}).join(", ")},t.prototype.getProperty=function(e){for(var n=0;n<this.props.length;++n){var r=this.props[n];if(r.key===e)return r.value}},t.prototype.setProperty=function(e,n){if(t.bannedCharacters.test(e)||t.bannedCharacters.test(n)){tv.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+e+" and value: "+n);return}for(var r=0;r<this.props.length;++r){var i=this.props[r];if(i.key===e){i.value=n;return}}this.props.push({key:e,value:n})},t.bannedCharacters=/[,=]/,t}()});var dn=b(ce=>{"use strict";var ra;Object.defineProperty(ce,"__esModule",{value:!0});ce.WEB_INSTRUMENTATION_DEPRECATED_SOURCE=ce.WEB_INSTRUMENTATION_DEFAULT_SOURCE=ce.TIME_SINCE_ENQUEUED=ce.ENQUEUED_TIME=ce.MessageBusDestination=ce.MicrosoftEventHub=ce.AzNamespace=ce.StatsbeatNetworkCategory=ce.StatsbeatFeatureType=ce.StatsbeatInstrumentation=ce.StatsbeatFeature=ce.StatsbeatCounter=ce.StatsbeatAttach=ce.StatsbeatResourceProvider=ce.StatsbeatTelemetryName=ce.HeartBeatMetricName=ce.DependencyTypeName=ce.TelemetryTypeStringToQuickPulseDocumentType=ce.TelemetryTypeStringToQuickPulseType=ce.QuickPulseType=ce.QuickPulseDocumentType=ce.PerformanceToQuickPulseCounter=ce.MetricId=ce.PerformanceCounter=ce.QuickPulseCounter=ce.DEFAULT_LIVEMETRICS_HOST=ce.DEFAULT_LIVEMETRICS_ENDPOINT=ce.DEFAULT_BREEZE_ENDPOINT=ce.APPLICATION_INSIGHTS_SDK_VERSION=void 0;ce.APPLICATION_INSIGHTS_SDK_VERSION="2.5.0";ce.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com";ce.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com";ce.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com";var Wr;(function(t){t.COMMITTED_BYTES="\\Memory\\Committed Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",t.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",t.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",t.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",t.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",t.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",t.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"})(Wr=ce.QuickPulseCounter||(ce.QuickPulseCounter={}));var $P;(function(t){t.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",t.AVAILABLE_BYTES="\\Memory\\Available Bytes",t.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",t.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",t.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",t.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"})($P=ce.PerformanceCounter||(ce.PerformanceCounter={}));var JFe;(function(t){t.REQUESTS_DURATION="requests/duration",t.DEPENDENCIES_DURATION="dependencies/duration",t.EXCEPTIONS_COUNT="exceptions/count",t.TRACES_COUNT="traces/count"})(JFe=ce.MetricId||(ce.MetricId={}));ce.PerformanceToQuickPulseCounter=(ra={},ra[$P.PROCESSOR_TIME]=Wr.PROCESSOR_TIME,ra[$P.REQUEST_RATE]=Wr.REQUEST_RATE,ra[$P.REQUEST_DURATION]=Wr.REQUEST_DURATION,ra[Wr.COMMITTED_BYTES]=Wr.COMMITTED_BYTES,ra[Wr.REQUEST_FAILURE_RATE]=Wr.REQUEST_FAILURE_RATE,ra[Wr.DEPENDENCY_RATE]=Wr.DEPENDENCY_RATE,ra[Wr.DEPENDENCY_FAILURE_RATE]=Wr.DEPENDENCY_FAILURE_RATE,ra[Wr.DEPENDENCY_DURATION]=Wr.DEPENDENCY_DURATION,ra[Wr.EXCEPTION_RATE]=Wr.EXCEPTION_RATE,ra);ce.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability",PageView:"PageView"};ce.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument",PageView:"PageViewTelemetryDocument"};ce.TelemetryTypeStringToQuickPulseType={EventData:ce.QuickPulseType.Event,ExceptionData:ce.QuickPulseType.Exception,MessageData:ce.QuickPulseType.Trace,MetricData:ce.QuickPulseType.Metric,RequestData:ce.QuickPulseType.Request,RemoteDependencyData:ce.QuickPulseType.Dependency,AvailabilityData:ce.QuickPulseType.Availability,PageViewData:ce.QuickPulseType.PageView};ce.TelemetryTypeStringToQuickPulseDocumentType={EventData:ce.QuickPulseDocumentType.Event,ExceptionData:ce.QuickPulseDocumentType.Exception,MessageData:ce.QuickPulseDocumentType.Trace,MetricData:ce.QuickPulseDocumentType.Metric,RequestData:ce.QuickPulseDocumentType.Request,RemoteDependencyData:ce.QuickPulseDocumentType.Dependency,AvailabilityData:ce.QuickPulseDocumentType.Availability,PageViewData:ce.QuickPulseDocumentType.PageView};ce.DependencyTypeName={Grpc:"GRPC",Http:"HTTP",InProc:"InProc",Sql:"SQL",QueueMessage:"Queue Message"};ce.HeartBeatMetricName="HeartBeat";ce.StatsbeatTelemetryName="Statsbeat";ce.StatsbeatResourceProvider={appsvc:"appsvc",functions:"functions",vm:"vm",unknown:"unknown"};ce.StatsbeatAttach={codeless:"codeless",sdk:"sdk"};ce.StatsbeatCounter={REQUEST_SUCCESS:"Request Success Count",REQUEST_FAILURE:"Request Failure Count",REQUEST_DURATION:"Request Duration",RETRY_COUNT:"Retry Count",THROTTLE_COUNT:"Throttle Count",EXCEPTION_COUNT:"Exception Count",ATTACH:"Attach",FEATURE:"Feature"};var ZFe;(function(t){t[t.NONE=0]="NONE",t[t.DISK_RETRY=1]="DISK_RETRY",t[t.AAD_HANDLING=2]="AAD_HANDLING",t[t.WEB_SNIPPET=4]="WEB_SNIPPET"})(ZFe=ce.StatsbeatFeature||(ce.StatsbeatFeature={}));var eMe;(function(t){t[t.NONE=0]="NONE",t[t.AZURE_CORE_TRACING=1]="AZURE_CORE_TRACING",t[t.MONGODB=2]="MONGODB",t[t.MYSQL=4]="MYSQL",t[t.REDIS=8]="REDIS",t[t.POSTGRES=16]="POSTGRES",t[t.BUNYAN=32]="BUNYAN",t[t.WINSTON=64]="WINSTON",t[t.CONSOLE=128]="CONSOLE"})(eMe=ce.StatsbeatInstrumentation||(ce.StatsbeatInstrumentation={}));var tMe;(function(t){t[t.Feature=0]="Feature",t[t.Instrumentation=1]="Instrumentation"})(tMe=ce.StatsbeatFeatureType||(ce.StatsbeatFeatureType={}));var nMe;(function(t){t[t.Breeze=0]="Breeze",t[t.Quickpulse=1]="Quickpulse"})(nMe=ce.StatsbeatNetworkCategory||(ce.StatsbeatNetworkCategory={}));ce.AzNamespace="az.namespace";ce.MicrosoftEventHub="Microsoft.EventHub";ce.MessageBusDestination="message_bus.destination";ce.ENQUEUED_TIME="enqueuedTime";ce.TIME_SINCE_ENQUEUED="timeSinceEnqueued";ce.WEB_INSTRUMENTATION_DEFAULT_SOURCE="https://js.monitor.azure.com/scripts/b/ai";ce.WEB_INSTRUMENTATION_DEPRECATED_SOURCE="https://az416426.vo.msecnd.net/scripts/b/ai"});var Xoe=b(nv=>{"use strict";Object.defineProperty(nv,"__esModule",{value:!0});nv.dispose=nv.enable=void 0;var Koe=Br(),rMe=dn(),BP=ln(),of=[],N2=function(t){var e=t.data.message;of.forEach(function(n){e instanceof Error?n.trackException({exception:e}):(e.lastIndexOf(`
`)==e.length-1&&(e=e.substring(0,e.length-1)),n.trackTrace({message:e,severity:t.data.stderr?Koe.SeverityLevel.Warning:Koe.SeverityLevel.Information}))})};function iMe(t,e){if(t){var n=of.find(function(r){return r==e});if(n)return;of.length===0&&BP.channel.subscribe("console",N2,BP.trueFilter,function(r,i){var o=e.getStatsbeat();o&&o.addInstrumentation(rMe.StatsbeatInstrumentation.CONSOLE)}),of.push(e)}else of=of.filter(function(r){return r!=e}),of.length===0&&BP.channel.unsubscribe("console",N2)}nv.enable=iMe;function oMe(){BP.channel.unsubscribe("console",N2),of=[]}nv.dispose=oMe});var Qoe=b(iv=>{"use strict";Object.defineProperty(iv,"__esModule",{value:!0});iv.dispose=iv.enable=void 0;var rv=Br(),sMe=dn(),VP=ln(),sf=[],aMe={10:rv.SeverityLevel.Verbose,20:rv.SeverityLevel.Verbose,30:rv.SeverityLevel.Information,40:rv.SeverityLevel.Warning,50:rv.SeverityLevel.Error,60:rv.SeverityLevel.Critical},L2=function(t){var e=t.data.result;sf.forEach(function(n){try{var r=JSON.parse(e);if(r.err){var i=new Error(r.err.message);i.name=r.err.name,i.stack=r.err.stack,n.trackException({exception:i});return}}catch{}var o=aMe[t.data.level];n.trackTrace({message:e,severity:o})})};function cMe(t,e){if(t){var n=sf.find(function(r){return r==e});if(n)return;sf.length===0&&VP.channel.subscribe("bunyan",L2,VP.trueFilter,function(r,i){var o=e.getStatsbeat();o&&o.addInstrumentation(sMe.StatsbeatInstrumentation.BUNYAN)}),sf.push(e)}else sf=sf.filter(function(r){return r!=e}),sf.length===0&&VP.channel.unsubscribe("bunyan",L2)}iv.enable=cMe;function uMe(){VP.channel.unsubscribe("bunyan",L2),sf=[]}iv.dispose=uMe});var Joe=b(ov=>{"use strict";Object.defineProperty(ov,"__esModule",{value:!0});ov.dispose=ov.enable=void 0;var lMe=dn(),_r=Br(),WP=ln(),af=[],fMe={syslog:function(t){var e={emerg:_r.SeverityLevel.Critical,alert:_r.SeverityLevel.Critical,crit:_r.SeverityLevel.Critical,error:_r.SeverityLevel.Error,warning:_r.SeverityLevel.Warning,notice:_r.SeverityLevel.Information,info:_r.SeverityLevel.Information,debug:_r.SeverityLevel.Verbose};return e[t]===void 0?_r.SeverityLevel.Information:e[t]},npm:function(t){var e={error:_r.SeverityLevel.Error,warn:_r.SeverityLevel.Warning,info:_r.SeverityLevel.Information,verbose:_r.SeverityLevel.Verbose,debug:_r.SeverityLevel.Verbose,silly:_r.SeverityLevel.Verbose};return e[t]===void 0?_r.SeverityLevel.Information:e[t]},unknown:function(t){return _r.SeverityLevel.Information}},F2=function(t){var e=t.data.message;af.forEach(function(n){if(e instanceof Error)n.trackException({exception:e,properties:t.data.meta});else{var r=fMe[t.data.levelKind](t.data.level);n.trackTrace({message:e,severity:r,properties:t.data.meta})}})};function dMe(t,e){if(t){var n=af.find(function(r){return r==e});if(n)return;af.length===0&&WP.channel.subscribe("winston",F2,WP.trueFilter,function(r,i){var o=e.getStatsbeat();o&&o.addInstrumentation(lMe.StatsbeatInstrumentation.WINSTON)}),af.push(e)}else af=af.filter(function(r){return r!=e}),af.length===0&&WP.channel.unsubscribe("winston",F2)}ov.enable=dMe;function pMe(){WP.channel.unsubscribe("winston",F2),af=[]}ov.dispose=pMe});var ese=b((Eut,Zoe)=>{"use strict";var mMe=iP(),hMe=function(){function t(e){if(t.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=e,t.INSTANCE=this}return t.prototype.enable=function(e,n){mMe.IsInitialized&&(Xoe().enable(e&&n,this._client),Qoe().enable(e,this._client),Joe().enable(e,this._client))},t.prototype.isInitialized=function(){return this._isInitialized},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1,!1)},t._methodNames=["debug","info","log","warn","error"],t}();Zoe.exports=hMe});var nse=b((_ut,tse)=>{"use strict";var gMe=function(){function t(e){if(t.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");t.INSTANCE=this,this._client=e;var n=process.versions.node.split(".");t._canUseUncaughtExceptionMonitor=parseInt(n[0])>13||parseInt(n[0])===13&&parseInt(n[1])>=7}return t.prototype.isInitialized=function(){return this._isInitialized},t.prototype.enable=function(e){var n=this;if(e){if(this._isInitialized=!0,!this._exceptionListenerHandle){var r=function(i,o,s){s===void 0&&(s=new Error(t._FALLBACK_ERROR_MESSAGE));var a={exception:s};a.contextObjects={},a.contextObjects.Error=s,n._client.trackException(a),n._client.flush({isAppCrashing:!0}),i&&o&&process.listeners(o).length===1&&(console.error(s),process.exit(1))};t._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=r.bind(this,!1,void 0),process.on(t.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=r.bind(this,!0,t.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=r.bind(this,!1,void 0),process.on(t.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(t.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(t._canUseUncaughtExceptionMonitor?process.removeListener(t.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(t.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(t.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1},t.INSTANCE=null,t.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",t.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",t.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",t._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",t._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",t._canUseUncaughtExceptionMonitor=!1,t}();tse.exports=gMe});var zP=b((but,rse)=>{"use strict";var GP=require("os"),cs=dn(),vMe=function(){function t(e,n,r){n===void 0&&(n=6e4),r===void 0&&(r=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,t.INSTANCE||(t.INSTANCE=this),this._lastRequests={totalRequestCount:0,totalFailedRequestCount:0,time:0},this._lastDependencies={totalDependencyCount:0,totalFailedDependencyCount:0,time:0},this._lastExceptions={totalExceptionCount:0,time:0},this._isInitialized=!1,this._client=e,this._collectionInterval=n,this._enableLiveMetricsCounters=r}return t.prototype.enable=function(e,n){var r=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._lastCpus=GP.cpus(),this._lastRequests={totalRequestCount:t._totalRequestCount,totalFailedRequestCount:t._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:t._totalDependencyCount,totalFailedDependencyCount:t._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:t._totalExceptionCount,time:+new Date},typeof process.cpuUsage=="function"&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval(function(){return r.trackPerformance()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},t.countRequest=function(e,n){var r;if(t.isEnabled()){if(typeof e=="string")r=+new Date("1970-01-01T"+e+"Z");else if(typeof e=="number")r=e;else return;t._intervalRequestExecutionTime+=r,n===!1&&t._totalFailedRequestCount++,t._totalRequestCount++}},t.countException=function(){t._totalExceptionCount++},t.countDependency=function(e,n){var r;if(t.isEnabled()){if(typeof e=="string")r=+new Date("1970-01-01T"+e+"Z");else if(typeof e=="number")r=e;else return;t._intervalDependencyExecutionTime+=r,n===!1&&t._totalFailedDependencyCount++,t._totalDependencyCount++}},t.prototype.isInitialized=function(){return this._isInitialized},t.isEnabled=function(){return t.INSTANCE&&t.INSTANCE._isEnabled},t.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},t.prototype._trackCpu=function(){var e=GP.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var n=0,r=0,i=0,o=0,s=0,a=0;e&&a<e.length;a++){var u=e[a],c=this._lastCpus[a],l="% cpu("+a+") ",f=u.model,d=u.speed,p=u.times,m=c.times,h=p.user-m.user||0;n+=h;var g=p.sys-m.sys||0;r+=g;var v=p.nice-m.nice||0;i+=v;var x=p.idle-m.idle||0;o+=x;var y=p.irq-m.irq||0;s+=y}var w=void 0;if(typeof process.cpuUsage=="function"){var _=process.cpuUsage(),T=process.hrtime(),P=_.user-this._lastAppCpuUsage.user+(_.system-this._lastAppCpuUsage.system)||0;if(typeof this._lastHrtime<"u"&&this._lastHrtime.length===2){var E=(T[0]-this._lastHrtime[0])*1e6+(T[1]-this._lastHrtime[1])/1e3||0;w=100*P/(E*e.length)}this._lastAppCpuUsage=_,this._lastHrtime=T}var C=n+r+i+o+s||1;this._client.trackMetric({name:cs.PerformanceCounter.PROCESSOR_TIME,value:(C-o)/C*100}),this._client.trackMetric({name:cs.PerformanceCounter.PROCESS_TIME,value:w||n/C*100})}this._lastCpus=e},t.prototype._trackMemory=function(){var e=GP.freemem(),n=process.memoryUsage().rss,r=GP.totalmem()-e;this._client.trackMetric({name:cs.PerformanceCounter.PRIVATE_BYTES,value:n}),this._client.trackMetric({name:cs.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:cs.QuickPulseCounter.COMMITTED_BYTES,value:r})},t.prototype._trackNetwork=function(){var e=this._lastRequests,n={totalRequestCount:t._totalRequestCount,totalFailedRequestCount:t._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-e.totalRequestCount||0,i=n.totalFailedRequestCount-e.totalFailedRequestCount||0,o=n.time-e.time,s=o/1e3,a=(t._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/r||0;if(this._lastIntervalRequestExecutionTime=t._intervalRequestExecutionTime,o>0){var u=r/s,c=i/s;this._client.trackMetric({name:cs.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:cs.PerformanceCounter.REQUEST_DURATION,value:a}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:cs.QuickPulseCounter.REQUEST_FAILURE_RATE,value:c})}this._lastRequests=n},t.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var e=this._lastDependencies,n={totalDependencyCount:t._totalDependencyCount,totalFailedDependencyCount:t._totalFailedDependencyCount,time:+new Date},r=n.totalDependencyCount-e.totalDependencyCount||0,i=n.totalFailedDependencyCount-e.totalFailedDependencyCount||0,o=n.time-e.time,s=o/1e3,a=(t._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/r||0;if(this._lastIntervalDependencyExecutionTime=t._intervalDependencyExecutionTime,o>0){var u=r/s,c=i/s;this._client.trackMetric({name:cs.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:cs.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:c}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:cs.QuickPulseCounter.DEPENDENCY_DURATION,value:a})}this._lastDependencies=n}},t.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var e=this._lastExceptions,n={totalExceptionCount:t._totalExceptionCount,time:+new Date},r=n.totalExceptionCount-e.totalExceptionCount||0,i=n.time-e.time,o=i/1e3;if(i>0){var s=r/o;this._client.trackMetric({name:cs.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=n}},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1},t._totalRequestCount=0,t._totalFailedRequestCount=0,t._totalDependencyCount=0,t._totalFailedDependencyCount=0,t._totalExceptionCount=0,t._intervalDependencyExecutionTime=0,t._intervalRequestExecutionTime=0,t}();rse.exports=vMe});var ise=b(YP=>{"use strict";Object.defineProperty(YP,"__esModule",{value:!0});YP.AggregatedMetricCounter=void 0;var yMe=function(){function t(e){this.dimensions=e,this.totalCount=0,this.lastTotalCount=0,this.intervalExecutionTime=0,this.lastTime=+new Date,this.lastIntervalExecutionTime=0}return t}();YP.AggregatedMetricCounter=yMe});var ose=b(KP=>{"use strict";Object.defineProperty(KP,"__esModule",{value:!0});KP.PreaggregatedMetricPropertyNames=void 0;KP.PreaggregatedMetricPropertyNames={cloudRoleInstance:"cloud/roleInstance",cloudRoleName:"cloud/roleName",operationSynthetic:"operation/synthetic",requestSuccess:"Request.Success",requestResultCode:"request/resultCode",dependencyType:"Dependency.Type",dependencyTarget:"dependency/target",dependencySuccess:"Dependency.Success",dependencyResultCode:"dependency/resultCode",traceSeverityLevel:"trace/severityLevel"}});var U2=b((M2,sse)=>{"use strict";var QP=M2&&M2.__assign||function(){return QP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},QP.apply(this,arguments)},XP=dn(),xMe=ise(),wMe=ose(),EMe=function(){function t(e,n){n===void 0&&(n=6e4),t.INSTANCE||(t.INSTANCE=this),this._isInitialized=!1,t._dependencyCountersCollection=[],t._requestCountersCollection=[],t._exceptionCountersCollection=[],t._traceCountersCollection=[],this._client=e,this._collectionInterval=n}return t.prototype.enable=function(e,n){var r=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._collectionInterval=n||this._collectionInterval,this._handle=setInterval(function(){return r.trackPreAggregatedMetrics()},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},t.countException=function(e){if(t.isEnabled()){var n=t._getAggregatedCounter(e,this._exceptionCountersCollection);n.totalCount++}},t.countTrace=function(e){if(t.isEnabled()){var n=t._getAggregatedCounter(e,this._traceCountersCollection);n.totalCount++}},t.countRequest=function(e,n){if(t.isEnabled()){var r,i=t._getAggregatedCounter(n,this._requestCountersCollection);if(typeof e=="string")r=+new Date("1970-01-01T"+e+"Z");else if(typeof e=="number")r=e;else return;i.intervalExecutionTime+=r,i.totalCount++}},t.countDependency=function(e,n){if(t.isEnabled()){var r=t._getAggregatedCounter(n,this._dependencyCountersCollection),i;if(typeof e=="string")i=+new Date("1970-01-01T"+e+"Z");else if(typeof e=="number")i=e;else return;r.intervalExecutionTime+=i,r.totalCount++}},t.prototype.isInitialized=function(){return this._isInitialized},t.isEnabled=function(){return t.INSTANCE&&t.INSTANCE._isEnabled},t.prototype.trackPreAggregatedMetrics=function(){this._trackRequestMetrics(),this._trackDependencyMetrics(),this._trackExceptionMetrics(),this._trackTraceMetrics()},t._getAggregatedCounter=function(e,n){for(var r=!1,i=0;i<n.length;i++){if(e===n[i].dimensions)return n[i];if(Object.keys(e).length===Object.keys(n[i].dimensions).length){for(var o in e)if(e[o]!=n[i].dimensions[o]){r=!0;break}if(!r)return n[i];r=!1}}var s=new xMe.AggregatedMetricCounter(e);return n.push(s),s},t.prototype._trackRequestMetrics=function(){for(var e=0;e<t._requestCountersCollection.length;e++){var n=t._requestCountersCollection[e];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime,o=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/r||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,i>0&&r>0&&this._trackPreAggregatedMetric({name:"Server response time",dimensions:n.dimensions,value:o,count:r,aggregationInterval:i,metricType:XP.MetricId.REQUESTS_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},t.prototype._trackDependencyMetrics=function(){for(var e=0;e<t._dependencyCountersCollection.length;e++){var n=t._dependencyCountersCollection[e];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime,o=(n.intervalExecutionTime-n.lastIntervalExecutionTime)/r||0;n.lastIntervalExecutionTime=n.intervalExecutionTime,i>0&&r>0&&this._trackPreAggregatedMetric({name:"Dependency duration",dimensions:n.dimensions,value:o,count:r,aggregationInterval:i,metricType:XP.MetricId.DEPENDENCIES_DURATION}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},t.prototype._trackExceptionMetrics=function(){for(var e=0;e<t._exceptionCountersCollection.length;e++){var n=t._exceptionCountersCollection[e];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime;i>0&&r>0&&this._trackPreAggregatedMetric({name:"Exceptions",dimensions:n.dimensions,value:r,count:r,aggregationInterval:i,metricType:XP.MetricId.EXCEPTIONS_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},t.prototype._trackTraceMetrics=function(){for(var e=0;e<t._traceCountersCollection.length;e++){var n=t._traceCountersCollection[e];n.time=+new Date;var r=n.totalCount-n.lastTotalCount||0,i=n.time-n.lastTime;i>0&&r>0&&this._trackPreAggregatedMetric({name:"Traces",dimensions:n.dimensions,value:r,count:r,aggregationInterval:i,metricType:XP.MetricId.TRACES_COUNT}),n.lastTotalCount=n.totalCount,n.lastTime=n.time}},t.prototype._trackPreAggregatedMetric=function(e){var n={};for(var r in e.dimensions)n[wMe.PreaggregatedMetricPropertyNames[r]]=e.dimensions[r];n=QP(QP({},n),{"_MS.MetricId":e.metricType,"_MS.AggregationIntervalMs":String(e.aggregationInterval),"_MS.IsAutocollected":"True"});var i={name:e.name,value:e.value,count:e.count,properties:n,kind:"Aggregation"};this._client.trackMetric(i)},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1},t}();sse.exports=EMe});var cse=b((j2,ase)=>{"use strict";var _Me=j2&&j2.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),us=require("url"),q2=Br(),bMe=xr(),CMe=Ug(),SMe=Eq(),TMe=Sp(),IMe=function(t){_Me(e,t);function e(n,r){var i=t.call(this)||this;return r&&r.method&&n&&(i.method=r.method,i.url=e._getUrlFromRequestOptions(n,r),i.startTime=+new Date),i}return e.prototype.onError=function(n){this._setStatus(void 0,n)},e.prototype.onResponse=function(n){this._setStatus(n.statusCode,void 0),this.correlationId=bMe.getCorrelationContextTarget(n,CMe.requestContextTargetKey)},e.prototype.getDependencyTelemetry=function(n,r){var i=this.method.toUpperCase(),o=q2.RemoteDependencyDataConstants.TYPE_HTTP,s="";try{var a=new us.URL(this.url);a.search=void 0,a.hash=void 0,i+=" "+a.pathname,s=a.hostname,a.port&&(s+=":"+a.port)}catch{}this.correlationId?(o=q2.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==TMe.correlationIdPrefix&&(s+=" | "+this.correlationId)):o=q2.RemoteDependencyDataConstants.TYPE_HTTP;var u={id:r,name:i,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:o,target:s};if(n&&n.time?u.time=n.time:this.startTime&&(u.time=new Date(this.startTime)),n){for(var c in n)u[c]||(u[c]=n[c]);if(n.properties)for(var c in n.properties)u.properties[c]=n.properties[c]}return u},e._getUrlFromRequestOptions=function(n,r){if(typeof n=="string")if(n.indexOf("http://")===0||n.indexOf("https://")===0)try{n=new us.URL(n)}catch{}else try{var i=new us.URL("http://"+n);i.port==="443"?n=new us.URL("https://"+n):n=new us.URL("http://"+n)}catch{}else{if(n&&typeof us.URL=="function"&&n instanceof us.URL)return us.format(n);var o=n;n={},o&&Object.keys(o).forEach(function(u){n[u]=o[u]})}if(n.path&&n.host)try{var s=new us.URL(n.path,"http://"+n.host+n.path);n.pathname=s.pathname,n.search=s.search}catch{}if(n.path&&n.hostname&&!n.host)try{var s=new us.URL(n.path,"http://"+n.hostname+n.path);n.pathname=s.pathname,n.search=s.search}catch{}if(n.host&&n.port)try{var a=new us.URL("http://"+n.host);!a.port&&n.port&&(n.hostname=n.host,delete n.host)}catch{}return n.protocol=n.protocol||r.agent&&r.agent.protocol||r.protocol||void 0,n.hostname=n.hostname||"localhost",us.format(n)},e}(SMe);ase.exports=IMe});var use=b(sv=>{"use strict";var JP=sv&&sv.__assign||function(){return JP=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},JP.apply(this,arguments)};Object.defineProperty(sv,"__esModule",{value:!0});sv.parseEventHubSpan=void 0;var H2=(xt(),Xi(dp)),PMe=(ui(),Xi(Ste)),RMe=(Zs(),Xi(cU)),JE=dn(),AMe=function(t){var e=0,n=0,r=PMe.hrTimeToMilliseconds(t.startTime);return t.links.forEach(function(i){var o=i.attributes,s=o==null?void 0:o[JE.ENQUEUED_TIME];s&&(e+=1,n+=r-(parseFloat(s.toString())||0))}),Math.max(n/(e||1),0)},DMe=function(t,e){var n,r=t.attributes[JE.AzNamespace],i=(t.attributes[RMe.SemanticAttributes.NET_PEER_NAME]||t.attributes["peer.address"]||"unknown").replace(/\/$/g,""),o=t.attributes[JE.MessageBusDestination]||"unknown";switch(t.kind){case H2.SpanKind.CLIENT:e.dependencyTypeName=r,e.target=i+"/"+o;break;case H2.SpanKind.PRODUCER:e.dependencyTypeName=JE.DependencyTypeName.QueueMessage+" | "+r,e.target=i+"/"+o;break;case H2.SpanKind.CONSUMER:e.source=i+"/"+o,e.measurements=JP(JP({},e.measurements),(n={},n[JE.TIME_SINCE_ENQUEUED]=AMe(t),n));break;default:}};sv.parseEventHubSpan=DMe});var dse=b(ZP=>{"use strict";Object.defineProperty(ZP,"__esModule",{value:!0});ZP.spanToTelemetryContract=void 0;var lse=require("url"),ia=(xt(),Xi(dp)),We=(Zs(),Xi(cU)),yu=dn(),kMe=use(),OMe=xr();function NMe(t){for(var e={},n=0,r=Object.keys(t.attributes);n<r.length;n++){var i=r[n];i.startsWith("http.")||i.startsWith("rpc.")||i.startsWith("db.")||i.startsWith("peer.")||i.startsWith("net.")||(e[i]=t.attributes[i])}var o=t.links.map(function(s){return{operation_Id:s.context.traceId,id:s.context.spanId}});return o.length>0&&(e["_MS.links"]=OMe.stringify(o)),e}function LMe(t){return t===We.DbSystemValues.DB2||t===We.DbSystemValues.DERBY||t===We.DbSystemValues.MARIADB||t===We.DbSystemValues.MSSQL||t===We.DbSystemValues.ORACLE||t===We.DbSystemValues.SQLITE||t===We.DbSystemValues.OTHER_SQL||t===We.DbSystemValues.HSQLDB||t===We.DbSystemValues.H2}function fse(t){var e=t.attributes[We.SemanticAttributes.HTTP_METHOD];if(e){var n=t.attributes[We.SemanticAttributes.HTTP_URL];if(n)return String(n);var r=t.attributes[We.SemanticAttributes.HTTP_SCHEME],i=t.attributes[We.SemanticAttributes.HTTP_TARGET];if(r&&i){var o=t.attributes[We.SemanticAttributes.HTTP_HOST];if(o)return r+"://"+o+i;var s=t.attributes[We.SemanticAttributes.NET_PEER_PORT];if(s){var a=t.attributes[We.SemanticAttributes.NET_PEER_NAME];if(a)return r+"://"+a+":"+s+i;var u=t.attributes[We.SemanticAttributes.NET_PEER_IP];if(u)return r+"://"+u+":"+s+i}}}return""}function $2(t){var e=t.attributes[We.SemanticAttributes.PEER_SERVICE],n=t.attributes[We.SemanticAttributes.HTTP_HOST],r=t.attributes[We.SemanticAttributes.HTTP_URL],i=t.attributes[We.SemanticAttributes.NET_PEER_NAME],o=t.attributes[We.SemanticAttributes.NET_PEER_IP];return e?String(e):n?String(n):r?String(r):i?String(i):o?String(o):""}function FMe(t){var e={name:t.name,success:t.status.code!=ia.SpanStatusCode.ERROR,resultCode:"0",duration:0,data:"",dependencyTypeName:""};t.kind===ia.SpanKind.PRODUCER&&(e.dependencyTypeName=yu.DependencyTypeName.QueueMessage),t.kind===ia.SpanKind.INTERNAL&&t.parentSpanId&&(e.dependencyTypeName=yu.DependencyTypeName.InProc);var n=t.attributes[We.SemanticAttributes.HTTP_METHOD],r=t.attributes[We.SemanticAttributes.DB_SYSTEM],i=t.attributes[We.SemanticAttributes.RPC_SYSTEM];if(n){e.dependencyTypeName=yu.DependencyTypeName.Http;var o=t.attributes[We.SemanticAttributes.HTTP_URL];if(o){var s="";try{var a=new lse.URL(String(o));s=a.pathname}catch{}e.name=n+" "+s}e.data=fse(t);var u=t.attributes[We.SemanticAttributes.HTTP_STATUS_CODE];u&&(e.resultCode=String(u));var c=$2(t);if(c){try{var l=new RegExp(/(https?)(:\/\/.*)(:\d+)(\S*)/),f=l.exec(c);if(f!=null){var d=f[1],p=f[3];(d=="https"&&p==":443"||d=="http"&&p==":80")&&(c=f[1]+f[2]+f[4])}}catch{}e.target=""+c}}else if(r){String(r)===We.DbSystemValues.MYSQL?e.dependencyTypeName="mysql":String(r)===We.DbSystemValues.POSTGRESQL?e.dependencyTypeName="postgresql":String(r)===We.DbSystemValues.MONGODB?e.dependencyTypeName="mongodb":String(r)===We.DbSystemValues.REDIS?e.dependencyTypeName="redis":LMe(String(r))?e.dependencyTypeName="SQL":e.dependencyTypeName=String(r);var m=t.attributes[We.SemanticAttributes.DB_STATEMENT],h=t.attributes[We.SemanticAttributes.DB_OPERATION];m?e.data=String(m):h&&(e.data=String(h));var c=$2(t),g=t.attributes[We.SemanticAttributes.DB_NAME];c?e.target=g?c+"|"+g:""+c:e.target=g?""+g:""+r}else if(i){e.dependencyTypeName=yu.DependencyTypeName.Grpc;var v=t.attributes[We.SemanticAttributes.RPC_GRPC_STATUS_CODE];v&&(e.resultCode=String(v));var c=$2(t);c?e.target=""+c:i&&(e.target=String(i))}return e}function MMe(t){var e={name:t.name,success:t.status.code!=ia.SpanStatusCode.ERROR,resultCode:"0",duration:0,url:"",source:void 0},n=t.attributes[We.SemanticAttributes.HTTP_METHOD],r=t.attributes[We.SemanticAttributes.RPC_GRPC_STATUS_CODE];if(n){if(t.kind==ia.SpanKind.SERVER){var i=t.attributes[We.SemanticAttributes.HTTP_ROUTE],o=t.attributes[We.SemanticAttributes.HTTP_URL];if(i)e.name=n+" "+i;else if(o)try{var s=new lse.URL(String(o));e.name=n+" "+s.pathname}catch{}}e.url=fse(t);var a=t.attributes[We.SemanticAttributes.HTTP_STATUS_CODE];a&&(e.resultCode=String(a))}else r&&(e.resultCode=String(r));return e}function UMe(t){var e;switch(t.kind){case ia.SpanKind.CLIENT:case ia.SpanKind.PRODUCER:case ia.SpanKind.INTERNAL:e=FMe(t);break;case ia.SpanKind.SERVER:case ia.SpanKind.CONSUMER:e=MMe(t);break}var n=t.spanContext?t.spanContext():t.context(),r=""+n.spanId,i=Math.round(t.duration[0]*1e3+t.duration[1]/1e6);return e.id=r,e.duration=i,e.properties=NMe(t),t.attributes[yu.AzNamespace]&&(t.kind===ia.SpanKind.INTERNAL&&(e.dependencyTypeName=yu.DependencyTypeName.InProc+" | "+t.attributes[yu.AzNamespace]),t.attributes[yu.AzNamespace]===yu.MicrosoftEventHub&&kMe.parseEventHubSpan(t,e)),e}ZP.spanToTelemetryContract=UMe});var mse=b(uf=>{"use strict";var av=uf&&uf.__assign||function(){return av=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},av.apply(this,arguments)};Object.defineProperty(uf,"__esModule",{value:!0});uf.AsyncScopeManager=uf.OpenTelemetryScopeManagerWrapper=void 0;var cf=rf(),qMe=require("events"),pse=function(){function t(){}return t.prototype.active=function(){var e=this,n=cf.CorrelationContextManager.getCurrentContext();return av(av({},n),{getValue:function(r){return e._activeSymbol?r===e._activeSymbol?n:!1:(e._activeSymbol=r,n)},setValue:function(){}})},t.prototype.with=function(e,n){var r=e.parentSpanId,i=e.name,o=t._spanToContext(e,r,i);return cf.CorrelationContextManager.runWithContext(o,n)()},t.prototype.bind=function(e){return typeof e=="function"?cf.CorrelationContextManager.wrapCallback(e):(e instanceof qMe.EventEmitter&&cf.CorrelationContextManager.wrapEmitter(e),e)},t.prototype.enable=function(){return cf.CorrelationContextManager.enable(),this},t.prototype.disable=function(){return cf.CorrelationContextManager.disable(),this},t._spanToContext=function(e,n,r){var i=e.spanContext?e.spanContext():e.context(),o=av(av({},e.spanContext()),{traceFlags:e.spanContext().traceFlags}),s=n?"|"+i.traceId+"."+n+".":i.traceId,a=cf.CorrelationContextManager.getCurrentContext();a&&(o.traceId=a.operation.id,n||(s=a.operation.parentId));var u=cf.CorrelationContextManager.spanToContextObject(o,s,r);return u},t}();uf.OpenTelemetryScopeManagerWrapper=pse;uf.AsyncScopeManager=new pse});var hse=b(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});lf.enable=lf.subscriber=void 0;var ZE=(xt(),Xi(dp)),jMe=dn(),B2=ln(),HMe=dse(),$Me=mse(),Np=[],BMe=function(t){try{var e=t.data,n=HMe.spanToTelemetryContract(e);$Me.AsyncScopeManager.with(e,function(){Np.forEach(function(r){e.kind===ZE.SpanKind.SERVER||e.kind===ZE.SpanKind.CONSUMER?r.trackRequest(n):(e.kind===ZE.SpanKind.CLIENT||e.kind===ZE.SpanKind.INTERNAL||e.kind===ZE.SpanKind.PRODUCER)&&r.trackDependency(n)})})}catch{}};lf.subscriber=BMe;function VMe(t,e){if(t){var n=Np.find(function(r){return r==e});if(n)return;Np.length===0&&B2.channel.subscribe("azure-coretracing",lf.subscriber,B2.trueFilter,function(r,i){var o=e.getStatsbeat();o&&o.addInstrumentation(jMe.StatsbeatInstrumentation.AZURE_CORE_TRACING)}),Np.push(e)}else Np=Np.filter(function(r){return r!=e}),Np.length===0&&B2.channel.unsubscribe("azure-coretracing",lf.subscriber)}lf.enable=VMe});var gse=b(ff=>{"use strict";Object.defineProperty(ff,"__esModule",{value:!0});ff.enable=ff.subscriber=void 0;var WMe=dn(),V2=ln(),Lp=[],GMe=function(t){t.data.event.commandName!=="ismaster"&&Lp.forEach(function(e){var n=t.data.startedData&&t.data.startedData.databaseName||"Unknown database";e.trackDependency({target:n,data:t.data.event.commandName,name:t.data.event.commandName,duration:t.data.event.duration,success:t.data.succeeded,resultCode:t.data.succeeded?"0":"1",time:t.data.startedData.time,dependencyTypeName:"mongodb"})})};ff.subscriber=GMe;function zMe(t,e){if(t){var n=Lp.find(function(r){return r==e});if(n)return;Lp.length===0&&V2.channel.subscribe("mongodb",ff.subscriber,V2.trueFilter,function(r,i){var o=e.getStatsbeat();o&&o.addInstrumentation(WMe.StatsbeatInstrumentation.MONGODB)}),Lp.push(e)}else Lp=Lp.filter(function(r){return r!=e}),Lp.length===0&&V2.channel.unsubscribe("mongodb",ff.subscriber)}ff.enable=zMe});var vse=b(df=>{"use strict";Object.defineProperty(df,"__esModule",{value:!0});df.enable=df.subscriber=void 0;var YMe=dn(),W2=ln(),Fp=[],KMe=function(t){Fp.forEach(function(e){var n=t.data.query||{},r=n.sql||"Unknown query",i=!t.data.err,o=n._connection||{},s=o.config||{},a=s.socketPath?s.socketPath:(s.host||"localhost")+":"+s.port;e.trackDependency({target:a,data:r,name:r,duration:t.data.duration,success:i,resultCode:i?"0":"1",time:t.data.time,dependencyTypeName:"mysql"})})};df.subscriber=KMe;function XMe(t,e){if(t){var n=Fp.find(function(r){return r==e});if(n)return;Fp.length===0&&W2.channel.subscribe("mysql",df.subscriber,W2.trueFilter,function(r,i){var o=e.getStatsbeat();o&&o.addInstrumentation(YMe.StatsbeatInstrumentation.MYSQL)}),Fp.push(e)}else Fp=Fp.filter(function(r){return r!=e}),Fp.length===0&&W2.channel.unsubscribe("mysql",df.subscriber)}df.enable=XMe});var yse=b(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});pf.enable=pf.subscriber=void 0;var QMe=dn(),G2=ln(),Mp=[],JMe=function(t){Mp.forEach(function(e){t.data.commandObj.command!=="info"&&e.trackDependency({target:t.data.address,name:t.data.commandObj.command,data:t.data.commandObj.command,duration:t.data.duration,success:!t.data.err,resultCode:t.data.err?"1":"0",time:t.data.time,dependencyTypeName:"redis"})})};pf.subscriber=JMe;function ZMe(t,e){if(t){var n=Mp.find(function(r){return r==e});if(n)return;Mp.length===0&&G2.channel.subscribe("redis",pf.subscriber,G2.trueFilter,function(r,i){var o=e.getStatsbeat();o&&o.addInstrumentation(QMe.StatsbeatInstrumentation.REDIS)}),Mp.push(e)}else Mp=Mp.filter(function(r){return r!=e}),Mp.length===0&&G2.channel.unsubscribe("redis",pf.subscriber)}pf.enable=ZMe});var xse=b(mf=>{"use strict";Object.defineProperty(mf,"__esModule",{value:!0});mf.enable=mf.subscriber=void 0;var eUe=dn(),z2=ln(),Up=[],tUe=function(t){Up.forEach(function(e){var n=t.data.query,r=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",i=!t.data.error,o=t.data.database.host+":"+t.data.database.port;e.trackDependency({target:o,data:r,name:r,duration:t.data.duration,success:i,resultCode:i?"0":"1",time:t.data.time,dependencyTypeName:"postgres"})})};mf.subscriber=tUe;function nUe(t,e){if(t){var n=Up.find(function(r){return r==e});if(n)return;Up.length===0&&z2.channel.subscribe("postgres",mf.subscriber,z2.trueFilter,function(r,i){var o=e.getStatsbeat();o&&o.addInstrumentation(eUe.StatsbeatInstrumentation.POSTGRES)}),Up.push(e)}else Up=Up.filter(function(r){return r!=e}),Up.length===0&&z2.channel.unsubscribe("postgres",mf.subscriber)}mf.enable=nUe});var lv=b((K2,wse)=>{"use strict";var eR=K2&&K2.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},cv=require("http"),uv=require("https"),tR=Zt(),Y2=xr(),hf=Ug(),rUe=cse(),e_=rf(),nR=oP(),iUe=iP(),t_=Sp(),oUe=function(){function t(e){if(t.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");t.INSTANCE=this,this._client=e}return t.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),iUe.IsInitialized&&(hse().enable(e,this._client),gse().enable(e,this._client),vse().enable(e,this._client),yse().enable(e,this._client),xse().enable(e,this._client))},t.prototype.isInitialized=function(){return this._isInitialized},t.prototype._initialize=function(){var e=this;this._isInitialized=!0;var n=cv.request,r=uv.request,i=function(o,s){try{var a=!s[t.disableCollectionRequestOption]&&!o[t.alreadyAutoCollectedFlag],u=null;if(s.headers&&(u=s.headers["User-Agent"]||s.headers["user-agent"],u&&u.toString().indexOf("azsdk-js")!==-1&&(a=!1)),o&&s&&a&&(e_.CorrelationContextManager.wrapEmitter(o),e._isEnabled))if(o[t.alreadyAutoCollectedFlag]=!0,e_.CorrelationContextManager.getCurrentContext())t.trackRequest(e._client,{options:s,request:o});else{var c=null;if(t_.w3cEnabled){var l=new nR;c=l.traceId}else{var f=t_.generateRequestId(null);c=t_.getRootId(f)}var d=e_.CorrelationContextManager.generateContextObject(c);e_.CorrelationContextManager.runWithContext(d,function(){t.trackRequest(e._client,{options:s,request:o})})}}catch(p){tR.warn("Failed to generate dependency telemetry.",Y2.dumpObj(p))}};cv.request=function(o){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var u=n.call.apply(n,eR([cv,o],s));return i(u,o),u},uv.request=function(o){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];var u=r.call.apply(r,eR([uv,o],s));return i(u,o),u},cv.get=function(o){for(var s,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var c=(s=cv.request).call.apply(s,eR([cv,o],a));return c.end(),c},uv.get=function(o){for(var s,a=[],u=1;u<arguments.length;u++)a[u-1]=arguments[u];var c=(s=uv.request).call.apply(s,eR([uv,o],a));return c.end(),c}},t.trackRequest=function(e,n){if(!n.options||!n.request||!e){tR.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!e);return}var r=new rUe(n.options,n.request),i=e_.CorrelationContextManager.getCurrentContext(),o,s;if(i&&i.operation&&i.operation.traceparent&&nR.isValidTraceId(i.operation.traceparent.traceId))i.operation.traceparent.updateSpanId(),o=i.operation.traceparent.getBackCompatRequestId();else if(t_.w3cEnabled){var a=new nR;s=a.toString(),o=a.getBackCompatRequestId()}else o=i&&i.operation&&i.operation.parentId+t.requestNumber+++".";if(Y2.canIncludeCorrelationHeader(e,r.getUrl())&&n.request.getHeader&&n.request.setHeader&&e.config&&e.config.correlationId){var u=n.request.getHeader(hf.requestContextHeader);try{Y2.safeIncludeCorrelationHeader(e,n.request,u)}catch(f){tR.warn("Request-Context header could not be set. Correlation of requests may be lost",f)}if(i&&i.operation)try{if(n.request.setHeader(hf.requestIdHeader,o),e.config.ignoreLegacyHeaders||(n.request.setHeader(hf.parentIdHeader,i.operation.id),n.request.setHeader(hf.rootIdHeader,o)),s||i.operation.traceparent)n.request.setHeader(hf.traceparentHeader,s||i.operation.traceparent.toString());else if(t_.w3cEnabled){var a=new nR().toString();n.request.setHeader(hf.traceparentHeader,a)}if(i.operation.tracestate){var c=i.operation.tracestate.toString();c&&n.request.setHeader(hf.traceStateHeader,c)}var l=i.customProperties.serializeToHeader();l&&n.request.setHeader(hf.correlationContextHeader,l)}catch(f){tR.warn("Correlation headers could not be set. Correlation of requests may be lost.",f)}}n.request.on&&(n.request.on("response",function(f){if(!n.isProcessed){n.isProcessed=!0,r.onResponse(f);var d=r.getDependencyTelemetry(n,o);d.contextObjects=d.contextObjects||{},d.contextObjects["http.RequestOptions"]=n.options,d.contextObjects["http.ClientRequest"]=n.request,d.contextObjects["http.ClientResponse"]=f,e.trackDependency(d)}}),n.request.on("error",function(f){if(!n.isProcessed){n.isProcessed=!0,r.onError(f);var d=r.getDependencyTelemetry(n,o);d.contextObjects=d.contextObjects||{},d.contextObjects["http.RequestOptions"]=n.options,d.contextObjects["http.ClientRequest"]=n.request,d.contextObjects.Error=f,e.trackDependency(d)}}),n.request.on("abort",function(){if(!n.isProcessed){n.isProcessed=!0,r.onError(new Error("The request has been aborted and the network socket has closed."));var f=r.getDependencyTelemetry(n,o);f.contextObjects=f.contextObjects||{},f.contextObjects["http.RequestOptions"]=n.options,f.contextObjects["http.ClientRequest"]=n.request,e.trackDependency(f)}}))},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1},t.disableCollectionRequestOption="disableAppInsightsAutoCollection",t.requestNumber=1,t.alreadyAutoCollectedFlag="_appInsightsAutoCollected",t}();wse.exports=oUe});var X2=b(rR=>{"use strict";Object.defineProperty(rR,"__esModule",{value:!0});rR.AzureVirtualMachine=void 0;var Ese=Zt(),sUe=xr(),aUe=lv(),cUe="http://169.254.169.254/metadata/instance/compute",uUe="api-version=2017-12-01",lUe="format=json",fUe="UNREACH",dUe=function(){function t(){}return t.getAzureComputeMetadata=function(e,n){var r,i=this,o={},s=cUe+"?"+uUe+"&"+lUe,a=(r={method:"GET"},r[aUe.disableCollectionRequestOption]=!0,r.headers={Metadata:"True"},r),u=sUe.makeRequest(e,s,a,function(c){if(c.statusCode===200){o.isVM=!0;var l="";c.on("data",function(f){l+=f}),c.on("end",function(){try{var f=JSON.parse(l);o.id=f.vmId||"",o.subscriptionId=f.subscriptionId||"",o.osType=f.osType||""}catch(d){Ese.info(t.TAG,d)}n(o)})}else n(o)},!1,!1);u&&(setTimeout(function(){i._requestTimedOut=!0,u.abort()},t.HTTP_TIMEOUT),u.on("error",function(c){i._requestTimedOut&&c&&(c.name="telemetry timeout",c.message="telemetry request timed out"),c&&c.message&&c.message.indexOf(fUe)>-1?o.isVM=!1:Ese.info(t.TAG,c),n(o)}),u.end())},t.HTTP_TIMEOUT=2500,t.TAG="AzureVirtualMachine",t}();rR.AzureVirtualMachine=dUe});var fv=b((Lut,_se)=>{"use strict";var xu=require("os"),pUe=require("fs"),mUe=require("path"),hUe=Br(),gUe=dn(),vUe=Zt(),yUe=function(){function t(e){this.keys=new hUe.ContextTagKeys,this.tags={},this._loadApplicationContext(e),this._loadDeviceContext(),this._loadInternalContext()}return t.prototype._loadApplicationContext=function(e){if(e=e||mUe.resolve(__dirname,"../../../../package.json"),!t.appVersion[e]){t.appVersion[e]="unknown";try{var n=JSON.parse(pUe.readFileSync(e,"utf8"));n&&typeof n.version=="string"&&(t.appVersion[e]=n.version)}catch(r){vUe.info("unable to read app version: ",r)}}this.tags[this.keys.applicationVersion]=t.appVersion[e]},t.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=xu&&xu.hostname(),this.tags[this.keys.deviceOSVersion]=xu&&xu.type()+" "+xu.release(),this.tags[this.keys.cloudRole]=t.DefaultRoleName,this.tags["ai.device.osArchitecture"]=xu&&xu.arch(),this.tags["ai.device.osPlatform"]=xu&&xu.platform()},t.prototype._loadInternalContext=function(){t.sdkVersion=gUe.APPLICATION_INSIGHTS_SDK_VERSION,this.tags[this.keys.internalSdkVersion]="node:"+t.sdkVersion},t.DefaultRoleName="Web",t.appVersion={},t.sdkVersion=null,t}();_se.exports=yUe});var Sse=b((Fut,Cse)=>{"use strict";var xUe=require("os"),wUe=X2(),bse=dn(),EUe=fv(),_Ue=function(){function t(e){this._collectionInterval=9e5,t.INSTANCE||(t.INSTANCE=this),this._isInitialized=!1,this._client=e}return t.prototype.enable=function(e){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),e?this._handle||(this._handle=setInterval(function(){return n.trackHeartBeat(n._client.config,function(){})},this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=null)},t.prototype.isInitialized=function(){return this._isInitialized},t.isEnabled=function(){return t.INSTANCE&&t.INSTANCE._isEnabled},t.prototype.trackHeartBeat=function(e,n){var r=this,i=!1,o={},s=EUe.sdkVersion;o.sdk=s,o.osType=xUe.type(),process.env.WEBSITE_SITE_NAME?(o.appSrv_SiteName=process.env.WEBSITE_SITE_NAME||"",o.appSrv_wsStamp=process.env.WEBSITE_HOME_STAMPNAME||"",o.appSrv_wsHost=process.env.WEBSITE_HOSTNAME||""):process.env.FUNCTIONS_WORKER_RUNTIME?o.azfunction_appId=process.env.WEBSITE_HOSTNAME:e&&this._isVM===void 0&&(i=!0,wUe.AzureVirtualMachine.getAzureComputeMetadata(e,function(a){r._isVM=a.isVM,r._isVM&&(o.azInst_vmId=a.id,o.azInst_subscriptionId=a.subscriptionId,o.azInst_osType=a.osType),r._client.trackMetric({name:bse.HeartBeatMetricName,value:0,properties:o}),n()})),i||(this._client.trackMetric({name:bse.HeartBeatMetricName,value:0,properties:o}),n())},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1},t}();Cse.exports=_Ue});var Tse=b(De=>{"use strict";Object.defineProperty(De,"__esModule",{value:!0});De.isContentTypeHeaderHtml=De.insertSnippetByIndex=De.getContentEncodingFromHeaders=De.isSupportedContentEncoding=De.findBufferEncodingType=De.isBufferType=De.getBrotliDecompressSync=De.getBrotliDecompressAsync=De.getBrotliCompressSync=De.getBrotliCompressAsync=De.inflateAsync=De.deflateAsync=De.gunzipAsync=De.gzipAsync=De.isBrotliSupperted=De.bufferEncodingTypes=De.contentEncodingMethod=void 0;var oR=require("zlib"),dv=require("util"),iR;(function(t){t.GZIP="gzip",t.DEFLATE="deflate",t.BR="br"})(iR=De.contentEncodingMethod||(De.contentEncodingMethod={}));De.bufferEncodingTypes=["utf8","utf16le","latin1","base64","hex","ascii","binary","ucs2"];var bUe=function(){var t=process.versions.node.split(".")[0];return parseInt(t)>=10};De.isBrotliSupperted=bUe;De.gzipAsync=dv.promisify(oR.gzip);De.gunzipAsync=dv.promisify(oR.gunzip);De.deflateAsync=dv.promisify(oR.deflate);De.inflateAsync=dv.promisify(oR.inflate);var CUe=function(t){var e=De.isBrotliSupperted();return e&&typeof t.brotliCompress=="function"?dv.promisify(t.brotliCompress):null};De.getBrotliCompressAsync=CUe;var SUe=function(t){var e=De.isBrotliSupperted();return e&&typeof t.brotliCompressSync=="function"?t.brotliCompressSync:null};De.getBrotliCompressSync=SUe;var TUe=function(t){var e=De.isBrotliSupperted();return e&&typeof t.brotliDecompress=="function"?dv.promisify(t.brotliDecompress):null};De.getBrotliDecompressAsync=TUe;var IUe=function(t){var e=De.isBrotliSupperted();return e&&typeof t.brotliDecompressSync=="function"?t.brotliDecompressSync:null};De.getBrotliDecompressSync=IUe;var PUe=function(t,e){var n=e||"utf8",r=!1;if(Buffer.isEncoding(n)){var i=Buffer.from(t.toString(n),n);r=i.toJSON().data.toString()===t.toJSON().data.toString()}return r};De.isBufferType=PUe;var RUe=function(t){var e=null;for(var n in De.bufferEncodingTypes){var r=De.bufferEncodingTypes[n];if(Buffer.isEncoding(r)&&De.isBufferType(t,r)){e=r;break}}return e};De.findBufferEncodingType=RUe;var AUe=function(t){var e=null;switch(t){case"gzip":e=iR.GZIP;break;case"br":e=iR.BR;break;case"deflate":e=iR.DEFLATE;break;default:}return e};De.isSupportedContentEncoding=AUe;var DUe=function(t){var e=[],n=t.getHeader("Content-Encoding");if(!n)return null;if(typeof n=="string"){var r=De.isSupportedContentEncoding(n);r&&e.push(r)}return e};De.getContentEncodingFromHeaders=DUe;var kUe=function(t,e,n){if(t<0)return null;var r=null,i=e.substring(0,t),o=e.substring(t);return r=i+'<script type="text/javascript">'+n+"</script>"+o,r};De.insertSnippetByIndex=kUe;var OUe=function(t){var e=!1,n=t.getHeader("Content-Type");return n&&(typeof n=="string"?e=n.indexOf("html")>=0:e=n.toString().indexOf("html")>=0),e};De.isContentTypeHeaderHtml=OUe});var Ise=b(cr=>{"use strict";Object.defineProperty(cr,"__esModule",{value:!0});cr.getResourceProvider=cr.getOsPrefix=cr.isFunctionApp=cr.isWebApp=cr.isLinux=cr.isWindows=void 0;var NUe=function(){return process.platform==="win32"};cr.isWindows=NUe;var LUe=function(){return process.platform==="linux"};cr.isLinux=LUe;var FUe=function(){return!!process.env.WEBSITE_SITE_NAME};cr.isWebApp=FUe;var MUe=function(){return!!process.env.FUNCTIONS_WORKER_RUNTIME};cr.isFunctionApp=MUe;var UUe=function(){return cr.isWindows()?"w":cr.isLinux()?"l":"u"};cr.getOsPrefix=UUe;var qUe=function(){return cr.isWebApp()?"a":cr.isFunctionApp()?"f":"u"};cr.getResourceProvider=qUe});var Q2=b((qut,Rse)=>{"use strict";var Pse=dn(),jUe=function(){function t(){}return t.parse=function(e){if(!e)return{};var n=e.split(t._FIELDS_SEPARATOR),r=n.reduce(function(o,s){var a=s.split(t._FIELD_KEY_VALUE_SEPARATOR);if(a.length===2){var u=a[0].toLowerCase(),c=a[1];o[u]=c}return o},{});if(Object.keys(r).length>0){if(r.endpointsuffix){var i=r.location?r.location+".":"";r.ingestionendpoint=r.ingestionendpoint||"https://"+i+"dc."+r.endpointsuffix,r.liveendpoint=r.liveendpoint||"https://"+i+"live."+r.endpointsuffix}r.ingestionendpoint=r.ingestionendpoint||Pse.DEFAULT_BREEZE_ENDPOINT,r.liveendpoint=r.liveendpoint||Pse.DEFAULT_LIVEMETRICS_ENDPOINT}return r},t.isIkeyValid=function(e){if(!e||e=="")return!1;var n="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",r=new RegExp(n);return r.test(e)},t._FIELDS_SEPARATOR=";",t._FIELD_KEY_VALUE_SEPARATOR="=",t}();Rse.exports=jUe});var Ase={};ua(Ase,{webSnippet:()=>HUe});var HUe,Dse=k(()=>{HUe=`!function(T,l,y){var S=T.location,k="script",D="instrumentationKey",C="ingestionendpoint",I="disableExceptionTracking",E="ai.device.",b="toLowerCase",w="crossOrigin",N="POST",e="appInsightsSDK",t=y.name||"appInsights";(y.name||T[e])&&(T[e]=t);var n=T[t]||function(d){var g=!1,f=!1,m={initialize:!0,queue:[],sv:"5",version:2,config:d};function v(e,t){var n={},a="Browser";return n[E+"id"]=a[b](),n[E+"type"]=a,n["ai.operation.name"]=S&&S.pathname||"_unknown_",n["ai.internal.sdkVersion"]="javascript:snippet_"+(m.sv||m.version),{time:function(){var e=new Date;function t(e){var t=""+e;return 1===t.length&&(t="0"+t),t}return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+((e.getUTCMilliseconds()/1e3).toFixed(3)+"").slice(2,5)+"Z"}(),iKey:e,name:"Microsoft.ApplicationInsights."+e.replace(/-/g,"")+"."+t,sampleRate:100,tags:n,data:{baseData:{ver:2}}}}var h=d.url||y.src;if(h){function a(e){var t,n,a,i,r,o,s,c,u,p,l;g=!0,m.queue=[],f||(f=!0,t=h,s=function(){var e={},t=d.connectionString;if(t)for(var n=t.split(";"),a=0;a<n.length;a++){var i=n[a].split("=");2===i.length&&(e[i[0][b]()]=i[1])}if(!e[C]){var r=e.endpointsuffix,o=r?e.location:null;e[C]="https://"+(o?o+".":"")+"dc."+(r||"services.visualstudio.com")}return e}(),c=s[D]||d[D]||"",u=s[C],p=u?u+"/v2/track":d.endpointUrl,(l=[]).push((n="SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details)",a=t,i=p,(o=(r=v(c,"Exception")).data).baseType="ExceptionData",o.baseData.exceptions=[{typeName:"SDKLoadFailed",message:n.replace(/\\./g,"-"),hasFullStack:!1,stack:n+"\\nSnippet failed to load ["+a+"] -- Telemetry is disabled\\nHelp Link: https://go.microsoft.com/fwlink/?linkid=2128109\\nHost: "+(S&&S.pathname||"_unknown_")+"\\nEndpoint: "+i,parsedStack:[]}],r)),l.push(function(e,t,n,a){var i=v(c,"Message"),r=i.data;r.baseType="MessageData";var o=r.baseData;return o.message='AI (Internal): 99 message:"'+("SDK LOAD Failure: Failed to load Application Insights SDK script (See stack for details) ("+n+")").replace(/\\"/g,"")+'"',o.properties={endpoint:a},i}(0,0,t,p)),function(e,t){if(JSON){var n=T.fetch;if(n&&!y.useXhr)n(t,{method:N,body:JSON.stringify(e),mode:"cors"});else if(XMLHttpRequest){var a=new XMLHttpRequest;a.open(N,t),a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(e))}}}(l,p))}function i(e,t){f||setTimeout(function(){!t&&m.core||a()},500)}var e=function(){var n=l.createElement(k);n.src=h;var e=y[w];return!e&&""!==e||"undefined"==n[w]||(n[w]=e),n.onload=i,n.onerror=a,n.onreadystatechange=function(e,t){"loaded"!==n.readyState&&"complete"!==n.readyState||i(0,t)},n}();y.ld<0?l.getElementsByTagName("head")[0].appendChild(e):setTimeout(function(){l.getElementsByTagName(k)[0].parentNode.appendChild(e)},y.ld||0)}try{m.cookie=l.cookie}catch(p){}function t(e){for(;e.length;)!function(t){m[t]=function(){var e=arguments;g||m.queue.push(function(){m[t].apply(m,e)})}}(e.pop())}var n="track",r="TrackPage",o="TrackEvent";t([n+"Event",n+"PageView",n+"Exception",n+"Trace",n+"DependencyData",n+"Metric",n+"PageViewPerformance","start"+r,"stop"+r,"start"+o,"stop"+o,"addTelemetryInitializer","setAuthenticatedUserContext","clearAuthenticatedUserContext","flush"]),m.SeverityLevel={Verbose:0,Information:1,Warning:2,Error:3,Critical:4};var s=(d.extensionConfig||{}).ApplicationInsightsAnalytics||{};if(!0!==d[I]&&!0!==s[I]){var c="onerror";t(["_"+c]);var u=T[c];T[c]=function(e,t,n,a,i){var r=u&&u(e,t,n,a,i);return!0!==r&&m["_"+c]({message:e,url:t,lineNumber:n,columnNumber:a,error:i}),r},d.autoExceptionInstrumented=!0}return m}(y.cfg);function a(){y.onInit&&y.onInit(n)}(T[t]=n).queue&&0===n.queue.length?(n.queue.push(a),n.trackPageView({})):a()}(window,document,{\r
src: "https://js.monitor.azure.com/scripts/b/ai.2.min.js", // The SDK URL Source\r
// name: "appInsights", // Global SDK Instance name defaults to "appInsights" when not supplied\r
// ld: 0, // Defines the load delay (in ms) before attempting to load the sdk. -1 = block page load and add to head. (default) = 0ms load after timeout,\r
// useXhr: 1, // Use XHR instead of fetch to report failures (if available),\r
// crossOrigin: "anonymous", // When supplied this will add the provided value as the cross origin attribute on the script tag\r
// onInit: null, // Once the application insights instance has loaded and initialized this callback function will be called with 1 argument -- the sdk instance (DO NOT ADD anything to the sdk.queue -- As they won't get called)\r
cfg: { // Application Insights Configuration\r
    instrumentationKey: "INSTRUMENTATION_KEY"\r
}});`});var Mse=b((jut,Fse)=>{"use strict";var kse=require("http"),Ose=require("https"),pv=require("zlib"),Va=Zt(),ls=Tse(),Nse=Ise(),n_=dn(),Lse=Q2(),$Ue=(Dse(),Xi(Ase)),BUe=function(){function t(e){var n;if(this._isIkeyValid=!0,t.INSTANCE)throw new Error("Web snippet injection should be configured from the applicationInsights object");t.INSTANCE=this,t._aiUrl=n_.WEB_INSTRUMENTATION_DEFAULT_SOURCE,t._aiDeprecatedUrl=n_.WEB_INSTRUMENTATION_DEPRECATED_SOURCE;var r=this._getWebSnippetIkey((n=e.config)===null||n===void 0?void 0:n.webInstrumentationConnectionString);this._webInstrumentationIkey=r||e.config.instrumentationKey,this._clientWebInstrumentationConfig=e.config.webInstrumentationConfig,this._clientWebInstrumentationSrc=e.config.webInstrumentationSrc,this._statsbeat=e.getStatsbeat()}return t.prototype.enable=function(e,n){this._isEnabled=e,this._webInstrumentationIkey=this._getWebSnippetIkey(n)||this._webInstrumentationIkey,t._snippet=this._getWebInstrumentationReplacedStr(),this._isEnabled&&!this._isInitialized&&this._isIkeyValid?(this._statsbeat&&this._statsbeat.addFeature(n_.StatsbeatFeature.WEB_SNIPPET),this._initialize()):this._isEnabled||this._statsbeat&&this._statsbeat.removeFeature(n_.StatsbeatFeature.WEB_SNIPPET)},t.prototype.isInitialized=function(){return this._isInitialized},t.prototype._getWebSnippetIkey=function(e){var n=null;try{var r=Lse.parse(e),i=r.instrumentationkey||"";Lse.isIkeyValid(i)?(this._isIkeyValid=!0,n=i):(this._isIkeyValid=!1,Va.info("Invalid web Instrumentation connection string, web Instrumentation is not enabled."))}catch(o){Va.info("get web snippet ikey error: "+o)}return n},t.prototype._getWebInstrumentationReplacedStr=function(){var e=this._getClientWebInstrumentationConfigStr(this._clientWebInstrumentationConfig),n=Nse.getOsPrefix(),r=Nse.getResourceProvider(),i=this._webInstrumentationIkey+`",\r
`+e+` disableIkeyDeprecationMessage: true,\r
 sdkExtension: "`+r+n+"d_n_",o=$Ue.webSnippet.replace("INSTRUMENTATION_KEY",i);return this._clientWebInstrumentationSrc?o.replace(n_.WEB_INSTRUMENTATION_DEFAULT_SOURCE+".2.min.js",this._clientWebInstrumentationSrc):o},t.prototype._getClientWebInstrumentationConfigStr=function(e){var n="";try{e!=null&&e.length>0&&e.forEach(function(r){var i=r.name;if(i!==void 0){var o=r.value,s="";switch(typeof o){case"function":break;case"object":break;case"string":s=" "+i+': "'+o+`",\r
`,n+=s;break;default:s=" "+i+": "+o+`,\r
`,n+=s;break}}})}catch{this._isEnabled=!1,Va.info("Parse client web instrumentation error. Web Instrumentation is disabled")}return n},t.prototype._initialize=function(){this._isInitialized=!0;var e=kse.createServer,n=Ose.createServer,r=this._isEnabled;kse.createServer=function(i){var o=i;return o&&(i=function(s,a){var u=a.write,c=s.method=="GET";a.write=function(d,p,m){try{if(r&&c){var h=ls.getContentEncodingFromHeaders(a),g=void 0;if(typeof p=="string"&&(g=p),h==null)t.INSTANCE.ValidateInjection(a,d)&&(arguments[0]=t.INSTANCE.InjectWebSnippet(a,d,void 0,g));else if(h.length){var v=h[0];arguments[0]=t.INSTANCE.InjectWebSnippet(a,d,v)}}}catch(x){Va.warn("Inject snippet error: "+x)}return u.apply(a,arguments)};var l=a.end;return a.end=function(d,p,m){if(r&&c)try{if(r&&c){var h=ls.getContentEncodingFromHeaders(a),g=void 0;if(typeof p=="string"&&(g=p),h==null)t.INSTANCE.ValidateInjection(a,d)&&(arguments[0]=t.INSTANCE.InjectWebSnippet(a,d,void 0,g));else if(h.length){var v=h[0];arguments[0]=t.INSTANCE.InjectWebSnippet(a,d,v)}}}catch(x){Va.warn("Inject snipet error: "+x)}return l.apply(a,arguments)},o(s,a)}),e(i)},Ose.createServer=function(i,o){var s=o;if(s)return o=function(a,u){var c=a.method=="GET",l=u.write,f=u.end;return u.write=function(p,m,h){try{if(r&&c){var g=ls.getContentEncodingFromHeaders(u),v=void 0;if(typeof m=="string"&&(v=m),g==null)t.INSTANCE.ValidateInjection(u,p)&&(arguments[0]=this.InjectWebSnippet(u,p,void 0,v));else if(g.length){var x=g[0];arguments[0]=t.INSTANCE.InjectWebSnippet(u,p,x)}}}catch(y){Va.warn("Inject snippet error: "+y)}return l.apply(u,arguments)},u.end=function(p,m,h){try{if(r&&c){var g=ls.getContentEncodingFromHeaders(u),v=void 0;if(typeof m=="string"&&(v=m),g==null)t.INSTANCE.ValidateInjection(u,p)&&(arguments[0]=t.INSTANCE.InjectWebSnippet(u,p,void 0,v));else if(g.length){var x=g[0];arguments[0]=t.INSTANCE.InjectWebSnippet(u,p,x)}}}catch(y){Va.warn("Inject snippet error: "+y)}return f.apply(u,arguments)},s(a,u)},n(i,o)}},t.prototype.ValidateInjection=function(e,n){try{if(!e||!n||e.statusCode!=200)return!1;var r=ls.isContentTypeHeaderHtml(e);if(!r)return!1;var i=n.slice().toString();if(i.indexOf("<head>")>=0&&i.indexOf("</head>")>=0&&i.indexOf(t._aiUrl)<0&&i.indexOf(t._aiDeprecatedUrl)<0)return!0}catch(o){Va.info("validate injections error: "+o)}return!1},t.prototype.InjectWebSnippet=function(e,n,r,i){try{var o=!!r;if(o)e.removeHeader("Content-Length"),n=this._getInjectedCompressBuffer(e,n,r),e.setHeader("Content-Length",n.length);else{var s=n.toString(),a=s.indexOf("</head>");if(a<0)return n;var u=ls.insertSnippetByIndex(a,s,t._snippet);if(typeof n=="string")e.removeHeader("Content-Length"),n=u,e.setHeader("Content-Length",Buffer.byteLength(n));else if(Buffer.isBuffer(n)){var c=i||"utf8",l=ls.isBufferType(n,c);if(l){e.removeHeader("Content-Length");var f=Buffer.from(u).toString(c);n=Buffer.from(f,c),e.setHeader("Content-Length",n.length)}}}}catch(d){Va.warn("Failed to inject web snippet and change content-lenght headers. Exception:"+d)}return n},t.prototype._getInjectedCompressBuffer=function(e,n,r){try{switch(r){case ls.contentEncodingMethod.GZIP:var i=pv.gunzipSync(n);if(this.ValidateInjection(e,i)){var o=this.InjectWebSnippet(e,i);n=pv.gzipSync(o)}break;case ls.contentEncodingMethod.DEFLATE:var s=pv.inflateSync(n);if(this.ValidateInjection(e,s)){var a=this.InjectWebSnippet(e,s);n=pv.deflateSync(a)}break;case ls.contentEncodingMethod.BR:var u=ls.getBrotliDecompressSync(pv),c=ls.getBrotliCompressSync(pv);if(u&&c){var l=u(n);if(this.ValidateInjection(e,l)){var f=this.InjectWebSnippet(e,l);n=c(f)}break}}}catch(d){Va.info("get web injection compress buffer error: "+d)}return n},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1},t}();Fse.exports=BUe});var Z2=b((Hut,$se)=>{"use strict";var Use=require("http"),qse=require("https"),jse=Zt(),Hse=xr(),VUe=Ug(),J2=Cq(),wu=rf(),WUe=zP(),GUe=function(){function t(e){if(t.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");t.INSTANCE=this,this._client=e}return t.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||WUe.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},t.prototype.useAutoCorrelation=function(e,n){e&&!this._isAutoCorrelating?wu.CorrelationContextManager.enable(n):!e&&this._isAutoCorrelating&&wu.CorrelationContextManager.disable(),this._isAutoCorrelating=e},t.prototype.isInitialized=function(){return this._isInitialized},t.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},t.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return wu.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},t.prototype._registerRequest=function(e,n,r){var i=this,o=new J2(e),s=this._generateCorrelationContext(o);wu.CorrelationContextManager.runWithContext(s,function(){i._isEnabled&&(e[t.alreadyAutoCollectedFlag]=!0,t.trackRequest(i._client,{request:e,response:n},o)),typeof r=="function"&&r(e,n)})},t.prototype._initialize=function(){if(this._isInitialized=!0,!t.HANDLER_READY){t.HANDLER_READY=!0;var e=function(o){if(o){if(typeof o!="function")throw new Error("onRequest handler must be a function");return function(s,a){var u;wu.CorrelationContextManager.wrapEmitter(s),wu.CorrelationContextManager.wrapEmitter(a);var c=s&&!s[t.alreadyAutoCollectedFlag];s&&c?(u=t.INSTANCE)===null||u===void 0||u._registerRequest(s,a,o):typeof o=="function"&&o(s,a)}}},n=function(o){var s=o.addListener.bind(o);o.addListener=function(a,u){switch(a){case"request":case"checkContinue":return s(a,e(u));default:return s(a,u)}},o.on=o.addListener},r=Use.createServer;Use.createServer=function(o,s){if(s&&typeof s=="function"){var a=r(o,e(s));return n(a),a}else{var a=r(e(o));return n(a),a}};var i=qse.createServer;qse.createServer=function(o,s){var a=i(o,e(s));return n(a),a}}},t.trackRequestSync=function(e,n){if(!n.request||!n.response||!e){jse.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!e);return}n.isProcessed=!1,t.addResponseCorrelationIdHeader(e,n.response);var r=wu.CorrelationContextManager.getCurrentContext(),i=new J2(n.request,r&&r.operation.parentId);r&&(r.operation.id=i.getOperationId(e.context.tags)||r.operation.id,r.operation.name=i.getOperationName(e.context.tags)||r.operation.name,r.operation.parentId=i.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(i.getCorrelationContextHeader())),t.endRequest(e,i,n,n.duration,n.error)},t.trackRequest=function(e,n,r){if(!n.request||!n.response||!e){jse.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!e);return}n.isProcessed=!1;var i=wu.CorrelationContextManager.getCurrentContext(),o=r||new J2(n.request,i&&i.operation.parentId);Hse.canIncludeCorrelationHeader(e,o.getUrl())&&t.addResponseCorrelationIdHeader(e,n.response),i&&!r&&(i.operation.id=o.getOperationId(e.context.tags)||i.operation.id,i.operation.name=o.getOperationName(e.context.tags)||i.operation.name,i.operation.parentId=o.getOperationParentId(e.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(o.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",function(){t.endRequest(e,o,n,null,null)}),n.request.on&&n.request.on("error",function(s){t.endRequest(e,o,n,null,s)}),n.request.on&&n.request.on("aborted",function(){var s="The request has been aborted and the network socket has closed.";t.endRequest(e,o,n,null,s)})},t.addResponseCorrelationIdHeader=function(e,n){if(e.config&&e.config.correlationId&&n.getHeader&&n.setHeader&&!n.headersSent){var r=n.getHeader(VUe.requestContextHeader);Hse.safeIncludeCorrelationHeader(e,n,r)}},t.endRequest=function(e,n,r,i,o){if(!r.isProcessed){r.isProcessed=!0,o?n.onError(o,i):n.onResponse(r.response,i);var s=n.getRequestTelemetry(r);if(s.tagOverrides=n.getRequestTags(e.context.tags),r.tagOverrides)for(var a in r.tagOverrides)s.tagOverrides[a]=r.tagOverrides[a];var u=n.getLegacyRootId();u&&(s.properties.ai_legacyRootId=u),s.contextObjects=s.contextObjects||{},s.contextObjects["http.ServerRequest"]=r.request,s.contextObjects["http.ServerResponse"]=r.response,e.trackRequest(s)}},t.prototype.dispose=function(){t.INSTANCE=null,this.enable(!1),this._isInitialized=!1,wu.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},t.HANDLER_READY=!1,t.alreadyAutoCollectedFlag="_appInsightsAutoCollected",t}();$se.exports=GUe});var Wse=b((tj,Vse)=>{"use strict";var fs=tj&&tj.__assign||function(){return fs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fs.apply(this,arguments)},ej=require("os"),qp=Br(),Bse=dn(),zUe=xr(),YUe=Zt(),KUe=zUe.w3cTraceId(),XUe=function(){function t(){}return t.createQuickPulseEnvelope=function(e,n,r,i){var o=ej&&typeof ej.hostname=="function"&&ej.hostname()||"Unknown",s=i.tags&&i.keys&&i.keys.cloudRoleInstance&&i.tags[i.keys.cloudRoleInstance]||o,a=i.tags&&i.keys&&i.keys.cloudRole&&i.tags[i.keys.cloudRole]||null,u={Documents:n.length>0?n:null,InstrumentationKey:r.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:i.tags[i.keys.internalSdkVersion],StreamId:KUe,MachineName:o,Instance:s,RoleName:a};return u},t.createQuickPulseMetric=function(e){var n;return n={Name:e.name,Value:e.value,Weight:e.count||1},n},t.telemetryEnvelopeToQuickPulseDocument=function(e){switch(e.data.baseType){case qp.TelemetryTypeString.Event:return t.createQuickPulseEventDocument(e);case qp.TelemetryTypeString.Exception:return t.createQuickPulseExceptionDocument(e);case qp.TelemetryTypeString.Trace:return t.createQuickPulseTraceDocument(e);case qp.TelemetryTypeString.Dependency:return t.createQuickPulseDependencyDocument(e);case qp.TelemetryTypeString.Request:return t.createQuickPulseRequestDocument(e)}return null},t.createQuickPulseEventDocument=function(e){var n=t.createQuickPulseDocument(e),r=e.data.baseData.name,i=fs(fs({},n),{Name:r});return i},t.createQuickPulseTraceDocument=function(e){var n=t.createQuickPulseDocument(e),r=e.data.baseData.severityLevel||0,i=fs(fs({},n),{Message:e.data.baseData.message,SeverityLevel:qp.SeverityLevel[r]});return i},t.createQuickPulseExceptionDocument=function(e){var n=t.createQuickPulseDocument(e),r=e.data.baseData.exceptions,i="",o="",s="";r&&r.length>0&&(r[0].parsedStack&&r[0].parsedStack.length>0?r[0].parsedStack.forEach(function(u){i+=u.assembly+`
`}):r[0].stack&&r[0].stack.length>0&&(i=r[0].stack),o=r[0].message,s=r[0].typeName);var a=fs(fs({},n),{Exception:i,ExceptionMessage:o,ExceptionType:s});return a},t.createQuickPulseRequestDocument=function(e){var n=t.createQuickPulseDocument(e),r=e.data.baseData,i=fs(fs({},n),{Name:r.name,Success:r.success,Duration:r.duration,ResponseCode:r.responseCode,OperationName:r.name});return i},t.createQuickPulseDependencyDocument=function(e){var n=t.createQuickPulseDocument(e),r=e.data.baseData,i=fs(fs({},n),{Name:r.name,Target:r.target,Success:r.success,Duration:r.duration,ResultCode:r.resultCode,CommandName:r.data,OperationName:n.OperationId,DependencyTypeName:r.type});return i},t.createQuickPulseDocument=function(e){var n,r,i,o;e.data.baseType?(r=Bse.TelemetryTypeStringToQuickPulseType[e.data.baseType],n=Bse.TelemetryTypeStringToQuickPulseDocumentType[e.data.baseType]):YUe.warn("Document type invalid; not sending live metric document",e.data.baseType),i=e.tags[t.keys.operationId],o=t.aggregateProperties(e);var s={DocumentType:n,__type:r,OperationId:i,Version:"1.0",Properties:o};return s},t.aggregateProperties=function(e){var n=[],r=e.data.baseData.measurements||{};for(var i in r)if(r.hasOwnProperty(i)){var o=r[i],s={key:i,value:o};n.push(s)}var a=e.data.baseData.properties||{};for(var i in a)if(a.hasOwnProperty(i)){var o=a[i],s={key:i,value:o};n.push(s)}return n},t.keys=new qp.ContextTagKeys,t}();Vse.exports=XUe});var zse=b(($ut,Gse)=>{"use strict";var QUe=function(){return(Date.now()+621355968e5)*1e4};Gse.exports={getTransmissionTime:QUe}});var Qse=b((r_,Xse)=>{"use strict";var Yse=r_&&r_.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},Kse=r_&&r_.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},JUe=require("https"),ZUe=lv(),nj=Zt(),eqe=zse(),rj=xr(),tqe=require("url"),ds={method:"POST",time:"x-ms-qps-transmission-time",pollingIntervalHint:"x-ms-qps-service-polling-interval-hint",endpointRedirect:"x-ms-qps-service-endpoint-redirect-v2",instanceName:"x-ms-qps-instance-name",streamId:"x-ms-qps-stream-id",machineName:"x-ms-qps-machine-name",roleName:"x-ms-qps-role-name",streamid:"x-ms-qps-stream-id",invariantVersion:"x-ms-qps-invariant-version",subscribed:"x-ms-qps-subscribed"},nqe=function(){function t(e,n){this._config=e,this._consecutiveErrors=0,this._getAuthorizationHandler=n}return t.prototype.ping=function(e,n,r){var i=[{name:ds.streamId,value:e.StreamId},{name:ds.machineName,value:e.MachineName},{name:ds.roleName,value:e.RoleName},{name:ds.instanceName,value:e.Instance},{name:ds.invariantVersion,value:e.InvariantVersion.toString()}];this._submitData(e,n,r,"ping",i)},t.prototype.post=function(e,n,r){return Yse(this,void 0,void 0,function(){return Kse(this,function(i){switch(i.label){case 0:return[4,this._submitData([e],n,r,"post")];case 1:return i.sent(),[2]}})})},t.prototype._submitData=function(e,n,r,i,o){return Yse(this,void 0,void 0,function(){var s,a,u,c,l,f,d,p,m=this;return Kse(this,function(h){switch(h.label){case 0:if(s=rj.stringify(e),a=(d={},d[ZUe.disableCollectionRequestOption]=!0,d.host=n&&n.length>0?n:this._config.quickPulseHost,d.method=ds.method,d.path="/QuickPulseService.svc/"+i+"?ikey="+this._config.instrumentationKey,d.headers=(p={Expect:"100-continue"},p[ds.time]=eqe.getTransmissionTime(),p["Content-Type"]="application/json",p["Content-Length"]=Buffer.byteLength(s),p),d),o&&o.length>0&&o.forEach(function(g){return a.headers[g.name]=g.value}),i!=="post")return[3,4];if(u=this._getAuthorizationHandler?this._getAuthorizationHandler(this._config):null,!u)return[3,4];h.label=1;case 1:return h.trys.push([1,3,,4]),[4,u.addAuthorizationHeader(a)];case 2:return h.sent(),[3,4];case 3:return c=h.sent(),l="Failed to get AAD bearer token for the Application. Error:",nj.info(t.TAG,l,c),[2];case 4:return this._config.httpsAgent?a.agent=this._config.httpsAgent:a.agent=rj.tlsRestrictedAgent,f=JUe.request(a,function(g){if(g.statusCode==200){var v=g.headers[ds.subscribed]==="true",x=null;try{x=g.headers[ds.endpointRedirect]?new tqe.URL(g.headers[ds.endpointRedirect].toString()).host:null}catch(w){m._onError("Failed to parse redirect header from QuickPulse: "+rj.dumpObj(w))}var y=g.headers[ds.pollingIntervalHint]?parseInt(g.headers[ds.pollingIntervalHint].toString()):null;m._consecutiveErrors=0,r(v,g,x,y)}else m._onError("StatusCode:"+g.statusCode+" StatusMessage:"+g.statusMessage),r()}),f.on("error",function(g){m._onError(g),r()}),f.write(s),f.end(),[2]}})})},t.prototype._onError=function(e){this._consecutiveErrors++;var n="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";this._consecutiveErrors%t.MAX_QPS_FAILURES_BEFORE_WARN===0?(n="Live Metrics endpoint could not be reached "+this._consecutiveErrors+" consecutive times. Most recent error:",nj.warn(t.TAG,n,e)):nj.info(t.TAG,n,e)},t.TAG="QuickPulseSender",t.MAX_QPS_FAILURES_BEFORE_WARN=25,t}();Xse.exports=nqe});var nae=b((i_,tae)=>{"use strict";var Jse=i_&&i_.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},Zse=i_&&i_.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},eae=Zt(),ij=Wse(),rqe=Qse(),iqe=dn(),oqe=fv(),sqe=function(){function t(e,n,r){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this._redirectedHost=null,this._pollingIntervalHint=-1,this.config=e,this.context=n||new oqe,this._sender=new rqe(this.config,r),this._isEnabled=!1}return t.prototype.addCollector=function(e){this._collectors.push(e)},t.prototype.trackMetric=function(e){this._addMetric(e)},t.prototype.addDocument=function(e){if(this._isCollectingData){var n=ij.telemetryEnvelopeToQuickPulseDocument(e);n&&this._documents.push(n)}},t.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},t.prototype.enableCollectors=function(e){this._collectors.forEach(function(n){n.enable(e)})},t.prototype._addMetric=function(e){var n=e.value,r=e.count||1,i=iqe.PerformanceToQuickPulseCounter[e.name];i&&(this._metrics[i]?(this._metrics[i].Value=(this._metrics[i].Value*this._metrics[i].Weight+n*r)/(this._metrics[i].Weight+r),this._metrics[i].Weight+=r):(this._metrics[i]=ij.createQuickPulseMetric(e),this._metrics[i].Name=i,this._metrics[i].Weight=1))},t.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},t.prototype._goQuickPulse=function(){return Jse(this,void 0,void 0,function(){var e,n,r,i,o=this;return Zse(this,function(s){switch(s.label){case 0:return e=Object.keys(this._metrics).map(function(a){return o._metrics[a]}),n=ij.createQuickPulseEnvelope(e,this._documents.slice(),this.config,this.context),this._resetQuickPulseBuffer(),this._isCollectingData?[4,this._post(n)]:[3,2];case 1:return s.sent(),[3,3];case 2:this._ping(n),s.label=3;case 3:return r=this._pollingIntervalHint>0?this._pollingIntervalHint:t.PING_INTERVAL,i=this._isCollectingData?t.POST_INTERVAL:r,this._isCollectingData&&Date.now()-this._lastSuccessTime>=t.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,i=t.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=t.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(i=t.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),i),this._handle.unref(),[2]}})})},t.prototype._ping=function(e){this._sender.ping(e,this._redirectedHost,this._quickPulseDone.bind(this))},t.prototype._post=function(e){return Jse(this,void 0,void 0,function(){return Zse(this,function(n){switch(n.label){case 0:return[4,this._sender.post(e,this._redirectedHost,this._quickPulseDone.bind(this))];case 1:return n.sent(),[2]}})})},t.prototype._quickPulseDone=function(e,n,r,i){e!=null?(this._isCollectingData!==e&&(eae.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,r&&r.length>0&&(this._redirectedHost=r,eae.info("Redirecting endpoint to: ",r)),i&&i>0&&(this._pollingIntervalHint=i),n&&n.statusCode<300&&n.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},t.MAX_POST_WAIT_TIME=2e4,t.MAX_PING_WAIT_TIME=6e4,t.FALLBACK_INTERVAL=6e4,t.PING_INTERVAL=5e3,t.POST_INTERVAL=1e3,t}();tae.exports=sqe});var rae=b(mv=>{"use strict";var sR=mv&&mv.__assign||function(){return sR=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},sR.apply(this,arguments)};Object.defineProperty(mv,"__esModule",{value:!0});mv.AutoCollectNativePerformance=void 0;var o_=fv(),aqe=Zt(),cqe=function(){function t(e){this._disabledMetrics={},t.INSTANCE&&t.INSTANCE.dispose(),t.INSTANCE=this,this._client=e}return t.prototype.enable=function(e,n,r){var i=this;if(n===void 0&&(n={}),r===void 0&&(r=6e4),t._metricsAvailable==null&&e&&!this._isInitialized)try{var o=require("applicationinsights-native-metrics");t._emitter=new o,t._metricsAvailable=!0,aqe.info("Native metrics module successfully loaded!")}catch{t._metricsAvailable=!1;return}this._isEnabled=e,this._disabledMetrics=n,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&t._emitter?(t._emitter.enable(!0,r),this._handle||(this._handle=setInterval(function(){return i._trackNativeMetrics()},r),this._handle.unref())):t._emitter&&(t._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))},t.prototype.dispose=function(){this.enable(!1)},t.parseEnabled=function(e,n){var r=n.disableAllExtendedMetrics,i=n.extendedMetricDisablers;if(r)return{isEnabled:!1,disabledMetrics:{}};if(i){var o=i.split(","),s={};if(o.length>0)for(var a=0,u=o;a<u.length;a++){var c=u[a];s[c]=!0}return typeof e=="object"?{isEnabled:!0,disabledMetrics:sR(sR({},e),s)}:{isEnabled:e,disabledMetrics:s}}return typeof e=="boolean"?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},t.prototype._trackNativeMetrics=function(){var e=!0;typeof this._isEnabled!="object"&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},t.prototype._trackGarbageCollection=function(){var e;if(!this._disabledMetrics.gc){var n=t._emitter.getGCData();for(var r in n){var i=n[r].metrics,o=r+" Garbage Collection Duration",s=Math.sqrt(i.sumSquares/i.count-Math.pow(i.total/i.count,2))||0;this._client.trackMetric({name:o,value:i.total,count:i.count,max:i.max,min:i.min,stdDev:s,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o_.sdkVersion,e)})}}},t.prototype._trackEventLoop=function(){var e;if(!this._disabledMetrics.loop){var n=t._emitter.getLoopData(),r=n.loopUsage;if(r.count!=0){var i="Event Loop CPU Time",o=Math.sqrt(r.sumSquares/r.count-Math.pow(r.total/r.count,2))||0;this._client.trackMetric({name:i,value:r.total,count:r.count,min:r.min,max:r.max,stdDev:o,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o_.sdkVersion,e)})}}},t.prototype._trackHeapUsage=function(){var e,n,r;if(!this._disabledMetrics.heap){var i=process.memoryUsage(),o=i.heapUsed,s=i.heapTotal,a=i.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:o,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o_.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o_.sdkVersion,n)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(r={},r[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o_.sdkVersion,r)})}},t}();mv.AutoCollectNativePerformance=cqe});var sae=b(gf=>{"use strict";var iae=gf&&gf.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},oae=gf&&gf.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(gf,"__esModule",{value:!0});gf.AzureFunctionsHook=void 0;var aR=Zt(),oj=rf(),uqe=function(){function t(e){this._client=e,this._autoGenerateIncomingRequests=!1;try{this._functionsCoreModule=require("@azure/functions-core");var n=this._functionsCoreModule.getProgrammingModel();n.name==="@azure/functions"&&n.version.startsWith("3.")?(this._addPreInvocationHook(),this._addPostInvocationHook()):aR.warn('AzureFunctionsHook does not support model "'+n.name+'" version "'+n.version+'"')}catch{aR.info("AzureFunctionsHook failed to load, not running in Azure Functions")}}return t.prototype.enable=function(e){this._autoGenerateIncomingRequests=e},t.prototype.dispose=function(){this.enable(!1),this._removeInvocationHooks(),this._functionsCoreModule=void 0},t.prototype._addPreInvocationHook=function(){var e=this;this._preInvocationHook||(this._preInvocationHook=this._functionsCoreModule.registerHook("preInvocation",function(n){return iae(e,void 0,void 0,function(){var r,i;return oae(this,function(o){r=n.invocationContext;try{i=oj.CorrelationContextManager.startOperation(r),i.customProperties.setProperty("InvocationId",r.invocationId),r.traceContext.attributes&&(i.customProperties.setProperty("ProcessId",r.traceContext.attributes.ProcessId),i.customProperties.setProperty("LogLevel",r.traceContext.attributes.LogLevel),i.customProperties.setProperty("Category",r.traceContext.attributes.Category),i.customProperties.setProperty("HostInstanceId",r.traceContext.attributes.HostInstanceId),i.customProperties.setProperty("AzFuncLiveLogsSessionId",r.traceContext.attributes["#AzFuncLiveLogsSessionId"])),n.functionCallback=oj.CorrelationContextManager.wrapCallback(n.functionCallback,i),this._isHttpTrigger(r)&&this._autoGenerateIncomingRequests&&(n.hookData.appInsightsExtractedContext=i,n.hookData.appInsightsStartTime=Date.now())}catch(s){return aR.warn("Failed to propagate context in Azure Functions",s),[2]}return[2]})})}))},t.prototype._addPostInvocationHook=function(){var e=this;this._postInvocationHook||(this._postInvocationHook=this._functionsCoreModule.registerHook("postInvocation",function(n){return iae(e,void 0,void 0,function(){var r,i,o,s,a,u=this;return oae(this,function(c){try{this._autoGenerateIncomingRequests&&(r=n.invocationContext,this._isHttpTrigger(r)&&(i=n.inputs[0],i&&(o=n.hookData.appInsightsStartTime||Date.now(),s=this._getAzureFunctionResponse(n,r),a=n.hookData.appInsightsExtractedContext,a?oj.CorrelationContextManager.runWithContext(a,function(){u._createIncomingRequestTelemetry(i,s,o,a.operation.parentId)}):this._createIncomingRequestTelemetry(i,s,o,null))))}catch(l){aR.warn("Error creating automatic incoming request in Azure Functions",l)}return[2]})})}))},t.prototype._createIncomingRequestTelemetry=function(e,n,r,i){for(var o=200,s=0,a=[n.statusCode,n.status];s<a.length;s++){var u=a[s];if(typeof u=="number"&&Number.isInteger(u)){o=u;break}else if(typeof u=="string"){var c=parseInt(u);if(!isNaN(c)){o=c;break}}}this._client.trackRequest({name:e.method+" "+e.url,resultCode:o,success:0<o&&o<400,url:e.url,time:new Date(r),duration:Date.now()-r,id:i}),this._client.flush()},t.prototype._getAzureFunctionResponse=function(e,n){var r=n.bindingDefinitions.find(function(i){return i.direction==="out"&&i.type.toLowerCase()==="http"});return(r==null?void 0:r.name)==="$return"?e.result:r&&n.bindings&&n.bindings[r.name]!==void 0?n.bindings[r.name]:n.res},t.prototype._isHttpTrigger=function(e){return e.bindingDefinitions.find(function(n){var r;return((r=n.type)===null||r===void 0?void 0:r.toLowerCase())==="httptrigger"})},t.prototype._removeInvocationHooks=function(){this._preInvocationHook&&(this._preInvocationHook.dispose(),this._preInvocationHook=void 0),this._postInvocationHook&&(this._postInvocationHook.dispose(),this._postInvocationHook=void 0)},t}();gf.AzureFunctionsHook=uqe});var sj=b((Gut,uae)=>{"use strict";var lqe=Sp(),aae=Q2(),Wut=Zt(),cae=dn(),fqe=require("url"),dqe=iI(),pqe=function(){function t(e){this._endpointBase=cae.DEFAULT_BREEZE_ENDPOINT,this._mergeConfig();var n=this._connectionString,r=aae.parse(e),i=aae.parse(n),o=!r.instrumentationkey&&Object.keys(r).length>0?null:e,s=this._instrumentationKey;this.instrumentationKey=r.instrumentationkey||o||i.instrumentationkey||s;var a=""+(this.endpointUrl||r.ingestionendpoint||i.ingestionendpoint||this._endpointBase);a.endsWith("/")&&(a=a.slice(0,-1)),this.endpointUrl=a+"/v2.1/track",this.maxBatchSize=this.maxBatchSize||250,this.maxBatchIntervalMs=this.maxBatchIntervalMs||15e3,this.disableAppInsights=this.disableAppInsights||!1,this.samplingPercentage=this.samplingPercentage||100,this.correlationIdRetryIntervalMs=this.correlationIdRetryIntervalMs||30*1e3,this.enableWebInstrumentation=this.enableWebInstrumentation||this.enableAutoWebSnippetInjection||!1,this.webInstrumentationConfig=this.webInstrumentationConfig||null,this.enableAutoWebSnippetInjection=this.enableWebInstrumentation,this.correlationHeaderExcludedDomains=this.correlationHeaderExcludedDomains||["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.ignoreLegacyHeaders=this.ignoreLegacyHeaders||!1,this.profileQueryEndpoint=r.ingestionendpoint||i.ingestionendpoint||process.env[t.ENV_profileQueryEndpoint]||this._endpointBase,this.quickPulseHost=this.quickPulseHost||r.liveendpoint||i.liveendpoint||process.env[t.ENV_quickPulseHost]||cae.DEFAULT_LIVEMETRICS_HOST,this.webInstrumentationConnectionString=this.webInstrumentationConnectionString||this._webInstrumentationConnectionString||"",this.webSnippetConnectionString=this.webInstrumentationConnectionString,this.quickPulseHost.match(/^https?:\/\//)&&(this.quickPulseHost=new fqe.URL(this.quickPulseHost).host)}return Object.defineProperty(t.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){this._profileQueryEndpoint=e,this.correlationId=lqe.correlationIdPrefix},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"instrumentationKey",{get:function(){return this._instrumentationKey},set:function(e){t._validateInstrumentationKey(e),this._instrumentationKey=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webSnippetConnectionString",{get:function(){return this._webInstrumentationConnectionString},set:function(e){this._webInstrumentationConnectionString=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"webInstrumentationConnectionString",{get:function(){return this._webInstrumentationConnectionString},set:function(e){this._webInstrumentationConnectionString=e},enumerable:!1,configurable:!0}),t.prototype._mergeConfig=function(){var e=dqe.JsonConfig.getInstance();this._connectionString=e.connectionString,this._instrumentationKey=e.instrumentationKey,this.correlationHeaderExcludedDomains=e.correlationHeaderExcludedDomains,this.correlationIdRetryIntervalMs=e.correlationIdRetryIntervalMs,this.disableAllExtendedMetrics=e.disableAllExtendedMetrics,this.disableAppInsights=e.disableAppInsights,this.disableStatsbeat=e.disableStatsbeat,this.distributedTracingMode=e.distributedTracingMode,this.enableAutoCollectConsole=e.enableAutoCollectConsole,this.enableAutoCollectDependencies=e.enableAutoCollectDependencies,this.enableAutoCollectIncomingRequestAzureFunctions=e.enableAutoCollectIncomingRequestAzureFunctions,this.enableAutoCollectExceptions=e.enableAutoCollectExceptions,this.enableAutoCollectExtendedMetrics=e.enableAutoCollectExtendedMetrics,this.enableAutoCollectExternalLoggers=e.enableAutoCollectExternalLoggers,this.enableAutoCollectHeartbeat=e.enableAutoCollectHeartbeat,this.enableAutoCollectPerformance=e.enableAutoCollectPerformance,this.enableAutoCollectPreAggregatedMetrics=e.enableAutoCollectPreAggregatedMetrics,this.enableAutoCollectRequests=e.enableAutoCollectRequests,this.enableAutoDependencyCorrelation=e.enableAutoDependencyCorrelation,this.enableInternalDebugLogging=e.enableInternalDebugLogging,this.enableInternalWarningLogging=e.enableInternalWarningLogging,this.enableResendInterval=e.enableResendInterval,this.enableMaxBytesOnDisk=e.enableMaxBytesOnDisk,this.enableSendLiveMetrics=e.enableSendLiveMetrics,this.enableUseAsyncHooks=e.enableUseAsyncHooks,this.enableUseDiskRetryCaching=e.enableUseDiskRetryCaching,this.endpointUrl=e.endpointUrl,this.extendedMetricDisablers=e.extendedMetricDisablers,this.ignoreLegacyHeaders=e.ignoreLegacyHeaders,this.maxBatchIntervalMs=e.maxBatchIntervalMs,this.maxBatchSize=e.maxBatchSize,this.proxyHttpUrl=e.proxyHttpUrl,this.proxyHttpsUrl=e.proxyHttpsUrl,this.quickPulseHost=e.quickPulseHost,this.samplingPercentage=e.samplingPercentage,this.enableWebInstrumentation=e.enableWebInstrumentation,this._webInstrumentationConnectionString=e.webInstrumentationConnectionString,this.webInstrumentationConfig=e.webInstrumentationConfig,this.webInstrumentationSrc=e.webInstrumentationSrc},t._validateInstrumentationKey=function(e){var n="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",r=new RegExp(n);return r.test(e)},t.ENV_azurePrefix="APPSETTING_",t.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",t.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",t.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",t.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",t}();uae.exports=pqe});function cR(){return hv.create()}var lae,hv,aj=k(()=>{lae=new Set(["Deserialize","Serialize","Retry","Sign"]),hv=class{constructor(e){var n;this._policies=[],this._policies=(n=e==null?void 0:e.slice(0))!==null&&n!==void 0?n:[],this._orderedPolicies=void 0}addPolicy(e,n={}){if(n.phase&&n.afterPhase)throw new Error("Policies inside a phase cannot specify afterPhase.");if(n.phase&&!lae.has(n.phase))throw new Error(`Invalid phase name: ${n.phase}`);if(n.afterPhase&&!lae.has(n.afterPhase))throw new Error(`Invalid afterPhase name: ${n.afterPhase}`);this._policies.push({policy:e,options:n}),this._orderedPolicies=void 0}removePolicy(e){let n=[];return this._policies=this._policies.filter(r=>e.name&&r.policy.name===e.name||e.phase&&r.options.phase===e.phase?(n.push(r.policy),!1):!0),this._orderedPolicies=void 0,n}sendRequest(e,n){return this.getOrderedPolicies().reduceRight((o,s)=>a=>s.sendRequest(a,o),o=>e.sendRequest(o))(n)}getOrderedPolicies(){return this._orderedPolicies||(this._orderedPolicies=this.orderPolicies()),this._orderedPolicies}clone(){return new hv(this._policies)}static create(){return new hv}orderPolicies(){let e=[],n=new Map;function r(m){return{name:m,policies:new Set,hasRun:!1,hasAfterPolicies:!1}}let i=r("Serialize"),o=r("None"),s=r("Deserialize"),a=r("Retry"),u=r("Sign"),c=[i,o,s,a,u];function l(m){return m==="Retry"?a:m==="Serialize"?i:m==="Deserialize"?s:m==="Sign"?u:o}for(let m of this._policies){let h=m.policy,g=m.options,v=h.name;if(n.has(v))throw new Error("Duplicate policy names not allowed in pipeline");let x={policy:h,dependsOn:new Set,dependants:new Set};g.afterPhase&&(x.afterPhase=l(g.afterPhase),x.afterPhase.hasAfterPolicies=!0),n.set(v,x),l(g.phase).policies.add(x)}for(let m of this._policies){let{policy:h,options:g}=m,v=h.name,x=n.get(v);if(!x)throw new Error(`Missing node for policy ${v}`);if(g.afterPolicies)for(let y of g.afterPolicies){let w=n.get(y);w&&(x.dependsOn.add(w),w.dependants.add(x))}if(g.beforePolicies)for(let y of g.beforePolicies){let w=n.get(y);w&&(w.dependsOn.add(x),x.dependants.add(w))}}function f(m){m.hasRun=!0;for(let h of m.policies)if(!(h.afterPhase&&(!h.afterPhase.hasRun||h.afterPhase.policies.size))&&h.dependsOn.size===0){e.push(h.policy);for(let g of h.dependants)g.dependsOn.delete(h);n.delete(h.policy.name),m.policies.delete(h)}}function d(){for(let m of c){if(f(m),m.policies.size>0&&m!==o){o.hasRun||f(o);return}m.hasAfterPolicies&&f(o)}}let p=0;for(;n.size>0;){p++;let m=e.length;if(d(),e.length<=m&&p>1)throw new Error("Cannot satisfy policy dependencies due to requirements cycle.")}return e}}});function pae(t,...e){process.stderr.write(`${fae.default.format(t,...e)}${dae.EOL}`)}var fae,dae,mae=k(()=>{fae=B(require("util")),dae=require("os")});function lj(t){gae=t,cj=[],uj=[];let e=/\*/g,n=t.split(",").map(r=>r.trim().replace(e,".*?"));for(let r of n)r.startsWith("-")?uj.push(new RegExp(`^${r.substr(1)}$`)):cj.push(new RegExp(`^${r}$`));for(let r of uR)r.enabled=fj(r.namespace)}function fj(t){if(t.endsWith("*"))return!0;for(let e of uj)if(e.test(t))return!1;for(let e of cj)if(e.test(t))return!0;return!1}function mqe(){let t=gae||"";return lj(""),t}function yae(t){let e=Object.assign(n,{enabled:fj(t),destroy:hqe,log:vae.log,namespace:t,extend:gqe});function n(...r){e.enabled&&(r.length>0&&(r[0]=`${t} ${r[0]}`),e.log(...r))}return uR.push(e),e}function hqe(){let t=uR.indexOf(this);return t>=0?(uR.splice(t,1),!0):!1}function gqe(t){let e=yae(`${this.namespace}:${t}`);return e.log=this.log,e}var hae,gae,cj,uj,uR,vae,gv,xae=k(()=>{mae();hae=typeof process<"u"&&process.env&&process.env.DEBUG||void 0,cj=[],uj=[],uR=[];hae&&lj(hae);vae=Object.assign(t=>yae(t),{enable:lj,enabled:fj,disable:mqe,log:pae});gv=vae});function vqe(t){if(t&&!Cae(t))throw new Error(`Unknown log level '${t}'. Acceptable values: ${mj.join(",")}`);dj=t;let e=[];for(let n of Eae)bae(n)&&e.push(n.namespace);gv.enable(e.join(","))}function dR(t){let e=pj.extend(t);return _ae(pj,e),{error:fR(e,"error"),warning:fR(e,"warning"),info:fR(e,"info"),verbose:fR(e,"verbose")}}function _ae(t,e){e.log=(...n)=>{t.log(...n)}}function fR(t,e){let n=Object.assign(t.extend(e),{level:e});if(_ae(t,n),bae(n)){let r=gv.disable();gv.enable(r+","+n.namespace)}return Eae.add(n),n}function bae(t){return!!(dj&&wae[t.level]<=wae[dj])}function Cae(t){return mj.includes(t)}var Eae,lR,dj,pj,mj,wae,hj=k(()=>{xae();Eae=new Set,lR=typeof process<"u"&&process.env&&process.env.AZURE_LOG_LEVEL||void 0,pj=gv("azure");pj.log=(...t)=>{gv.log(...t)};mj=["verbose","info","warning","error"];lR&&(Cae(lR)?vqe(lR):console.error(`AZURE_LOG_LEVEL set to unknown log level '${lR}'; logging is not enabled. Acceptable values: ${mj.join(", ")}.`));wae={verbose:400,info:300,warning:200,error:100}});var br,vv=k(()=>{hj();br=dR("core-rest-pipeline")});var gj,pR,Sae=k(()=>{pR=typeof process<"u"&&!!process.version&&!!(!((gj=process.versions)===null||gj===void 0)&&gj.node)});function vj(t){if(t.aborted)return;t.onabort&&t.onabort.call(t);let e=yv.get(t);e&&e.slice().forEach(n=>{n.call(t,{type:"abort"})}),mR.set(t,!0)}var yv,mR,jp,Tae=k(()=>{yv=new WeakMap,mR=new WeakMap,jp=class{constructor(){this.onabort=null,yv.set(this,[]),mR.set(this,!1)}get aborted(){if(!mR.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");return mR.get(this)}static get none(){return new jp}addEventListener(e,n){if(!yv.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");yv.get(this).push(n)}removeEventListener(e,n){if(!yv.has(this))throw new TypeError("Expected `this` to be an instance of AbortSignal.");let r=yv.get(this),i=r.indexOf(n);i>-1&&r.splice(i,1)}dispatchEvent(e){throw new Error("This is a stub dispatchEvent implementation that should not be used.  It only exists for type-checking purposes.")}}});var Wa,s_,Iae=k(()=>{Tae();Wa=class extends Error{constructor(e){super(e),this.name="AbortError"}},s_=class{constructor(e){if(this._signal=new jp,!!e){Array.isArray(e)||(e=arguments);for(let n of e)n.aborted?this.abort():n.addEventListener("abort",()=>{this.abort()})}}get signal(){return this._signal}abort(){vj(this._signal)}static timeout(e){let n=new jp,r=setTimeout(vj,e,n);return typeof r.unref=="function"&&r.unref(),n}}});var hR=k(()=>{Iae()});function yj(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}var Pae=k(()=>{});function a_(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)&&!(t instanceof RegExp)&&!(t instanceof Date)}var xj=k(()=>{});function xv(t){if(a_(t)){let e=typeof t.name=="string",n=typeof t.message=="string";return e&&n}return!1}function wv(t){if(xv(t))return t.message;{let e;try{typeof t=="object"&&t?e=JSON.stringify(t):e=String(t)}catch{e="[unable to stringify input]"}return`Unknown error ${e}`}}var Rae=k(()=>{xj()});var Ev=k(()=>{Sae();Pae();xj();Rae()});var wj,yqe,xqe,_v,Ej=k(()=>{Ev();wj="REDACTED",yqe=["x-ms-client-request-id","x-ms-return-client-request-id","x-ms-useragent","x-ms-correlation-request-id","x-ms-request-id","client-request-id","ms-cv","return-client-request-id","traceparent","Access-Control-Allow-Credentials","Access-Control-Allow-Headers","Access-Control-Allow-Methods","Access-Control-Allow-Origin","Access-Control-Expose-Headers","Access-Control-Max-Age","Access-Control-Request-Headers","Access-Control-Request-Method","Origin","Accept","Accept-Encoding","Cache-Control","Connection","Content-Length","Content-Type","Date","ETag","Expires","If-Match","If-Modified-Since","If-None-Match","If-Unmodified-Since","Last-Modified","Pragma","Request-Id","Retry-After","Server","Transfer-Encoding","User-Agent","WWW-Authenticate"],xqe=["api-version"],_v=class{constructor({additionalAllowedHeaderNames:e=[],additionalAllowedQueryParameters:n=[]}={}){e=yqe.concat(e),n=xqe.concat(n),this.allowedHeaderNames=new Set(e.map(r=>r.toLowerCase())),this.allowedQueryParameters=new Set(n.map(r=>r.toLowerCase()))}sanitize(e){let n=new Set;return JSON.stringify(e,(r,i)=>{if(i instanceof Error)return Object.assign(Object.assign({},i),{name:i.name,message:i.message});if(r==="headers")return this.sanitizeHeaders(i);if(r==="url")return this.sanitizeUrl(i);if(r==="query")return this.sanitizeQuery(i);if(r==="body")return;if(r==="response")return;if(r==="operationSpec")return;if(Array.isArray(i)||a_(i)){if(n.has(i))return"[Circular]";n.add(i)}return i},2)}sanitizeHeaders(e){let n={};for(let r of Object.keys(e))this.allowedHeaderNames.has(r.toLowerCase())?n[r]=e[r]:n[r]=wj;return n}sanitizeQuery(e){if(typeof e!="object"||e===null)return e;let n={};for(let r of Object.keys(e))this.allowedQueryParameters.has(r.toLowerCase())?n[r]=e[r]:n[r]=wj;return n}sanitizeUrl(e){if(typeof e!="string"||e===null)return e;let n=new URL(e);if(!n.search)return e;for(let[r]of n.searchParams)this.allowedQueryParameters.has(r.toLowerCase())||n.searchParams.set(r,wj);return n.toString()}}});function gR(t={}){var e;let n=(e=t.logger)!==null&&e!==void 0?e:br.info,r=new _v({additionalAllowedHeaderNames:t.additionalAllowedHeaderNames,additionalAllowedQueryParameters:t.additionalAllowedQueryParameters});return{name:_j,async sendRequest(i,o){if(!n.enabled)return o(i);n(`Request: ${r.sanitize(i)}`);let s=await o(i);return n(`Response status code: ${s.status}`),n(`Headers: ${r.sanitize(s.headers)}`),s}}}var _j,bj=k(()=>{vv();Ej();_j="logPolicy"});function vR(t={}){let{maxRetries:e=20}=t;return{name:Cj,async sendRequest(n,r){let i=await r(n);return Dae(r,i,e)}}}async function Dae(t,e,n,r=0){let{request:i,status:o,headers:s}=e,a=s.get("location");if(a&&(o===300||o===301&&Aae.includes(i.method)||o===302&&Aae.includes(i.method)||o===303&&i.method==="POST"||o===307)&&r<n){let u=new URL(a,i.url);i.url=u.toString(),o===303&&(i.method="GET",i.headers.delete("Content-Length"),delete i.body),i.headers.delete("Authorization");let c=await t(i);return Dae(t,c,n,r+1)}return e}var Cj,Aae,Sj=k(()=>{Cj="redirectPolicy",Aae=["GET","HEAD"]});function kae(){return"User-Agent"}function Oae(t){t.set("Node",process.version),t.set("OS",`(${bv.arch()}-${bv.type()}-${bv.release()})`)}var bv,Nae=k(()=>{bv=B(require("os"))});var yR,Tj=k(()=>{yR="1.10.1"});function wqe(t){let e=[];for(let[n,r]of t){let i=r?`${n}/${r}`:n;e.push(i)}return e.join(" ")}function Lae(){return kae()}function xR(t){let e=new Map;e.set("core-rest-pipeline",yR),Oae(e);let n=wqe(e);return t?`${t} ${n}`:n}var Ij=k(()=>{Nae();Tj()});function wR(t={}){let e=xR(t.userAgentPrefix);return{name:Pj,async sendRequest(n,r){return n.headers.has(Fae)||n.headers.set(Fae,e),r(n)}}}var Fae,Pj,Rj=k(()=>{Ij();Fae=Lae(),Pj="userAgentPolicy"});function ER(){return{name:Aj,async sendRequest(t,e){return t.method!=="HEAD"&&t.headers.set("Accept-Encoding","gzip,deflate"),e(t)}}}var Aj,Dj=k(()=>{Aj="decompressResponsePolicy"});function _R(t,e,n){return new Promise((r,i)=>{let o,s,a=()=>i(new Wa(n!=null&&n.abortErrorMsg?n==null?void 0:n.abortErrorMsg:Eqe)),u=()=>{n!=null&&n.abortSignal&&s&&n.abortSignal.removeEventListener("abort",s)};if(s=()=>(o&&clearTimeout(o),u(),a()),n!=null&&n.abortSignal&&n.abortSignal.aborted)return a();o=setTimeout(()=>{u(),r(e)},t),n!=null&&n.abortSignal&&n.abortSignal.addEventListener("abort",s)})}function Mae(t,e){let n=t.headers.get(e);if(!n)return;let r=Number(n);if(!Number.isNaN(r))return r}var Eqe,bR=k(()=>{hR();Eqe="The operation was aborted."});function Uae(t){if(t&&[429,503].includes(t.status))try{for(let i of _qe){let o=Mae(t,i);if(o===0||o)return o*(i===kj?1e3:1)}let e=t.headers.get(kj);if(!e)return;let r=Date.parse(e)-Date.now();return Number.isFinite(r)?Math.max(0,r):void 0}catch{return}}function qae(t){return Number.isFinite(Uae(t))}function CR(){return{name:"throttlingRetryStrategy",retry({response:t}){let e=Uae(t);return Number.isFinite(e)?{retryAfterInMs:e}:{skipStrategy:!0}}}}var kj,_qe,SR=k(()=>{bR();kj="Retry-After",_qe=["retry-after-ms","x-ms-retry-after-ms",kj]});function Cv(t={}){var e,n;let r=(e=t.retryDelayInMs)!==null&&e!==void 0?e:bqe,i=(n=t.maxRetryDelayInMs)!==null&&n!==void 0?n:Cqe,o=r;return{name:"exponentialRetryStrategy",retry({retryCount:s,response:a,responseError:u}){let c=Tqe(u),l=c&&t.ignoreSystemErrors,f=Sqe(a),d=f&&t.ignoreHttpStatusCodes;if(a&&(qae(a)||!f)||d||l)return{skipStrategy:!0};if(u&&!c&&!f)return{errorToThrow:u};let m=o*Math.pow(2,s),h=Math.min(i,m);return o=h/2+yj(0,h/2),{retryAfterInMs:o}}}}function Sqe(t){return!!(t&&t.status!==void 0&&(t.status>=500||t.status===408)&&t.status!==501&&t.status!==505)}function Tqe(t){return t?t.code==="ETIMEDOUT"||t.code==="ESOCKETTIMEDOUT"||t.code==="ECONNREFUSED"||t.code==="ECONNRESET"||t.code==="ENOENT":!1}var bqe,Cqe,TR=k(()=>{Ev();SR();bqe=1e3,Cqe=1e3*64});function Ga(t,e={maxRetries:3}){let n=e.logger||jae;return{name:Iqe,async sendRequest(r,i){var o,s;let a,u,c=-1;e:for(;;){c+=1,a=void 0,u=void 0;try{n.info(`Retry ${c}: Attempting to send request`,r.requestId),a=await i(r),n.info(`Retry ${c}: Received a response from request`,r.requestId)}catch(l){if(n.error(`Retry ${c}: Received an error from request`,r.requestId),u=l,!l||u.name!=="RestError")throw l;a=u.response}if(!((o=r.abortSignal)===null||o===void 0)&&o.aborted)throw n.error(`Retry ${c}: Request aborted.`),new Wa;if(c>=((s=e.maxRetries)!==null&&s!==void 0?s:3)){if(n.info(`Retry ${c}: Maximum retries reached. Returning the last received response, or throwing the last received error.`),u)throw u;if(a)return a;throw new Error("Maximum retries reached with no response or error to throw")}n.info(`Retry ${c}: Processing ${t.length} retry strategies.`);t:for(let l of t){let f=l.logger||jae;f.info(`Retry ${c}: Processing retry strategy ${l.name}.`);let d=l.retry({retryCount:c,response:a,responseError:u});if(d.skipStrategy){f.info(`Retry ${c}: Skipped.`);continue t}let{errorToThrow:p,retryAfterInMs:m,redirectTo:h}=d;if(p)throw f.error(`Retry ${c}: Retry strategy ${l.name} throws error:`,p),p;if(m||m===0){f.info(`Retry ${c}: Retry strategy ${l.name} retries after ${m}`),await _R(m,void 0,{abortSignal:r.abortSignal});continue e}if(h){f.info(`Retry ${c}: Retry strategy ${l.name} redirects to ${h}`),r.url=h;continue e}}if(u)throw n.info("None of the retry strategies could work with the received error. Throwing it."),u;if(a)return n.info("None of the retry strategies could work with the received response. Returning it."),a}}}}var jae,Iqe,Sv=k(()=>{bR();hj();hR();jae=dR("core-rest-pipeline retryPolicy"),Iqe="retryPolicy"});function IR(t={}){var e;return{name:Pqe,sendRequest:Ga([CR(),Cv(t)],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3}).sendRequest}}var Pqe,Oj=k(()=>{TR();SR();Sv();Pqe="defaultRetryPolicy"});var Bae=b((Wlt,$ae)=>{var Hae=require("stream").Stream,Rqe=require("util");$ae.exports=oa;function oa(){this.source=null,this.dataSize=0,this.maxDataSize=1024*1024,this.pauseStream=!0,this._maxDataSizeExceeded=!1,this._released=!1,this._bufferedEvents=[]}Rqe.inherits(oa,Hae);oa.create=function(t,e){var n=new this;e=e||{};for(var r in e)n[r]=e[r];n.source=t;var i=t.emit;return t.emit=function(){return n._handleEmit(arguments),i.apply(t,arguments)},t.on("error",function(){}),n.pauseStream&&t.pause(),n};Object.defineProperty(oa.prototype,"readable",{configurable:!0,enumerable:!0,get:function(){return this.source.readable}});oa.prototype.setEncoding=function(){return this.source.setEncoding.apply(this.source,arguments)};oa.prototype.resume=function(){this._released||this.release(),this.source.resume()};oa.prototype.pause=function(){this.source.pause()};oa.prototype.release=function(){this._released=!0,this._bufferedEvents.forEach(function(t){this.emit.apply(this,t)}.bind(this)),this._bufferedEvents=[]};oa.prototype.pipe=function(){var t=Hae.prototype.pipe.apply(this,arguments);return this.resume(),t};oa.prototype._handleEmit=function(t){if(this._released){this.emit.apply(this,t);return}t[0]==="data"&&(this.dataSize+=t[1].length,this._checkIfMaxDataSizeExceeded()),this._bufferedEvents.push(t)};oa.prototype._checkIfMaxDataSizeExceeded=function(){if(!this._maxDataSizeExceeded&&!(this.dataSize<=this.maxDataSize)){this._maxDataSizeExceeded=!0;var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this.emit("error",new Error(t))}}});var zae=b((Glt,Gae)=>{var Aqe=require("util"),Wae=require("stream").Stream,Vae=Bae();Gae.exports=pn;function pn(){this.writable=!1,this.readable=!0,this.dataSize=0,this.maxDataSize=2*1024*1024,this.pauseStreams=!0,this._released=!1,this._streams=[],this._currentStream=null,this._insideLoop=!1,this._pendingNext=!1}Aqe.inherits(pn,Wae);pn.create=function(t){var e=new this;t=t||{};for(var n in t)e[n]=t[n];return e};pn.isStreamLike=function(t){return typeof t!="function"&&typeof t!="string"&&typeof t!="boolean"&&typeof t!="number"&&!Buffer.isBuffer(t)};pn.prototype.append=function(t){var e=pn.isStreamLike(t);if(e){if(!(t instanceof Vae)){var n=Vae.create(t,{maxDataSize:1/0,pauseStream:this.pauseStreams});t.on("data",this._checkDataSize.bind(this)),t=n}this._handleErrors(t),this.pauseStreams&&t.pause()}return this._streams.push(t),this};pn.prototype.pipe=function(t,e){return Wae.prototype.pipe.call(this,t,e),this.resume(),t};pn.prototype._getNext=function(){if(this._currentStream=null,this._insideLoop){this._pendingNext=!0;return}this._insideLoop=!0;try{do this._pendingNext=!1,this._realGetNext();while(this._pendingNext)}finally{this._insideLoop=!1}};pn.prototype._realGetNext=function(){var t=this._streams.shift();if(typeof t>"u"){this.end();return}if(typeof t!="function"){this._pipeNext(t);return}var e=t;e(function(n){var r=pn.isStreamLike(n);r&&(n.on("data",this._checkDataSize.bind(this)),this._handleErrors(n)),this._pipeNext(n)}.bind(this))};pn.prototype._pipeNext=function(t){this._currentStream=t;var e=pn.isStreamLike(t);if(e){t.on("end",this._getNext.bind(this)),t.pipe(this,{end:!1});return}var n=t;this.write(n),this._getNext()};pn.prototype._handleErrors=function(t){var e=this;t.on("error",function(n){e._emitError(n)})};pn.prototype.write=function(t){this.emit("data",t)};pn.prototype.pause=function(){this.pauseStreams&&(this.pauseStreams&&this._currentStream&&typeof this._currentStream.pause=="function"&&this._currentStream.pause(),this.emit("pause"))};pn.prototype.resume=function(){this._released||(this._released=!0,this.writable=!0,this._getNext()),this.pauseStreams&&this._currentStream&&typeof this._currentStream.resume=="function"&&this._currentStream.resume(),this.emit("resume")};pn.prototype.end=function(){this._reset(),this.emit("end")};pn.prototype.destroy=function(){this._reset(),this.emit("close")};pn.prototype._reset=function(){this.writable=!1,this._streams=[],this._currentStream=null};pn.prototype._checkDataSize=function(){if(this._updateDataSize(),!(this.dataSize<=this.maxDataSize)){var t="DelayedStream#maxDataSize of "+this.maxDataSize+" bytes exceeded.";this._emitError(new Error(t))}};pn.prototype._updateDataSize=function(){this.dataSize=0;var t=this;this._streams.forEach(function(e){e.dataSize&&(t.dataSize+=e.dataSize)}),this._currentStream&&this._currentStream.dataSize&&(this.dataSize+=this._currentStream.dataSize)};pn.prototype._emitError=function(t){this._reset(),this.emit("error",t)}});var Yae=b((zlt,Dqe)=>{Dqe.exports={"application/1d-interleaved-parityfec":{source:"iana"},"application/3gpdash-qoe-report+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/3gpp-ims+xml":{source:"iana",compressible:!0},"application/3gpphal+json":{source:"iana",compressible:!0},"application/3gpphalforms+json":{source:"iana",compressible:!0},"application/a2l":{source:"iana"},"application/ace+cbor":{source:"iana"},"application/activemessage":{source:"iana"},"application/activity+json":{source:"iana",compressible:!0},"application/alto-costmap+json":{source:"iana",compressible:!0},"application/alto-costmapfilter+json":{source:"iana",compressible:!0},"application/alto-directory+json":{source:"iana",compressible:!0},"application/alto-endpointcost+json":{source:"iana",compressible:!0},"application/alto-endpointcostparams+json":{source:"iana",compressible:!0},"application/alto-endpointprop+json":{source:"iana",compressible:!0},"application/alto-endpointpropparams+json":{source:"iana",compressible:!0},"application/alto-error+json":{source:"iana",compressible:!0},"application/alto-networkmap+json":{source:"iana",compressible:!0},"application/alto-networkmapfilter+json":{source:"iana",compressible:!0},"application/alto-updatestreamcontrol+json":{source:"iana",compressible:!0},"application/alto-updatestreamparams+json":{source:"iana",compressible:!0},"application/aml":{source:"iana"},"application/andrew-inset":{source:"iana",extensions:["ez"]},"application/applefile":{source:"iana"},"application/applixware":{source:"apache",extensions:["aw"]},"application/at+jwt":{source:"iana"},"application/atf":{source:"iana"},"application/atfx":{source:"iana"},"application/atom+xml":{source:"iana",compressible:!0,extensions:["atom"]},"application/atomcat+xml":{source:"iana",compressible:!0,extensions:["atomcat"]},"application/atomdeleted+xml":{source:"iana",compressible:!0,extensions:["atomdeleted"]},"application/atomicmail":{source:"iana"},"application/atomsvc+xml":{source:"iana",compressible:!0,extensions:["atomsvc"]},"application/atsc-dwd+xml":{source:"iana",compressible:!0,extensions:["dwd"]},"application/atsc-dynamic-event-message":{source:"iana"},"application/atsc-held+xml":{source:"iana",compressible:!0,extensions:["held"]},"application/atsc-rdt+json":{source:"iana",compressible:!0},"application/atsc-rsat+xml":{source:"iana",compressible:!0,extensions:["rsat"]},"application/atxml":{source:"iana"},"application/auth-policy+xml":{source:"iana",compressible:!0},"application/bacnet-xdd+zip":{source:"iana",compressible:!1},"application/batch-smtp":{source:"iana"},"application/bdoc":{compressible:!1,extensions:["bdoc"]},"application/beep+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/calendar+json":{source:"iana",compressible:!0},"application/calendar+xml":{source:"iana",compressible:!0,extensions:["xcs"]},"application/call-completion":{source:"iana"},"application/cals-1840":{source:"iana"},"application/captive+json":{source:"iana",compressible:!0},"application/cbor":{source:"iana"},"application/cbor-seq":{source:"iana"},"application/cccex":{source:"iana"},"application/ccmp+xml":{source:"iana",compressible:!0},"application/ccxml+xml":{source:"iana",compressible:!0,extensions:["ccxml"]},"application/cdfx+xml":{source:"iana",compressible:!0,extensions:["cdfx"]},"application/cdmi-capability":{source:"iana",extensions:["cdmia"]},"application/cdmi-container":{source:"iana",extensions:["cdmic"]},"application/cdmi-domain":{source:"iana",extensions:["cdmid"]},"application/cdmi-object":{source:"iana",extensions:["cdmio"]},"application/cdmi-queue":{source:"iana",extensions:["cdmiq"]},"application/cdni":{source:"iana"},"application/cea":{source:"iana"},"application/cea-2018+xml":{source:"iana",compressible:!0},"application/cellml+xml":{source:"iana",compressible:!0},"application/cfw":{source:"iana"},"application/city+json":{source:"iana",compressible:!0},"application/clr":{source:"iana"},"application/clue+xml":{source:"iana",compressible:!0},"application/clue_info+xml":{source:"iana",compressible:!0},"application/cms":{source:"iana"},"application/cnrp+xml":{source:"iana",compressible:!0},"application/coap-group+json":{source:"iana",compressible:!0},"application/coap-payload":{source:"iana"},"application/commonground":{source:"iana"},"application/conference-info+xml":{source:"iana",compressible:!0},"application/cose":{source:"iana"},"application/cose-key":{source:"iana"},"application/cose-key-set":{source:"iana"},"application/cpl+xml":{source:"iana",compressible:!0,extensions:["cpl"]},"application/csrattrs":{source:"iana"},"application/csta+xml":{source:"iana",compressible:!0},"application/cstadata+xml":{source:"iana",compressible:!0},"application/csvm+json":{source:"iana",compressible:!0},"application/cu-seeme":{source:"apache",extensions:["cu"]},"application/cwt":{source:"iana"},"application/cybercash":{source:"iana"},"application/dart":{compressible:!0},"application/dash+xml":{source:"iana",compressible:!0,extensions:["mpd"]},"application/dash-patch+xml":{source:"iana",compressible:!0,extensions:["mpp"]},"application/dashdelta":{source:"iana"},"application/davmount+xml":{source:"iana",compressible:!0,extensions:["davmount"]},"application/dca-rft":{source:"iana"},"application/dcd":{source:"iana"},"application/dec-dx":{source:"iana"},"application/dialog-info+xml":{source:"iana",compressible:!0},"application/dicom":{source:"iana"},"application/dicom+json":{source:"iana",compressible:!0},"application/dicom+xml":{source:"iana",compressible:!0},"application/dii":{source:"iana"},"application/dit":{source:"iana"},"application/dns":{source:"iana"},"application/dns+json":{source:"iana",compressible:!0},"application/dns-message":{source:"iana"},"application/docbook+xml":{source:"apache",compressible:!0,extensions:["dbk"]},"application/dots+cbor":{source:"iana"},"application/dskpp+xml":{source:"iana",compressible:!0},"application/dssc+der":{source:"iana",extensions:["dssc"]},"application/dssc+xml":{source:"iana",compressible:!0,extensions:["xdssc"]},"application/dvcs":{source:"iana"},"application/ecmascript":{source:"iana",compressible:!0,extensions:["es","ecma"]},"application/edi-consent":{source:"iana"},"application/edi-x12":{source:"iana",compressible:!1},"application/edifact":{source:"iana",compressible:!1},"application/efi":{source:"iana"},"application/elm+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/elm+xml":{source:"iana",compressible:!0},"application/emergencycalldata.cap+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/emergencycalldata.comment+xml":{source:"iana",compressible:!0},"application/emergencycalldata.control+xml":{source:"iana",compressible:!0},"application/emergencycalldata.deviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.ecall.msd":{source:"iana"},"application/emergencycalldata.providerinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.serviceinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.subscriberinfo+xml":{source:"iana",compressible:!0},"application/emergencycalldata.veds+xml":{source:"iana",compressible:!0},"application/emma+xml":{source:"iana",compressible:!0,extensions:["emma"]},"application/emotionml+xml":{source:"iana",compressible:!0,extensions:["emotionml"]},"application/encaprtp":{source:"iana"},"application/epp+xml":{source:"iana",compressible:!0},"application/epub+zip":{source:"iana",compressible:!1,extensions:["epub"]},"application/eshop":{source:"iana"},"application/exi":{source:"iana",extensions:["exi"]},"application/expect-ct-report+json":{source:"iana",compressible:!0},"application/express":{source:"iana",extensions:["exp"]},"application/fastinfoset":{source:"iana"},"application/fastsoap":{source:"iana"},"application/fdt+xml":{source:"iana",compressible:!0,extensions:["fdt"]},"application/fhir+json":{source:"iana",charset:"UTF-8",compressible:!0},"application/fhir+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/fido.trusted-apps+json":{compressible:!0},"application/fits":{source:"iana"},"application/flexfec":{source:"iana"},"application/font-sfnt":{source:"iana"},"application/font-tdpfr":{source:"iana",extensions:["pfr"]},"application/font-woff":{source:"iana",compressible:!1},"application/framework-attributes+xml":{source:"iana",compressible:!0},"application/geo+json":{source:"iana",compressible:!0,extensions:["geojson"]},"application/geo+json-seq":{source:"iana"},"application/geopackage+sqlite3":{source:"iana"},"application/geoxacml+xml":{source:"iana",compressible:!0},"application/gltf-buffer":{source:"iana"},"application/gml+xml":{source:"iana",compressible:!0,extensions:["gml"]},"application/gpx+xml":{source:"apache",compressible:!0,extensions:["gpx"]},"application/gxf":{source:"apache",extensions:["gxf"]},"application/gzip":{source:"iana",compressible:!1,extensions:["gz"]},"application/h224":{source:"iana"},"application/held+xml":{source:"iana",compressible:!0},"application/hjson":{extensions:["hjson"]},"application/http":{source:"iana"},"application/hyperstudio":{source:"iana",extensions:["stk"]},"application/ibe-key-request+xml":{source:"iana",compressible:!0},"application/ibe-pkg-reply+xml":{source:"iana",compressible:!0},"application/ibe-pp-data":{source:"iana"},"application/iges":{source:"iana"},"application/im-iscomposing+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/index":{source:"iana"},"application/index.cmd":{source:"iana"},"application/index.obj":{source:"iana"},"application/index.response":{source:"iana"},"application/index.vnd":{source:"iana"},"application/inkml+xml":{source:"iana",compressible:!0,extensions:["ink","inkml"]},"application/iotp":{source:"iana"},"application/ipfix":{source:"iana",extensions:["ipfix"]},"application/ipp":{source:"iana"},"application/isup":{source:"iana"},"application/its+xml":{source:"iana",compressible:!0,extensions:["its"]},"application/java-archive":{source:"apache",compressible:!1,extensions:["jar","war","ear"]},"application/java-serialized-object":{source:"apache",compressible:!1,extensions:["ser"]},"application/java-vm":{source:"apache",compressible:!1,extensions:["class"]},"application/javascript":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["js","mjs"]},"application/jf2feed+json":{source:"iana",compressible:!0},"application/jose":{source:"iana"},"application/jose+json":{source:"iana",compressible:!0},"application/jrd+json":{source:"iana",compressible:!0},"application/jscalendar+json":{source:"iana",compressible:!0},"application/json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["json","map"]},"application/json-patch+json":{source:"iana",compressible:!0},"application/json-seq":{source:"iana"},"application/json5":{extensions:["json5"]},"application/jsonml+json":{source:"apache",compressible:!0,extensions:["jsonml"]},"application/jwk+json":{source:"iana",compressible:!0},"application/jwk-set+json":{source:"iana",compressible:!0},"application/jwt":{source:"iana"},"application/kpml-request+xml":{source:"iana",compressible:!0},"application/kpml-response+xml":{source:"iana",compressible:!0},"application/ld+json":{source:"iana",compressible:!0,extensions:["jsonld"]},"application/lgr+xml":{source:"iana",compressible:!0,extensions:["lgr"]},"application/link-format":{source:"iana"},"application/load-control+xml":{source:"iana",compressible:!0},"application/lost+xml":{source:"iana",compressible:!0,extensions:["lostxml"]},"application/lostsync+xml":{source:"iana",compressible:!0},"application/lpf+zip":{source:"iana",compressible:!1},"application/lxf":{source:"iana"},"application/mac-binhex40":{source:"iana",extensions:["hqx"]},"application/mac-compactpro":{source:"apache",extensions:["cpt"]},"application/macwriteii":{source:"iana"},"application/mads+xml":{source:"iana",compressible:!0,extensions:["mads"]},"application/manifest+json":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["webmanifest"]},"application/marc":{source:"iana",extensions:["mrc"]},"application/marcxml+xml":{source:"iana",compressible:!0,extensions:["mrcx"]},"application/mathematica":{source:"iana",extensions:["ma","nb","mb"]},"application/mathml+xml":{source:"iana",compressible:!0,extensions:["mathml"]},"application/mathml-content+xml":{source:"iana",compressible:!0},"application/mathml-presentation+xml":{source:"iana",compressible:!0},"application/mbms-associated-procedure-description+xml":{source:"iana",compressible:!0},"application/mbms-deregister+xml":{source:"iana",compressible:!0},"application/mbms-envelope+xml":{source:"iana",compressible:!0},"application/mbms-msk+xml":{source:"iana",compressible:!0},"application/mbms-msk-response+xml":{source:"iana",compressible:!0},"application/mbms-protection-description+xml":{source:"iana",compressible:!0},"application/mbms-reception-report+xml":{source:"iana",compressible:!0},"application/mbms-register+xml":{source:"iana",compressible:!0},"application/mbms-register-response+xml":{source:"iana",compressible:!0},"application/mbms-schedule+xml":{source:"iana",compressible:!0},"application/mbms-user-service-description+xml":{source:"iana",compressible:!0},"application/mbox":{source:"iana",extensions:["mbox"]},"application/media-policy-dataset+xml":{source:"iana",compressible:!0,extensions:["mpf"]},"application/media_control+xml":{source:"iana",compressible:!0},"application/mediaservercontrol+xml":{source:"iana",compressible:!0,extensions:["mscml"]},"application/merge-patch+json":{source:"iana",compressible:!0},"application/metalink+xml":{source:"apache",compressible:!0,extensions:["metalink"]},"application/metalink4+xml":{source:"iana",compressible:!0,extensions:["meta4"]},"application/mets+xml":{source:"iana",compressible:!0,extensions:["mets"]},"application/mf4":{source:"iana"},"application/mikey":{source:"iana"},"application/mipc":{source:"iana"},"application/missing-blocks+cbor-seq":{source:"iana"},"application/mmt-aei+xml":{source:"iana",compressible:!0,extensions:["maei"]},"application/mmt-usd+xml":{source:"iana",compressible:!0,extensions:["musd"]},"application/mods+xml":{source:"iana",compressible:!0,extensions:["mods"]},"application/moss-keys":{source:"iana"},"application/moss-signature":{source:"iana"},"application/mosskey-data":{source:"iana"},"application/mosskey-request":{source:"iana"},"application/mp21":{source:"iana",extensions:["m21","mp21"]},"application/mp4":{source:"iana",extensions:["mp4s","m4p"]},"application/mpeg4-generic":{source:"iana"},"application/mpeg4-iod":{source:"iana"},"application/mpeg4-iod-xmt":{source:"iana"},"application/mrb-consumer+xml":{source:"iana",compressible:!0},"application/mrb-publish+xml":{source:"iana",compressible:!0},"application/msc-ivr+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msc-mixer+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/msword":{source:"iana",compressible:!1,extensions:["doc","dot"]},"application/mud+json":{source:"iana",compressible:!0},"application/multipart-core":{source:"iana"},"application/mxf":{source:"iana",extensions:["mxf"]},"application/n-quads":{source:"iana",extensions:["nq"]},"application/n-triples":{source:"iana",extensions:["nt"]},"application/nasdata":{source:"iana"},"application/news-checkgroups":{source:"iana",charset:"US-ASCII"},"application/news-groupinfo":{source:"iana",charset:"US-ASCII"},"application/news-transmission":{source:"iana"},"application/nlsml+xml":{source:"iana",compressible:!0},"application/node":{source:"iana",extensions:["cjs"]},"application/nss":{source:"iana"},"application/oauth-authz-req+jwt":{source:"iana"},"application/oblivious-dns-message":{source:"iana"},"application/ocsp-request":{source:"iana"},"application/ocsp-response":{source:"iana"},"application/octet-stream":{source:"iana",compressible:!1,extensions:["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"]},"application/oda":{source:"iana",extensions:["oda"]},"application/odm+xml":{source:"iana",compressible:!0},"application/odx":{source:"iana"},"application/oebps-package+xml":{source:"iana",compressible:!0,extensions:["opf"]},"application/ogg":{source:"iana",compressible:!1,extensions:["ogx"]},"application/omdoc+xml":{source:"apache",compressible:!0,extensions:["omdoc"]},"application/onenote":{source:"apache",extensions:["onetoc","onetoc2","onetmp","onepkg"]},"application/opc-nodeset+xml":{source:"iana",compressible:!0},"application/oscore":{source:"iana"},"application/oxps":{source:"iana",extensions:["oxps"]},"application/p21":{source:"iana"},"application/p21+zip":{source:"iana",compressible:!1},"application/p2p-overlay+xml":{source:"iana",compressible:!0,extensions:["relo"]},"application/parityfec":{source:"iana"},"application/passport":{source:"iana"},"application/patch-ops-error+xml":{source:"iana",compressible:!0,extensions:["xer"]},"application/pdf":{source:"iana",compressible:!1,extensions:["pdf"]},"application/pdx":{source:"iana"},"application/pem-certificate-chain":{source:"iana"},"application/pgp-encrypted":{source:"iana",compressible:!1,extensions:["pgp"]},"application/pgp-keys":{source:"iana",extensions:["asc"]},"application/pgp-signature":{source:"iana",extensions:["asc","sig"]},"application/pics-rules":{source:"apache",extensions:["prf"]},"application/pidf+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pidf-diff+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/pkcs10":{source:"iana",extensions:["p10"]},"application/pkcs12":{source:"iana"},"application/pkcs7-mime":{source:"iana",extensions:["p7m","p7c"]},"application/pkcs7-signature":{source:"iana",extensions:["p7s"]},"application/pkcs8":{source:"iana",extensions:["p8"]},"application/pkcs8-encrypted":{source:"iana"},"application/pkix-attr-cert":{source:"iana",extensions:["ac"]},"application/pkix-cert":{source:"iana",extensions:["cer"]},"application/pkix-crl":{source:"iana",extensions:["crl"]},"application/pkix-pkipath":{source:"iana",extensions:["pkipath"]},"application/pkixcmp":{source:"iana",extensions:["pki"]},"application/pls+xml":{source:"iana",compressible:!0,extensions:["pls"]},"application/poc-settings+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/postscript":{source:"iana",compressible:!0,extensions:["ai","eps","ps"]},"application/ppsp-tracker+json":{source:"iana",compressible:!0},"application/problem+json":{source:"iana",compressible:!0},"application/problem+xml":{source:"iana",compressible:!0},"application/provenance+xml":{source:"iana",compressible:!0,extensions:["provx"]},"application/prs.alvestrand.titrax-sheet":{source:"iana"},"application/prs.cww":{source:"iana",extensions:["cww"]},"application/prs.cyn":{source:"iana",charset:"7-BIT"},"application/prs.hpub+zip":{source:"iana",compressible:!1},"application/prs.nprend":{source:"iana"},"application/prs.plucker":{source:"iana"},"application/prs.rdf-xml-crypt":{source:"iana"},"application/prs.xsf+xml":{source:"iana",compressible:!0},"application/pskc+xml":{source:"iana",compressible:!0,extensions:["pskcxml"]},"application/pvd+json":{source:"iana",compressible:!0},"application/qsig":{source:"iana"},"application/raml+yaml":{compressible:!0,extensions:["raml"]},"application/raptorfec":{source:"iana"},"application/rdap+json":{source:"iana",compressible:!0},"application/rdf+xml":{source:"iana",compressible:!0,extensions:["rdf","owl"]},"application/reginfo+xml":{source:"iana",compressible:!0,extensions:["rif"]},"application/relax-ng-compact-syntax":{source:"iana",extensions:["rnc"]},"application/remote-printing":{source:"iana"},"application/reputon+json":{source:"iana",compressible:!0},"application/resource-lists+xml":{source:"iana",compressible:!0,extensions:["rl"]},"application/resource-lists-diff+xml":{source:"iana",compressible:!0,extensions:["rld"]},"application/rfc+xml":{source:"iana",compressible:!0},"application/riscos":{source:"iana"},"application/rlmi+xml":{source:"iana",compressible:!0},"application/rls-services+xml":{source:"iana",compressible:!0,extensions:["rs"]},"application/route-apd+xml":{source:"iana",compressible:!0,extensions:["rapd"]},"application/route-s-tsid+xml":{source:"iana",compressible:!0,extensions:["sls"]},"application/route-usd+xml":{source:"iana",compressible:!0,extensions:["rusd"]},"application/rpki-ghostbusters":{source:"iana",extensions:["gbr"]},"application/rpki-manifest":{source:"iana",extensions:["mft"]},"application/rpki-publication":{source:"iana"},"application/rpki-roa":{source:"iana",extensions:["roa"]},"application/rpki-updown":{source:"iana"},"application/rsd+xml":{source:"apache",compressible:!0,extensions:["rsd"]},"application/rss+xml":{source:"apache",compressible:!0,extensions:["rss"]},"application/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"application/rtploopback":{source:"iana"},"application/rtx":{source:"iana"},"application/samlassertion+xml":{source:"iana",compressible:!0},"application/samlmetadata+xml":{source:"iana",compressible:!0},"application/sarif+json":{source:"iana",compressible:!0},"application/sarif-external-properties+json":{source:"iana",compressible:!0},"application/sbe":{source:"iana"},"application/sbml+xml":{source:"iana",compressible:!0,extensions:["sbml"]},"application/scaip+xml":{source:"iana",compressible:!0},"application/scim+json":{source:"iana",compressible:!0},"application/scvp-cv-request":{source:"iana",extensions:["scq"]},"application/scvp-cv-response":{source:"iana",extensions:["scs"]},"application/scvp-vp-request":{source:"iana",extensions:["spq"]},"application/scvp-vp-response":{source:"iana",extensions:["spp"]},"application/sdp":{source:"iana",extensions:["sdp"]},"application/secevent+jwt":{source:"iana"},"application/senml+cbor":{source:"iana"},"application/senml+json":{source:"iana",compressible:!0},"application/senml+xml":{source:"iana",compressible:!0,extensions:["senmlx"]},"application/senml-etch+cbor":{source:"iana"},"application/senml-etch+json":{source:"iana",compressible:!0},"application/senml-exi":{source:"iana"},"application/sensml+cbor":{source:"iana"},"application/sensml+json":{source:"iana",compressible:!0},"application/sensml+xml":{source:"iana",compressible:!0,extensions:["sensmlx"]},"application/sensml-exi":{source:"iana"},"application/sep+xml":{source:"iana",compressible:!0},"application/sep-exi":{source:"iana"},"application/session-info":{source:"iana"},"application/set-payment":{source:"iana"},"application/set-payment-initiation":{source:"iana",extensions:["setpay"]},"application/set-registration":{source:"iana"},"application/set-registration-initiation":{source:"iana",extensions:["setreg"]},"application/sgml":{source:"iana"},"application/sgml-open-catalog":{source:"iana"},"application/shf+xml":{source:"iana",compressible:!0,extensions:["shf"]},"application/sieve":{source:"iana",extensions:["siv","sieve"]},"application/simple-filter+xml":{source:"iana",compressible:!0},"application/simple-message-summary":{source:"iana"},"application/simplesymbolcontainer":{source:"iana"},"application/sipc":{source:"iana"},"application/slate":{source:"iana"},"application/smil":{source:"iana"},"application/smil+xml":{source:"iana",compressible:!0,extensions:["smi","smil"]},"application/smpte336m":{source:"iana"},"application/soap+fastinfoset":{source:"iana"},"application/soap+xml":{source:"iana",compressible:!0},"application/sparql-query":{source:"iana",extensions:["rq"]},"application/sparql-results+xml":{source:"iana",compressible:!0,extensions:["srx"]},"application/spdx+json":{source:"iana",compressible:!0},"application/spirits-event+xml":{source:"iana",compressible:!0},"application/sql":{source:"iana"},"application/srgs":{source:"iana",extensions:["gram"]},"application/srgs+xml":{source:"iana",compressible:!0,extensions:["grxml"]},"application/sru+xml":{source:"iana",compressible:!0,extensions:["sru"]},"application/ssdl+xml":{source:"apache",compressible:!0,extensions:["ssdl"]},"application/ssml+xml":{source:"iana",compressible:!0,extensions:["ssml"]},"application/stix+json":{source:"iana",compressible:!0},"application/swid+xml":{source:"iana",compressible:!0,extensions:["swidtag"]},"application/tamp-apex-update":{source:"iana"},"application/tamp-apex-update-confirm":{source:"iana"},"application/tamp-community-update":{source:"iana"},"application/tamp-community-update-confirm":{source:"iana"},"application/tamp-error":{source:"iana"},"application/tamp-sequence-adjust":{source:"iana"},"application/tamp-sequence-adjust-confirm":{source:"iana"},"application/tamp-status-query":{source:"iana"},"application/tamp-status-response":{source:"iana"},"application/tamp-update":{source:"iana"},"application/tamp-update-confirm":{source:"iana"},"application/tar":{compressible:!0},"application/taxii+json":{source:"iana",compressible:!0},"application/td+json":{source:"iana",compressible:!0},"application/tei+xml":{source:"iana",compressible:!0,extensions:["tei","teicorpus"]},"application/tetra_isi":{source:"iana"},"application/thraud+xml":{source:"iana",compressible:!0,extensions:["tfi"]},"application/timestamp-query":{source:"iana"},"application/timestamp-reply":{source:"iana"},"application/timestamped-data":{source:"iana",extensions:["tsd"]},"application/tlsrpt+gzip":{source:"iana"},"application/tlsrpt+json":{source:"iana",compressible:!0},"application/tnauthlist":{source:"iana"},"application/token-introspection+jwt":{source:"iana"},"application/toml":{compressible:!0,extensions:["toml"]},"application/trickle-ice-sdpfrag":{source:"iana"},"application/trig":{source:"iana",extensions:["trig"]},"application/ttml+xml":{source:"iana",compressible:!0,extensions:["ttml"]},"application/tve-trigger":{source:"iana"},"application/tzif":{source:"iana"},"application/tzif-leap":{source:"iana"},"application/ubjson":{compressible:!1,extensions:["ubj"]},"application/ulpfec":{source:"iana"},"application/urc-grpsheet+xml":{source:"iana",compressible:!0},"application/urc-ressheet+xml":{source:"iana",compressible:!0,extensions:["rsheet"]},"application/urc-targetdesc+xml":{source:"iana",compressible:!0,extensions:["td"]},"application/urc-uisocketdesc+xml":{source:"iana",compressible:!0},"application/vcard+json":{source:"iana",compressible:!0},"application/vcard+xml":{source:"iana",compressible:!0},"application/vemmi":{source:"iana"},"application/vividence.scriptfile":{source:"apache"},"application/vnd.1000minds.decision-model+xml":{source:"iana",compressible:!0,extensions:["1km"]},"application/vnd.3gpp-prose+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-prose-pc3ch+xml":{source:"iana",compressible:!0},"application/vnd.3gpp-v2x-local-service-information":{source:"iana"},"application/vnd.3gpp.5gnas":{source:"iana"},"application/vnd.3gpp.access-transfer-events+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.bsf+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gmop+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.gtpc":{source:"iana"},"application/vnd.3gpp.interworking-data":{source:"iana"},"application/vnd.3gpp.lpp":{source:"iana"},"application/vnd.3gpp.mc-signalling-ear":{source:"iana"},"application/vnd.3gpp.mcdata-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-payload":{source:"iana"},"application/vnd.3gpp.mcdata-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-signalling":{source:"iana"},"application/vnd.3gpp.mcdata-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcdata-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-floor-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-signed+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-ue-init-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcptt-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-command+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-affiliation-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-location-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-mbms-usage-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-service-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-transmission-request+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-ue-config+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mcvideo-user-profile+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.mid-call+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ngap":{source:"iana"},"application/vnd.3gpp.pfcp":{source:"iana"},"application/vnd.3gpp.pic-bw-large":{source:"iana",extensions:["plb"]},"application/vnd.3gpp.pic-bw-small":{source:"iana",extensions:["psb"]},"application/vnd.3gpp.pic-bw-var":{source:"iana",extensions:["pvb"]},"application/vnd.3gpp.s1ap":{source:"iana"},"application/vnd.3gpp.sms":{source:"iana"},"application/vnd.3gpp.sms+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-ext+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.srvcc-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.state-and-event-info+xml":{source:"iana",compressible:!0},"application/vnd.3gpp.ussd+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.bcmcsinfo+xml":{source:"iana",compressible:!0},"application/vnd.3gpp2.sms":{source:"iana"},"application/vnd.3gpp2.tcap":{source:"iana",extensions:["tcap"]},"application/vnd.3lightssoftware.imagescal":{source:"iana"},"application/vnd.3m.post-it-notes":{source:"iana",extensions:["pwn"]},"application/vnd.accpac.simply.aso":{source:"iana",extensions:["aso"]},"application/vnd.accpac.simply.imp":{source:"iana",extensions:["imp"]},"application/vnd.acucobol":{source:"iana",extensions:["acu"]},"application/vnd.acucorp":{source:"iana",extensions:["atc","acutc"]},"application/vnd.adobe.air-application-installer-package+zip":{source:"apache",compressible:!1,extensions:["air"]},"application/vnd.adobe.flash.movie":{source:"iana"},"application/vnd.adobe.formscentral.fcdt":{source:"iana",extensions:["fcdt"]},"application/vnd.adobe.fxp":{source:"iana",extensions:["fxp","fxpl"]},"application/vnd.adobe.partial-upload":{source:"iana"},"application/vnd.adobe.xdp+xml":{source:"iana",compressible:!0,extensions:["xdp"]},"application/vnd.adobe.xfdf":{source:"iana",extensions:["xfdf"]},"application/vnd.aether.imp":{source:"iana"},"application/vnd.afpc.afplinedata":{source:"iana"},"application/vnd.afpc.afplinedata-pagedef":{source:"iana"},"application/vnd.afpc.cmoca-cmresource":{source:"iana"},"application/vnd.afpc.foca-charset":{source:"iana"},"application/vnd.afpc.foca-codedfont":{source:"iana"},"application/vnd.afpc.foca-codepage":{source:"iana"},"application/vnd.afpc.modca":{source:"iana"},"application/vnd.afpc.modca-cmtable":{source:"iana"},"application/vnd.afpc.modca-formdef":{source:"iana"},"application/vnd.afpc.modca-mediummap":{source:"iana"},"application/vnd.afpc.modca-objectcontainer":{source:"iana"},"application/vnd.afpc.modca-overlay":{source:"iana"},"application/vnd.afpc.modca-pagesegment":{source:"iana"},"application/vnd.age":{source:"iana",extensions:["age"]},"application/vnd.ah-barcode":{source:"iana"},"application/vnd.ahead.space":{source:"iana",extensions:["ahead"]},"application/vnd.airzip.filesecure.azf":{source:"iana",extensions:["azf"]},"application/vnd.airzip.filesecure.azs":{source:"iana",extensions:["azs"]},"application/vnd.amadeus+json":{source:"iana",compressible:!0},"application/vnd.amazon.ebook":{source:"apache",extensions:["azw"]},"application/vnd.amazon.mobi8-ebook":{source:"iana"},"application/vnd.americandynamics.acc":{source:"iana",extensions:["acc"]},"application/vnd.amiga.ami":{source:"iana",extensions:["ami"]},"application/vnd.amundsen.maze+xml":{source:"iana",compressible:!0},"application/vnd.android.ota":{source:"iana"},"application/vnd.android.package-archive":{source:"apache",compressible:!1,extensions:["apk"]},"application/vnd.anki":{source:"iana"},"application/vnd.anser-web-certificate-issue-initiation":{source:"iana",extensions:["cii"]},"application/vnd.anser-web-funds-transfer-initiation":{source:"apache",extensions:["fti"]},"application/vnd.antix.game-component":{source:"iana",extensions:["atx"]},"application/vnd.apache.arrow.file":{source:"iana"},"application/vnd.apache.arrow.stream":{source:"iana"},"application/vnd.apache.thrift.binary":{source:"iana"},"application/vnd.apache.thrift.compact":{source:"iana"},"application/vnd.apache.thrift.json":{source:"iana"},"application/vnd.api+json":{source:"iana",compressible:!0},"application/vnd.aplextor.warrp+json":{source:"iana",compressible:!0},"application/vnd.apothekende.reservation+json":{source:"iana",compressible:!0},"application/vnd.apple.installer+xml":{source:"iana",compressible:!0,extensions:["mpkg"]},"application/vnd.apple.keynote":{source:"iana",extensions:["key"]},"application/vnd.apple.mpegurl":{source:"iana",extensions:["m3u8"]},"application/vnd.apple.numbers":{source:"iana",extensions:["numbers"]},"application/vnd.apple.pages":{source:"iana",extensions:["pages"]},"application/vnd.apple.pkpass":{compressible:!1,extensions:["pkpass"]},"application/vnd.arastra.swi":{source:"iana"},"application/vnd.aristanetworks.swi":{source:"iana",extensions:["swi"]},"application/vnd.artisan+json":{source:"iana",compressible:!0},"application/vnd.artsquare":{source:"iana"},"application/vnd.astraea-software.iota":{source:"iana",extensions:["iota"]},"application/vnd.audiograph":{source:"iana",extensions:["aep"]},"application/vnd.autopackage":{source:"iana"},"application/vnd.avalon+json":{source:"iana",compressible:!0},"application/vnd.avistar+xml":{source:"iana",compressible:!0},"application/vnd.balsamiq.bmml+xml":{source:"iana",compressible:!0,extensions:["bmml"]},"application/vnd.balsamiq.bmpr":{source:"iana"},"application/vnd.banana-accounting":{source:"iana"},"application/vnd.bbf.usp.error":{source:"iana"},"application/vnd.bbf.usp.msg":{source:"iana"},"application/vnd.bbf.usp.msg+json":{source:"iana",compressible:!0},"application/vnd.bekitzur-stech+json":{source:"iana",compressible:!0},"application/vnd.bint.med-content":{source:"iana"},"application/vnd.biopax.rdf+xml":{source:"iana",compressible:!0},"application/vnd.blink-idb-value-wrapper":{source:"iana"},"application/vnd.blueice.multipass":{source:"iana",extensions:["mpm"]},"application/vnd.bluetooth.ep.oob":{source:"iana"},"application/vnd.bluetooth.le.oob":{source:"iana"},"application/vnd.bmi":{source:"iana",extensions:["bmi"]},"application/vnd.bpf":{source:"iana"},"application/vnd.bpf3":{source:"iana"},"application/vnd.businessobjects":{source:"iana",extensions:["rep"]},"application/vnd.byu.uapi+json":{source:"iana",compressible:!0},"application/vnd.cab-jscript":{source:"iana"},"application/vnd.canon-cpdl":{source:"iana"},"application/vnd.canon-lips":{source:"iana"},"application/vnd.capasystems-pg+json":{source:"iana",compressible:!0},"application/vnd.cendio.thinlinc.clientconf":{source:"iana"},"application/vnd.century-systems.tcp_stream":{source:"iana"},"application/vnd.chemdraw+xml":{source:"iana",compressible:!0,extensions:["cdxml"]},"application/vnd.chess-pgn":{source:"iana"},"application/vnd.chipnuts.karaoke-mmd":{source:"iana",extensions:["mmd"]},"application/vnd.ciedi":{source:"iana"},"application/vnd.cinderella":{source:"iana",extensions:["cdy"]},"application/vnd.cirpack.isdn-ext":{source:"iana"},"application/vnd.citationstyles.style+xml":{source:"iana",compressible:!0,extensions:["csl"]},"application/vnd.claymore":{source:"iana",extensions:["cla"]},"application/vnd.cloanto.rp9":{source:"iana",extensions:["rp9"]},"application/vnd.clonk.c4group":{source:"iana",extensions:["c4g","c4d","c4f","c4p","c4u"]},"application/vnd.cluetrust.cartomobile-config":{source:"iana",extensions:["c11amc"]},"application/vnd.cluetrust.cartomobile-config-pkg":{source:"iana",extensions:["c11amz"]},"application/vnd.coffeescript":{source:"iana"},"application/vnd.collabio.xodocuments.document":{source:"iana"},"application/vnd.collabio.xodocuments.document-template":{source:"iana"},"application/vnd.collabio.xodocuments.presentation":{source:"iana"},"application/vnd.collabio.xodocuments.presentation-template":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet":{source:"iana"},"application/vnd.collabio.xodocuments.spreadsheet-template":{source:"iana"},"application/vnd.collection+json":{source:"iana",compressible:!0},"application/vnd.collection.doc+json":{source:"iana",compressible:!0},"application/vnd.collection.next+json":{source:"iana",compressible:!0},"application/vnd.comicbook+zip":{source:"iana",compressible:!1},"application/vnd.comicbook-rar":{source:"iana"},"application/vnd.commerce-battelle":{source:"iana"},"application/vnd.commonspace":{source:"iana",extensions:["csp"]},"application/vnd.contact.cmsg":{source:"iana",extensions:["cdbcmsg"]},"application/vnd.coreos.ignition+json":{source:"iana",compressible:!0},"application/vnd.cosmocaller":{source:"iana",extensions:["cmc"]},"application/vnd.crick.clicker":{source:"iana",extensions:["clkx"]},"application/vnd.crick.clicker.keyboard":{source:"iana",extensions:["clkk"]},"application/vnd.crick.clicker.palette":{source:"iana",extensions:["clkp"]},"application/vnd.crick.clicker.template":{source:"iana",extensions:["clkt"]},"application/vnd.crick.clicker.wordbank":{source:"iana",extensions:["clkw"]},"application/vnd.criticaltools.wbs+xml":{source:"iana",compressible:!0,extensions:["wbs"]},"application/vnd.cryptii.pipe+json":{source:"iana",compressible:!0},"application/vnd.crypto-shade-file":{source:"iana"},"application/vnd.cryptomator.encrypted":{source:"iana"},"application/vnd.cryptomator.vault":{source:"iana"},"application/vnd.ctc-posml":{source:"iana",extensions:["pml"]},"application/vnd.ctct.ws+xml":{source:"iana",compressible:!0},"application/vnd.cups-pdf":{source:"iana"},"application/vnd.cups-postscript":{source:"iana"},"application/vnd.cups-ppd":{source:"iana",extensions:["ppd"]},"application/vnd.cups-raster":{source:"iana"},"application/vnd.cups-raw":{source:"iana"},"application/vnd.curl":{source:"iana"},"application/vnd.curl.car":{source:"apache",extensions:["car"]},"application/vnd.curl.pcurl":{source:"apache",extensions:["pcurl"]},"application/vnd.cyan.dean.root+xml":{source:"iana",compressible:!0},"application/vnd.cybank":{source:"iana"},"application/vnd.cyclonedx+json":{source:"iana",compressible:!0},"application/vnd.cyclonedx+xml":{source:"iana",compressible:!0},"application/vnd.d2l.coursepackage1p0+zip":{source:"iana",compressible:!1},"application/vnd.d3m-dataset":{source:"iana"},"application/vnd.d3m-problem":{source:"iana"},"application/vnd.dart":{source:"iana",compressible:!0,extensions:["dart"]},"application/vnd.data-vision.rdz":{source:"iana",extensions:["rdz"]},"application/vnd.datapackage+json":{source:"iana",compressible:!0},"application/vnd.dataresource+json":{source:"iana",compressible:!0},"application/vnd.dbf":{source:"iana",extensions:["dbf"]},"application/vnd.debian.binary-package":{source:"iana"},"application/vnd.dece.data":{source:"iana",extensions:["uvf","uvvf","uvd","uvvd"]},"application/vnd.dece.ttml+xml":{source:"iana",compressible:!0,extensions:["uvt","uvvt"]},"application/vnd.dece.unspecified":{source:"iana",extensions:["uvx","uvvx"]},"application/vnd.dece.zip":{source:"iana",extensions:["uvz","uvvz"]},"application/vnd.denovo.fcselayout-link":{source:"iana",extensions:["fe_launch"]},"application/vnd.desmume.movie":{source:"iana"},"application/vnd.dir-bi.plate-dl-nosuffix":{source:"iana"},"application/vnd.dm.delegation+xml":{source:"iana",compressible:!0},"application/vnd.dna":{source:"iana",extensions:["dna"]},"application/vnd.document+json":{source:"iana",compressible:!0},"application/vnd.dolby.mlp":{source:"apache",extensions:["mlp"]},"application/vnd.dolby.mobile.1":{source:"iana"},"application/vnd.dolby.mobile.2":{source:"iana"},"application/vnd.doremir.scorecloud-binary-document":{source:"iana"},"application/vnd.dpgraph":{source:"iana",extensions:["dpg"]},"application/vnd.dreamfactory":{source:"iana",extensions:["dfac"]},"application/vnd.drive+json":{source:"iana",compressible:!0},"application/vnd.ds-keypoint":{source:"apache",extensions:["kpxx"]},"application/vnd.dtg.local":{source:"iana"},"application/vnd.dtg.local.flash":{source:"iana"},"application/vnd.dtg.local.html":{source:"iana"},"application/vnd.dvb.ait":{source:"iana",extensions:["ait"]},"application/vnd.dvb.dvbisl+xml":{source:"iana",compressible:!0},"application/vnd.dvb.dvbj":{source:"iana"},"application/vnd.dvb.esgcontainer":{source:"iana"},"application/vnd.dvb.ipdcdftnotifaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess":{source:"iana"},"application/vnd.dvb.ipdcesgaccess2":{source:"iana"},"application/vnd.dvb.ipdcesgpdd":{source:"iana"},"application/vnd.dvb.ipdcroaming":{source:"iana"},"application/vnd.dvb.iptv.alfec-base":{source:"iana"},"application/vnd.dvb.iptv.alfec-enhancement":{source:"iana"},"application/vnd.dvb.notif-aggregate-root+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-container+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-generic+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-msglist+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-request+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-ia-registration-response+xml":{source:"iana",compressible:!0},"application/vnd.dvb.notif-init+xml":{source:"iana",compressible:!0},"application/vnd.dvb.pfr":{source:"iana"},"application/vnd.dvb.service":{source:"iana",extensions:["svc"]},"application/vnd.dxr":{source:"iana"},"application/vnd.dynageo":{source:"iana",extensions:["geo"]},"application/vnd.dzr":{source:"iana"},"application/vnd.easykaraoke.cdgdownload":{source:"iana"},"application/vnd.ecdis-update":{source:"iana"},"application/vnd.ecip.rlp":{source:"iana"},"application/vnd.eclipse.ditto+json":{source:"iana",compressible:!0},"application/vnd.ecowin.chart":{source:"iana",extensions:["mag"]},"application/vnd.ecowin.filerequest":{source:"iana"},"application/vnd.ecowin.fileupdate":{source:"iana"},"application/vnd.ecowin.series":{source:"iana"},"application/vnd.ecowin.seriesrequest":{source:"iana"},"application/vnd.ecowin.seriesupdate":{source:"iana"},"application/vnd.efi.img":{source:"iana"},"application/vnd.efi.iso":{source:"iana"},"application/vnd.emclient.accessrequest+xml":{source:"iana",compressible:!0},"application/vnd.enliven":{source:"iana",extensions:["nml"]},"application/vnd.enphase.envoy":{source:"iana"},"application/vnd.eprints.data+xml":{source:"iana",compressible:!0},"application/vnd.epson.esf":{source:"iana",extensions:["esf"]},"application/vnd.epson.msf":{source:"iana",extensions:["msf"]},"application/vnd.epson.quickanime":{source:"iana",extensions:["qam"]},"application/vnd.epson.salt":{source:"iana",extensions:["slt"]},"application/vnd.epson.ssf":{source:"iana",extensions:["ssf"]},"application/vnd.ericsson.quickcall":{source:"iana"},"application/vnd.espass-espass+zip":{source:"iana",compressible:!1},"application/vnd.eszigno3+xml":{source:"iana",compressible:!0,extensions:["es3","et3"]},"application/vnd.etsi.aoc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.asic-e+zip":{source:"iana",compressible:!1},"application/vnd.etsi.asic-s+zip":{source:"iana",compressible:!1},"application/vnd.etsi.cug+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvcommand+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-bc+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-cod+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsad-npvr+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvservice+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvsync+xml":{source:"iana",compressible:!0},"application/vnd.etsi.iptvueprofile+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mcid+xml":{source:"iana",compressible:!0},"application/vnd.etsi.mheg5":{source:"iana"},"application/vnd.etsi.overload-control-policy-dataset+xml":{source:"iana",compressible:!0},"application/vnd.etsi.pstn+xml":{source:"iana",compressible:!0},"application/vnd.etsi.sci+xml":{source:"iana",compressible:!0},"application/vnd.etsi.simservs+xml":{source:"iana",compressible:!0},"application/vnd.etsi.timestamp-token":{source:"iana"},"application/vnd.etsi.tsl+xml":{source:"iana",compressible:!0},"application/vnd.etsi.tsl.der":{source:"iana"},"application/vnd.eu.kasparian.car+json":{source:"iana",compressible:!0},"application/vnd.eudora.data":{source:"iana"},"application/vnd.evolv.ecig.profile":{source:"iana"},"application/vnd.evolv.ecig.settings":{source:"iana"},"application/vnd.evolv.ecig.theme":{source:"iana"},"application/vnd.exstream-empower+zip":{source:"iana",compressible:!1},"application/vnd.exstream-package":{source:"iana"},"application/vnd.ezpix-album":{source:"iana",extensions:["ez2"]},"application/vnd.ezpix-package":{source:"iana",extensions:["ez3"]},"application/vnd.f-secure.mobile":{source:"iana"},"application/vnd.familysearch.gedcom+zip":{source:"iana",compressible:!1},"application/vnd.fastcopy-disk-image":{source:"iana"},"application/vnd.fdf":{source:"iana",extensions:["fdf"]},"application/vnd.fdsn.mseed":{source:"iana",extensions:["mseed"]},"application/vnd.fdsn.seed":{source:"iana",extensions:["seed","dataless"]},"application/vnd.ffsns":{source:"iana"},"application/vnd.ficlab.flb+zip":{source:"iana",compressible:!1},"application/vnd.filmit.zfc":{source:"iana"},"application/vnd.fints":{source:"iana"},"application/vnd.firemonkeys.cloudcell":{source:"iana"},"application/vnd.flographit":{source:"iana",extensions:["gph"]},"application/vnd.fluxtime.clip":{source:"iana",extensions:["ftc"]},"application/vnd.font-fontforge-sfd":{source:"iana"},"application/vnd.framemaker":{source:"iana",extensions:["fm","frame","maker","book"]},"application/vnd.frogans.fnc":{source:"iana",extensions:["fnc"]},"application/vnd.frogans.ltf":{source:"iana",extensions:["ltf"]},"application/vnd.fsc.weblaunch":{source:"iana",extensions:["fsc"]},"application/vnd.fujifilm.fb.docuworks":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.binder":{source:"iana"},"application/vnd.fujifilm.fb.docuworks.container":{source:"iana"},"application/vnd.fujifilm.fb.jfi+xml":{source:"iana",compressible:!0},"application/vnd.fujitsu.oasys":{source:"iana",extensions:["oas"]},"application/vnd.fujitsu.oasys2":{source:"iana",extensions:["oa2"]},"application/vnd.fujitsu.oasys3":{source:"iana",extensions:["oa3"]},"application/vnd.fujitsu.oasysgp":{source:"iana",extensions:["fg5"]},"application/vnd.fujitsu.oasysprs":{source:"iana",extensions:["bh2"]},"application/vnd.fujixerox.art-ex":{source:"iana"},"application/vnd.fujixerox.art4":{source:"iana"},"application/vnd.fujixerox.ddd":{source:"iana",extensions:["ddd"]},"application/vnd.fujixerox.docuworks":{source:"iana",extensions:["xdw"]},"application/vnd.fujixerox.docuworks.binder":{source:"iana",extensions:["xbd"]},"application/vnd.fujixerox.docuworks.container":{source:"iana"},"application/vnd.fujixerox.hbpl":{source:"iana"},"application/vnd.fut-misnet":{source:"iana"},"application/vnd.futoin+cbor":{source:"iana"},"application/vnd.futoin+json":{source:"iana",compressible:!0},"application/vnd.fuzzysheet":{source:"iana",extensions:["fzs"]},"application/vnd.genomatix.tuxedo":{source:"iana",extensions:["txd"]},"application/vnd.gentics.grd+json":{source:"iana",compressible:!0},"application/vnd.geo+json":{source:"iana",compressible:!0},"application/vnd.geocube+xml":{source:"iana",compressible:!0},"application/vnd.geogebra.file":{source:"iana",extensions:["ggb"]},"application/vnd.geogebra.slides":{source:"iana"},"application/vnd.geogebra.tool":{source:"iana",extensions:["ggt"]},"application/vnd.geometry-explorer":{source:"iana",extensions:["gex","gre"]},"application/vnd.geonext":{source:"iana",extensions:["gxt"]},"application/vnd.geoplan":{source:"iana",extensions:["g2w"]},"application/vnd.geospace":{source:"iana",extensions:["g3w"]},"application/vnd.gerber":{source:"iana"},"application/vnd.globalplatform.card-content-mgt":{source:"iana"},"application/vnd.globalplatform.card-content-mgt-response":{source:"iana"},"application/vnd.gmx":{source:"iana",extensions:["gmx"]},"application/vnd.google-apps.document":{compressible:!1,extensions:["gdoc"]},"application/vnd.google-apps.presentation":{compressible:!1,extensions:["gslides"]},"application/vnd.google-apps.spreadsheet":{compressible:!1,extensions:["gsheet"]},"application/vnd.google-earth.kml+xml":{source:"iana",compressible:!0,extensions:["kml"]},"application/vnd.google-earth.kmz":{source:"iana",compressible:!1,extensions:["kmz"]},"application/vnd.gov.sk.e-form+xml":{source:"iana",compressible:!0},"application/vnd.gov.sk.e-form+zip":{source:"iana",compressible:!1},"application/vnd.gov.sk.xmldatacontainer+xml":{source:"iana",compressible:!0},"application/vnd.grafeq":{source:"iana",extensions:["gqf","gqs"]},"application/vnd.gridmp":{source:"iana"},"application/vnd.groove-account":{source:"iana",extensions:["gac"]},"application/vnd.groove-help":{source:"iana",extensions:["ghf"]},"application/vnd.groove-identity-message":{source:"iana",extensions:["gim"]},"application/vnd.groove-injector":{source:"iana",extensions:["grv"]},"application/vnd.groove-tool-message":{source:"iana",extensions:["gtm"]},"application/vnd.groove-tool-template":{source:"iana",extensions:["tpl"]},"application/vnd.groove-vcard":{source:"iana",extensions:["vcg"]},"application/vnd.hal+json":{source:"iana",compressible:!0},"application/vnd.hal+xml":{source:"iana",compressible:!0,extensions:["hal"]},"application/vnd.handheld-entertainment+xml":{source:"iana",compressible:!0,extensions:["zmm"]},"application/vnd.hbci":{source:"iana",extensions:["hbci"]},"application/vnd.hc+json":{source:"iana",compressible:!0},"application/vnd.hcl-bireports":{source:"iana"},"application/vnd.hdt":{source:"iana"},"application/vnd.heroku+json":{source:"iana",compressible:!0},"application/vnd.hhe.lesson-player":{source:"iana",extensions:["les"]},"application/vnd.hl7cda+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hl7v2+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.hp-hpgl":{source:"iana",extensions:["hpgl"]},"application/vnd.hp-hpid":{source:"iana",extensions:["hpid"]},"application/vnd.hp-hps":{source:"iana",extensions:["hps"]},"application/vnd.hp-jlyt":{source:"iana",extensions:["jlt"]},"application/vnd.hp-pcl":{source:"iana",extensions:["pcl"]},"application/vnd.hp-pclxl":{source:"iana",extensions:["pclxl"]},"application/vnd.httphone":{source:"iana"},"application/vnd.hydrostatix.sof-data":{source:"iana",extensions:["sfd-hdstx"]},"application/vnd.hyper+json":{source:"iana",compressible:!0},"application/vnd.hyper-item+json":{source:"iana",compressible:!0},"application/vnd.hyperdrive+json":{source:"iana",compressible:!0},"application/vnd.hzn-3d-crossword":{source:"iana"},"application/vnd.ibm.afplinedata":{source:"iana"},"application/vnd.ibm.electronic-media":{source:"iana"},"application/vnd.ibm.minipay":{source:"iana",extensions:["mpy"]},"application/vnd.ibm.modcap":{source:"iana",extensions:["afp","listafp","list3820"]},"application/vnd.ibm.rights-management":{source:"iana",extensions:["irm"]},"application/vnd.ibm.secure-container":{source:"iana",extensions:["sc"]},"application/vnd.iccprofile":{source:"iana",extensions:["icc","icm"]},"application/vnd.ieee.1905":{source:"iana"},"application/vnd.igloader":{source:"iana",extensions:["igl"]},"application/vnd.imagemeter.folder+zip":{source:"iana",compressible:!1},"application/vnd.imagemeter.image+zip":{source:"iana",compressible:!1},"application/vnd.immervision-ivp":{source:"iana",extensions:["ivp"]},"application/vnd.immervision-ivu":{source:"iana",extensions:["ivu"]},"application/vnd.ims.imsccv1p1":{source:"iana"},"application/vnd.ims.imsccv1p2":{source:"iana"},"application/vnd.ims.imsccv1p3":{source:"iana"},"application/vnd.ims.lis.v2.result+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolconsumerprofile+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolproxy.id+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings+json":{source:"iana",compressible:!0},"application/vnd.ims.lti.v2.toolsettings.simple+json":{source:"iana",compressible:!0},"application/vnd.informedcontrol.rms+xml":{source:"iana",compressible:!0},"application/vnd.informix-visionary":{source:"iana"},"application/vnd.infotech.project":{source:"iana"},"application/vnd.infotech.project+xml":{source:"iana",compressible:!0},"application/vnd.innopath.wamp.notification":{source:"iana"},"application/vnd.insors.igm":{source:"iana",extensions:["igm"]},"application/vnd.intercon.formnet":{source:"iana",extensions:["xpw","xpx"]},"application/vnd.intergeo":{source:"iana",extensions:["i2g"]},"application/vnd.intertrust.digibox":{source:"iana"},"application/vnd.intertrust.nncp":{source:"iana"},"application/vnd.intu.qbo":{source:"iana",extensions:["qbo"]},"application/vnd.intu.qfx":{source:"iana",extensions:["qfx"]},"application/vnd.iptc.g2.catalogitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.conceptitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.knowledgeitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.newsmessage+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.packageitem+xml":{source:"iana",compressible:!0},"application/vnd.iptc.g2.planningitem+xml":{source:"iana",compressible:!0},"application/vnd.ipunplugged.rcprofile":{source:"iana",extensions:["rcprofile"]},"application/vnd.irepository.package+xml":{source:"iana",compressible:!0,extensions:["irp"]},"application/vnd.is-xpr":{source:"iana",extensions:["xpr"]},"application/vnd.isac.fcs":{source:"iana",extensions:["fcs"]},"application/vnd.iso11783-10+zip":{source:"iana",compressible:!1},"application/vnd.jam":{source:"iana",extensions:["jam"]},"application/vnd.japannet-directory-service":{source:"iana"},"application/vnd.japannet-jpnstore-wakeup":{source:"iana"},"application/vnd.japannet-payment-wakeup":{source:"iana"},"application/vnd.japannet-registration":{source:"iana"},"application/vnd.japannet-registration-wakeup":{source:"iana"},"application/vnd.japannet-setstore-wakeup":{source:"iana"},"application/vnd.japannet-verification":{source:"iana"},"application/vnd.japannet-verification-wakeup":{source:"iana"},"application/vnd.jcp.javame.midlet-rms":{source:"iana",extensions:["rms"]},"application/vnd.jisp":{source:"iana",extensions:["jisp"]},"application/vnd.joost.joda-archive":{source:"iana",extensions:["joda"]},"application/vnd.jsk.isdn-ngn":{source:"iana"},"application/vnd.kahootz":{source:"iana",extensions:["ktz","ktr"]},"application/vnd.kde.karbon":{source:"iana",extensions:["karbon"]},"application/vnd.kde.kchart":{source:"iana",extensions:["chrt"]},"application/vnd.kde.kformula":{source:"iana",extensions:["kfo"]},"application/vnd.kde.kivio":{source:"iana",extensions:["flw"]},"application/vnd.kde.kontour":{source:"iana",extensions:["kon"]},"application/vnd.kde.kpresenter":{source:"iana",extensions:["kpr","kpt"]},"application/vnd.kde.kspread":{source:"iana",extensions:["ksp"]},"application/vnd.kde.kword":{source:"iana",extensions:["kwd","kwt"]},"application/vnd.kenameaapp":{source:"iana",extensions:["htke"]},"application/vnd.kidspiration":{source:"iana",extensions:["kia"]},"application/vnd.kinar":{source:"iana",extensions:["kne","knp"]},"application/vnd.koan":{source:"iana",extensions:["skp","skd","skt","skm"]},"application/vnd.kodak-descriptor":{source:"iana",extensions:["sse"]},"application/vnd.las":{source:"iana"},"application/vnd.las.las+json":{source:"iana",compressible:!0},"application/vnd.las.las+xml":{source:"iana",compressible:!0,extensions:["lasxml"]},"application/vnd.laszip":{source:"iana"},"application/vnd.leap+json":{source:"iana",compressible:!0},"application/vnd.liberty-request+xml":{source:"iana",compressible:!0},"application/vnd.llamagraphics.life-balance.desktop":{source:"iana",extensions:["lbd"]},"application/vnd.llamagraphics.life-balance.exchange+xml":{source:"iana",compressible:!0,extensions:["lbe"]},"application/vnd.logipipe.circuit+zip":{source:"iana",compressible:!1},"application/vnd.loom":{source:"iana"},"application/vnd.lotus-1-2-3":{source:"iana",extensions:["123"]},"application/vnd.lotus-approach":{source:"iana",extensions:["apr"]},"application/vnd.lotus-freelance":{source:"iana",extensions:["pre"]},"application/vnd.lotus-notes":{source:"iana",extensions:["nsf"]},"application/vnd.lotus-organizer":{source:"iana",extensions:["org"]},"application/vnd.lotus-screencam":{source:"iana",extensions:["scm"]},"application/vnd.lotus-wordpro":{source:"iana",extensions:["lwp"]},"application/vnd.macports.portpkg":{source:"iana",extensions:["portpkg"]},"application/vnd.mapbox-vector-tile":{source:"iana",extensions:["mvt"]},"application/vnd.marlin.drm.actiontoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.conftoken+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.license+xml":{source:"iana",compressible:!0},"application/vnd.marlin.drm.mdcf":{source:"iana"},"application/vnd.mason+json":{source:"iana",compressible:!0},"application/vnd.maxar.archive.3tz+zip":{source:"iana",compressible:!1},"application/vnd.maxmind.maxmind-db":{source:"iana"},"application/vnd.mcd":{source:"iana",extensions:["mcd"]},"application/vnd.medcalcdata":{source:"iana",extensions:["mc1"]},"application/vnd.mediastation.cdkey":{source:"iana",extensions:["cdkey"]},"application/vnd.meridian-slingshot":{source:"iana"},"application/vnd.mfer":{source:"iana",extensions:["mwf"]},"application/vnd.mfmp":{source:"iana",extensions:["mfm"]},"application/vnd.micro+json":{source:"iana",compressible:!0},"application/vnd.micrografx.flo":{source:"iana",extensions:["flo"]},"application/vnd.micrografx.igx":{source:"iana",extensions:["igx"]},"application/vnd.microsoft.portable-executable":{source:"iana"},"application/vnd.microsoft.windows.thumbnail-cache":{source:"iana"},"application/vnd.miele+json":{source:"iana",compressible:!0},"application/vnd.mif":{source:"iana",extensions:["mif"]},"application/vnd.minisoft-hp3000-save":{source:"iana"},"application/vnd.mitsubishi.misty-guard.trustweb":{source:"iana"},"application/vnd.mobius.daf":{source:"iana",extensions:["daf"]},"application/vnd.mobius.dis":{source:"iana",extensions:["dis"]},"application/vnd.mobius.mbk":{source:"iana",extensions:["mbk"]},"application/vnd.mobius.mqy":{source:"iana",extensions:["mqy"]},"application/vnd.mobius.msl":{source:"iana",extensions:["msl"]},"application/vnd.mobius.plc":{source:"iana",extensions:["plc"]},"application/vnd.mobius.txf":{source:"iana",extensions:["txf"]},"application/vnd.mophun.application":{source:"iana",extensions:["mpn"]},"application/vnd.mophun.certificate":{source:"iana",extensions:["mpc"]},"application/vnd.motorola.flexsuite":{source:"iana"},"application/vnd.motorola.flexsuite.adsi":{source:"iana"},"application/vnd.motorola.flexsuite.fis":{source:"iana"},"application/vnd.motorola.flexsuite.gotap":{source:"iana"},"application/vnd.motorola.flexsuite.kmr":{source:"iana"},"application/vnd.motorola.flexsuite.ttc":{source:"iana"},"application/vnd.motorola.flexsuite.wem":{source:"iana"},"application/vnd.motorola.iprm":{source:"iana"},"application/vnd.mozilla.xul+xml":{source:"iana",compressible:!0,extensions:["xul"]},"application/vnd.ms-3mfdocument":{source:"iana"},"application/vnd.ms-artgalry":{source:"iana",extensions:["cil"]},"application/vnd.ms-asf":{source:"iana"},"application/vnd.ms-cab-compressed":{source:"iana",extensions:["cab"]},"application/vnd.ms-color.iccprofile":{source:"apache"},"application/vnd.ms-excel":{source:"iana",compressible:!1,extensions:["xls","xlm","xla","xlc","xlt","xlw"]},"application/vnd.ms-excel.addin.macroenabled.12":{source:"iana",extensions:["xlam"]},"application/vnd.ms-excel.sheet.binary.macroenabled.12":{source:"iana",extensions:["xlsb"]},"application/vnd.ms-excel.sheet.macroenabled.12":{source:"iana",extensions:["xlsm"]},"application/vnd.ms-excel.template.macroenabled.12":{source:"iana",extensions:["xltm"]},"application/vnd.ms-fontobject":{source:"iana",compressible:!0,extensions:["eot"]},"application/vnd.ms-htmlhelp":{source:"iana",extensions:["chm"]},"application/vnd.ms-ims":{source:"iana",extensions:["ims"]},"application/vnd.ms-lrm":{source:"iana",extensions:["lrm"]},"application/vnd.ms-office.activex+xml":{source:"iana",compressible:!0},"application/vnd.ms-officetheme":{source:"iana",extensions:["thmx"]},"application/vnd.ms-opentype":{source:"apache",compressible:!0},"application/vnd.ms-outlook":{compressible:!1,extensions:["msg"]},"application/vnd.ms-package.obfuscated-opentype":{source:"apache"},"application/vnd.ms-pki.seccat":{source:"apache",extensions:["cat"]},"application/vnd.ms-pki.stl":{source:"apache",extensions:["stl"]},"application/vnd.ms-playready.initiator+xml":{source:"iana",compressible:!0},"application/vnd.ms-powerpoint":{source:"iana",compressible:!1,extensions:["ppt","pps","pot"]},"application/vnd.ms-powerpoint.addin.macroenabled.12":{source:"iana",extensions:["ppam"]},"application/vnd.ms-powerpoint.presentation.macroenabled.12":{source:"iana",extensions:["pptm"]},"application/vnd.ms-powerpoint.slide.macroenabled.12":{source:"iana",extensions:["sldm"]},"application/vnd.ms-powerpoint.slideshow.macroenabled.12":{source:"iana",extensions:["ppsm"]},"application/vnd.ms-powerpoint.template.macroenabled.12":{source:"iana",extensions:["potm"]},"application/vnd.ms-printdevicecapabilities+xml":{source:"iana",compressible:!0},"application/vnd.ms-printing.printticket+xml":{source:"apache",compressible:!0},"application/vnd.ms-printschematicket+xml":{source:"iana",compressible:!0},"application/vnd.ms-project":{source:"iana",extensions:["mpp","mpt"]},"application/vnd.ms-tnef":{source:"iana"},"application/vnd.ms-windows.devicepairing":{source:"iana"},"application/vnd.ms-windows.nwprinting.oob":{source:"iana"},"application/vnd.ms-windows.printerpairing":{source:"iana"},"application/vnd.ms-windows.wsd.oob":{source:"iana"},"application/vnd.ms-wmdrm.lic-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.lic-resp":{source:"iana"},"application/vnd.ms-wmdrm.meter-chlg-req":{source:"iana"},"application/vnd.ms-wmdrm.meter-resp":{source:"iana"},"application/vnd.ms-word.document.macroenabled.12":{source:"iana",extensions:["docm"]},"application/vnd.ms-word.template.macroenabled.12":{source:"iana",extensions:["dotm"]},"application/vnd.ms-works":{source:"iana",extensions:["wps","wks","wcm","wdb"]},"application/vnd.ms-wpl":{source:"iana",extensions:["wpl"]},"application/vnd.ms-xpsdocument":{source:"iana",compressible:!1,extensions:["xps"]},"application/vnd.msa-disk-image":{source:"iana"},"application/vnd.mseq":{source:"iana",extensions:["mseq"]},"application/vnd.msign":{source:"iana"},"application/vnd.multiad.creator":{source:"iana"},"application/vnd.multiad.creator.cif":{source:"iana"},"application/vnd.music-niff":{source:"iana"},"application/vnd.musician":{source:"iana",extensions:["mus"]},"application/vnd.muvee.style":{source:"iana",extensions:["msty"]},"application/vnd.mynfc":{source:"iana",extensions:["taglet"]},"application/vnd.nacamar.ybrid+json":{source:"iana",compressible:!0},"application/vnd.ncd.control":{source:"iana"},"application/vnd.ncd.reference":{source:"iana"},"application/vnd.nearst.inv+json":{source:"iana",compressible:!0},"application/vnd.nebumind.line":{source:"iana"},"application/vnd.nervana":{source:"iana"},"application/vnd.netfpx":{source:"iana"},"application/vnd.neurolanguage.nlu":{source:"iana",extensions:["nlu"]},"application/vnd.nimn":{source:"iana"},"application/vnd.nintendo.nitro.rom":{source:"iana"},"application/vnd.nintendo.snes.rom":{source:"iana"},"application/vnd.nitf":{source:"iana",extensions:["ntf","nitf"]},"application/vnd.noblenet-directory":{source:"iana",extensions:["nnd"]},"application/vnd.noblenet-sealer":{source:"iana",extensions:["nns"]},"application/vnd.noblenet-web":{source:"iana",extensions:["nnw"]},"application/vnd.nokia.catalogs":{source:"iana"},"application/vnd.nokia.conml+wbxml":{source:"iana"},"application/vnd.nokia.conml+xml":{source:"iana",compressible:!0},"application/vnd.nokia.iptv.config+xml":{source:"iana",compressible:!0},"application/vnd.nokia.isds-radio-presets":{source:"iana"},"application/vnd.nokia.landmark+wbxml":{source:"iana"},"application/vnd.nokia.landmark+xml":{source:"iana",compressible:!0},"application/vnd.nokia.landmarkcollection+xml":{source:"iana",compressible:!0},"application/vnd.nokia.n-gage.ac+xml":{source:"iana",compressible:!0,extensions:["ac"]},"application/vnd.nokia.n-gage.data":{source:"iana",extensions:["ngdat"]},"application/vnd.nokia.n-gage.symbian.install":{source:"iana",extensions:["n-gage"]},"application/vnd.nokia.ncd":{source:"iana"},"application/vnd.nokia.pcd+wbxml":{source:"iana"},"application/vnd.nokia.pcd+xml":{source:"iana",compressible:!0},"application/vnd.nokia.radio-preset":{source:"iana",extensions:["rpst"]},"application/vnd.nokia.radio-presets":{source:"iana",extensions:["rpss"]},"application/vnd.novadigm.edm":{source:"iana",extensions:["edm"]},"application/vnd.novadigm.edx":{source:"iana",extensions:["edx"]},"application/vnd.novadigm.ext":{source:"iana",extensions:["ext"]},"application/vnd.ntt-local.content-share":{source:"iana"},"application/vnd.ntt-local.file-transfer":{source:"iana"},"application/vnd.ntt-local.ogw_remote-access":{source:"iana"},"application/vnd.ntt-local.sip-ta_remote":{source:"iana"},"application/vnd.ntt-local.sip-ta_tcp_stream":{source:"iana"},"application/vnd.oasis.opendocument.chart":{source:"iana",extensions:["odc"]},"application/vnd.oasis.opendocument.chart-template":{source:"iana",extensions:["otc"]},"application/vnd.oasis.opendocument.database":{source:"iana",extensions:["odb"]},"application/vnd.oasis.opendocument.formula":{source:"iana",extensions:["odf"]},"application/vnd.oasis.opendocument.formula-template":{source:"iana",extensions:["odft"]},"application/vnd.oasis.opendocument.graphics":{source:"iana",compressible:!1,extensions:["odg"]},"application/vnd.oasis.opendocument.graphics-template":{source:"iana",extensions:["otg"]},"application/vnd.oasis.opendocument.image":{source:"iana",extensions:["odi"]},"application/vnd.oasis.opendocument.image-template":{source:"iana",extensions:["oti"]},"application/vnd.oasis.opendocument.presentation":{source:"iana",compressible:!1,extensions:["odp"]},"application/vnd.oasis.opendocument.presentation-template":{source:"iana",extensions:["otp"]},"application/vnd.oasis.opendocument.spreadsheet":{source:"iana",compressible:!1,extensions:["ods"]},"application/vnd.oasis.opendocument.spreadsheet-template":{source:"iana",extensions:["ots"]},"application/vnd.oasis.opendocument.text":{source:"iana",compressible:!1,extensions:["odt"]},"application/vnd.oasis.opendocument.text-master":{source:"iana",extensions:["odm"]},"application/vnd.oasis.opendocument.text-template":{source:"iana",extensions:["ott"]},"application/vnd.oasis.opendocument.text-web":{source:"iana",extensions:["oth"]},"application/vnd.obn":{source:"iana"},"application/vnd.ocf+cbor":{source:"iana"},"application/vnd.oci.image.manifest.v1+json":{source:"iana",compressible:!0},"application/vnd.oftn.l10n+json":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessdownload+xml":{source:"iana",compressible:!0},"application/vnd.oipf.contentaccessstreaming+xml":{source:"iana",compressible:!0},"application/vnd.oipf.cspg-hexbinary":{source:"iana"},"application/vnd.oipf.dae.svg+xml":{source:"iana",compressible:!0},"application/vnd.oipf.dae.xhtml+xml":{source:"iana",compressible:!0},"application/vnd.oipf.mippvcontrolmessage+xml":{source:"iana",compressible:!0},"application/vnd.oipf.pae.gem":{source:"iana"},"application/vnd.oipf.spdiscovery+xml":{source:"iana",compressible:!0},"application/vnd.oipf.spdlist+xml":{source:"iana",compressible:!0},"application/vnd.oipf.ueprofile+xml":{source:"iana",compressible:!0},"application/vnd.oipf.userprofile+xml":{source:"iana",compressible:!0},"application/vnd.olpc-sugar":{source:"iana",extensions:["xo"]},"application/vnd.oma-scws-config":{source:"iana"},"application/vnd.oma-scws-http-request":{source:"iana"},"application/vnd.oma-scws-http-response":{source:"iana"},"application/vnd.oma.bcast.associated-procedure-parameter+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.drm-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.imd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.ltkm":{source:"iana"},"application/vnd.oma.bcast.notification+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.provisioningtrigger":{source:"iana"},"application/vnd.oma.bcast.sgboot":{source:"iana"},"application/vnd.oma.bcast.sgdd+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sgdu":{source:"iana"},"application/vnd.oma.bcast.simple-symbol-container":{source:"iana"},"application/vnd.oma.bcast.smartcard-trigger+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.sprov+xml":{source:"iana",compressible:!0},"application/vnd.oma.bcast.stkm":{source:"iana"},"application/vnd.oma.cab-address-book+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-feature-handler+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-pcc+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-subs-invite+xml":{source:"iana",compressible:!0},"application/vnd.oma.cab-user-prefs+xml":{source:"iana",compressible:!0},"application/vnd.oma.dcd":{source:"iana"},"application/vnd.oma.dcdc":{source:"iana"},"application/vnd.oma.dd2+xml":{source:"iana",compressible:!0,extensions:["dd2"]},"application/vnd.oma.drm.risd+xml":{source:"iana",compressible:!0},"application/vnd.oma.group-usage-list+xml":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+cbor":{source:"iana"},"application/vnd.oma.lwm2m+json":{source:"iana",compressible:!0},"application/vnd.oma.lwm2m+tlv":{source:"iana"},"application/vnd.oma.pal+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.detailed-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.final-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.groups+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.invocation-descriptor+xml":{source:"iana",compressible:!0},"application/vnd.oma.poc.optimized-progress-report+xml":{source:"iana",compressible:!0},"application/vnd.oma.push":{source:"iana"},"application/vnd.oma.scidm.messages+xml":{source:"iana",compressible:!0},"application/vnd.oma.xcap-directory+xml":{source:"iana",compressible:!0},"application/vnd.omads-email+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-file+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omads-folder+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.omaloc-supl-init":{source:"iana"},"application/vnd.onepager":{source:"iana"},"application/vnd.onepagertamp":{source:"iana"},"application/vnd.onepagertamx":{source:"iana"},"application/vnd.onepagertat":{source:"iana"},"application/vnd.onepagertatp":{source:"iana"},"application/vnd.onepagertatx":{source:"iana"},"application/vnd.openblox.game+xml":{source:"iana",compressible:!0,extensions:["obgx"]},"application/vnd.openblox.game-binary":{source:"iana"},"application/vnd.openeye.oeb":{source:"iana"},"application/vnd.openofficeorg.extension":{source:"apache",extensions:["oxt"]},"application/vnd.openstreetmap.data+xml":{source:"iana",compressible:!0,extensions:["osm"]},"application/vnd.opentimestamps.ots":{source:"iana"},"application/vnd.openxmlformats-officedocument.custom-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.customxmlproperties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawing+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chart+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramdata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.extended-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.commentauthors+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesmaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.notesslide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presentation":{source:"iana",compressible:!1,extensions:["pptx"]},"application/vnd.openxmlformats-officedocument.presentationml.presentation.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.presprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slide":{source:"iana",extensions:["sldx"]},"application/vnd.openxmlformats-officedocument.presentationml.slide+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidelayout+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slidemaster+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideshow":{source:"iana",extensions:["ppsx"]},"application/vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tablestyles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.tags+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.template":{source:"iana",extensions:["potx"]},"application/vnd.openxmlformats-officedocument.presentationml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.presentationml.viewprops+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":{source:"iana",compressible:!1,extensions:["xlsx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.template":{source:"iana",extensions:["xltx"]},"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.theme+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.themeoverride+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.vmldrawing":{source:"iana"},"application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document":{source:"iana",compressible:!1,extensions:["docx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.template":{source:"iana",extensions:["dotx"]},"application/vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.core-properties+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.digital-signature-xmlsignature+xml":{source:"iana",compressible:!0},"application/vnd.openxmlformats-package.relationships+xml":{source:"iana",compressible:!0},"application/vnd.oracle.resource+json":{source:"iana",compressible:!0},"application/vnd.orange.indata":{source:"iana"},"application/vnd.osa.netdeploy":{source:"iana"},"application/vnd.osgeo.mapguide.package":{source:"iana",extensions:["mgp"]},"application/vnd.osgi.bundle":{source:"iana"},"application/vnd.osgi.dp":{source:"iana",extensions:["dp"]},"application/vnd.osgi.subsystem":{source:"iana",extensions:["esa"]},"application/vnd.otps.ct-kip+xml":{source:"iana",compressible:!0},"application/vnd.oxli.countgraph":{source:"iana"},"application/vnd.pagerduty+json":{source:"iana",compressible:!0},"application/vnd.palm":{source:"iana",extensions:["pdb","pqa","oprc"]},"application/vnd.panoply":{source:"iana"},"application/vnd.paos.xml":{source:"iana"},"application/vnd.patentdive":{source:"iana"},"application/vnd.patientecommsdoc":{source:"iana"},"application/vnd.pawaafile":{source:"iana",extensions:["paw"]},"application/vnd.pcos":{source:"iana"},"application/vnd.pg.format":{source:"iana",extensions:["str"]},"application/vnd.pg.osasli":{source:"iana",extensions:["ei6"]},"application/vnd.piaccess.application-licence":{source:"iana"},"application/vnd.picsel":{source:"iana",extensions:["efif"]},"application/vnd.pmi.widget":{source:"iana",extensions:["wg"]},"application/vnd.poc.group-advertisement+xml":{source:"iana",compressible:!0},"application/vnd.pocketlearn":{source:"iana",extensions:["plf"]},"application/vnd.powerbuilder6":{source:"iana",extensions:["pbd"]},"application/vnd.powerbuilder6-s":{source:"iana"},"application/vnd.powerbuilder7":{source:"iana"},"application/vnd.powerbuilder7-s":{source:"iana"},"application/vnd.powerbuilder75":{source:"iana"},"application/vnd.powerbuilder75-s":{source:"iana"},"application/vnd.preminet":{source:"iana"},"application/vnd.previewsystems.box":{source:"iana",extensions:["box"]},"application/vnd.proteus.magazine":{source:"iana",extensions:["mgz"]},"application/vnd.psfs":{source:"iana"},"application/vnd.publishare-delta-tree":{source:"iana",extensions:["qps"]},"application/vnd.pvi.ptid1":{source:"iana",extensions:["ptid"]},"application/vnd.pwg-multiplexed":{source:"iana"},"application/vnd.pwg-xhtml-print+xml":{source:"iana",compressible:!0},"application/vnd.qualcomm.brew-app-res":{source:"iana"},"application/vnd.quarantainenet":{source:"iana"},"application/vnd.quark.quarkxpress":{source:"iana",extensions:["qxd","qxt","qwd","qwt","qxl","qxb"]},"application/vnd.quobject-quoxdocument":{source:"iana"},"application/vnd.radisys.moml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-conn+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-audit-stream+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-conf+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-base+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-detect+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-fax-sendrecv+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-group+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-speech+xml":{source:"iana",compressible:!0},"application/vnd.radisys.msml-dialog-transform+xml":{source:"iana",compressible:!0},"application/vnd.rainstor.data":{source:"iana"},"application/vnd.rapid":{source:"iana"},"application/vnd.rar":{source:"iana",extensions:["rar"]},"application/vnd.realvnc.bed":{source:"iana",extensions:["bed"]},"application/vnd.recordare.musicxml":{source:"iana",extensions:["mxl"]},"application/vnd.recordare.musicxml+xml":{source:"iana",compressible:!0,extensions:["musicxml"]},"application/vnd.renlearn.rlprint":{source:"iana"},"application/vnd.resilient.logic":{source:"iana"},"application/vnd.restful+json":{source:"iana",compressible:!0},"application/vnd.rig.cryptonote":{source:"iana",extensions:["cryptonote"]},"application/vnd.rim.cod":{source:"apache",extensions:["cod"]},"application/vnd.rn-realmedia":{source:"apache",extensions:["rm"]},"application/vnd.rn-realmedia-vbr":{source:"apache",extensions:["rmvb"]},"application/vnd.route66.link66+xml":{source:"iana",compressible:!0,extensions:["link66"]},"application/vnd.rs-274x":{source:"iana"},"application/vnd.ruckus.download":{source:"iana"},"application/vnd.s3sms":{source:"iana"},"application/vnd.sailingtracker.track":{source:"iana",extensions:["st"]},"application/vnd.sar":{source:"iana"},"application/vnd.sbm.cid":{source:"iana"},"application/vnd.sbm.mid2":{source:"iana"},"application/vnd.scribus":{source:"iana"},"application/vnd.sealed.3df":{source:"iana"},"application/vnd.sealed.csf":{source:"iana"},"application/vnd.sealed.doc":{source:"iana"},"application/vnd.sealed.eml":{source:"iana"},"application/vnd.sealed.mht":{source:"iana"},"application/vnd.sealed.net":{source:"iana"},"application/vnd.sealed.ppt":{source:"iana"},"application/vnd.sealed.tiff":{source:"iana"},"application/vnd.sealed.xls":{source:"iana"},"application/vnd.sealedmedia.softseal.html":{source:"iana"},"application/vnd.sealedmedia.softseal.pdf":{source:"iana"},"application/vnd.seemail":{source:"iana",extensions:["see"]},"application/vnd.seis+json":{source:"iana",compressible:!0},"application/vnd.sema":{source:"iana",extensions:["sema"]},"application/vnd.semd":{source:"iana",extensions:["semd"]},"application/vnd.semf":{source:"iana",extensions:["semf"]},"application/vnd.shade-save-file":{source:"iana"},"application/vnd.shana.informed.formdata":{source:"iana",extensions:["ifm"]},"application/vnd.shana.informed.formtemplate":{source:"iana",extensions:["itp"]},"application/vnd.shana.informed.interchange":{source:"iana",extensions:["iif"]},"application/vnd.shana.informed.package":{source:"iana",extensions:["ipk"]},"application/vnd.shootproof+json":{source:"iana",compressible:!0},"application/vnd.shopkick+json":{source:"iana",compressible:!0},"application/vnd.shp":{source:"iana"},"application/vnd.shx":{source:"iana"},"application/vnd.sigrok.session":{source:"iana"},"application/vnd.simtech-mindmapper":{source:"iana",extensions:["twd","twds"]},"application/vnd.siren+json":{source:"iana",compressible:!0},"application/vnd.smaf":{source:"iana",extensions:["mmf"]},"application/vnd.smart.notebook":{source:"iana"},"application/vnd.smart.teacher":{source:"iana",extensions:["teacher"]},"application/vnd.snesdev-page-table":{source:"iana"},"application/vnd.software602.filler.form+xml":{source:"iana",compressible:!0,extensions:["fo"]},"application/vnd.software602.filler.form-xml-zip":{source:"iana"},"application/vnd.solent.sdkm+xml":{source:"iana",compressible:!0,extensions:["sdkm","sdkd"]},"application/vnd.spotfire.dxp":{source:"iana",extensions:["dxp"]},"application/vnd.spotfire.sfs":{source:"iana",extensions:["sfs"]},"application/vnd.sqlite3":{source:"iana"},"application/vnd.sss-cod":{source:"iana"},"application/vnd.sss-dtf":{source:"iana"},"application/vnd.sss-ntf":{source:"iana"},"application/vnd.stardivision.calc":{source:"apache",extensions:["sdc"]},"application/vnd.stardivision.draw":{source:"apache",extensions:["sda"]},"application/vnd.stardivision.impress":{source:"apache",extensions:["sdd"]},"application/vnd.stardivision.math":{source:"apache",extensions:["smf"]},"application/vnd.stardivision.writer":{source:"apache",extensions:["sdw","vor"]},"application/vnd.stardivision.writer-global":{source:"apache",extensions:["sgl"]},"application/vnd.stepmania.package":{source:"iana",extensions:["smzip"]},"application/vnd.stepmania.stepchart":{source:"iana",extensions:["sm"]},"application/vnd.street-stream":{source:"iana"},"application/vnd.sun.wadl+xml":{source:"iana",compressible:!0,extensions:["wadl"]},"application/vnd.sun.xml.calc":{source:"apache",extensions:["sxc"]},"application/vnd.sun.xml.calc.template":{source:"apache",extensions:["stc"]},"application/vnd.sun.xml.draw":{source:"apache",extensions:["sxd"]},"application/vnd.sun.xml.draw.template":{source:"apache",extensions:["std"]},"application/vnd.sun.xml.impress":{source:"apache",extensions:["sxi"]},"application/vnd.sun.xml.impress.template":{source:"apache",extensions:["sti"]},"application/vnd.sun.xml.math":{source:"apache",extensions:["sxm"]},"application/vnd.sun.xml.writer":{source:"apache",extensions:["sxw"]},"application/vnd.sun.xml.writer.global":{source:"apache",extensions:["sxg"]},"application/vnd.sun.xml.writer.template":{source:"apache",extensions:["stw"]},"application/vnd.sus-calendar":{source:"iana",extensions:["sus","susp"]},"application/vnd.svd":{source:"iana",extensions:["svd"]},"application/vnd.swiftview-ics":{source:"iana"},"application/vnd.sycle+xml":{source:"iana",compressible:!0},"application/vnd.syft+json":{source:"iana",compressible:!0},"application/vnd.symbian.install":{source:"apache",extensions:["sis","sisx"]},"application/vnd.syncml+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xsm"]},"application/vnd.syncml.dm+wbxml":{source:"iana",charset:"UTF-8",extensions:["bdm"]},"application/vnd.syncml.dm+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["xdm"]},"application/vnd.syncml.dm.notification":{source:"iana"},"application/vnd.syncml.dmddf+wbxml":{source:"iana"},"application/vnd.syncml.dmddf+xml":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["ddf"]},"application/vnd.syncml.dmtnds+wbxml":{source:"iana"},"application/vnd.syncml.dmtnds+xml":{source:"iana",charset:"UTF-8",compressible:!0},"application/vnd.syncml.ds.notification":{source:"iana"},"application/vnd.tableschema+json":{source:"iana",compressible:!0},"application/vnd.tao.intent-module-archive":{source:"iana",extensions:["tao"]},"application/vnd.tcpdump.pcap":{source:"iana",extensions:["pcap","cap","dmp"]},"application/vnd.think-cell.ppttc+json":{source:"iana",compressible:!0},"application/vnd.tmd.mediaflex.api+xml":{source:"iana",compressible:!0},"application/vnd.tml":{source:"iana"},"application/vnd.tmobile-livetv":{source:"iana",extensions:["tmo"]},"application/vnd.tri.onesource":{source:"iana"},"application/vnd.trid.tpt":{source:"iana",extensions:["tpt"]},"application/vnd.triscape.mxs":{source:"iana",extensions:["mxs"]},"application/vnd.trueapp":{source:"iana",extensions:["tra"]},"application/vnd.truedoc":{source:"iana"},"application/vnd.ubisoft.webplayer":{source:"iana"},"application/vnd.ufdl":{source:"iana",extensions:["ufd","ufdl"]},"application/vnd.uiq.theme":{source:"iana",extensions:["utz"]},"application/vnd.umajin":{source:"iana",extensions:["umj"]},"application/vnd.unity":{source:"iana",extensions:["unityweb"]},"application/vnd.uoml+xml":{source:"iana",compressible:!0,extensions:["uoml"]},"application/vnd.uplanet.alert":{source:"iana"},"application/vnd.uplanet.alert-wbxml":{source:"iana"},"application/vnd.uplanet.bearer-choice":{source:"iana"},"application/vnd.uplanet.bearer-choice-wbxml":{source:"iana"},"application/vnd.uplanet.cacheop":{source:"iana"},"application/vnd.uplanet.cacheop-wbxml":{source:"iana"},"application/vnd.uplanet.channel":{source:"iana"},"application/vnd.uplanet.channel-wbxml":{source:"iana"},"application/vnd.uplanet.list":{source:"iana"},"application/vnd.uplanet.list-wbxml":{source:"iana"},"application/vnd.uplanet.listcmd":{source:"iana"},"application/vnd.uplanet.listcmd-wbxml":{source:"iana"},"application/vnd.uplanet.signal":{source:"iana"},"application/vnd.uri-map":{source:"iana"},"application/vnd.valve.source.material":{source:"iana"},"application/vnd.vcx":{source:"iana",extensions:["vcx"]},"application/vnd.vd-study":{source:"iana"},"application/vnd.vectorworks":{source:"iana"},"application/vnd.vel+json":{source:"iana",compressible:!0},"application/vnd.verimatrix.vcas":{source:"iana"},"application/vnd.veritone.aion+json":{source:"iana",compressible:!0},"application/vnd.veryant.thin":{source:"iana"},"application/vnd.ves.encrypted":{source:"iana"},"application/vnd.vidsoft.vidconference":{source:"iana"},"application/vnd.visio":{source:"iana",extensions:["vsd","vst","vss","vsw"]},"application/vnd.visionary":{source:"iana",extensions:["vis"]},"application/vnd.vividence.scriptfile":{source:"iana"},"application/vnd.vsf":{source:"iana",extensions:["vsf"]},"application/vnd.wap.sic":{source:"iana"},"application/vnd.wap.slc":{source:"iana"},"application/vnd.wap.wbxml":{source:"iana",charset:"UTF-8",extensions:["wbxml"]},"application/vnd.wap.wmlc":{source:"iana",extensions:["wmlc"]},"application/vnd.wap.wmlscriptc":{source:"iana",extensions:["wmlsc"]},"application/vnd.webturbo":{source:"iana",extensions:["wtb"]},"application/vnd.wfa.dpp":{source:"iana"},"application/vnd.wfa.p2p":{source:"iana"},"application/vnd.wfa.wsc":{source:"iana"},"application/vnd.windows.devicepairing":{source:"iana"},"application/vnd.wmc":{source:"iana"},"application/vnd.wmf.bootstrap":{source:"iana"},"application/vnd.wolfram.mathematica":{source:"iana"},"application/vnd.wolfram.mathematica.package":{source:"iana"},"application/vnd.wolfram.player":{source:"iana",extensions:["nbp"]},"application/vnd.wordperfect":{source:"iana",extensions:["wpd"]},"application/vnd.wqd":{source:"iana",extensions:["wqd"]},"application/vnd.wrq-hp3000-labelled":{source:"iana"},"application/vnd.wt.stf":{source:"iana",extensions:["stf"]},"application/vnd.wv.csp+wbxml":{source:"iana"},"application/vnd.wv.csp+xml":{source:"iana",compressible:!0},"application/vnd.wv.ssp+xml":{source:"iana",compressible:!0},"application/vnd.xacml+json":{source:"iana",compressible:!0},"application/vnd.xara":{source:"iana",extensions:["xar"]},"application/vnd.xfdl":{source:"iana",extensions:["xfdl"]},"application/vnd.xfdl.webform":{source:"iana"},"application/vnd.xmi+xml":{source:"iana",compressible:!0},"application/vnd.xmpie.cpkg":{source:"iana"},"application/vnd.xmpie.dpkg":{source:"iana"},"application/vnd.xmpie.plan":{source:"iana"},"application/vnd.xmpie.ppkg":{source:"iana"},"application/vnd.xmpie.xlim":{source:"iana"},"application/vnd.yamaha.hv-dic":{source:"iana",extensions:["hvd"]},"application/vnd.yamaha.hv-script":{source:"iana",extensions:["hvs"]},"application/vnd.yamaha.hv-voice":{source:"iana",extensions:["hvp"]},"application/vnd.yamaha.openscoreformat":{source:"iana",extensions:["osf"]},"application/vnd.yamaha.openscoreformat.osfpvg+xml":{source:"iana",compressible:!0,extensions:["osfpvg"]},"application/vnd.yamaha.remote-setup":{source:"iana"},"application/vnd.yamaha.smaf-audio":{source:"iana",extensions:["saf"]},"application/vnd.yamaha.smaf-phrase":{source:"iana",extensions:["spf"]},"application/vnd.yamaha.through-ngn":{source:"iana"},"application/vnd.yamaha.tunnel-udpencap":{source:"iana"},"application/vnd.yaoweme":{source:"iana"},"application/vnd.yellowriver-custom-menu":{source:"iana",extensions:["cmp"]},"application/vnd.youtube.yt":{source:"iana"},"application/vnd.zul":{source:"iana",extensions:["zir","zirz"]},"application/vnd.zzazz.deck+xml":{source:"iana",compressible:!0,extensions:["zaz"]},"application/voicexml+xml":{source:"iana",compressible:!0,extensions:["vxml"]},"application/voucher-cms+json":{source:"iana",compressible:!0},"application/vq-rtcpxr":{source:"iana"},"application/wasm":{source:"iana",compressible:!0,extensions:["wasm"]},"application/watcherinfo+xml":{source:"iana",compressible:!0,extensions:["wif"]},"application/webpush-options+json":{source:"iana",compressible:!0},"application/whoispp-query":{source:"iana"},"application/whoispp-response":{source:"iana"},"application/widget":{source:"iana",extensions:["wgt"]},"application/winhlp":{source:"apache",extensions:["hlp"]},"application/wita":{source:"iana"},"application/wordperfect5.1":{source:"iana"},"application/wsdl+xml":{source:"iana",compressible:!0,extensions:["wsdl"]},"application/wspolicy+xml":{source:"iana",compressible:!0,extensions:["wspolicy"]},"application/x-7z-compressed":{source:"apache",compressible:!1,extensions:["7z"]},"application/x-abiword":{source:"apache",extensions:["abw"]},"application/x-ace-compressed":{source:"apache",extensions:["ace"]},"application/x-amf":{source:"apache"},"application/x-apple-diskimage":{source:"apache",extensions:["dmg"]},"application/x-arj":{compressible:!1,extensions:["arj"]},"application/x-authorware-bin":{source:"apache",extensions:["aab","x32","u32","vox"]},"application/x-authorware-map":{source:"apache",extensions:["aam"]},"application/x-authorware-seg":{source:"apache",extensions:["aas"]},"application/x-bcpio":{source:"apache",extensions:["bcpio"]},"application/x-bdoc":{compressible:!1,extensions:["bdoc"]},"application/x-bittorrent":{source:"apache",extensions:["torrent"]},"application/x-blorb":{source:"apache",extensions:["blb","blorb"]},"application/x-bzip":{source:"apache",compressible:!1,extensions:["bz"]},"application/x-bzip2":{source:"apache",compressible:!1,extensions:["bz2","boz"]},"application/x-cbr":{source:"apache",extensions:["cbr","cba","cbt","cbz","cb7"]},"application/x-cdlink":{source:"apache",extensions:["vcd"]},"application/x-cfs-compressed":{source:"apache",extensions:["cfs"]},"application/x-chat":{source:"apache",extensions:["chat"]},"application/x-chess-pgn":{source:"apache",extensions:["pgn"]},"application/x-chrome-extension":{extensions:["crx"]},"application/x-cocoa":{source:"nginx",extensions:["cco"]},"application/x-compress":{source:"apache"},"application/x-conference":{source:"apache",extensions:["nsc"]},"application/x-cpio":{source:"apache",extensions:["cpio"]},"application/x-csh":{source:"apache",extensions:["csh"]},"application/x-deb":{compressible:!1},"application/x-debian-package":{source:"apache",extensions:["deb","udeb"]},"application/x-dgc-compressed":{source:"apache",extensions:["dgc"]},"application/x-director":{source:"apache",extensions:["dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"]},"application/x-doom":{source:"apache",extensions:["wad"]},"application/x-dtbncx+xml":{source:"apache",compressible:!0,extensions:["ncx"]},"application/x-dtbook+xml":{source:"apache",compressible:!0,extensions:["dtb"]},"application/x-dtbresource+xml":{source:"apache",compressible:!0,extensions:["res"]},"application/x-dvi":{source:"apache",compressible:!1,extensions:["dvi"]},"application/x-envoy":{source:"apache",extensions:["evy"]},"application/x-eva":{source:"apache",extensions:["eva"]},"application/x-font-bdf":{source:"apache",extensions:["bdf"]},"application/x-font-dos":{source:"apache"},"application/x-font-framemaker":{source:"apache"},"application/x-font-ghostscript":{source:"apache",extensions:["gsf"]},"application/x-font-libgrx":{source:"apache"},"application/x-font-linux-psf":{source:"apache",extensions:["psf"]},"application/x-font-pcf":{source:"apache",extensions:["pcf"]},"application/x-font-snf":{source:"apache",extensions:["snf"]},"application/x-font-speedo":{source:"apache"},"application/x-font-sunos-news":{source:"apache"},"application/x-font-type1":{source:"apache",extensions:["pfa","pfb","pfm","afm"]},"application/x-font-vfont":{source:"apache"},"application/x-freearc":{source:"apache",extensions:["arc"]},"application/x-futuresplash":{source:"apache",extensions:["spl"]},"application/x-gca-compressed":{source:"apache",extensions:["gca"]},"application/x-glulx":{source:"apache",extensions:["ulx"]},"application/x-gnumeric":{source:"apache",extensions:["gnumeric"]},"application/x-gramps-xml":{source:"apache",extensions:["gramps"]},"application/x-gtar":{source:"apache",extensions:["gtar"]},"application/x-gzip":{source:"apache"},"application/x-hdf":{source:"apache",extensions:["hdf"]},"application/x-httpd-php":{compressible:!0,extensions:["php"]},"application/x-install-instructions":{source:"apache",extensions:["install"]},"application/x-iso9660-image":{source:"apache",extensions:["iso"]},"application/x-iwork-keynote-sffkey":{extensions:["key"]},"application/x-iwork-numbers-sffnumbers":{extensions:["numbers"]},"application/x-iwork-pages-sffpages":{extensions:["pages"]},"application/x-java-archive-diff":{source:"nginx",extensions:["jardiff"]},"application/x-java-jnlp-file":{source:"apache",compressible:!1,extensions:["jnlp"]},"application/x-javascript":{compressible:!0},"application/x-keepass2":{extensions:["kdbx"]},"application/x-latex":{source:"apache",compressible:!1,extensions:["latex"]},"application/x-lua-bytecode":{extensions:["luac"]},"application/x-lzh-compressed":{source:"apache",extensions:["lzh","lha"]},"application/x-makeself":{source:"nginx",extensions:["run"]},"application/x-mie":{source:"apache",extensions:["mie"]},"application/x-mobipocket-ebook":{source:"apache",extensions:["prc","mobi"]},"application/x-mpegurl":{compressible:!1},"application/x-ms-application":{source:"apache",extensions:["application"]},"application/x-ms-shortcut":{source:"apache",extensions:["lnk"]},"application/x-ms-wmd":{source:"apache",extensions:["wmd"]},"application/x-ms-wmz":{source:"apache",extensions:["wmz"]},"application/x-ms-xbap":{source:"apache",extensions:["xbap"]},"application/x-msaccess":{source:"apache",extensions:["mdb"]},"application/x-msbinder":{source:"apache",extensions:["obd"]},"application/x-mscardfile":{source:"apache",extensions:["crd"]},"application/x-msclip":{source:"apache",extensions:["clp"]},"application/x-msdos-program":{extensions:["exe"]},"application/x-msdownload":{source:"apache",extensions:["exe","dll","com","bat","msi"]},"application/x-msmediaview":{source:"apache",extensions:["mvb","m13","m14"]},"application/x-msmetafile":{source:"apache",extensions:["wmf","wmz","emf","emz"]},"application/x-msmoney":{source:"apache",extensions:["mny"]},"application/x-mspublisher":{source:"apache",extensions:["pub"]},"application/x-msschedule":{source:"apache",extensions:["scd"]},"application/x-msterminal":{source:"apache",extensions:["trm"]},"application/x-mswrite":{source:"apache",extensions:["wri"]},"application/x-netcdf":{source:"apache",extensions:["nc","cdf"]},"application/x-ns-proxy-autoconfig":{compressible:!0,extensions:["pac"]},"application/x-nzb":{source:"apache",extensions:["nzb"]},"application/x-perl":{source:"nginx",extensions:["pl","pm"]},"application/x-pilot":{source:"nginx",extensions:["prc","pdb"]},"application/x-pkcs12":{source:"apache",compressible:!1,extensions:["p12","pfx"]},"application/x-pkcs7-certificates":{source:"apache",extensions:["p7b","spc"]},"application/x-pkcs7-certreqresp":{source:"apache",extensions:["p7r"]},"application/x-pki-message":{source:"iana"},"application/x-rar-compressed":{source:"apache",compressible:!1,extensions:["rar"]},"application/x-redhat-package-manager":{source:"nginx",extensions:["rpm"]},"application/x-research-info-systems":{source:"apache",extensions:["ris"]},"application/x-sea":{source:"nginx",extensions:["sea"]},"application/x-sh":{source:"apache",compressible:!0,extensions:["sh"]},"application/x-shar":{source:"apache",extensions:["shar"]},"application/x-shockwave-flash":{source:"apache",compressible:!1,extensions:["swf"]},"application/x-silverlight-app":{source:"apache",extensions:["xap"]},"application/x-sql":{source:"apache",extensions:["sql"]},"application/x-stuffit":{source:"apache",compressible:!1,extensions:["sit"]},"application/x-stuffitx":{source:"apache",extensions:["sitx"]},"application/x-subrip":{source:"apache",extensions:["srt"]},"application/x-sv4cpio":{source:"apache",extensions:["sv4cpio"]},"application/x-sv4crc":{source:"apache",extensions:["sv4crc"]},"application/x-t3vm-image":{source:"apache",extensions:["t3"]},"application/x-tads":{source:"apache",extensions:["gam"]},"application/x-tar":{source:"apache",compressible:!0,extensions:["tar"]},"application/x-tcl":{source:"apache",extensions:["tcl","tk"]},"application/x-tex":{source:"apache",extensions:["tex"]},"application/x-tex-tfm":{source:"apache",extensions:["tfm"]},"application/x-texinfo":{source:"apache",extensions:["texinfo","texi"]},"application/x-tgif":{source:"apache",extensions:["obj"]},"application/x-ustar":{source:"apache",extensions:["ustar"]},"application/x-virtualbox-hdd":{compressible:!0,extensions:["hdd"]},"application/x-virtualbox-ova":{compressible:!0,extensions:["ova"]},"application/x-virtualbox-ovf":{compressible:!0,extensions:["ovf"]},"application/x-virtualbox-vbox":{compressible:!0,extensions:["vbox"]},"application/x-virtualbox-vbox-extpack":{compressible:!1,extensions:["vbox-extpack"]},"application/x-virtualbox-vdi":{compressible:!0,extensions:["vdi"]},"application/x-virtualbox-vhd":{compressible:!0,extensions:["vhd"]},"application/x-virtualbox-vmdk":{compressible:!0,extensions:["vmdk"]},"application/x-wais-source":{source:"apache",extensions:["src"]},"application/x-web-app-manifest+json":{compressible:!0,extensions:["webapp"]},"application/x-www-form-urlencoded":{source:"iana",compressible:!0},"application/x-x509-ca-cert":{source:"iana",extensions:["der","crt","pem"]},"application/x-x509-ca-ra-cert":{source:"iana"},"application/x-x509-next-ca-cert":{source:"iana"},"application/x-xfig":{source:"apache",extensions:["fig"]},"application/x-xliff+xml":{source:"apache",compressible:!0,extensions:["xlf"]},"application/x-xpinstall":{source:"apache",compressible:!1,extensions:["xpi"]},"application/x-xz":{source:"apache",extensions:["xz"]},"application/x-zmachine":{source:"apache",extensions:["z1","z2","z3","z4","z5","z6","z7","z8"]},"application/x400-bp":{source:"iana"},"application/xacml+xml":{source:"iana",compressible:!0},"application/xaml+xml":{source:"apache",compressible:!0,extensions:["xaml"]},"application/xcap-att+xml":{source:"iana",compressible:!0,extensions:["xav"]},"application/xcap-caps+xml":{source:"iana",compressible:!0,extensions:["xca"]},"application/xcap-diff+xml":{source:"iana",compressible:!0,extensions:["xdf"]},"application/xcap-el+xml":{source:"iana",compressible:!0,extensions:["xel"]},"application/xcap-error+xml":{source:"iana",compressible:!0},"application/xcap-ns+xml":{source:"iana",compressible:!0,extensions:["xns"]},"application/xcon-conference-info+xml":{source:"iana",compressible:!0},"application/xcon-conference-info-diff+xml":{source:"iana",compressible:!0},"application/xenc+xml":{source:"iana",compressible:!0,extensions:["xenc"]},"application/xhtml+xml":{source:"iana",compressible:!0,extensions:["xhtml","xht"]},"application/xhtml-voice+xml":{source:"apache",compressible:!0},"application/xliff+xml":{source:"iana",compressible:!0,extensions:["xlf"]},"application/xml":{source:"iana",compressible:!0,extensions:["xml","xsl","xsd","rng"]},"application/xml-dtd":{source:"iana",compressible:!0,extensions:["dtd"]},"application/xml-external-parsed-entity":{source:"iana"},"application/xml-patch+xml":{source:"iana",compressible:!0},"application/xmpp+xml":{source:"iana",compressible:!0},"application/xop+xml":{source:"iana",compressible:!0,extensions:["xop"]},"application/xproc+xml":{source:"apache",compressible:!0,extensions:["xpl"]},"application/xslt+xml":{source:"iana",compressible:!0,extensions:["xsl","xslt"]},"application/xspf+xml":{source:"apache",compressible:!0,extensions:["xspf"]},"application/xv+xml":{source:"iana",compressible:!0,extensions:["mxml","xhvml","xvml","xvm"]},"application/yang":{source:"iana",extensions:["yang"]},"application/yang-data+json":{source:"iana",compressible:!0},"application/yang-data+xml":{source:"iana",compressible:!0},"application/yang-patch+json":{source:"iana",compressible:!0},"application/yang-patch+xml":{source:"iana",compressible:!0},"application/yin+xml":{source:"iana",compressible:!0,extensions:["yin"]},"application/zip":{source:"iana",compressible:!1,extensions:["zip"]},"application/zlib":{source:"iana"},"application/zstd":{source:"iana"},"audio/1d-interleaved-parityfec":{source:"iana"},"audio/32kadpcm":{source:"iana"},"audio/3gpp":{source:"iana",compressible:!1,extensions:["3gpp"]},"audio/3gpp2":{source:"iana"},"audio/aac":{source:"iana"},"audio/ac3":{source:"iana"},"audio/adpcm":{source:"apache",extensions:["adp"]},"audio/amr":{source:"iana",extensions:["amr"]},"audio/amr-wb":{source:"iana"},"audio/amr-wb+":{source:"iana"},"audio/aptx":{source:"iana"},"audio/asc":{source:"iana"},"audio/atrac-advanced-lossless":{source:"iana"},"audio/atrac-x":{source:"iana"},"audio/atrac3":{source:"iana"},"audio/basic":{source:"iana",compressible:!1,extensions:["au","snd"]},"audio/bv16":{source:"iana"},"audio/bv32":{source:"iana"},"audio/clearmode":{source:"iana"},"audio/cn":{source:"iana"},"audio/dat12":{source:"iana"},"audio/dls":{source:"iana"},"audio/dsr-es201108":{source:"iana"},"audio/dsr-es202050":{source:"iana"},"audio/dsr-es202211":{source:"iana"},"audio/dsr-es202212":{source:"iana"},"audio/dv":{source:"iana"},"audio/dvi4":{source:"iana"},"audio/eac3":{source:"iana"},"audio/encaprtp":{source:"iana"},"audio/evrc":{source:"iana"},"audio/evrc-qcp":{source:"iana"},"audio/evrc0":{source:"iana"},"audio/evrc1":{source:"iana"},"audio/evrcb":{source:"iana"},"audio/evrcb0":{source:"iana"},"audio/evrcb1":{source:"iana"},"audio/evrcnw":{source:"iana"},"audio/evrcnw0":{source:"iana"},"audio/evrcnw1":{source:"iana"},"audio/evrcwb":{source:"iana"},"audio/evrcwb0":{source:"iana"},"audio/evrcwb1":{source:"iana"},"audio/evs":{source:"iana"},"audio/flexfec":{source:"iana"},"audio/fwdred":{source:"iana"},"audio/g711-0":{source:"iana"},"audio/g719":{source:"iana"},"audio/g722":{source:"iana"},"audio/g7221":{source:"iana"},"audio/g723":{source:"iana"},"audio/g726-16":{source:"iana"},"audio/g726-24":{source:"iana"},"audio/g726-32":{source:"iana"},"audio/g726-40":{source:"iana"},"audio/g728":{source:"iana"},"audio/g729":{source:"iana"},"audio/g7291":{source:"iana"},"audio/g729d":{source:"iana"},"audio/g729e":{source:"iana"},"audio/gsm":{source:"iana"},"audio/gsm-efr":{source:"iana"},"audio/gsm-hr-08":{source:"iana"},"audio/ilbc":{source:"iana"},"audio/ip-mr_v2.5":{source:"iana"},"audio/isac":{source:"apache"},"audio/l16":{source:"iana"},"audio/l20":{source:"iana"},"audio/l24":{source:"iana",compressible:!1},"audio/l8":{source:"iana"},"audio/lpc":{source:"iana"},"audio/melp":{source:"iana"},"audio/melp1200":{source:"iana"},"audio/melp2400":{source:"iana"},"audio/melp600":{source:"iana"},"audio/mhas":{source:"iana"},"audio/midi":{source:"apache",extensions:["mid","midi","kar","rmi"]},"audio/mobile-xmf":{source:"iana",extensions:["mxmf"]},"audio/mp3":{compressible:!1,extensions:["mp3"]},"audio/mp4":{source:"iana",compressible:!1,extensions:["m4a","mp4a"]},"audio/mp4a-latm":{source:"iana"},"audio/mpa":{source:"iana"},"audio/mpa-robust":{source:"iana"},"audio/mpeg":{source:"iana",compressible:!1,extensions:["mpga","mp2","mp2a","mp3","m2a","m3a"]},"audio/mpeg4-generic":{source:"iana"},"audio/musepack":{source:"apache"},"audio/ogg":{source:"iana",compressible:!1,extensions:["oga","ogg","spx","opus"]},"audio/opus":{source:"iana"},"audio/parityfec":{source:"iana"},"audio/pcma":{source:"iana"},"audio/pcma-wb":{source:"iana"},"audio/pcmu":{source:"iana"},"audio/pcmu-wb":{source:"iana"},"audio/prs.sid":{source:"iana"},"audio/qcelp":{source:"iana"},"audio/raptorfec":{source:"iana"},"audio/red":{source:"iana"},"audio/rtp-enc-aescm128":{source:"iana"},"audio/rtp-midi":{source:"iana"},"audio/rtploopback":{source:"iana"},"audio/rtx":{source:"iana"},"audio/s3m":{source:"apache",extensions:["s3m"]},"audio/scip":{source:"iana"},"audio/silk":{source:"apache",extensions:["sil"]},"audio/smv":{source:"iana"},"audio/smv-qcp":{source:"iana"},"audio/smv0":{source:"iana"},"audio/sofa":{source:"iana"},"audio/sp-midi":{source:"iana"},"audio/speex":{source:"iana"},"audio/t140c":{source:"iana"},"audio/t38":{source:"iana"},"audio/telephone-event":{source:"iana"},"audio/tetra_acelp":{source:"iana"},"audio/tetra_acelp_bb":{source:"iana"},"audio/tone":{source:"iana"},"audio/tsvcis":{source:"iana"},"audio/uemclip":{source:"iana"},"audio/ulpfec":{source:"iana"},"audio/usac":{source:"iana"},"audio/vdvi":{source:"iana"},"audio/vmr-wb":{source:"iana"},"audio/vnd.3gpp.iufp":{source:"iana"},"audio/vnd.4sb":{source:"iana"},"audio/vnd.audiokoz":{source:"iana"},"audio/vnd.celp":{source:"iana"},"audio/vnd.cisco.nse":{source:"iana"},"audio/vnd.cmles.radio-events":{source:"iana"},"audio/vnd.cns.anp1":{source:"iana"},"audio/vnd.cns.inf1":{source:"iana"},"audio/vnd.dece.audio":{source:"iana",extensions:["uva","uvva"]},"audio/vnd.digital-winds":{source:"iana",extensions:["eol"]},"audio/vnd.dlna.adts":{source:"iana"},"audio/vnd.dolby.heaac.1":{source:"iana"},"audio/vnd.dolby.heaac.2":{source:"iana"},"audio/vnd.dolby.mlp":{source:"iana"},"audio/vnd.dolby.mps":{source:"iana"},"audio/vnd.dolby.pl2":{source:"iana"},"audio/vnd.dolby.pl2x":{source:"iana"},"audio/vnd.dolby.pl2z":{source:"iana"},"audio/vnd.dolby.pulse.1":{source:"iana"},"audio/vnd.dra":{source:"iana",extensions:["dra"]},"audio/vnd.dts":{source:"iana",extensions:["dts"]},"audio/vnd.dts.hd":{source:"iana",extensions:["dtshd"]},"audio/vnd.dts.uhd":{source:"iana"},"audio/vnd.dvb.file":{source:"iana"},"audio/vnd.everad.plj":{source:"iana"},"audio/vnd.hns.audio":{source:"iana"},"audio/vnd.lucent.voice":{source:"iana",extensions:["lvp"]},"audio/vnd.ms-playready.media.pya":{source:"iana",extensions:["pya"]},"audio/vnd.nokia.mobile-xmf":{source:"iana"},"audio/vnd.nortel.vbk":{source:"iana"},"audio/vnd.nuera.ecelp4800":{source:"iana",extensions:["ecelp4800"]},"audio/vnd.nuera.ecelp7470":{source:"iana",extensions:["ecelp7470"]},"audio/vnd.nuera.ecelp9600":{source:"iana",extensions:["ecelp9600"]},"audio/vnd.octel.sbc":{source:"iana"},"audio/vnd.presonus.multitrack":{source:"iana"},"audio/vnd.qcelp":{source:"iana"},"audio/vnd.rhetorex.32kadpcm":{source:"iana"},"audio/vnd.rip":{source:"iana",extensions:["rip"]},"audio/vnd.rn-realaudio":{compressible:!1},"audio/vnd.sealedmedia.softseal.mpeg":{source:"iana"},"audio/vnd.vmx.cvsd":{source:"iana"},"audio/vnd.wave":{compressible:!1},"audio/vorbis":{source:"iana",compressible:!1},"audio/vorbis-config":{source:"iana"},"audio/wav":{compressible:!1,extensions:["wav"]},"audio/wave":{compressible:!1,extensions:["wav"]},"audio/webm":{source:"apache",compressible:!1,extensions:["weba"]},"audio/x-aac":{source:"apache",compressible:!1,extensions:["aac"]},"audio/x-aiff":{source:"apache",extensions:["aif","aiff","aifc"]},"audio/x-caf":{source:"apache",compressible:!1,extensions:["caf"]},"audio/x-flac":{source:"apache",extensions:["flac"]},"audio/x-m4a":{source:"nginx",extensions:["m4a"]},"audio/x-matroska":{source:"apache",extensions:["mka"]},"audio/x-mpegurl":{source:"apache",extensions:["m3u"]},"audio/x-ms-wax":{source:"apache",extensions:["wax"]},"audio/x-ms-wma":{source:"apache",extensions:["wma"]},"audio/x-pn-realaudio":{source:"apache",extensions:["ram","ra"]},"audio/x-pn-realaudio-plugin":{source:"apache",extensions:["rmp"]},"audio/x-realaudio":{source:"nginx",extensions:["ra"]},"audio/x-tta":{source:"apache"},"audio/x-wav":{source:"apache",extensions:["wav"]},"audio/xm":{source:"apache",extensions:["xm"]},"chemical/x-cdx":{source:"apache",extensions:["cdx"]},"chemical/x-cif":{source:"apache",extensions:["cif"]},"chemical/x-cmdf":{source:"apache",extensions:["cmdf"]},"chemical/x-cml":{source:"apache",extensions:["cml"]},"chemical/x-csml":{source:"apache",extensions:["csml"]},"chemical/x-pdb":{source:"apache"},"chemical/x-xyz":{source:"apache",extensions:["xyz"]},"font/collection":{source:"iana",extensions:["ttc"]},"font/otf":{source:"iana",compressible:!0,extensions:["otf"]},"font/sfnt":{source:"iana"},"font/ttf":{source:"iana",compressible:!0,extensions:["ttf"]},"font/woff":{source:"iana",extensions:["woff"]},"font/woff2":{source:"iana",extensions:["woff2"]},"image/aces":{source:"iana",extensions:["exr"]},"image/apng":{compressible:!1,extensions:["apng"]},"image/avci":{source:"iana",extensions:["avci"]},"image/avcs":{source:"iana",extensions:["avcs"]},"image/avif":{source:"iana",compressible:!1,extensions:["avif"]},"image/bmp":{source:"iana",compressible:!0,extensions:["bmp"]},"image/cgm":{source:"iana",extensions:["cgm"]},"image/dicom-rle":{source:"iana",extensions:["drle"]},"image/emf":{source:"iana",extensions:["emf"]},"image/fits":{source:"iana",extensions:["fits"]},"image/g3fax":{source:"iana",extensions:["g3"]},"image/gif":{source:"iana",compressible:!1,extensions:["gif"]},"image/heic":{source:"iana",extensions:["heic"]},"image/heic-sequence":{source:"iana",extensions:["heics"]},"image/heif":{source:"iana",extensions:["heif"]},"image/heif-sequence":{source:"iana",extensions:["heifs"]},"image/hej2k":{source:"iana",extensions:["hej2"]},"image/hsj2":{source:"iana",extensions:["hsj2"]},"image/ief":{source:"iana",extensions:["ief"]},"image/jls":{source:"iana",extensions:["jls"]},"image/jp2":{source:"iana",compressible:!1,extensions:["jp2","jpg2"]},"image/jpeg":{source:"iana",compressible:!1,extensions:["jpeg","jpg","jpe"]},"image/jph":{source:"iana",extensions:["jph"]},"image/jphc":{source:"iana",extensions:["jhc"]},"image/jpm":{source:"iana",compressible:!1,extensions:["jpm"]},"image/jpx":{source:"iana",compressible:!1,extensions:["jpx","jpf"]},"image/jxr":{source:"iana",extensions:["jxr"]},"image/jxra":{source:"iana",extensions:["jxra"]},"image/jxrs":{source:"iana",extensions:["jxrs"]},"image/jxs":{source:"iana",extensions:["jxs"]},"image/jxsc":{source:"iana",extensions:["jxsc"]},"image/jxsi":{source:"iana",extensions:["jxsi"]},"image/jxss":{source:"iana",extensions:["jxss"]},"image/ktx":{source:"iana",extensions:["ktx"]},"image/ktx2":{source:"iana",extensions:["ktx2"]},"image/naplps":{source:"iana"},"image/pjpeg":{compressible:!1},"image/png":{source:"iana",compressible:!1,extensions:["png"]},"image/prs.btif":{source:"iana",extensions:["btif"]},"image/prs.pti":{source:"iana",extensions:["pti"]},"image/pwg-raster":{source:"iana"},"image/sgi":{source:"apache",extensions:["sgi"]},"image/svg+xml":{source:"iana",compressible:!0,extensions:["svg","svgz"]},"image/t38":{source:"iana",extensions:["t38"]},"image/tiff":{source:"iana",compressible:!1,extensions:["tif","tiff"]},"image/tiff-fx":{source:"iana",extensions:["tfx"]},"image/vnd.adobe.photoshop":{source:"iana",compressible:!0,extensions:["psd"]},"image/vnd.airzip.accelerator.azv":{source:"iana",extensions:["azv"]},"image/vnd.cns.inf2":{source:"iana"},"image/vnd.dece.graphic":{source:"iana",extensions:["uvi","uvvi","uvg","uvvg"]},"image/vnd.djvu":{source:"iana",extensions:["djvu","djv"]},"image/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"image/vnd.dwg":{source:"iana",extensions:["dwg"]},"image/vnd.dxf":{source:"iana",extensions:["dxf"]},"image/vnd.fastbidsheet":{source:"iana",extensions:["fbs"]},"image/vnd.fpx":{source:"iana",extensions:["fpx"]},"image/vnd.fst":{source:"iana",extensions:["fst"]},"image/vnd.fujixerox.edmics-mmr":{source:"iana",extensions:["mmr"]},"image/vnd.fujixerox.edmics-rlc":{source:"iana",extensions:["rlc"]},"image/vnd.globalgraphics.pgb":{source:"iana"},"image/vnd.microsoft.icon":{source:"iana",compressible:!0,extensions:["ico"]},"image/vnd.mix":{source:"iana"},"image/vnd.mozilla.apng":{source:"iana"},"image/vnd.ms-dds":{compressible:!0,extensions:["dds"]},"image/vnd.ms-modi":{source:"iana",extensions:["mdi"]},"image/vnd.ms-photo":{source:"apache",extensions:["wdp"]},"image/vnd.net-fpx":{source:"iana",extensions:["npx"]},"image/vnd.pco.b16":{source:"iana",extensions:["b16"]},"image/vnd.radiance":{source:"iana"},"image/vnd.sealed.png":{source:"iana"},"image/vnd.sealedmedia.softseal.gif":{source:"iana"},"image/vnd.sealedmedia.softseal.jpg":{source:"iana"},"image/vnd.svf":{source:"iana"},"image/vnd.tencent.tap":{source:"iana",extensions:["tap"]},"image/vnd.valve.source.texture":{source:"iana",extensions:["vtf"]},"image/vnd.wap.wbmp":{source:"iana",extensions:["wbmp"]},"image/vnd.xiff":{source:"iana",extensions:["xif"]},"image/vnd.zbrush.pcx":{source:"iana",extensions:["pcx"]},"image/webp":{source:"apache",extensions:["webp"]},"image/wmf":{source:"iana",extensions:["wmf"]},"image/x-3ds":{source:"apache",extensions:["3ds"]},"image/x-cmu-raster":{source:"apache",extensions:["ras"]},"image/x-cmx":{source:"apache",extensions:["cmx"]},"image/x-freehand":{source:"apache",extensions:["fh","fhc","fh4","fh5","fh7"]},"image/x-icon":{source:"apache",compressible:!0,extensions:["ico"]},"image/x-jng":{source:"nginx",extensions:["jng"]},"image/x-mrsid-image":{source:"apache",extensions:["sid"]},"image/x-ms-bmp":{source:"nginx",compressible:!0,extensions:["bmp"]},"image/x-pcx":{source:"apache",extensions:["pcx"]},"image/x-pict":{source:"apache",extensions:["pic","pct"]},"image/x-portable-anymap":{source:"apache",extensions:["pnm"]},"image/x-portable-bitmap":{source:"apache",extensions:["pbm"]},"image/x-portable-graymap":{source:"apache",extensions:["pgm"]},"image/x-portable-pixmap":{source:"apache",extensions:["ppm"]},"image/x-rgb":{source:"apache",extensions:["rgb"]},"image/x-tga":{source:"apache",extensions:["tga"]},"image/x-xbitmap":{source:"apache",extensions:["xbm"]},"image/x-xcf":{compressible:!1},"image/x-xpixmap":{source:"apache",extensions:["xpm"]},"image/x-xwindowdump":{source:"apache",extensions:["xwd"]},"message/cpim":{source:"iana"},"message/delivery-status":{source:"iana"},"message/disposition-notification":{source:"iana",extensions:["disposition-notification"]},"message/external-body":{source:"iana"},"message/feedback-report":{source:"iana"},"message/global":{source:"iana",extensions:["u8msg"]},"message/global-delivery-status":{source:"iana",extensions:["u8dsn"]},"message/global-disposition-notification":{source:"iana",extensions:["u8mdn"]},"message/global-headers":{source:"iana",extensions:["u8hdr"]},"message/http":{source:"iana",compressible:!1},"message/imdn+xml":{source:"iana",compressible:!0},"message/news":{source:"iana"},"message/partial":{source:"iana",compressible:!1},"message/rfc822":{source:"iana",compressible:!0,extensions:["eml","mime"]},"message/s-http":{source:"iana"},"message/sip":{source:"iana"},"message/sipfrag":{source:"iana"},"message/tracking-status":{source:"iana"},"message/vnd.si.simp":{source:"iana"},"message/vnd.wfa.wsc":{source:"iana",extensions:["wsc"]},"model/3mf":{source:"iana",extensions:["3mf"]},"model/e57":{source:"iana"},"model/gltf+json":{source:"iana",compressible:!0,extensions:["gltf"]},"model/gltf-binary":{source:"iana",compressible:!0,extensions:["glb"]},"model/iges":{source:"iana",compressible:!1,extensions:["igs","iges"]},"model/mesh":{source:"iana",compressible:!1,extensions:["msh","mesh","silo"]},"model/mtl":{source:"iana",extensions:["mtl"]},"model/obj":{source:"iana",extensions:["obj"]},"model/step":{source:"iana"},"model/step+xml":{source:"iana",compressible:!0,extensions:["stpx"]},"model/step+zip":{source:"iana",compressible:!1,extensions:["stpz"]},"model/step-xml+zip":{source:"iana",compressible:!1,extensions:["stpxz"]},"model/stl":{source:"iana",extensions:["stl"]},"model/vnd.collada+xml":{source:"iana",compressible:!0,extensions:["dae"]},"model/vnd.dwf":{source:"iana",extensions:["dwf"]},"model/vnd.flatland.3dml":{source:"iana"},"model/vnd.gdl":{source:"iana",extensions:["gdl"]},"model/vnd.gs-gdl":{source:"apache"},"model/vnd.gs.gdl":{source:"iana"},"model/vnd.gtw":{source:"iana",extensions:["gtw"]},"model/vnd.moml+xml":{source:"iana",compressible:!0},"model/vnd.mts":{source:"iana",extensions:["mts"]},"model/vnd.opengex":{source:"iana",extensions:["ogex"]},"model/vnd.parasolid.transmit.binary":{source:"iana",extensions:["x_b"]},"model/vnd.parasolid.transmit.text":{source:"iana",extensions:["x_t"]},"model/vnd.pytha.pyox":{source:"iana"},"model/vnd.rosette.annotated-data-model":{source:"iana"},"model/vnd.sap.vds":{source:"iana",extensions:["vds"]},"model/vnd.usdz+zip":{source:"iana",compressible:!1,extensions:["usdz"]},"model/vnd.valve.source.compiled-map":{source:"iana",extensions:["bsp"]},"model/vnd.vtu":{source:"iana",extensions:["vtu"]},"model/vrml":{source:"iana",compressible:!1,extensions:["wrl","vrml"]},"model/x3d+binary":{source:"apache",compressible:!1,extensions:["x3db","x3dbz"]},"model/x3d+fastinfoset":{source:"iana",extensions:["x3db"]},"model/x3d+vrml":{source:"apache",compressible:!1,extensions:["x3dv","x3dvz"]},"model/x3d+xml":{source:"iana",compressible:!0,extensions:["x3d","x3dz"]},"model/x3d-vrml":{source:"iana",extensions:["x3dv"]},"multipart/alternative":{source:"iana",compressible:!1},"multipart/appledouble":{source:"iana"},"multipart/byteranges":{source:"iana"},"multipart/digest":{source:"iana"},"multipart/encrypted":{source:"iana",compressible:!1},"multipart/form-data":{source:"iana",compressible:!1},"multipart/header-set":{source:"iana"},"multipart/mixed":{source:"iana"},"multipart/multilingual":{source:"iana"},"multipart/parallel":{source:"iana"},"multipart/related":{source:"iana",compressible:!1},"multipart/report":{source:"iana"},"multipart/signed":{source:"iana",compressible:!1},"multipart/vnd.bint.med-plus":{source:"iana"},"multipart/voice-message":{source:"iana"},"multipart/x-mixed-replace":{source:"iana"},"text/1d-interleaved-parityfec":{source:"iana"},"text/cache-manifest":{source:"iana",compressible:!0,extensions:["appcache","manifest"]},"text/calendar":{source:"iana",extensions:["ics","ifb"]},"text/calender":{compressible:!0},"text/cmd":{compressible:!0},"text/coffeescript":{extensions:["coffee","litcoffee"]},"text/cql":{source:"iana"},"text/cql-expression":{source:"iana"},"text/cql-identifier":{source:"iana"},"text/css":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["css"]},"text/csv":{source:"iana",compressible:!0,extensions:["csv"]},"text/csv-schema":{source:"iana"},"text/directory":{source:"iana"},"text/dns":{source:"iana"},"text/ecmascript":{source:"iana"},"text/encaprtp":{source:"iana"},"text/enriched":{source:"iana"},"text/fhirpath":{source:"iana"},"text/flexfec":{source:"iana"},"text/fwdred":{source:"iana"},"text/gff3":{source:"iana"},"text/grammar-ref-list":{source:"iana"},"text/html":{source:"iana",compressible:!0,extensions:["html","htm","shtml"]},"text/jade":{extensions:["jade"]},"text/javascript":{source:"iana",compressible:!0},"text/jcr-cnd":{source:"iana"},"text/jsx":{compressible:!0,extensions:["jsx"]},"text/less":{compressible:!0,extensions:["less"]},"text/markdown":{source:"iana",compressible:!0,extensions:["markdown","md"]},"text/mathml":{source:"nginx",extensions:["mml"]},"text/mdx":{compressible:!0,extensions:["mdx"]},"text/mizar":{source:"iana"},"text/n3":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["n3"]},"text/parameters":{source:"iana",charset:"UTF-8"},"text/parityfec":{source:"iana"},"text/plain":{source:"iana",compressible:!0,extensions:["txt","text","conf","def","list","log","in","ini"]},"text/provenance-notation":{source:"iana",charset:"UTF-8"},"text/prs.fallenstein.rst":{source:"iana"},"text/prs.lines.tag":{source:"iana",extensions:["dsc"]},"text/prs.prop.logic":{source:"iana"},"text/raptorfec":{source:"iana"},"text/red":{source:"iana"},"text/rfc822-headers":{source:"iana"},"text/richtext":{source:"iana",compressible:!0,extensions:["rtx"]},"text/rtf":{source:"iana",compressible:!0,extensions:["rtf"]},"text/rtp-enc-aescm128":{source:"iana"},"text/rtploopback":{source:"iana"},"text/rtx":{source:"iana"},"text/sgml":{source:"iana",extensions:["sgml","sgm"]},"text/shaclc":{source:"iana"},"text/shex":{source:"iana",extensions:["shex"]},"text/slim":{extensions:["slim","slm"]},"text/spdx":{source:"iana",extensions:["spdx"]},"text/strings":{source:"iana"},"text/stylus":{extensions:["stylus","styl"]},"text/t140":{source:"iana"},"text/tab-separated-values":{source:"iana",compressible:!0,extensions:["tsv"]},"text/troff":{source:"iana",extensions:["t","tr","roff","man","me","ms"]},"text/turtle":{source:"iana",charset:"UTF-8",extensions:["ttl"]},"text/ulpfec":{source:"iana"},"text/uri-list":{source:"iana",compressible:!0,extensions:["uri","uris","urls"]},"text/vcard":{source:"iana",compressible:!0,extensions:["vcard"]},"text/vnd.a":{source:"iana"},"text/vnd.abc":{source:"iana"},"text/vnd.ascii-art":{source:"iana"},"text/vnd.curl":{source:"iana",extensions:["curl"]},"text/vnd.curl.dcurl":{source:"apache",extensions:["dcurl"]},"text/vnd.curl.mcurl":{source:"apache",extensions:["mcurl"]},"text/vnd.curl.scurl":{source:"apache",extensions:["scurl"]},"text/vnd.debian.copyright":{source:"iana",charset:"UTF-8"},"text/vnd.dmclientscript":{source:"iana"},"text/vnd.dvb.subtitle":{source:"iana",extensions:["sub"]},"text/vnd.esmertec.theme-descriptor":{source:"iana",charset:"UTF-8"},"text/vnd.familysearch.gedcom":{source:"iana",extensions:["ged"]},"text/vnd.ficlab.flt":{source:"iana"},"text/vnd.fly":{source:"iana",extensions:["fly"]},"text/vnd.fmi.flexstor":{source:"iana",extensions:["flx"]},"text/vnd.gml":{source:"iana"},"text/vnd.graphviz":{source:"iana",extensions:["gv"]},"text/vnd.hans":{source:"iana"},"text/vnd.hgl":{source:"iana"},"text/vnd.in3d.3dml":{source:"iana",extensions:["3dml"]},"text/vnd.in3d.spot":{source:"iana",extensions:["spot"]},"text/vnd.iptc.newsml":{source:"iana"},"text/vnd.iptc.nitf":{source:"iana"},"text/vnd.latex-z":{source:"iana"},"text/vnd.motorola.reflex":{source:"iana"},"text/vnd.ms-mediapackage":{source:"iana"},"text/vnd.net2phone.commcenter.command":{source:"iana"},"text/vnd.radisys.msml-basic-layout":{source:"iana"},"text/vnd.senx.warpscript":{source:"iana"},"text/vnd.si.uricatalogue":{source:"iana"},"text/vnd.sosi":{source:"iana"},"text/vnd.sun.j2me.app-descriptor":{source:"iana",charset:"UTF-8",extensions:["jad"]},"text/vnd.trolltech.linguist":{source:"iana",charset:"UTF-8"},"text/vnd.wap.si":{source:"iana"},"text/vnd.wap.sl":{source:"iana"},"text/vnd.wap.wml":{source:"iana",extensions:["wml"]},"text/vnd.wap.wmlscript":{source:"iana",extensions:["wmls"]},"text/vtt":{source:"iana",charset:"UTF-8",compressible:!0,extensions:["vtt"]},"text/x-asm":{source:"apache",extensions:["s","asm"]},"text/x-c":{source:"apache",extensions:["c","cc","cxx","cpp","h","hh","dic"]},"text/x-component":{source:"nginx",extensions:["htc"]},"text/x-fortran":{source:"apache",extensions:["f","for","f77","f90"]},"text/x-gwt-rpc":{compressible:!0},"text/x-handlebars-template":{extensions:["hbs"]},"text/x-java-source":{source:"apache",extensions:["java"]},"text/x-jquery-tmpl":{compressible:!0},"text/x-lua":{extensions:["lua"]},"text/x-markdown":{compressible:!0,extensions:["mkd"]},"text/x-nfo":{source:"apache",extensions:["nfo"]},"text/x-opml":{source:"apache",extensions:["opml"]},"text/x-org":{compressible:!0,extensions:["org"]},"text/x-pascal":{source:"apache",extensions:["p","pas"]},"text/x-processing":{compressible:!0,extensions:["pde"]},"text/x-sass":{extensions:["sass"]},"text/x-scss":{extensions:["scss"]},"text/x-setext":{source:"apache",extensions:["etx"]},"text/x-sfv":{source:"apache",extensions:["sfv"]},"text/x-suse-ymp":{compressible:!0,extensions:["ymp"]},"text/x-uuencode":{source:"apache",extensions:["uu"]},"text/x-vcalendar":{source:"apache",extensions:["vcs"]},"text/x-vcard":{source:"apache",extensions:["vcf"]},"text/xml":{source:"iana",compressible:!0,extensions:["xml"]},"text/xml-external-parsed-entity":{source:"iana"},"text/yaml":{compressible:!0,extensions:["yaml","yml"]},"video/1d-interleaved-parityfec":{source:"iana"},"video/3gpp":{source:"iana",extensions:["3gp","3gpp"]},"video/3gpp-tt":{source:"iana"},"video/3gpp2":{source:"iana",extensions:["3g2"]},"video/av1":{source:"iana"},"video/bmpeg":{source:"iana"},"video/bt656":{source:"iana"},"video/celb":{source:"iana"},"video/dv":{source:"iana"},"video/encaprtp":{source:"iana"},"video/ffv1":{source:"iana"},"video/flexfec":{source:"iana"},"video/h261":{source:"iana",extensions:["h261"]},"video/h263":{source:"iana",extensions:["h263"]},"video/h263-1998":{source:"iana"},"video/h263-2000":{source:"iana"},"video/h264":{source:"iana",extensions:["h264"]},"video/h264-rcdo":{source:"iana"},"video/h264-svc":{source:"iana"},"video/h265":{source:"iana"},"video/iso.segment":{source:"iana",extensions:["m4s"]},"video/jpeg":{source:"iana",extensions:["jpgv"]},"video/jpeg2000":{source:"iana"},"video/jpm":{source:"apache",extensions:["jpm","jpgm"]},"video/jxsv":{source:"iana"},"video/mj2":{source:"iana",extensions:["mj2","mjp2"]},"video/mp1s":{source:"iana"},"video/mp2p":{source:"iana"},"video/mp2t":{source:"iana",extensions:["ts"]},"video/mp4":{source:"iana",compressible:!1,extensions:["mp4","mp4v","mpg4"]},"video/mp4v-es":{source:"iana"},"video/mpeg":{source:"iana",compressible:!1,extensions:["mpeg","mpg","mpe","m1v","m2v"]},"video/mpeg4-generic":{source:"iana"},"video/mpv":{source:"iana"},"video/nv":{source:"iana"},"video/ogg":{source:"iana",compressible:!1,extensions:["ogv"]},"video/parityfec":{source:"iana"},"video/pointer":{source:"iana"},"video/quicktime":{source:"iana",compressible:!1,extensions:["qt","mov"]},"video/raptorfec":{source:"iana"},"video/raw":{source:"iana"},"video/rtp-enc-aescm128":{source:"iana"},"video/rtploopback":{source:"iana"},"video/rtx":{source:"iana"},"video/scip":{source:"iana"},"video/smpte291":{source:"iana"},"video/smpte292m":{source:"iana"},"video/ulpfec":{source:"iana"},"video/vc1":{source:"iana"},"video/vc2":{source:"iana"},"video/vnd.cctv":{source:"iana"},"video/vnd.dece.hd":{source:"iana",extensions:["uvh","uvvh"]},"video/vnd.dece.mobile":{source:"iana",extensions:["uvm","uvvm"]},"video/vnd.dece.mp4":{source:"iana"},"video/vnd.dece.pd":{source:"iana",extensions:["uvp","uvvp"]},"video/vnd.dece.sd":{source:"iana",extensions:["uvs","uvvs"]},"video/vnd.dece.video":{source:"iana",extensions:["uvv","uvvv"]},"video/vnd.directv.mpeg":{source:"iana"},"video/vnd.directv.mpeg-tts":{source:"iana"},"video/vnd.dlna.mpeg-tts":{source:"iana"},"video/vnd.dvb.file":{source:"iana",extensions:["dvb"]},"video/vnd.fvt":{source:"iana",extensions:["fvt"]},"video/vnd.hns.video":{source:"iana"},"video/vnd.iptvforum.1dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.1dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.2dparityfec-1010":{source:"iana"},"video/vnd.iptvforum.2dparityfec-2005":{source:"iana"},"video/vnd.iptvforum.ttsavc":{source:"iana"},"video/vnd.iptvforum.ttsmpeg2":{source:"iana"},"video/vnd.motorola.video":{source:"iana"},"video/vnd.motorola.videop":{source:"iana"},"video/vnd.mpegurl":{source:"iana",extensions:["mxu","m4u"]},"video/vnd.ms-playready.media.pyv":{source:"iana",extensions:["pyv"]},"video/vnd.nokia.interleaved-multimedia":{source:"iana"},"video/vnd.nokia.mp4vr":{source:"iana"},"video/vnd.nokia.videovoip":{source:"iana"},"video/vnd.objectvideo":{source:"iana"},"video/vnd.radgamettools.bink":{source:"iana"},"video/vnd.radgamettools.smacker":{source:"iana"},"video/vnd.sealed.mpeg1":{source:"iana"},"video/vnd.sealed.mpeg4":{source:"iana"},"video/vnd.sealed.swf":{source:"iana"},"video/vnd.sealedmedia.softseal.mov":{source:"iana"},"video/vnd.uvvu.mp4":{source:"iana",extensions:["uvu","uvvu"]},"video/vnd.vivo":{source:"iana",extensions:["viv"]},"video/vnd.youtube.yt":{source:"iana"},"video/vp8":{source:"iana"},"video/vp9":{source:"iana"},"video/webm":{source:"apache",compressible:!1,extensions:["webm"]},"video/x-f4v":{source:"apache",extensions:["f4v"]},"video/x-fli":{source:"apache",extensions:["fli"]},"video/x-flv":{source:"apache",compressible:!1,extensions:["flv"]},"video/x-m4v":{source:"apache",extensions:["m4v"]},"video/x-matroska":{source:"apache",compressible:!1,extensions:["mkv","mk3d","mks"]},"video/x-mng":{source:"apache",extensions:["mng"]},"video/x-ms-asf":{source:"apache",extensions:["asf","asx"]},"video/x-ms-vob":{source:"apache",extensions:["vob"]},"video/x-ms-wm":{source:"apache",extensions:["wm"]},"video/x-ms-wmv":{source:"apache",compressible:!1,extensions:["wmv"]},"video/x-ms-wmx":{source:"apache",extensions:["wmx"]},"video/x-ms-wvx":{source:"apache",extensions:["wvx"]},"video/x-msvideo":{source:"apache",extensions:["avi"]},"video/x-sgi-movie":{source:"apache",extensions:["movie"]},"video/x-smv":{source:"apache",extensions:["smv"]},"x-conference/x-cooltalk":{source:"apache",extensions:["ice"]},"x-shader/x-fragment":{compressible:!0},"x-shader/x-vertex":{compressible:!0}}});var Xae=b((Ylt,Kae)=>{Kae.exports=Yae()});var Zae=b(Gi=>{"use strict";var PR=Xae(),kqe=require("path").extname,Qae=/^\s*([^;\s]*)(?:;|\s|$)/,Oqe=/^text\//i;Gi.charset=Jae;Gi.charsets={lookup:Jae};Gi.contentType=Nqe;Gi.extension=Lqe;Gi.extensions=Object.create(null);Gi.lookup=Fqe;Gi.types=Object.create(null);Mqe(Gi.extensions,Gi.types);function Jae(t){if(!t||typeof t!="string")return!1;var e=Qae.exec(t),n=e&&PR[e[1].toLowerCase()];return n&&n.charset?n.charset:e&&Oqe.test(e[1])?"UTF-8":!1}function Nqe(t){if(!t||typeof t!="string")return!1;var e=t.indexOf("/")===-1?Gi.lookup(t):t;if(!e)return!1;if(e.indexOf("charset")===-1){var n=Gi.charset(e);n&&(e+="; charset="+n.toLowerCase())}return e}function Lqe(t){if(!t||typeof t!="string")return!1;var e=Qae.exec(t),n=e&&Gi.extensions[e[1].toLowerCase()];return!n||!n.length?!1:n[0]}function Fqe(t){if(!t||typeof t!="string")return!1;var e=kqe("x."+t).toLowerCase().substr(1);return e&&Gi.types[e]||!1}function Mqe(t,e){var n=["nginx","apache",void 0,"iana"];Object.keys(PR).forEach(function(i){var o=PR[i],s=o.extensions;if(!(!s||!s.length)){t[i]=s;for(var a=0;a<s.length;a++){var u=s[a];if(e[u]){var c=n.indexOf(PR[e[u]].source),l=n.indexOf(o.source);if(e[u]!=="application/octet-stream"&&(c>l||c===l&&e[u].substr(0,12)==="application/"))continue}e[u]=i}}})}});var tce=b((Xlt,ece)=>{ece.exports=Uqe;function Uqe(t){var e=typeof setImmediate=="function"?setImmediate:typeof process=="object"&&typeof process.nextTick=="function"?process.nextTick:null;e?e(t):setTimeout(t,0)}});var Nj=b((Qlt,rce)=>{var nce=tce();rce.exports=qqe;function qqe(t){var e=!1;return nce(function(){e=!0}),function(r,i){e?t(r,i):nce(function(){t(r,i)})}}});var Lj=b((Jlt,ice)=>{ice.exports=jqe;function jqe(t){Object.keys(t.jobs).forEach(Hqe.bind(t)),t.jobs={}}function Hqe(t){typeof this.jobs[t]=="function"&&this.jobs[t]()}});var Fj=b((Zlt,sce)=>{var oce=Nj(),$qe=Lj();sce.exports=Bqe;function Bqe(t,e,n,r){var i=n.keyedList?n.keyedList[n.index]:n.index;n.jobs[i]=Vqe(e,i,t[i],function(o,s){i in n.jobs&&(delete n.jobs[i],o?$qe(n):n.results[i]=s,r(o,n.results))})}function Vqe(t,e,n,r){var i;return t.length==2?i=t(n,oce(r)):i=t(n,e,oce(r)),i}});var Mj=b((eft,ace)=>{ace.exports=Wqe;function Wqe(t,e){var n=!Array.isArray(t),r={index:0,keyedList:n||e?Object.keys(t):null,jobs:{},results:n?{}:[],size:n?Object.keys(t).length:t.length};return e&&r.keyedList.sort(n?e:function(i,o){return e(t[i],t[o])}),r}});var Uj=b((tft,cce)=>{var Gqe=Lj(),zqe=Nj();cce.exports=Yqe;function Yqe(t){Object.keys(this.jobs).length&&(this.index=this.size,Gqe(this),zqe(t)(null,this.results))}});var lce=b((nft,uce)=>{var Kqe=Fj(),Xqe=Mj(),Qqe=Uj();uce.exports=Jqe;function Jqe(t,e,n){for(var r=Xqe(t);r.index<(r.keyedList||t).length;)Kqe(t,e,r,function(i,o){if(i){n(i,o);return}if(Object.keys(r.jobs).length===0){n(null,r.results);return}}),r.index++;return Qqe.bind(r,n)}});var qj=b((rft,RR)=>{var fce=Fj(),Zqe=Mj(),e2e=Uj();RR.exports=t2e;RR.exports.ascending=dce;RR.exports.descending=n2e;function t2e(t,e,n,r){var i=Zqe(t,n);return fce(t,e,i,function o(s,a){if(s){r(s,a);return}if(i.index++,i.index<(i.keyedList||t).length){fce(t,e,i,o);return}r(null,i.results)}),e2e.bind(i,r)}function dce(t,e){return t<e?-1:t>e?1:0}function n2e(t,e){return-1*dce(t,e)}});var mce=b((ift,pce)=>{var r2e=qj();pce.exports=i2e;function i2e(t,e,n){return r2e(t,e,null,n)}});var gce=b((oft,hce)=>{hce.exports={parallel:lce(),serial:mce(),serialOrdered:qj()}});var yce=b((sft,vce)=>{vce.exports=function(t,e){return Object.keys(e).forEach(function(n){t[n]=t[n]||e[n]}),t}});var Ece=b((aft,wce)=>{var Bj=zae(),xce=require("util"),jj=require("path"),o2e=require("http"),s2e=require("https"),a2e=require("url").parse,c2e=require("fs"),u2e=require("stream").Stream,Hj=Zae(),l2e=gce(),$j=yce();wce.exports=at;xce.inherits(at,Bj);function at(t){if(!(this instanceof at))return new at(t);this._overheadLength=0,this._valueLength=0,this._valuesToMeasure=[],Bj.call(this),t=t||{};for(var e in t)this[e]=t[e]}at.LINE_BREAK=`\r
`;at.DEFAULT_CONTENT_TYPE="application/octet-stream";at.prototype.append=function(t,e,n){n=n||{},typeof n=="string"&&(n={filename:n});var r=Bj.prototype.append.bind(this);if(typeof e=="number"&&(e=""+e),xce.isArray(e)){this._error(new Error("Arrays are not supported."));return}var i=this._multiPartHeader(t,e,n),o=this._multiPartFooter();r(i),r(e),r(o),this._trackLength(i,e,n)};at.prototype._trackLength=function(t,e,n){var r=0;n.knownLength!=null?r+=+n.knownLength:Buffer.isBuffer(e)?r=e.length:typeof e=="string"&&(r=Buffer.byteLength(e)),this._valueLength+=r,this._overheadLength+=Buffer.byteLength(t)+at.LINE_BREAK.length,!(!e||!e.path&&!(e.readable&&e.hasOwnProperty("httpVersion"))&&!(e instanceof u2e))&&(n.knownLength||this._valuesToMeasure.push(e))};at.prototype._lengthRetriever=function(t,e){t.hasOwnProperty("fd")?t.end!=null&&t.end!=1/0&&t.start!=null?e(null,t.end+1-(t.start?t.start:0)):c2e.stat(t.path,function(n,r){var i;if(n){e(n);return}i=r.size-(t.start?t.start:0),e(null,i)}):t.hasOwnProperty("httpVersion")?e(null,+t.headers["content-length"]):t.hasOwnProperty("httpModule")?(t.on("response",function(n){t.pause(),e(null,+n.headers["content-length"])}),t.resume()):e("Unknown stream")};at.prototype._multiPartHeader=function(t,e,n){if(typeof n.header=="string")return n.header;var r=this._getContentDisposition(e,n),i=this._getContentType(e,n),o="",s={"Content-Disposition":["form-data",'name="'+t+'"'].concat(r||[]),"Content-Type":[].concat(i||[])};typeof n.header=="object"&&$j(s,n.header);var a;for(var u in s)s.hasOwnProperty(u)&&(a=s[u],a!=null&&(Array.isArray(a)||(a=[a]),a.length&&(o+=u+": "+a.join("; ")+at.LINE_BREAK)));return"--"+this.getBoundary()+at.LINE_BREAK+o+at.LINE_BREAK};at.prototype._getContentDisposition=function(t,e){var n,r;return typeof e.filepath=="string"?n=jj.normalize(e.filepath).replace(/\\/g,"/"):e.filename||t.name||t.path?n=jj.basename(e.filename||t.name||t.path):t.readable&&t.hasOwnProperty("httpVersion")&&(n=jj.basename(t.client._httpMessage.path||"")),n&&(r='filename="'+n+'"'),r};at.prototype._getContentType=function(t,e){var n=e.contentType;return!n&&t.name&&(n=Hj.lookup(t.name)),!n&&t.path&&(n=Hj.lookup(t.path)),!n&&t.readable&&t.hasOwnProperty("httpVersion")&&(n=t.headers["content-type"]),!n&&(e.filepath||e.filename)&&(n=Hj.lookup(e.filepath||e.filename)),!n&&typeof t=="object"&&(n=at.DEFAULT_CONTENT_TYPE),n};at.prototype._multiPartFooter=function(){return function(t){var e=at.LINE_BREAK,n=this._streams.length===0;n&&(e+=this._lastBoundary()),t(e)}.bind(this)};at.prototype._lastBoundary=function(){return"--"+this.getBoundary()+"--"+at.LINE_BREAK};at.prototype.getHeaders=function(t){var e,n={"content-type":"multipart/form-data; boundary="+this.getBoundary()};for(e in t)t.hasOwnProperty(e)&&(n[e.toLowerCase()]=t[e]);return n};at.prototype.setBoundary=function(t){this._boundary=t};at.prototype.getBoundary=function(){return this._boundary||this._generateBoundary(),this._boundary};at.prototype.getBuffer=function(){for(var t=new Buffer.alloc(0),e=this.getBoundary(),n=0,r=this._streams.length;n<r;n++)typeof this._streams[n]!="function"&&(Buffer.isBuffer(this._streams[n])?t=Buffer.concat([t,this._streams[n]]):t=Buffer.concat([t,Buffer.from(this._streams[n])]),(typeof this._streams[n]!="string"||this._streams[n].substring(2,e.length+2)!==e)&&(t=Buffer.concat([t,Buffer.from(at.LINE_BREAK)])));return Buffer.concat([t,Buffer.from(this._lastBoundary())])};at.prototype._generateBoundary=function(){for(var t="--------------------------",e=0;e<24;e++)t+=Math.floor(Math.random()*10).toString(16);this._boundary=t};at.prototype.getLengthSync=function(){var t=this._overheadLength+this._valueLength;return this._streams.length&&(t+=this._lastBoundary().length),this.hasKnownLength()||this._error(new Error("Cannot calculate proper length in synchronous way.")),t};at.prototype.hasKnownLength=function(){var t=!0;return this._valuesToMeasure.length&&(t=!1),t};at.prototype.getLength=function(t){var e=this._overheadLength+this._valueLength;if(this._streams.length&&(e+=this._lastBoundary().length),!this._valuesToMeasure.length){process.nextTick(t.bind(this,null,e));return}l2e.parallel(this._valuesToMeasure,this._lengthRetriever,function(n,r){if(n){t(n);return}r.forEach(function(i){e+=i}),t(null,e)})};at.prototype.submit=function(t,e){var n,r,i={method:"post"};return typeof t=="string"?(t=a2e(t),r=$j({port:t.port,path:t.pathname,host:t.hostname,protocol:t.protocol},i)):(r=$j(t,i),r.port||(r.port=r.protocol=="https:"?443:80)),r.headers=this.getHeaders(t.headers),r.protocol=="https:"?n=s2e.request(r):n=o2e.request(r),this.getLength(function(o,s){if(o&&o!=="Unknown stream"){this._error(o);return}if(s&&n.setHeader("Content-Length",s),this.pipe(n),e){var a,u=function(c,l){return n.removeListener("error",u),n.removeListener("response",a),e.call(this,c,l)};a=u.bind(this,null),n.on("error",u),n.on("response",a)}}.bind(this)),n};at.prototype._error=function(t){this.error||(this.error=t,this.pause(),this.emit("error",t))};at.prototype.toString=function(){return"[object FormData]"}});function AR(){return{name:Vj,async sendRequest(t,e){if(t.formData){let n=t.headers.get("Content-Type");n&&n.indexOf("application/x-www-form-urlencoded")!==-1?(t.body=f2e(t.formData),t.formData=void 0):await d2e(t.formData,t)}return e(t)}}}function f2e(t){let e=new URLSearchParams;for(let[n,r]of Object.entries(t))if(Array.isArray(r))for(let i of r)e.append(n,i.toString());else e.append(n,r.toString());return e.toString()}async function d2e(t,e){let n=new _ce.default;for(let i of Object.keys(t)){let o=t[i];if(Array.isArray(o))for(let s of o)n.append(i,s);else n.append(i,o)}e.body=n,e.formData=void 0;let r=e.headers.get("Content-Type");r&&r.indexOf("multipart/form-data")!==-1&&e.headers.set("Content-Type",`multipart/form-data; boundary=${n.getBoundary()}`);try{let i=await new Promise((o,s)=>{n.getLength((a,u)=>{a?s(a):o(u)})});e.headers.set("Content-Length",i)}catch{}}var _ce,Vj,Wj=k(()=>{_ce=B(Ece()),Vj="formDataPolicy"});var bce=b(Gj=>{"use strict";Object.defineProperty(Gj,"__esModule",{value:!0});function p2e(t){return function(e,n){return new Promise((r,i)=>{t.call(this,e,n,(o,s)=>{o?i(o):r(s)})})}}Gj.default=p2e});var Kj=b((Yj,Sce)=>{"use strict";var Cce=Yj&&Yj.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},m2e=require("events"),h2e=Cce(ku()),g2e=Cce(bce()),u_=h2e.default("agent-base");function v2e(t){return!!t&&typeof t.addRequest=="function"}function zj(){let{stack:t}=new Error;return typeof t!="string"?!1:t.split(`
`).some(e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1)}function DR(t,e){return new DR.Agent(t,e)}(function(t){class e extends m2e.EventEmitter{constructor(r,i){super();let o=i;typeof r=="function"?this.callback=r:r&&(o=r),this.timeout=null,o&&typeof o.timeout=="number"&&(this.timeout=o.timeout),this.maxFreeSockets=1,this.maxSockets=1,this.maxTotalSockets=1/0,this.sockets={},this.freeSockets={},this.requests={},this.options={}}get defaultPort(){return typeof this.explicitDefaultPort=="number"?this.explicitDefaultPort:zj()?443:80}set defaultPort(r){this.explicitDefaultPort=r}get protocol(){return typeof this.explicitProtocol=="string"?this.explicitProtocol:zj()?"https:":"http:"}set protocol(r){this.explicitProtocol=r}callback(r,i,o){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(r,i){let o=Object.assign({},i);typeof o.secureEndpoint!="boolean"&&(o.secureEndpoint=zj()),o.host==null&&(o.host="localhost"),o.port==null&&(o.port=o.secureEndpoint?443:80),o.protocol==null&&(o.protocol=o.secureEndpoint?"https:":"http:"),o.host&&o.path&&delete o.path,delete o.agent,delete o.hostname,delete o._defaultAgent,delete o.defaultPort,delete o.createConnection,r._last=!0,r.shouldKeepAlive=!1;let s=!1,a=null,u=o.timeout||this.timeout,c=p=>{r._hadError||(r.emit("error",p),r._hadError=!0)},l=()=>{a=null,s=!0;let p=new Error(`A "socket" was not created for HTTP request before ${u}ms`);p.code="ETIMEOUT",c(p)},f=p=>{s||(a!==null&&(clearTimeout(a),a=null),c(p))},d=p=>{if(s)return;if(a!=null&&(clearTimeout(a),a=null),v2e(p)){u_("Callback returned another Agent instance %o",p.constructor.name),p.addRequest(r,o);return}if(p){p.once("free",()=>{this.freeSocket(p,o)}),r.onSocket(p);return}let m=new Error(`no Duplex stream was returned to agent-base for \`${r.method} ${r.path}\``);c(m)};if(typeof this.callback!="function"){c(new Error("`callback` is not defined"));return}this.promisifiedCallback||(this.callback.length>=3?(u_("Converting legacy callback function to promise"),this.promisifiedCallback=g2e.default(this.callback)):this.promisifiedCallback=this.callback),typeof u=="number"&&u>0&&(a=setTimeout(l,u)),"port"in o&&typeof o.port!="number"&&(o.port=Number(o.port));try{u_("Resolving socket for %o request: %o",o.protocol,`${r.method} ${r.path}`),Promise.resolve(this.promisifiedCallback(r,o)).then(d,f)}catch(p){Promise.reject(p).catch(f)}}freeSocket(r,i){u_("Freeing socket %o %o",r.constructor.name,i),r.destroy()}destroy(){u_("Destroying agent %o",this.constructor.name)}}t.Agent=e,t.prototype=t.Agent.prototype})(DR||(DR={}));Sce.exports=DR});var Tce=b(f_=>{"use strict";var y2e=f_&&f_.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(f_,"__esModule",{value:!0});var x2e=y2e(ku()),l_=x2e.default("https-proxy-agent:parse-proxy-response");function w2e(t){return new Promise((e,n)=>{let r=0,i=[];function o(){let f=t.read();f?l(f):t.once("readable",o)}function s(){t.removeListener("end",u),t.removeListener("error",c),t.removeListener("close",a),t.removeListener("readable",o)}function a(f){l_("onclose had error %o",f)}function u(){l_("onend")}function c(f){s(),l_("onerror %o",f),n(f)}function l(f){i.push(f),r+=f.length;let d=Buffer.concat(i,r);if(d.indexOf(`\r
\r
`)===-1){l_("have not received end of HTTP headers yet..."),o();return}let m=d.toString("ascii",0,d.indexOf(`\r
`)),h=+m.split(" ")[1];l_("got proxy server response: %o",m),e({statusCode:h,buffered:d})}t.on("error",c),t.on("close",a),t.on("end",u),o()})}f_.default=w2e});var Rce=b(Hp=>{"use strict";var E2e=Hp&&Hp.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},Tv=Hp&&Hp.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hp,"__esModule",{value:!0});var Ice=Tv(require("net")),Pce=Tv(require("tls")),_2e=Tv(require("url")),b2e=Tv(require("assert")),C2e=Tv(ku()),S2e=Kj(),T2e=Tv(Tce()),d_=C2e.default("https-proxy-agent:agent"),Xj=class extends S2e.Agent{constructor(e){let n;if(typeof e=="string"?n=_2e.default.parse(e):n=e,!n)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");d_("creating new HttpsProxyAgent instance: %o",n),super(n);let r=Object.assign({},n);this.secureProxy=n.secureProxy||R2e(r.protocol),r.host=r.hostname||r.host,typeof r.port=="string"&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),this.secureProxy&&!("ALPNProtocols"in r)&&(r.ALPNProtocols=["http 1.1"]),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,n){return E2e(this,void 0,void 0,function*(){let{proxy:r,secureProxy:i}=this,o;i?(d_("Creating `tls.Socket`: %o",r),o=Pce.default.connect(r)):(d_("Creating `net.Socket`: %o",r),o=Ice.default.connect(r));let s=Object.assign({},r.headers),u=`CONNECT ${`${n.host}:${n.port}`} HTTP/1.1\r
`;r.auth&&(s["Proxy-Authorization"]=`Basic ${Buffer.from(r.auth).toString("base64")}`);let{host:c,port:l,secureEndpoint:f}=n;P2e(l,f)||(c+=`:${l}`),s.Host=c,s.Connection="close";for(let g of Object.keys(s))u+=`${g}: ${s[g]}\r
`;let d=T2e.default(o);o.write(`${u}\r
`);let{statusCode:p,buffered:m}=yield d;if(p===200){if(e.once("socket",I2e),n.secureEndpoint){d_("Upgrading socket connection to TLS");let g=n.servername||n.host;return Pce.default.connect(Object.assign(Object.assign({},A2e(n,"host","hostname","path","port")),{socket:o,servername:g}))}return o}o.destroy();let h=new Ice.default.Socket({writable:!1});return h.readable=!0,e.once("socket",g=>{d_("replaying proxy buffer for failed request"),b2e.default(g.listenerCount("data")>0),g.push(m),g.push(null)}),h})}};Hp.default=Xj;function I2e(t){t.resume()}function P2e(t,e){return!!(!e&&t===80||e&&t===443)}function R2e(t){return typeof t=="string"?/^https:?$/i.test(t):!1}function A2e(t,...e){let n={},r;for(r in t)e.includes(r)||(n[r]=t[r]);return n}});var Dce=b((Zj,Ace)=>{"use strict";var D2e=Zj&&Zj.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Qj=D2e(Rce());function Jj(t){return new Qj.default(t)}(function(t){t.HttpsProxyAgent=Qj.default,t.prototype=Qj.default.prototype})(Jj||(Jj={}));Ace.exports=Jj});var kce=b(eH=>{"use strict";Object.defineProperty(eH,"__esModule",{value:!0});function k2e(t,e,{signal:n}={}){return new Promise((r,i)=>{function o(){n==null||n.removeEventListener("abort",o),t.removeListener(e,s),t.removeListener("error",a)}function s(...u){o(),r(u)}function a(u){o(),i(u)}n==null||n.addEventListener("abort",o),t.on(e,s),t.on("error",a)})}eH.default=k2e});var Oce=b($p=>{"use strict";var O2e=$p&&$p.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},p_=$p&&$p.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($p,"__esModule",{value:!0});var N2e=p_(require("net")),L2e=p_(require("tls")),tH=p_(require("url")),F2e=p_(ku()),M2e=p_(kce()),U2e=Kj(),vf=(0,F2e.default)("http-proxy-agent");function q2e(t){return typeof t=="string"?/^https:?$/i.test(t):!1}var nH=class extends U2e.Agent{constructor(e){let n;if(typeof e=="string"?n=tH.default.parse(e):n=e,!n)throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!");vf("Creating new HttpProxyAgent instance: %o",n),super(n);let r=Object.assign({},n);this.secureProxy=n.secureProxy||q2e(r.protocol),r.host=r.hostname||r.host,typeof r.port=="string"&&(r.port=parseInt(r.port,10)),!r.port&&r.host&&(r.port=this.secureProxy?443:80),r.host&&r.path&&(delete r.path,delete r.pathname),this.proxy=r}callback(e,n){return O2e(this,void 0,void 0,function*(){let{proxy:r,secureProxy:i}=this,o=tH.default.parse(e.path);o.protocol||(o.protocol="http:"),o.hostname||(o.hostname=n.hostname||n.host||null),o.port==null&&typeof n.port&&(o.port=String(n.port)),o.port==="80"&&(o.port=""),e.path=tH.default.format(o),r.auth&&e.setHeader("Proxy-Authorization",`Basic ${Buffer.from(r.auth).toString("base64")}`);let s;if(i?(vf("Creating `tls.Socket`: %o",r),s=L2e.default.connect(r)):(vf("Creating `net.Socket`: %o",r),s=N2e.default.connect(r)),e._header){let a,u;vf("Regenerating stored HTTP header string for request"),e._header=null,e._implicitHeader(),e.output&&e.output.length>0?(vf("Patching connection write() output buffer with updated header"),a=e.output[0],u=a.indexOf(`\r
\r
`)+4,e.output[0]=e._header+a.substring(u),vf("Output buffer: %o",e.output)):e.outputData&&e.outputData.length>0&&(vf("Patching connection write() output buffer with updated header"),a=e.outputData[0].data,u=a.indexOf(`\r
\r
`)+4,e.outputData[0].data=e._header+a.substring(u),vf("Output buffer: %o",e.outputData[0].data))}return yield(0,M2e.default)(s,"connect"),s})}};$p.default=nH});var Lce=b((oH,Nce)=>{"use strict";var j2e=oH&&oH.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},rH=j2e(Oce());function iH(t){return new rH.default(t)}(function(t){t.HttpProxyAgent=rH.default,t.prototype=rH.default.prototype})(iH||(iH={}));Nce.exports=iH});function kR(t){if(process.env[t])return process.env[t];if(process.env[t.toLowerCase()])return process.env[t.toLowerCase()]}function G2e(){if(!process)return;let t=kR(H2e),e=kR(B2e),n=kR($2e);return t||e||n}function z2e(t,e,n){if(e.length===0)return!1;let r=new URL(t).hostname;if(n!=null&&n.has(r))return n.get(r);let i=!1;for(let o of e)o[0]==="."?(r.endsWith(o)||r.length===o.length-1&&r===o.slice(1))&&(i=!0):r===o&&(i=!0);return n==null||n.set(r,i),i}function Y2e(){let t=kR(V2e);return jce=!0,t?t.split(",").map(e=>e.trim()).filter(e=>e.length):[]}function aH(t){if(!t&&(t=G2e(),!t))return;let e=new URL(t);return{host:(e.protocol?e.protocol+"//":"")+e.hostname,port:Number.parseInt(e.port||"80"),username:e.username,password:e.password}}function Mce(t,{headers:e,tlsSettings:n}){let r;try{r=new URL(t.host)}catch{throw new Error(`Expecting a valid host string in proxy settings, but found "${t.host}".`)}n&&br.warning("TLS settings are not supported in combination with custom Proxy, certificates provided to the client will be ignored.");let i={hostname:r.hostname,port:t.port,protocol:r.protocol,headers:e.toJSON()};return t.username&&t.password?i.auth=`${t.username}:${t.password}`:t.username&&(i.auth=`${t.username}`),i}function K2e(t,e){if(t.agent)return;let r=new URL(t.url).protocol!=="https:",i=t.proxySettings;if(i)if(r){if(!e.httpProxyAgent){let o=Mce(i,t);e.httpProxyAgent=new qce.HttpProxyAgent(o)}t.agent=e.httpProxyAgent}else{if(!e.httpsProxyAgent){let o=Mce(i,t);e.httpsProxyAgent=new Uce.HttpsProxyAgent(o)}t.agent=e.httpsProxyAgent}}function OR(t=aH(),e){jce||Fce.push(...Y2e());let n={};return{name:sH,async sendRequest(r,i){var o;return!r.proxySettings&&!z2e(r.url,(o=e==null?void 0:e.customNoProxyList)!==null&&o!==void 0?o:Fce,e!=null&&e.customNoProxyList?void 0:W2e)&&(r.proxySettings=t),r.proxySettings&&K2e(r,n),i(r)}}}var Uce,qce,H2e,$2e,B2e,V2e,sH,Fce,jce,W2e,cH=k(()=>{Uce=B(Dce()),qce=B(Lce());vv();H2e="HTTPS_PROXY",$2e="HTTP_PROXY",B2e="ALL_PROXY",V2e="NO_PROXY",sH="proxyPolicy",Fce=[],jce=!1,W2e=new Map});function NR(t="x-ms-client-request-id"){return{name:uH,async sendRequest(e,n){return e.headers.has(t)||e.headers.set(t,e.requestId),n(e)}}}var uH,lH=k(()=>{uH="setClientRequestIdPolicy"});function LR(t){return{name:fH,sendRequest:async(e,n)=>(e.tlsSettings||(e.tlsSettings=t),n(e))}}var fH,dH=k(()=>{fH="tlsPolicy"});function Hce(t={}){let e=new Bp(t.parentContext);return t.span&&(e=e.setValue(Iv.span,t.span)),t.namespace&&(e=e.setValue(Iv.namespace,t.namespace)),e}var Iv,Bp,pH=k(()=>{Iv={span:Symbol.for("@azure/core-tracing span"),namespace:Symbol.for("@azure/core-tracing namespace")};Bp=class{constructor(e){this._contextMap=e instanceof Bp?new Map(e._contextMap):new Map}setValue(e,n){let r=new Bp(this);return r._contextMap.set(e,n),r}getValue(e){return this._contextMap.get(e)}deleteValue(e){let n=new Bp(this);return n._contextMap.delete(e),n}}});function X2e(){return{end:()=>{},isRecording:()=>!1,recordException:()=>{},setAttribute:()=>{},setStatus:()=>{}}}function Q2e(){return{createRequestHeaders:()=>({}),parseTraceparentHeader:()=>{},startSpan:(t,e)=>({span:X2e(),tracingContext:Hce({parentContext:e.tracingContext})}),withContext(t,e,...n){return e(...n)}}}function m_(){return mH||(mH=Q2e()),mH}var mH,$ce=k(()=>{pH()});function hH(t){let{namespace:e,packageName:n,packageVersion:r}=t;function i(c,l,f){var d;let p=m_().startSpan(c,Object.assign(Object.assign({},f),{packageName:n,packageVersion:r,tracingContext:(d=l==null?void 0:l.tracingOptions)===null||d===void 0?void 0:d.tracingContext})),m=p.tracingContext,h=p.span;m.getValue(Iv.namespace)||(m=m.setValue(Iv.namespace,e)),h.setAttribute("az.namespace",m.getValue(Iv.namespace));let g=Object.assign({},l,{tracingOptions:Object.assign(Object.assign({},l==null?void 0:l.tracingOptions),{tracingContext:m})});return{span:h,updatedOptions:g}}async function o(c,l,f,d){let{span:p,updatedOptions:m}=i(c,l,d);try{let h=await s(m.tracingOptions.tracingContext,()=>Promise.resolve(f(m,p)));return p.setStatus({status:"success"}),h}catch(h){throw p.setStatus({status:"error",error:h}),h}finally{p.end()}}function s(c,l,...f){return m_().withContext(c,l,...f)}function a(c){return m_().parseTraceparentHeader(c)}function u(c){return m_().createRequestHeaders(c)}return{startSpan:i,withSpan:o,withContext:s,parseTraceparentHeader:a,createRequestHeaders:u}}var Bce=k(()=>{$ce();pH()});var Vce=k(()=>{Bce()});var Wce,Gce,zce=k(()=>{Wce=require("util"),Gce=Wce.inspect.custom});function FR(t){return t instanceof mi?!0:xv(t)&&t.name==="RestError"}var J2e,mi,MR=k(()=>{Ev();zce();Ej();J2e=new _v,mi=class extends Error{constructor(e,n={}){super(e),this.name="RestError",this.code=n.code,this.statusCode=n.statusCode,this.request=n.request,this.response=n.response,Object.setPrototypeOf(this,mi.prototype)}[Gce](){return`RestError: ${this.message} 
 ${J2e.sanitize(this)}`}};mi.REQUEST_SEND_ERROR="REQUEST_SEND_ERROR";mi.PARSE_ERROR="PARSE_ERROR"});function UR(t={}){let e=xR(t.userAgentPrefix),n=Z2e();return{name:gH,async sendRequest(r,i){var o,s;if(!n||!(!((o=r.tracingOptions)===null||o===void 0)&&o.tracingContext))return i(r);let{span:a,tracingContext:u}=(s=eje(n,r,e))!==null&&s!==void 0?s:{};if(!a||!u)return i(r);try{let c=await n.withContext(u,i,r);return nje(a,c),c}catch(c){throw tje(a,c),c}}}}function Z2e(){try{return hH({namespace:"",packageName:"@azure/core-rest-pipeline",packageVersion:yR})}catch(t){br.warning(`Error when creating the TracingClient: ${wv(t)}`);return}}function eje(t,e,n){try{let{span:r,updatedOptions:i}=t.startSpan(`HTTP ${e.method}`,{tracingOptions:e.tracingOptions},{spanKind:"client",spanAttributes:{"http.method":e.method,"http.url":e.url,requestId:e.requestId}});if(!r.isRecording()){r.end();return}n&&r.setAttribute("http.user_agent",n);let o=t.createRequestHeaders(i.tracingOptions.tracingContext);for(let[s,a]of Object.entries(o))e.headers.set(s,a);return{span:r,tracingContext:i.tracingOptions.tracingContext}}catch(r){br.warning(`Skipping creating a tracing span due to an error: ${wv(r)}`);return}}function tje(t,e){try{t.setStatus({status:"error",error:xv(e)?e:void 0}),FR(e)&&e.statusCode&&t.setAttribute("http.status_code",e.statusCode),t.end()}catch(n){br.warning(`Skipping tracing span processing due to an error: ${wv(n)}`)}}function nje(t,e){try{t.setAttribute("http.status_code",e.status);let n=e.headers.get("x-ms-request-id");n&&t.setAttribute("serviceRequestId",n),t.setStatus({status:"success"}),t.end()}catch(n){br.warning(`Skipping tracing span processing due to an error: ${wv(n)}`)}}var gH,vH=k(()=>{Vce();Tj();Ij();vv();Ev();MR();gH="tracingPolicy"});function Yce(t){let e=cR();return pR&&(t.tlsOptions&&e.addPolicy(LR(t.tlsOptions)),e.addPolicy(OR(t.proxyOptions)),e.addPolicy(ER())),e.addPolicy(AR()),e.addPolicy(wR(t.userAgentOptions)),e.addPolicy(NR()),e.addPolicy(IR(t.retryOptions),{phase:"Retry"}),e.addPolicy(UR(t.userAgentOptions),{afterPhase:"Retry"}),pR&&e.addPolicy(vR(t.redirectOptions),{afterPhase:"Retry"}),e.addPolicy(gR(t.loggingOptions),{afterPhase:"Sign"}),e}var Kce=k(()=>{bj();aj();Sj();Rj();Dj();Oj();Wj();Ev();cH();lH();dH();vH()});function qR(t){return t.toLowerCase()}function*rje(t){for(let e of t.values())yield[e.name,e.value]}function Pv(t){return new yH(t)}var yH,jR=k(()=>{yH=class{constructor(e){if(this._headersMap=new Map,e)for(let n of Object.keys(e))this.set(n,e[n])}set(e,n){this._headersMap.set(qR(e),{name:e,value:String(n)})}get(e){var n;return(n=this._headersMap.get(qR(e)))===null||n===void 0?void 0:n.value}has(e){return this._headersMap.has(qR(e))}delete(e){this._headersMap.delete(qR(e))}toJSON(e={}){let n={};if(e.preserveCase)for(let r of this._headersMap.values())n[r.name]=r.value;else for(let[r,i]of this._headersMap)n[r]=i.value;return n}toString(){return JSON.stringify(this.toJSON({preserveCase:!0}))}[Symbol.iterator](){return rje(this._headersMap)}}});function h_(t){return t&&typeof t.pipe=="function"}function Xce(t){return new Promise(e=>{t.on("close",e),t.on("end",e),t.on("error",e)})}function Jce(t){return t&&typeof t.byteLength=="number"}function oje(t){let e=Pv();for(let n of Object.keys(t.headers)){let r=t.headers[n];Array.isArray(r)?r.length>0&&e.set(n,r[0]):r&&e.set(n,r)}return e}function sje(t,e){let n=e.get("Content-Encoding");if(n==="gzip"){let r=$R.createGunzip();return t.pipe(r),r}else if(n==="deflate"){let r=$R.createInflate();return t.pipe(r),r}return t}function aje(t){return new Promise((e,n)=>{let r=[];t.on("data",i=>{Buffer.isBuffer(i)?r.push(i):r.push(Buffer.from(i))}),t.on("end",()=>{e(Buffer.concat(r).toString("utf8"))}),t.on("error",i=>{i&&(i==null?void 0:i.name)==="AbortError"?n(i):n(new mi(`Error reading response as text: ${i.message}`,{code:mi.PARSE_ERROR}))})})}function cje(t){return t?Buffer.isBuffer(t)?t.length:h_(t)?null:Jce(t)?t.byteLength:typeof t=="string"?Buffer.from(t).length:null:0}function Zce(){return new xH}var Rv,Av,$R,Qce,ije,HR,xH,eue=k(()=>{Rv=B(require("http")),Av=B(require("https")),$R=B(require("zlib")),Qce=require("stream");hR();jR();MR();vv();ije={};HR=class extends Qce.Transform{constructor(e){super(),this.loadedBytes=0,this.progressCallback=e}_transform(e,n,r){this.push(e),this.loadedBytes+=e.length;try{this.progressCallback({loadedBytes:this.loadedBytes}),r()}catch(i){r(i)}}},xH=class{constructor(){this.cachedHttpsAgents=new WeakMap}async sendRequest(e){var n,r,i;let o=new s_,s;if(e.abortSignal){if(e.abortSignal.aborted)throw new Wa("The operation was aborted.");s=f=>{f.type==="abort"&&o.abort()},e.abortSignal.addEventListener("abort",s)}e.timeout>0&&setTimeout(()=>{o.abort()},e.timeout);let a=e.headers.get("Accept-Encoding"),u=(a==null?void 0:a.includes("gzip"))||(a==null?void 0:a.includes("deflate")),c=typeof e.body=="function"?e.body():e.body;if(c&&!e.headers.has("Content-Length")){let f=cje(c);f!==null&&e.headers.set("Content-Length",f)}let l;try{if(c&&e.onUploadProgress){let g=e.onUploadProgress,v=new HR(g);v.on("error",x=>{br.error("Error in upload progress",x)}),h_(c)?c.pipe(v):v.end(c),c=v}let f=await this.makeRequest(e,o,c),d=oje(f),m={status:(n=f.statusCode)!==null&&n!==void 0?n:0,headers:d,request:e};if(e.method==="HEAD")return f.resume(),m;l=u?sje(f,d):f;let h=e.onDownloadProgress;if(h){let g=new HR(h);g.on("error",v=>{br.error("Error in download progress",v)}),l.pipe(g),l=g}return!((r=e.streamResponseStatusCodes)===null||r===void 0)&&r.has(Number.POSITIVE_INFINITY)||!((i=e.streamResponseStatusCodes)===null||i===void 0)&&i.has(m.status)?m.readableStreamBody=l:m.bodyAsText=await aje(l),m}finally{if(e.abortSignal&&s){let f=Promise.resolve();h_(c)&&(f=Xce(c));let d=Promise.resolve();h_(l)&&(d=Xce(l)),Promise.all([f,d]).then(()=>{var p;s&&((p=e.abortSignal)===null||p===void 0||p.removeEventListener("abort",s))}).catch(p=>{br.warning("Error when cleaning up abortListener on httpRequest",p)})}}}makeRequest(e,n,r){var i;let o=new URL(e.url),s=o.protocol!=="https:";if(s&&!e.allowInsecureConnection)throw new Error(`Cannot connect to ${e.url} while allowInsecureConnection is false.`);let u={agent:(i=e.agent)!==null&&i!==void 0?i:this.getOrCreateAgent(e,s),hostname:o.hostname,path:`${o.pathname}${o.search}`,port:o.port,method:e.method,headers:e.headers.toJSON({preserveCase:!0})};return new Promise((c,l)=>{let f=s?Rv.request(u,c):Av.request(u,c);f.once("error",d=>{var p;l(new mi(d.message,{code:(p=d.code)!==null&&p!==void 0?p:mi.REQUEST_SEND_ERROR,request:e}))}),n.signal.addEventListener("abort",()=>{let d=new Wa("The operation was aborted.");f.destroy(d),l(d)}),r&&h_(r)?r.pipe(f):r?typeof r=="string"||Buffer.isBuffer(r)?f.end(r):Jce(r)?f.end(ArrayBuffer.isView(r)?Buffer.from(r.buffer):Buffer.from(r)):(br.error("Unrecognized body type",r),l(new mi("Unrecognized body type"))):f.end()})}getOrCreateAgent(e,n){var r;let i=e.disableKeepAlive;if(n)return i?Rv.globalAgent:(this.cachedHttpAgent||(this.cachedHttpAgent=new Rv.Agent({keepAlive:!0})),this.cachedHttpAgent);{if(i&&!e.tlsSettings)return Av.globalAgent;let o=(r=e.tlsSettings)!==null&&r!==void 0?r:ije,s=this.cachedHttpsAgents.get(o);return s&&s.options.keepAlive===!i||(br.info("No cached TLS Agent exist, creating a new Agent"),s=new Av.Agent(Object.assign({keepAlive:!i},o)),this.cachedHttpsAgents.set(o,s)),s}}}});function tue(){return Zce()}var nue=k(()=>{eue()});function wH(){return BR>VR.length-16&&(rue.default.randomFillSync(VR),BR=0),VR.slice(BR,BR+=16)}var rue,VR,BR,iue=k(()=>{rue=B(require("crypto")),VR=new Uint8Array(256),BR=VR.length});var oue,sue=k(()=>{oue=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function uje(t){return typeof t=="string"&&oue.test(t)}var aue,cue=k(()=>{sue();aue=uje});function lje(t,e=0){let n=(Cr[t[e+0]]+Cr[t[e+1]]+Cr[t[e+2]]+Cr[t[e+3]]+"-"+Cr[t[e+4]]+Cr[t[e+5]]+"-"+Cr[t[e+6]]+Cr[t[e+7]]+"-"+Cr[t[e+8]]+Cr[t[e+9]]+"-"+Cr[t[e+10]]+Cr[t[e+11]]+Cr[t[e+12]]+Cr[t[e+13]]+Cr[t[e+14]]+Cr[t[e+15]]).toLowerCase();if(!aue(n))throw TypeError("Stringified UUID is invalid");return n}var Cr,uue,lue=k(()=>{cue();Cr=[];for(let t=0;t<256;++t)Cr.push((t+256).toString(16).substr(1));uue=lje});function fje(t,e,n){t=t||{};let r=t.random||(t.rng||wH)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return uue(r)}var EH,fue=k(()=>{iue();lue();EH=fje});var due=k(()=>{fue()});function pue(){return EH()}var mue=k(()=>{due()});function hue(t){return new _H(t)}var _H,gue=k(()=>{jR();mue();_H=class{constructor(e){var n,r,i,o,s,a,u;this.url=e.url,this.body=e.body,this.headers=(n=e.headers)!==null&&n!==void 0?n:Pv(),this.method=(r=e.method)!==null&&r!==void 0?r:"GET",this.timeout=(i=e.timeout)!==null&&i!==void 0?i:0,this.formData=e.formData,this.disableKeepAlive=(o=e.disableKeepAlive)!==null&&o!==void 0?o:!1,this.proxySettings=e.proxySettings,this.streamResponseStatusCodes=e.streamResponseStatusCodes,this.withCredentials=(s=e.withCredentials)!==null&&s!==void 0?s:!1,this.abortSignal=e.abortSignal,this.tracingOptions=e.tracingOptions,this.onUploadProgress=e.onUploadProgress,this.onDownloadProgress=e.onDownloadProgress,this.requestId=e.requestId||pue(),this.allowInsecureConnection=(a=e.allowInsecureConnection)!==null&&a!==void 0?a:!1,this.enableBrowserStreams=(u=e.enableBrowserStreams)!==null&&u!==void 0?u:!1}}});function yue(t={}){var e;return Ga([Cv(Object.assign(Object.assign({},t),{ignoreSystemErrors:!0}))],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3})}var vue,xue=k(()=>{TR();Sv();vue="exponentialRetryPolicy"});function wue(t={}){var e;return{name:bH,sendRequest:Ga([Cv(Object.assign(Object.assign({},t),{ignoreHttpStatusCodes:!0}))],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3}).sendRequest}}var bH,Eue=k(()=>{TR();Sv();bH="systemErrorRetryPolicy"});function _ue(t={}){var e;return{name:CH,sendRequest:Ga([CR()],{maxRetries:(e=t.maxRetries)!==null&&e!==void 0?e:3}).sendRequest}}var CH,bue=k(()=>{SR();Sv();CH="throttlingRetryPolicy"});async function pje(t,e,n){async function r(){if(Date.now()<n)try{return await t()}catch{return null}else{let o=await t();if(o===null)throw new Error("Failed to refresh access token.");return o}}let i=await r();for(;i===null;)await _R(e),i=await r();return i}function Cue(t,e){let n=null,r=null,i,o=Object.assign(Object.assign({},dje),e),s={get isRefreshing(){return n!==null},get shouldRefresh(){var u;return!s.isRefreshing&&((u=r==null?void 0:r.expiresOnTimestamp)!==null&&u!==void 0?u:0)-o.refreshWindowInMs<Date.now()},get mustRefresh(){return r===null||r.expiresOnTimestamp-o.forcedRefreshWindowInMs<Date.now()}};function a(u,c){var l;return s.isRefreshing||(n=pje(()=>t.getToken(u,c),o.retryIntervalInMs,(l=r==null?void 0:r.expiresOnTimestamp)!==null&&l!==void 0?l:Date.now()).then(d=>(n=null,r=d,i=c.tenantId,r)).catch(d=>{throw n=null,r=null,i=void 0,d})),n}return async(u,c)=>i!==c.tenantId||!!c.claims||s.mustRefresh?a(u,c):(s.shouldRefresh&&a(u,c),r)}var dje,Sue=k(()=>{bR();dje={forcedRefreshWindowInMs:1e3,retryIntervalInMs:3e3,refreshWindowInMs:1e3*60*2}});async function mje(t){let{scopes:e,getAccessToken:n,request:r}=t,i={abortSignal:r.abortSignal,tracingOptions:r.tracingOptions},o=await n(e,i);o&&t.request.headers.set("Authorization",`Bearer ${o.token}`)}function hje(t){let e=t.headers.get("WWW-Authenticate");if(t.status===401&&e)return e}function Tue(t){var e;let{credential:n,scopes:r,challengeCallbacks:i}=t,o=t.logger||br,s=Object.assign({authorizeRequest:(e=i==null?void 0:i.authorizeRequest)!==null&&e!==void 0?e:mje,authorizeRequestOnChallenge:i==null?void 0:i.authorizeRequestOnChallenge},i),a=n?Cue(n):()=>Promise.resolve(null);return{name:SH,async sendRequest(u,c){if(!u.url.toLowerCase().startsWith("https://"))throw new Error("Bearer token authentication is not permitted for non-TLS protected (non-https) URLs.");await s.authorizeRequest({scopes:Array.isArray(r)?r:[r],request:u,getAccessToken:a,logger:o});let l,f;try{l=await c(u)}catch(d){f=d,l=d.response}if(s.authorizeRequestOnChallenge&&(l==null?void 0:l.status)===401&&hje(l)&&await s.authorizeRequestOnChallenge({scopes:Array.isArray(r)?r:[r],request:u,response:l,getAccessToken:a,logger:o}))return c(u);if(f)throw f;return l}}}var SH,Iue=k(()=>{Sue();vv();SH="bearerTokenAuthenticationPolicy"});function Pue(){return{name:TH,async sendRequest(t,e){if(typeof t.body=="string"&&t.body.startsWith("[")){let n=JSON.parse(t.body);Array.isArray(n)&&(t.body=n.map(r=>JSON.stringify(r)+`
`).join(""))}return e(t)}}}var TH,Rue=k(()=>{TH="ndJsonPolicy"});var Aue={};ua(Aue,{RestError:()=>mi,bearerTokenAuthenticationPolicy:()=>Tue,bearerTokenAuthenticationPolicyName:()=>SH,createDefaultHttpClient:()=>tue,createEmptyPipeline:()=>cR,createHttpHeaders:()=>Pv,createPipelineFromOptions:()=>Yce,createPipelineRequest:()=>hue,decompressResponsePolicy:()=>ER,decompressResponsePolicyName:()=>Aj,defaultRetryPolicy:()=>IR,exponentialRetryPolicy:()=>yue,exponentialRetryPolicyName:()=>vue,formDataPolicy:()=>AR,formDataPolicyName:()=>Vj,getDefaultProxySettings:()=>aH,isRestError:()=>FR,logPolicy:()=>gR,logPolicyName:()=>_j,ndJsonPolicy:()=>Pue,ndJsonPolicyName:()=>TH,proxyPolicy:()=>OR,proxyPolicyName:()=>sH,redirectPolicy:()=>vR,redirectPolicyName:()=>Cj,retryPolicy:()=>Ga,setClientRequestIdPolicy:()=>NR,setClientRequestIdPolicyName:()=>uH,systemErrorRetryPolicy:()=>wue,systemErrorRetryPolicyName:()=>bH,throttlingRetryPolicy:()=>_ue,throttlingRetryPolicyName:()=>CH,tlsPolicy:()=>LR,tlsPolicyName:()=>fH,tracingPolicy:()=>UR,tracingPolicyName:()=>gH,userAgentPolicy:()=>wR,userAgentPolicyName:()=>Pj});var Due=k(()=>{aj();Kce();nue();jR();gue();MR();Dj();xue();lH();bj();cH();Sj();Eue();bue();Sv();vH();Oj();Rj();dH();Wj();Iue();Rue()});var Nue=b((g_,Oue)=>{"use strict";var gje=g_&&g_.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},vje=g_&&g_.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},kue=(Due(),Xi(Aue)),yje="https://monitor.azure.com//.default";function xje(t){return null}var wje=function(){function t(e){var n=[yje];this._azureTokenPolicy=kue.bearerTokenAuthenticationPolicy({credential:e,scopes:n})}return t.prototype.addAuthorizationHeader=function(e){return gje(this,void 0,void 0,function(){var n,r;return vje(this,function(i){switch(i.label){case 0:return n="authorization",r=kue.createPipelineRequest({url:"https://"}),[4,this._azureTokenPolicy.sendRequest(r,xje)];case 1:return i.sent(),e.headers[n]=r.headers.get(n),[2]}})})},t}();Oue.exports=wje});var Fue=b((ipt,Lue)=>{"use strict";var Eje=Zt(),_je=xr(),bje=function(){function t(e,n,r,i){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=n,this._getBatchIntervalMs=r,this._sender=i}return t.prototype.setUseDiskRetryCaching=function(e,n,r){this._sender.setDiskRetryMode(e,n,r)},t.prototype.send=function(e){var n=this;if(!this._isDisabled()){if(!e){Eje.warn("Cannot send null/undefined telemetry");return}if(this._buffer.push(e),this._buffer.length>=this._getBatchSize()){this.triggerSend(!1);return}!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout(function(){n._timeoutHandle=null,n.triggerSend(!1)},this._getBatchIntervalMs()))}},t.prototype.triggerSend=function(e,n){var r=this._buffer.length<1;r||(e||_je.isNodeExit?(this._sender.saveOnCrash(this._buffer),typeof n=="function"&&n("data saved on crash")):this._sender.send(this._buffer,n)),this._lastSend=+new Date,this._buffer=[],clearTimeout(this._timeoutHandle),this._timeoutHandle=null,r&&typeof n=="function"&&n("no data to send")},t}();Lue.exports=bje});var Mue=b(WR=>{"use strict";Object.defineProperty(WR,"__esModule",{value:!0});WR.azureRoleEnvironmentTelemetryProcessor=void 0;function Cje(t,e){process.env.WEBSITE_SITE_NAME&&(t.tags[e.keys.cloudRole]=process.env.WEBSITE_SITE_NAME),process.env.WEBSITE_INSTANCE_ID&&(t.tags[e.keys.cloudRoleInstance]=process.env.WEBSITE_INSTANCE_ID)}WR.azureRoleEnvironmentTelemetryProcessor=Cje});var jue=b(Dv=>{"use strict";Object.defineProperty(Dv,"__esModule",{value:!0});Dv.getSamplingHashCode=Dv.samplingTelemetryProcessor=void 0;var Uue=Br();function Sje(t,e){var n=t.sampleRate,r=!1;return n==null||n>=100||t.data&&Uue.TelemetryType.Metric===Uue.baseTypeToTelemetryType(t.data.baseType)?!0:(e.correlationContext&&e.correlationContext.operation?r=que(e.correlationContext.operation.id)<n:r=Math.random()*100<n,r)}Dv.samplingTelemetryProcessor=Sje;function que(t){var e=-2147483648,n=2147483647,r=5381;if(!t)return 0;for(;t.length<8;)t=t+t;for(var i=0;i<t.length;i++)r=((r<<5)+r|0)+t.charCodeAt(i)|0;return r=r<=e?n:Math.abs(r),r/n*100}Dv.getSamplingHashCode=que});var Hue=b(GR=>{"use strict";Object.defineProperty(GR,"__esModule",{value:!0});GR.performanceMetricsTelemetryProcessor=void 0;var IH=zP(),PH=Br();function Tje(t,e){switch(e&&e.addDocument(t),t.data.baseType){case PH.TelemetryTypeString.Exception:IH.countException();break;case PH.TelemetryTypeString.Request:var n=t.data.baseData;IH.countRequest(n.duration,n.success);break;case PH.TelemetryTypeString.Dependency:var r=t.data.baseData;IH.countDependency(r.duration,r.success);break}return!0}GR.performanceMetricsTelemetryProcessor=Tje});var $ue=b(kv=>{"use strict";var za=kv&&kv.__assign||function(){return za=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},za.apply(this,arguments)};Object.defineProperty(kv,"__esModule",{value:!0});kv.preAggregatedMetricsTelemetryProcessor=void 0;var Ije=Br(),v_=U2(),zR=Br();function Pje(t,e){if(v_.isEnabled())switch(t.data.baseType){case zR.TelemetryTypeString.Exception:var n=t.data.baseData;n.properties=za(za({},n.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Exceptions', Ver:'1.1')"});var r={cloudRoleInstance:t.tags[e.keys.cloudRoleInstance],cloudRoleName:t.tags[e.keys.cloudRole]};v_.countException(r);break;case zR.TelemetryTypeString.Trace:var i=t.data.baseData;i.properties=za(za({},i.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Traces', Ver:'1.1')"});var o={cloudRoleInstance:t.tags[e.keys.cloudRoleInstance],cloudRoleName:t.tags[e.keys.cloudRole],traceSeverityLevel:Ije.SeverityLevel[i.severity]};v_.countTrace(o);break;case zR.TelemetryTypeString.Request:var s=t.data.baseData;s.properties=za(za({},s.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Requests', Ver:'1.1')"});var a={cloudRoleInstance:t.tags[e.keys.cloudRoleInstance],cloudRoleName:t.tags[e.keys.cloudRole],operationSynthetic:t.tags[e.keys.operationSyntheticSource],requestSuccess:s.success,requestResultCode:s.responseCode};v_.countRequest(s.duration,a);break;case zR.TelemetryTypeString.Dependency:var u=t.data.baseData;u.properties=za(za({},u.properties),{"_MS.ProcessedByMetricExtractors":"(Name:'Dependencies', Ver:'1.1')"});var c={cloudRoleInstance:t.tags[e.keys.cloudRoleInstance],cloudRoleName:t.tags[e.keys.cloudRole],operationSynthetic:t.tags[e.keys.operationSyntheticSource],dependencySuccess:u.success,dependencyType:u.type,dependencyTarget:u.target,dependencyResultCode:u.resultCode};v_.countDependency(u.duration,c);break}return!0}kv.preAggregatedMetricsTelemetryProcessor=Pje});var Bue=b(Ya=>{"use strict";var Rje=Ya&&Ya.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),YR=Ya&&Ya.__exportStar||function(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&Rje(e,t,n)};Object.defineProperty(Ya,"__esModule",{value:!0});YR(Mue(),Ya);YR(jue(),Ya);YR(Hue(),Ya);YR($ue(),Ya)});var RH=b((lpt,Gue)=>{"use strict";var Se=Br(),ps=xr(),Vue=rf(),Aje=function(){function t(){}return t.createEnvelope=function(e,n,r,i,o){var s=null;switch(n){case Se.TelemetryType.Trace:s=t.createTraceData(e);break;case Se.TelemetryType.Dependency:s=t.createDependencyData(e);break;case Se.TelemetryType.Event:s=t.createEventData(e);break;case Se.TelemetryType.Exception:s=t.createExceptionData(e);break;case Se.TelemetryType.Request:s=t.createRequestData(e);break;case Se.TelemetryType.Metric:s=t.createMetricData(e);break;case Se.TelemetryType.Availability:s=t.createAvailabilityData(e);break;case Se.TelemetryType.PageView:s=t.createPageViewData(e);break}if(s&&s.baseData&&Se.domainSupportsProperties(s.baseData)){if(r)if(!s.baseData.properties)s.baseData.properties=r;else for(var a in r)s.baseData.properties[a]||(s.baseData.properties[a]=r[a]);t.addAzureFunctionsCorrelationProperties(s.baseData.properties),s.baseData.properties&&(s.baseData.properties=ps.validateStringMap(s.baseData.properties))}var u=o&&o.instrumentationKey||"",c=new Se.Envelope;return c.data=s,c.iKey=u,c.name="Microsoft.ApplicationInsights."+u.replace(/-/g,"")+"."+s.baseType.substr(0,s.baseType.length-4),c.tags=this.getTags(i,e.tagOverrides),c.time=new Date().toISOString(),c.ver=1,c.sampleRate=o?o.samplingPercentage:100,n===Se.TelemetryType.Metric&&(c.sampleRate=100),c},t.addAzureFunctionsCorrelationProperties=function(e){var n=Vue.CorrelationContextManager.getCurrentContext();if(n&&n.customProperties&&n.customProperties.getProperty instanceof Function){e=e||{};var r=n.customProperties.getProperty("InvocationId");r&&(e.InvocationId=r),r=n.customProperties.getProperty("ProcessId"),r&&(e.ProcessId=r),r=n.customProperties.getProperty("LogLevel"),r&&(e.LogLevel=r),r=n.customProperties.getProperty("Category"),r&&(e.Category=r),r=n.customProperties.getProperty("HostInstanceId"),r&&(e.HostInstanceId=r),r=n.customProperties.getProperty("AzFuncLiveLogsSessionId"),r&&(e.AzFuncLiveLogsSessionId=r)}},t.createTraceData=function(e){var n=new Se.MessageData;n.message=e.message,n.properties=e.properties,isNaN(e.severity)?n.severityLevel=Se.SeverityLevel.Information:n.severityLevel=e.severity;var r=new Se.Data;return r.baseType=Se.telemetryTypeToBaseType(Se.TelemetryType.Trace),r.baseData=n,r},t.createDependencyData=function(e){var n=new Se.RemoteDependencyData;typeof e.name=="string"&&(n.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),n.data=e.data,n.target=e.target,n.duration=ps.msToTimeSpan(e.duration),n.success=e.success,n.type=e.dependencyTypeName,n.properties=e.properties,n.resultCode=e.resultCode?e.resultCode.toString():"0",e.id?n.id=e.id:n.id=ps.w3cTraceId();var r=new Se.Data;return r.baseType=Se.telemetryTypeToBaseType(Se.TelemetryType.Dependency),r.baseData=n,r},t.createEventData=function(e){var n=new Se.EventData;n.name=e.name,n.properties=e.properties,n.measurements=e.measurements;var r=new Se.Data;return r.baseType=Se.telemetryTypeToBaseType(Se.TelemetryType.Event),r.baseData=n,r},t.createExceptionData=function(e){var n=new Se.ExceptionData;n.properties=e.properties,isNaN(e.severity)?n.severityLevel=Se.SeverityLevel.Error:n.severityLevel=e.severity,n.measurements=e.measurements,n.exceptions=[];var r=e.exception.stack,i=new Se.ExceptionDetails;i.message=e.exception.message,i.typeName=e.exception.name,i.parsedStack=this.parseStack(r),i.hasFullStack=ps.isArray(i.parsedStack)&&i.parsedStack.length>0,n.exceptions.push(i);var o=new Se.Data;return o.baseType=Se.telemetryTypeToBaseType(Se.TelemetryType.Exception),o.baseData=n,o},t.createRequestData=function(e){var n=new Se.RequestData;e.id?n.id=e.id:n.id=ps.w3cTraceId(),n.name=e.name,n.url=e.url,n.source=e.source,n.duration=ps.msToTimeSpan(e.duration),n.responseCode=e.resultCode?e.resultCode.toString():"0",n.success=e.success,n.properties=e.properties,n.measurements=e.measurements;var r=new Se.Data;return r.baseType=Se.telemetryTypeToBaseType(Se.TelemetryType.Request),r.baseData=n,r},t.createMetricData=function(e){var n=new Se.MetricData;n.metrics=[];var r=new Se.DataPoint;r.count=isNaN(e.count)?1:e.count,r.kind=Se.DataPointType.Aggregation,r.max=isNaN(e.max)?e.value:e.max,r.min=isNaN(e.min)?e.value:e.min,r.name=e.name,r.stdDev=isNaN(e.stdDev)?0:e.stdDev,r.value=e.value,r.ns=e.namespace,n.metrics.push(r),n.properties=e.properties;var i=new Se.Data;return i.baseType=Se.telemetryTypeToBaseType(Se.TelemetryType.Metric),i.baseData=n,i},t.createAvailabilityData=function(e){var n=new Se.AvailabilityData;e.id?n.id=e.id:n.id=ps.w3cTraceId(),n.name=e.name,n.duration=ps.msToTimeSpan(e.duration),n.success=e.success,n.runLocation=e.runLocation,n.message=e.message,n.measurements=e.measurements,n.properties=e.properties;var r=new Se.Data;return r.baseType=Se.telemetryTypeToBaseType(Se.TelemetryType.Availability),r.baseData=n,r},t.createPageViewData=function(e){var n=new Se.PageViewData;n.name=e.name,n.duration=ps.msToTimeSpan(e.duration),n.url=e.url,n.measurements=e.measurements,n.properties=e.properties;var r=new Se.Data;return r.baseType=Se.telemetryTypeToBaseType(Se.TelemetryType.PageView),r.baseData=n,r},t.getTags=function(e,n){var r=Vue.CorrelationContextManager.getCurrentContext(),i={};if(e&&e.tags)for(var o in e.tags)i[o]=e.tags[o];if(n)for(var o in n)i[o]=n[o];return r&&(i[e.keys.operationId]=i[e.keys.operationId]||r.operation.id,i[e.keys.operationName]=i[e.keys.operationName]||r.operation.name,i[e.keys.operationParentId]=i[e.keys.operationParentId]||r.operation.parentId),i},t.parseStack=function(e){var n=void 0;if(typeof e=="string"){var r=e.split(`
`);n=[];for(var i=0,o=0,s=0;s<=r.length;s++){var a=r[s];if(Wue.regex.test(a)){var u=new Wue(r[s],i++);o+=u.sizeInBytes,n.push(u)}}var c=32*1024;if(o>c)for(var l=0,f=n.length-1,d=0,p=l,m=f;l<f;){var h=n[l].sizeInBytes,g=n[f].sizeInBytes;if(d+=h+g,d>c){var v=m-p+1;n.splice(p,v);break}p=l,m=f,l++,f--}}return n},t}(),Wue=function(){function t(e,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=ps.trim(e);var r=e.match(t.regex);r&&r.length>=5&&(this.method=ps.trim(r[2])||this.method,this.fileName=ps.trim(r[4])||"<no_filename>",this.line=parseInt(r[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=t.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return t.regex=/^(\s+at)?(.*?)(\@|\s\(|\s)([^\(\n]+):(\d+):(\d+)(\)?)$/,t.baseSize=58,t}();Gue.exports=Aje});var zue=b(yf=>{"use strict";var Dje=yf&&yf.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},kje=yf&&yf.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(yf,"__esModule",{value:!0});yf.FileAccessControl=void 0;var Oje=require("fs"),Nje=require("os"),Ov=require("child_process"),Lje=Zt(),Fje=function(){function t(){}return t.checkFileProtection=function(){if(!t.OS_PROVIDES_FILE_PROTECTION&&!t.OS_FILE_PROTECTION_CHECKED)if(t.OS_FILE_PROTECTION_CHECKED=!0,t.USE_ICACLS){try{t.OS_PROVIDES_FILE_PROTECTION=Oje.existsSync(t.ICACLS_PATH)}catch{}t.OS_PROVIDES_FILE_PROTECTION||Lje.warn(t.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else t.OS_PROVIDES_FILE_PROTECTION=!0},t.applyACLRules=function(e){return Dje(this,void 0,void 0,function(){var n,r;return kje(this,function(i){switch(i.label){case 0:if(!t.USE_ICACLS)return[3,7];if(t.ACLED_DIRECTORIES[e]!==void 0)return[3,6];t.ACLED_DIRECTORIES[e]=!1,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,this._getACLIdentity()];case 2:return n=i.sent(),[4,this._runICACLS(this._getACLArguments(e,n))];case 3:return i.sent(),t.ACLED_DIRECTORIES[e]=!0,[3,5];case 4:throw r=i.sent(),t.ACLED_DIRECTORIES[e]=!1,r;case 5:return[3,7];case 6:if(!t.ACLED_DIRECTORIES[e])throw new Error("Setting ACL restrictions did not succeed (cached result)");i.label=7;case 7:return[2]}})})},t.applyACLRulesSync=function(e){if(t.USE_ICACLS){if(t.ACLED_DIRECTORIES[e]===void 0){this._runICACLSSync(this._getACLArguments(e,this._getACLIdentitySync())),t.ACLED_DIRECTORIES[e]=!0;return}else if(!t.ACLED_DIRECTORIES[e])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},t._runICACLS=function(e){return new Promise(function(n,r){var i=Ov.spawn(t.ICACLS_PATH,e,{windowsHide:!0});i.on("error",function(o){return r(o)}),i.on("close",function(o,s){o===0?n():r(new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+o+")"))})})},t._runICACLSSync=function(e){if(Ov.spawnSync){var n=Ov.spawnSync(t.ICACLS_PATH,e,{windowsHide:!0});if(n.error)throw n.error;if(n.status!==0)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")}else throw new Error("Could not synchronously call ICACLS under current version of Node.js")},t._getACLIdentity=function(){return new Promise(function(e,n){t.ACL_IDENTITY&&e(t.ACL_IDENTITY);var r=Ov.spawn(t.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),i="";r.stdout.on("data",function(o){return i+=o}),r.on("error",function(o){return n(o)}),r.on("close",function(o,s){t.ACL_IDENTITY=i&&i.trim(),o===0?e(t.ACL_IDENTITY):n(new Error("Getting ACL identity did not succeed (PS returned code "+o+")"))})})},t._getACLIdentitySync=function(){if(t.ACL_IDENTITY)return t.ACL_IDENTITY;if(Ov.spawnSync){var e=Ov.spawnSync(t.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(e.error)throw e.error;if(e.status!==0)throw new Error("Getting ACL identity did not succeed (PS returned code "+e.status+")");return t.ACL_IDENTITY=e.stdout&&e.stdout.toString().trim(),t.ACL_IDENTITY}else throw new Error("Could not synchronously get ACL identity under current version of Node.js")},t._getACLArguments=function(e,n){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",n+":(OI)(CI)F","/inheritance:r"]},t.TAG="FileAccessControl",t.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",t.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",t.ACLED_DIRECTORIES={},t.ACL_IDENTITY=null,t.OS_FILE_PROTECTION_CHECKED=!1,t.OS_PROVIDES_FILE_PROTECTION=!1,t.USE_ICACLS=Nje.type()==="Windows_NT",t}();yf.FileAccessControl=Fje});var DH=b((x_,Kue)=>{"use strict";var KR=x_&&x_.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},XR=x_&&x_.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},AH=require("fs"),Mje=require("os"),Vp=require("path"),Uje=require("zlib"),xf=dn(),qje=lv(),Eu=iM(),zi=xr(),jje=require("url"),Yue=Zt(),y_=zue(),Hje=439,$je=402,Bje=[200,206,402,408,429,439,500],Vje=function(){function t(e,n,r,i,o,s,a){this._redirectedHost=null,this._config=e,this._onSuccess=r,this._onError=i,this._statsbeat=o,this._enableDiskRetryMode=!1,this._resendInterval=t.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=t.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,this._numConsecutiveRedirects=0,this._resendTimer=null,this._getAuthorizationHandler=n,this._fileCleanupTimer=null,this._tempDir=Vp.join(Mje.tmpdir(),t.TEMPDIR_PREFIX+this._config.instrumentationKey),this._isStatsbeatSender=s||!1,this._shutdownStatsbeat=a,this._failedToIngestCounter=0,this._statsbeatHasReachedIngestionAtLeastOnce=!1}return t.prototype.setDiskRetryMode=function(e,n,r){var i=this;e&&y_.FileAccessControl.checkFileProtection(),this._enableDiskRetryMode=y_.FileAccessControl.OS_PROVIDES_FILE_PROTECTION&&e,typeof n=="number"&&n>=0&&(this._resendInterval=Math.floor(n)),typeof r=="number"&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),e&&!y_.FileAccessControl.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,this._logWarn("Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.")),this._enableDiskRetryMode?(this._statsbeat&&this._statsbeat.addFeature(xf.StatsbeatFeature.DISK_RETRY),this._fileCleanupTimer||(this._fileCleanupTimer=setTimeout(function(){i._fileCleanupTask()},t.CLEANUP_TIMEOUT),this._fileCleanupTimer.unref())):(this._statsbeat&&this._statsbeat.removeFeature(xf.StatsbeatFeature.DISK_RETRY),this._fileCleanupTimer&&clearTimeout(this._fileCleanupTimer))},t.prototype.send=function(e,n){return KR(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,f=this;return XR(this,function(d){switch(d.label){case 0:if(!e)return[3,5];if(r=this._redirectedHost||this._config.endpointUrl,i=new jje.URL(r).hostname,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}},s=this._getAuthorizationHandler?this._getAuthorizationHandler(this._config):null,!s)return[3,4];this._statsbeat&&this._statsbeat.addFeature(xf.StatsbeatFeature.AAD_HANDLING),d.label=1;case 1:return d.trys.push([1,3,,4]),[4,s.addAuthorizationHeader(o)];case 2:return d.sent(),[3,4];case 3:return a=d.sent(),u="Failed to get AAD bearer token for the Application.",this._enableDiskRetryMode&&(u+="This batch of telemetry items will be retried. ",this._storeToDisk(e)),u+="Error:"+a.toString(),this._logWarn(u),typeof n=="function"&&n(u),[2];case 4:c="",e.forEach(function(p){var m=zi.stringify(p);typeof m=="string"&&(c+=m+`
`)}),c.length>0&&(c=c.substring(0,c.length-1)),l=Buffer.from?Buffer.from(c):new Buffer(c),Uje.gzip(l,function(p,m){var h=m;p?(f._logWarn(zi.dumpObj(p)),h=l,o.headers["Content-Length"]=l.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=m.length.toString()),f._logInfo(zi.dumpObj(o)),o[qje.disableCollectionRequestOption]=!0;var g=+new Date,v=function(y){y.setEncoding("utf-8");var w="";y.on("data",function(_){w+=_}),y.on("end",function(){var _=+new Date,T=_-g;if(f._numConsecutiveFailures=0,f._isStatsbeatSender&&!f._statsbeatHasReachedIngestionAtLeastOnce&&(Bje.includes(y.statusCode)?f._statsbeatHasReachedIngestionAtLeastOnce=!0:f._statsbeatFailedToIngest()),f._statsbeat&&(y.statusCode==$je||y.statusCode==Hje?f._statsbeat.countThrottle(xf.StatsbeatNetworkCategory.Breeze,i,y.statusCode):f._statsbeat.countRequest(xf.StatsbeatNetworkCategory.Breeze,i,T,y.statusCode===200,y.statusCode)),f._enableDiskRetryMode){if(y.statusCode===200)f._resendTimer||(f._resendTimer=setTimeout(function(){f._resendTimer=null,f._sendFirstFileOnDisk()},f._resendInterval),f._resendTimer.unref());else if(f._isRetriable(y.statusCode))try{f._statsbeat&&f._statsbeat.countRetry(xf.StatsbeatNetworkCategory.Breeze,i,y.statusCode);var P=JSON.parse(w),E=[];P.errors&&(P.errors.forEach(function(I){(I.statusCode==429||I.statusCode==500||I.statusCode==503)&&E.push(e[I.index])}),E.length>0&&f._storeToDisk(E))}catch{f._storeToDisk(e)}}if(y.statusCode===307||y.statusCode===308)if(f._numConsecutiveRedirects++,f._numConsecutiveRedirects<10){var C=y.headers.location?y.headers.location.toString():null;C&&(f._redirectedHost=C,f.send(e,n))}else{var S={name:"Circular Redirect",message:"Error sending telemetry because of circular redirects."};f._statsbeat&&f._statsbeat.countException(xf.StatsbeatNetworkCategory.Breeze,i,S),typeof n=="function"&&n("Error sending telemetry because of circular redirects.")}else f._numConsecutiveRedirects=0,typeof n=="function"&&n(w),f._logInfo(w),typeof f._onSuccess=="function"&&f._onSuccess(w)})},x=zi.makeRequest(f._config,r,o,v);x.setTimeout(t.HTTP_TIMEOUT,function(){f._requestTimedOut=!0,x.abort()}),x.on("error",function(y){if(f._isStatsbeatSender&&!f._statsbeatHasReachedIngestionAtLeastOnce&&f._statsbeatFailedToIngest(),f._numConsecutiveFailures++,f._statsbeat&&f._statsbeat.countException(xf.StatsbeatNetworkCategory.Breeze,i,y),!f._enableDiskRetryMode||f._numConsecutiveFailures>0&&f._numConsecutiveFailures%t.MAX_CONNECTION_FAILURES_BEFORE_WARN===0){var w="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";f._enableDiskRetryMode&&(w="Ingestion endpoint could not be reached "+f._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),f._logWarn(w,zi.dumpObj(y))}else{var w="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";f._logInfo(w,zi.dumpObj(y))}f._onErrorHelper(y),typeof n=="function"&&(y?(f._requestTimedOut&&(y.name="telemetry timeout",y.message="telemetry request timed out"),n(zi.dumpObj(y))):n("Error sending telemetry")),f._enableDiskRetryMode&&f._storeToDisk(e)}),x.write(h),x.end()}),d.label=5;case 5:return[2]}})})},t.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(zi.stringify(e))},t.prototype._isRetriable=function(e){return e===206||e===401||e===403||e===408||e===429||e===500||e===502||e===503||e===504},t.prototype._logInfo=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._isStatsbeatSender||Yue.info(t.TAG,e,n)},t.prototype._logWarn=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._isStatsbeatSender||Yue.warn(t.TAG,e,n)},t.prototype._statsbeatFailedToIngest=function(){this._shutdownStatsbeat&&(this._failedToIngestCounter++,this._failedToIngestCounter>=3&&this._shutdownStatsbeat())},t.prototype._storeToDisk=function(e){return KR(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return XR(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),this._logInfo("Checking existence of data storage directory: "+this._tempDir),[4,Eu.confirmDirExists(this._tempDir)];case 1:return c.sent(),[3,3];case 2:return n=c.sent(),this._logWarn("Failed to create folder to put telemetry: "+zi.dumpObj(n)),this._onErrorHelper(n),[2];case 3:return c.trys.push([3,5,,6]),[4,y_.FileAccessControl.applyACLRules(this._tempDir)];case 4:return c.sent(),[3,6];case 5:return r=c.sent(),this._logWarn("Failed to apply file access control to folder: "+zi.dumpObj(r)),this._onErrorHelper(r),[2];case 6:return c.trys.push([6,8,,9]),[4,Eu.getShallowDirectorySize(this._tempDir)];case 7:return i=c.sent(),i>this._maxBytesOnDisk?(this._logWarn("Not saving data due to max size limit being met. Directory size in bytes is: "+i),[2]):[3,9];case 8:return o=c.sent(),this._logWarn("Failed to read directory for retriable telemetry: "+zi.dumpObj(o)),this._onErrorHelper(o),[2];case 9:return c.trys.push([9,11,,12]),s=new Date().getTime()+".ai.json",a=Vp.join(this._tempDir,s),this._logInfo("saving data to disk at: "+a),[4,Eu.writeFileAsync(a,zi.stringify(e),{mode:384})];case 10:return c.sent(),[3,12];case 11:return u=c.sent(),this._logWarn("Failed to persist telemetry to disk: "+zi.dumpObj(u)),this._onErrorHelper(u),[2];case 12:return[2]}})})},t.prototype._storeToDiskSync=function(e){try{this._logInfo("Checking existence of data storage directory: "+this._tempDir),AH.existsSync(this._tempDir)||AH.mkdirSync(this._tempDir),y_.FileAccessControl.applyACLRulesSync(this._tempDir);var n=Eu.getShallowDirectorySizeSync(this._tempDir);if(n>this._maxBytesOnDisk){this._logInfo("Not saving data due to max size limit being met. Directory size in bytes is: "+n);return}var r=new Date().getTime()+".ai.json",i=Vp.join(this._tempDir,r);this._logInfo("saving data before crash to disk at: "+i),AH.writeFileSync(i,e,{mode:384})}catch(o){this._logWarn("Error while saving data to disk: "+zi.dumpObj(o)),this._onErrorHelper(o)}},t.prototype._sendFirstFileOnDisk=function(){return KR(this,void 0,void 0,function(){var e,n,r,i,o,s;return XR(this,function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),[4,Eu.readdirAsync(this._tempDir)];case 1:return e=a.sent(),e=e.filter(function(u){return Vp.basename(u).indexOf(".ai.json")>-1}),e.length>0?(n=e[0],r=Vp.join(this._tempDir,n),[4,Eu.readFileAsync(r)]):[3,5];case 2:return i=a.sent(),[4,Eu.unlinkAsync(r)];case 3:return a.sent(),o=JSON.parse(i.toString()),[4,this.send(o)];case 4:a.sent(),a.label=5;case 5:return[3,7];case 6:return s=a.sent(),this._onErrorHelper(s),[3,7];case 7:return[2]}})})},t.prototype._onErrorHelper=function(e){typeof this._onError=="function"&&this._onError(e)},t.prototype._fileCleanupTask=function(){return KR(this,void 0,void 0,function(){var e,n,r,i,o,s,a=this;return XR(this,function(u){switch(u.label){case 0:return u.trys.push([0,6,,7]),[4,Eu.readdirAsync(this._tempDir)];case 1:if(e=u.sent(),e=e.filter(function(c){return Vp.basename(c).indexOf(".ai.json")>-1}),!(e.length>0))return[3,5];n=0,u.label=2;case 2:return n<e.length?(r=new Date(parseInt(e[n].split(".ai.json")[0])),i=new Date(+new Date-t.FILE_RETEMPTION_PERIOD)>r,i?(o=Vp.join(this._tempDir,e[n]),[4,Eu.unlinkAsync(o).catch(function(c){a._onErrorHelper(c)})]):[3,4]):[3,5];case 3:u.sent(),u.label=4;case 4:return n++,[3,2];case 5:return[3,7];case 6:return s=u.sent(),s.code!="ENOENT"&&this._onErrorHelper(s),[3,7];case 7:return[2]}})})},t.TAG="Sender",t.WAIT_BETWEEN_RESEND=60*1e3,t.MAX_BYTES_ON_DISK=50*1024*1024,t.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,t.CLEANUP_TIMEOUT=60*60*1e3,t.FILE_RETEMPTION_PERIOD=7*24*60*60*1e3,t.TEMPDIR_PREFIX="appInsights-node",t.HTTP_TIMEOUT=2e4,t}();Kue.exports=Vje});var Xue=b(QR=>{"use strict";Object.defineProperty(QR,"__esModule",{value:!0});QR.NetworkStatsbeat=void 0;var Wje=function(){function t(e,n){this.endpoint=e,this.host=n,this.totalRequestCount=0,this.totalSuccesfulRequestCount=0,this.totalFailedRequestCount=[],this.retryCount=[],this.exceptionCount=[],this.throttleCount=[],this.intervalRequestExecutionTime=0,this.lastIntervalRequestExecutionTime=0,this.lastTime=+new Date,this.lastRequestCount=0}return t}();QR.NetworkStatsbeat=Wje});var tle=b((Wp,ele)=>{"use strict";var Ka=Wp&&Wp.__assign||function(){return Ka=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ka.apply(this,arguments)},kH=Wp&&Wp.__awaiter||function(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(l){try{c(r.next(l))}catch(f){s(f)}}function u(l){try{c(r.throw(l))}catch(f){s(f)}}function c(l){l.done?o(l.value):i(l.value).then(a,u)}c((r=r.apply(t,e||[])).next())})},OH=Wp&&Wp.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return u([c,l])}}function u(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(l){c=[6,l],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Gje=require("os"),zje=RH(),Que=Zt(),Yje=DH(),Yt=dn(),Kje=Br(),Xje=X2(),Qje=sj(),Jue=fv(),Jje=Xue(),Zue=xr(),Zje="node",eHe=function(){function t(e,n){this._attach=Yt.StatsbeatAttach.sdk,this._feature=Yt.StatsbeatFeature.NONE,this._instrumentation=Yt.StatsbeatInstrumentation.NONE,this._isInitialized=!1,this._statbeatMetrics=[],this._networkStatsbeatCollection=[],this._config=e,this._context=n||new Jue;var r=this._getConnectionString(e);this._statsbeatConfig=new Qje(r),this._statsbeatConfig.samplingPercentage=100,this._sender=new Yje(this._statsbeatConfig,null,null,null,null,!0,this._shutdownStatsbeat.bind(this))}return t.prototype.enable=function(e){var n=this;this._isEnabled=e,this._isEnabled&&!this._isInitialized&&(this._getCustomProperties(),this._isInitialized=!0),e?(this._handle||(this._handle=setInterval(function(){n.trackShortIntervalStatsbeats()},t.STATS_COLLECTION_SHORT_INTERVAL),this._handle.unref()),this._longHandle||(this.trackLongIntervalStatsbeats(),this._longHandle=setInterval(function(){n.trackLongIntervalStatsbeats()},t.STATS_COLLECTION_LONG_INTERVAL),this._longHandle.unref())):(this._handle&&(clearInterval(this._handle),this._handle=null),this._longHandle&&(clearInterval(this._longHandle),this._longHandle=null))},t.prototype.isInitialized=function(){return this._isInitialized},t.prototype.isEnabled=function(){return this._isEnabled},t.prototype.setCodelessAttach=function(){this._attach=Yt.StatsbeatAttach.codeless},t.prototype.addFeature=function(e){this._feature|=e},t.prototype.removeFeature=function(e){this._feature&=~e},t.prototype.addInstrumentation=function(e){this._instrumentation|=e},t.prototype.removeInstrumentation=function(e){this._instrumentation&=~e},t.prototype.countRequest=function(e,n,r,i,o){if(this.isEnabled()){var s=this._getNetworkStatsbeatCounter(e,n);if(s.totalRequestCount++,s.intervalRequestExecutionTime+=r,i===!1){if(!o)return;var a=s.totalFailedRequestCount.find(function(u){return o===u.statusCode});a?a.count++:s.totalFailedRequestCount.push({statusCode:o,count:1})}else s.totalSuccesfulRequestCount++}},t.prototype.countException=function(e,n,r){if(this.isEnabled()){var i=this._getNetworkStatsbeatCounter(e,n),o=i.exceptionCount.find(function(s){return r.name===s.exceptionType});o?o.count++:i.exceptionCount.push({exceptionType:r.name,count:1})}},t.prototype.countThrottle=function(e,n,r){if(this.isEnabled()){var i=this._getNetworkStatsbeatCounter(e,n),o=i.throttleCount.find(function(s){return r===s.statusCode});o?o.count++:i.throttleCount.push({statusCode:r,count:1})}},t.prototype.countRetry=function(e,n,r){if(this.isEnabled()){var i=this._getNetworkStatsbeatCounter(e,n),o=i.retryCount.find(function(s){return r===s.statusCode});o?o.count++:i.retryCount.push({statusCode:r,count:1})}},t.prototype.trackShortIntervalStatsbeats=function(){return kH(this,void 0,void 0,function(){var e,n;return OH(this,function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,this._getResourceProvider()];case 1:return r.sent(),e={os:this._os,rp:this._resourceProvider,cikey:this._cikey,runtimeVersion:this._runtimeVersion,language:this._language,version:this._sdkVersion,attach:this._attach},this._trackRequestDuration(e),this._trackRequestsCount(e),[4,this._sendStatsbeats()];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),Que.info(t.TAG,"Failed to send Statsbeat metrics: "+Zue.dumpObj(n)),[3,4];case 4:return[2]}})})},t.prototype.trackLongIntervalStatsbeats=function(){return kH(this,void 0,void 0,function(){var e,n,r,i,o;return OH(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,this._getResourceProvider()];case 1:return s.sent(),e={os:this._os,rp:this._resourceProvider,cikey:this._cikey,runtimeVersion:this._runtimeVersion,language:this._language,version:this._sdkVersion,attach:this._attach},n=Object.assign({rpId:this._resourceIdentifier},e),this._statbeatMetrics.push({name:Yt.StatsbeatCounter.ATTACH,value:1,properties:n}),this._instrumentation!=Yt.StatsbeatInstrumentation.NONE&&(r=Object.assign({feature:this._instrumentation,type:Yt.StatsbeatFeatureType.Instrumentation},e),this._statbeatMetrics.push({name:Yt.StatsbeatCounter.FEATURE,value:1,properties:r})),this._feature!=Yt.StatsbeatFeature.NONE&&(i=Object.assign({feature:this._feature,type:Yt.StatsbeatFeatureType.Feature},e),this._statbeatMetrics.push({name:Yt.StatsbeatCounter.FEATURE,value:1,properties:i})),[4,this._sendStatsbeats()];case 2:return s.sent(),[3,4];case 3:return o=s.sent(),Que.info(t.TAG,"Failed to send Statsbeat metrics: "+Zue.dumpObj(o)),[3,4];case 4:return[2]}})})},t.prototype._getNetworkStatsbeatCounter=function(e,n){for(var r=this._getShortHost(n),i=0;i<this._networkStatsbeatCollection.length;i++)if(e===this._networkStatsbeatCollection[i].endpoint&&r===this._networkStatsbeatCollection[i].host)return this._networkStatsbeatCollection[i];var o=new Jje.NetworkStatsbeat(e,r);return this._networkStatsbeatCollection.push(o),o},t.prototype._trackRequestDuration=function(e){for(var n=0;n<this._networkStatsbeatCollection.length;n++){var r=this._networkStatsbeatCollection[n];r.time=+new Date;var i=r.totalRequestCount-r.lastRequestCount||0,o=r.intervalRequestExecutionTime-r.lastIntervalRequestExecutionTime,s=o>0&&o/i||0;if(r.lastIntervalRequestExecutionTime=r.intervalRequestExecutionTime,i>0){var a=Object.assign({endpoint:this._networkStatsbeatCollection[n].endpoint,host:this._networkStatsbeatCollection[n].host},e);this._statbeatMetrics.push({name:Yt.StatsbeatCounter.REQUEST_DURATION,value:s,properties:a})}r.lastRequestCount=r.totalRequestCount,r.lastTime=r.time}},t.prototype._getShortHost=function(e){var n=e;try{var r=new RegExp(/^https?:\/\/(?:www\.)?([^\/.-]+)/),i=r.exec(e);i!=null&&i.length>1&&(n=i[1]),n=n.replace(".in.applicationinsights.azure.com","")}catch{}return n},t.prototype._trackRequestsCount=function(e){for(var n=this,r=function(a){o=i._networkStatsbeatCollection[a];var u=Object.assign({endpoint:o.endpoint,host:o.host},e);o.totalSuccesfulRequestCount>0&&(i._statbeatMetrics.push({name:Yt.StatsbeatCounter.REQUEST_SUCCESS,value:o.totalSuccesfulRequestCount,properties:u}),o.totalSuccesfulRequestCount=0),o.totalFailedRequestCount.length>0&&(o.totalFailedRequestCount.forEach(function(c){u=Object.assign(Ka(Ka({},u),{statusCode:c.statusCode})),n._statbeatMetrics.push({name:Yt.StatsbeatCounter.REQUEST_FAILURE,value:c.count,properties:u})}),o.totalFailedRequestCount=[]),o.retryCount.length>0&&(o.retryCount.forEach(function(c){u=Object.assign(Ka(Ka({},u),{statusCode:c.statusCode})),n._statbeatMetrics.push({name:Yt.StatsbeatCounter.RETRY_COUNT,value:c.count,properties:u})}),o.retryCount=[]),o.throttleCount.length>0&&(o.throttleCount.forEach(function(c){u=Object.assign(Ka(Ka({},u),{statusCode:c.statusCode})),n._statbeatMetrics.push({name:Yt.StatsbeatCounter.THROTTLE_COUNT,value:c.count,properties:u})}),o.throttleCount=[]),o.exceptionCount.length>0&&(o.exceptionCount.forEach(function(c){u=Object.assign(Ka(Ka({},u),{exceptionType:c.exceptionType})),n._statbeatMetrics.push({name:Yt.StatsbeatCounter.EXCEPTION_COUNT,value:c.count,properties:u})}),o.exceptionCount=[])},i=this,o,s=0;s<this._networkStatsbeatCollection.length;s++)r(s)},t.prototype._sendStatsbeats=function(){return kH(this,void 0,void 0,function(){var e,n,r,i;return OH(this,function(o){switch(o.label){case 0:for(e=[],n=0;n<this._statbeatMetrics.length;n++)r={name:this._statbeatMetrics[n].name,value:this._statbeatMetrics[n].value,properties:this._statbeatMetrics[n].properties},i=zje.createEnvelope(r,Kje.TelemetryType.Metric,null,this._context,this._statsbeatConfig),i.name=Yt.StatsbeatTelemetryName,e.push(i);return this._statbeatMetrics=[],[4,this._sender.send(e)];case 1:return o.sent(),[2]}})})},t.prototype._getCustomProperties=function(){this._language=Zje,this._cikey=this._config.instrumentationKey,this._sdkVersion=Jue.sdkVersion,this._os=Gje.type(),this._runtimeVersion=process.version},t.prototype._getResourceProvider=function(){var e=this;return new Promise(function(n,r){var i=!1;e._resourceProvider=Yt.StatsbeatResourceProvider.unknown,e._resourceIdentifier=Yt.StatsbeatResourceProvider.unknown,process.env.WEBSITE_SITE_NAME?(e._resourceProvider=Yt.StatsbeatResourceProvider.appsvc,e._resourceIdentifier=process.env.WEBSITE_SITE_NAME,process.env.WEBSITE_HOME_STAMPNAME&&(e._resourceIdentifier+="/"+process.env.WEBSITE_HOME_STAMPNAME)):process.env.FUNCTIONS_WORKER_RUNTIME?(e._resourceProvider=Yt.StatsbeatResourceProvider.functions,process.env.WEBSITE_HOSTNAME&&(e._resourceIdentifier=process.env.WEBSITE_HOSTNAME)):e._config&&(e._isVM===void 0||e._isVM==!0?(i=!0,Xje.AzureVirtualMachine.getAzureComputeMetadata(e._config,function(o){e._isVM=o.isVM,e._isVM&&(e._resourceProvider=Yt.StatsbeatResourceProvider.vm,e._resourceIdentifier=o.id+"/"+o.subscriptionId,o.osType&&(e._os=o.osType)),n()})):e._resourceProvider=Yt.StatsbeatResourceProvider.unknown),i||n()})},t.prototype._shutdownStatsbeat=function(){this.enable(!1)},t.prototype._getConnectionString=function(e){for(var n=e.endpointUrl,r=["westeurope","northeurope","francecentral","francesouth","germanywestcentral","norwayeast","norwaywest","swedencentral","switzerlandnorth","switzerlandwest","uksouth","ukwest"],i=0;i<r.length;i++)if(n.indexOf(r[i])>-1)return t.EU_CONNECTION_STRING;return t.NON_EU_CONNECTION_STRING},t.NON_EU_CONNECTION_STRING="InstrumentationKey=c4a29126-a7cb-47e5-b348-11414998b11e;IngestionEndpoint=https://westus-0.in.applicationinsights.azure.com",t.EU_CONNECTION_STRING="InstrumentationKey=7dc56bab-3c0c-4e9f-9ebb-d1acadee8d0f;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com",t.STATS_COLLECTION_SHORT_INTERVAL=9e5,t.STATS_COLLECTION_LONG_INTERVAL=864e5,t.TAG="Statsbeat",t}();ele.exports=eHe});var ile=b((ppt,rle)=>{"use strict";var tHe=require("url"),nHe=sj(),rHe=Nue(),iHe=fv(),_u=Br(),oHe=Fue(),JR=Bue(),nle=rf(),sHe=tle(),aHe=DH(),NH=xr(),ZR=Zt(),cHe=RH(),uHe=function(){function t(e){this._telemetryProcessors=[],this._enableAzureProperties=!1;var n=new nHe(e);if(this.config=n,!this.config.instrumentationKey||this.config.instrumentationKey=="")throw new Error("Instrumentation key not found, please provide a connection string before starting Application Insights SDK.");this.context=new iHe,this.commonProperties={},this.authorizationHandler=null,this.config.disableStatsbeat||(this._statsbeat=new sHe(this.config,this.context),this._statsbeat.enable(!0));var r=new aHe(this.config,this.getAuthorizationHandler,null,null,this._statsbeat);this.channel=new oHe(function(){return n.disableAppInsights},function(){return n.maxBatchSize},function(){return n.maxBatchIntervalMs},r)}return t.prototype.trackAvailability=function(e){this.track(e,_u.TelemetryType.Availability)},t.prototype.trackPageView=function(e){this.track(e,_u.TelemetryType.PageView)},t.prototype.trackTrace=function(e){this.track(e,_u.TelemetryType.Trace)},t.prototype.trackMetric=function(e){this.track(e,_u.TelemetryType.Metric)},t.prototype.trackException=function(e){e&&e.exception&&!NH.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,_u.TelemetryType.Exception)},t.prototype.trackEvent=function(e){this.track(e,_u.TelemetryType.Event)},t.prototype.trackRequest=function(e){this.track(e,_u.TelemetryType.Request)},t.prototype.trackDependency=function(e){if(e&&!e.target&&e.data)try{e.target=new tHe.URL(e.data).host}catch(n){e.target=null,ZR.warn(t.TAG,"The URL object is failed to create.",n)}this.track(e,_u.TelemetryType.Dependency)},t.prototype.flush=function(e){this.channel.triggerSend(e?!!e.isAppCrashing:!1,e?e.callback:void 0)},t.prototype.track=function(e,n){if(e&&_u.telemetryTypeToBaseType(n)){var r=cHe.createEnvelope(e,n,this.commonProperties,this.context,this.config);e.time&&(r.time=e.time.toISOString()),this._enableAzureProperties&&JR.azureRoleEnvironmentTelemetryProcessor(r,this.context);var i=this.runTelemetryProcessors(r,e.contextObjects);i=i&&JR.samplingTelemetryProcessor(r,{correlationContext:nle.CorrelationContextManager.getCurrentContext()}),JR.preAggregatedMetricsTelemetryProcessor(r,this.context),i&&(JR.performanceMetricsTelemetryProcessor(r,this.quickPulseClient),this.channel.send(r))}else ZR.warn(t.TAG,"track() requires telemetry object and telemetryType to be specified.")},t.prototype.setAutoPopulateAzureProperties=function(e){this._enableAzureProperties=e},t.prototype.getAuthorizationHandler=function(e){return e&&e.aadTokenCredential?(this.authorizationHandler||(ZR.info(t.TAG,"Adding authorization handler"),this.authorizationHandler=new rHe(e.aadTokenCredential)),this.authorizationHandler):null},t.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},t.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},t.prototype.runTelemetryProcessors=function(e,n){var r=!0,i=this._telemetryProcessors.length;if(i===0)return r;n=n||{},n.correlationContext=nle.CorrelationContextManager.getCurrentContext();for(var o=0;o<i;++o)try{var s=this._telemetryProcessors[o];if(s&&s.apply(null,[e,n])===!1){r=!1;break}}catch(a){r=!0,ZR.warn(t.TAG,"One of telemetry processors failed, telemetry item will be sent.",a,e)}return r&&(e&&e.tags&&(e.tags=NH.validateStringMap(e.tags)),e&&e.data&&e.data.baseData&&e.data.baseData.properties&&(e.data.baseData.properties=NH.validateStringMap(e.data.baseData.properties))),r},t.prototype.getStatsbeat=function(){return this._statsbeat},t.TAG="TelemetryClient",t}();rle.exports=uHe});var ale=b((LH,sle)=>{"use strict";var lHe=LH&&LH.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fHe=ile(),ole=Z2(),dHe=lv(),eA=Zt(),pHe=function(t){lHe(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.trackNodeHttpRequestSync=function(n){n&&n.request&&n.response&&n.duration?ole.trackRequestSync(this,n):eA.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},e.prototype.trackNodeHttpRequest=function(n){(n.duration||n.error)&&eA.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),n&&n.request&&n.response?ole.trackRequest(this,n):eA.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},e.prototype.trackNodeHttpDependency=function(n){n&&n.request?dHe.trackRequest(this,n):eA.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},e}(fHe);sle.exports=pHe});var ule=b(cle=>{"use strict";Object.defineProperty(cle,"__esModule",{value:!0})});var hle=b(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.dispose=ne.Configuration=ne.wrapWithCorrelationContext=ne.startOperation=ne.getCorrelationContext=ne.start=ne.setup=ne.liveMetricsClient=ne.defaultClient=ne.DistributedTracingModes=void 0;var qH=rf(),mHe=ese(),hHe=nse(),fle=zP(),gHe=U2(),vHe=Sse(),yHe=Mse(),xHe=lv(),wHe=Z2(),dle=Sp(),E_=Zt(),EHe=nae(),jH=rae(),_He=sae();ne.TelemetryClient=ale();ne.Contracts=Br();ne.azureFunctionsTypes=ule();var ple;(function(t){t[t.AI=0]="AI",t[t.AI_AND_W3C=1]="AI_AND_W3C"})(ple=ne.DistributedTracingModes||(ne.DistributedTracingModes={}));var Yi=bHe(),tA=Yi.isConsole(),nA=Yi.isConsoleLog(),rA=Yi.isExceptions(),iA=Yi.isPerformance(),oA=Yi.isPreAggregatedMetrics(),sA=Yi.isHeartBeat(),aA=Yi.isRequests(),cA=Yi.isDependencies(),FH=Yi.isDiskRetry(),__=Yi.isCorrelating(),uA,lA=Yi.isSendingLiveMetrics(),HH=Yi.isNativePerformance(),$H,Gp=Yi.isSnippetInjection(),fA=Yi.isAzureFunctions();function bHe(){return{isConsole:function(){return!0},isConsoleLog:function(){return!1},isExceptions:function(){return!0},isPerformance:function(){return!0},isPreAggregatedMetrics:function(){return!0},isHeartBeat:function(){return!1},isRequests:function(){return!0},isDependencies:function(){return!0},isDiskRetry:function(){return!0},isCorrelating:function(){return!0},isSendingLiveMetrics:function(){return!1},isNativePerformance:function(){return!0},isSnippetInjection:function(){return!1},isAzureFunctions:function(){return!1}}}var MH=void 0,UH=void 0,w_=void 0,b_,C_,S_,T_,I_,Nv,Lv,zp,P_,R_,bo=!1,lle;function CHe(t){return ne.defaultClient?E_.info("The default client is already setup"):(ne.defaultClient=new ne.TelemetryClient(t),SHe(),b_=new mHe(ne.defaultClient),C_=new hHe(ne.defaultClient),S_=new fle(ne.defaultClient),T_=new gHe(ne.defaultClient),I_=new vHe(ne.defaultClient),Nv=new yHe(ne.defaultClient),zp=new wHe(ne.defaultClient),P_=new xHe(ne.defaultClient),Lv||(Lv=new jH.AutoCollectNativePerformance(ne.defaultClient)),R_=new _He.AzureFunctionsHook(ne.defaultClient)),ne.defaultClient&&ne.defaultClient.channel&&ne.defaultClient.channel.setUseDiskRetryCaching(FH,MH,UH),BH}ne.setup=CHe;function mle(){return ne.defaultClient?(bo=!0,b_.enable(tA,nA),C_.enable(rA),S_.enable(iA),T_.enable(oA),I_.enable(sA),Lv.enable(HH,$H),zp.useAutoCorrelation(__,uA),zp.enable(aA),P_.enable(cA),Nv.enable(Gp,w_),ne.liveMetricsClient&&lA&&ne.liveMetricsClient.enable(lA),R_.enable(fA)):E_.warn("Start cannot be called before setup"),BH}ne.start=mle;function SHe(){tA=ne.defaultClient.config.enableAutoCollectExternalLoggers!==void 0?ne.defaultClient.config.enableAutoCollectExternalLoggers:tA,nA=ne.defaultClient.config.enableAutoCollectConsole!==void 0?ne.defaultClient.config.enableAutoCollectConsole:nA,rA=ne.defaultClient.config.enableAutoCollectExceptions!==void 0?ne.defaultClient.config.enableAutoCollectExceptions:rA,iA=ne.defaultClient.config.enableAutoCollectPerformance!==void 0?ne.defaultClient.config.enableAutoCollectPerformance:iA,oA=ne.defaultClient.config.enableAutoCollectPreAggregatedMetrics!==void 0?ne.defaultClient.config.enableAutoCollectPreAggregatedMetrics:oA,sA=ne.defaultClient.config.enableAutoCollectHeartbeat!==void 0?ne.defaultClient.config.enableAutoCollectHeartbeat:sA,aA=ne.defaultClient.config.enableAutoCollectRequests!==void 0?ne.defaultClient.config.enableAutoCollectRequests:aA,cA=ne.defaultClient.config.enableAutoDependencyCorrelation!==void 0?ne.defaultClient.config.enableAutoDependencyCorrelation:cA,__=ne.defaultClient.config.enableAutoDependencyCorrelation!==void 0?ne.defaultClient.config.enableAutoDependencyCorrelation:__,uA=ne.defaultClient.config.enableUseAsyncHooks!==void 0?ne.defaultClient.config.enableUseAsyncHooks:uA,Gp=ne.defaultClient.config.enableWebInstrumentation!==void 0?ne.defaultClient.config.enableWebInstrumentation:Gp,Gp=ne.defaultClient.config.enableAutoWebSnippetInjection===!0?!0:Gp,fA=ne.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions!==void 0?ne.defaultClient.config.enableAutoCollectIncomingRequestAzureFunctions:fA;var t=jH.AutoCollectNativePerformance.parseEnabled(ne.defaultClient.config.enableAutoCollectExtendedMetrics,ne.defaultClient.config);HH=t.isEnabled,$H=t.disabledMetrics}function THe(){return __?qH.CorrelationContextManager.getCurrentContext():null}ne.getCorrelationContext=THe;function IHe(t,e){return qH.CorrelationContextManager.startOperation(t,e)}ne.startOperation=IHe;function PHe(t,e){return qH.CorrelationContextManager.wrapCallback(t,e)}ne.wrapWithCorrelationContext=PHe;var BH=function(){function t(){}return t.setDistributedTracingMode=function(e){return dle.w3cEnabled=e===ple.AI_AND_W3C,t},t.setAutoCollectConsole=function(e,n){return n===void 0&&(n=!1),tA=e,nA=n,bo&&b_.enable(e,n),t},t.setAutoCollectExceptions=function(e){return rA=e,bo&&C_.enable(e),t},t.setAutoCollectPerformance=function(e,n){n===void 0&&(n=!0),iA=e;var r=jH.AutoCollectNativePerformance.parseEnabled(n,ne.defaultClient.config);return HH=r.isEnabled,$H=r.disabledMetrics,bo&&(S_.enable(e),Lv.enable(r.isEnabled,r.disabledMetrics)),t},t.setAutoCollectPreAggregatedMetrics=function(e){return oA=e,bo&&T_.enable(e),t},t.setAutoCollectHeartbeat=function(e){return sA=e,bo&&I_.enable(e),t},t.enableAutoWebSnippetInjection=function(e,n){return Gp=e,w_=n,bo&&Nv.enable(e,w_),t},t.enableWebInstrumentation=function(e,n){return Gp=e,w_=n,bo&&Nv.enable(e,w_),t},t.setAutoCollectRequests=function(e){return aA=e,bo&&zp.enable(e),t},t.setAutoCollectDependencies=function(e){return cA=e,bo&&P_.enable(e),t},t.setAutoDependencyCorrelation=function(e,n){return __=e,uA=n,bo&&zp.useAutoCorrelation(e,n),t},t.setUseDiskRetryCaching=function(e,n,r){return FH=e,MH=n,UH=r,ne.defaultClient&&ne.defaultClient.channel&&ne.defaultClient.channel.setUseDiskRetryCaching(FH,MH,UH),t},t.setInternalLogging=function(e,n){return e===void 0&&(e=!1),n===void 0&&(n=!0),E_.enableDebug=e,E_.disableWarnings=!n,t},t.setAutoCollectIncomingRequestAzureFunctions=function(e){return fA=e,bo&&R_.enable(e),t},t.setSendLiveMetrics=function(e){return e===void 0&&(e=!1),ne.defaultClient?(!ne.liveMetricsClient&&e?(ne.liveMetricsClient=new EHe(ne.defaultClient.config,ne.defaultClient.context,ne.defaultClient.getAuthorizationHandler),lle=new fle(ne.liveMetricsClient,1e3,!0),ne.liveMetricsClient.addCollector(lle),ne.defaultClient.quickPulseClient=ne.liveMetricsClient):ne.liveMetricsClient&&ne.liveMetricsClient.enable(e),lA=e,t):(E_.warn("Live metrics client cannot be setup without the default client"),t)},t.start=mle,t}();ne.Configuration=BH;function RHe(){dle.w3cEnabled=!0,ne.defaultClient=null,bo=!1,b_&&b_.dispose(),C_&&C_.dispose(),S_&&S_.dispose(),T_&&T_.dispose(),I_&&I_.dispose(),Nv&&Nv.dispose(),Lv&&Lv.dispose(),zp&&zp.dispose(),P_&&P_.dispose(),ne.liveMetricsClient&&(ne.liveMetricsClient.enable(!1),lA=!1,ne.liveMetricsClient=void 0),R_&&R_.dispose()}ne.dispose=RHe});var gle=b(bu=>{"use strict";var AHe=bu&&bu.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),DHe=bu&&bu.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),dA=bu&&bu.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)n!=="default"&&Object.prototype.hasOwnProperty.call(t,n)&&AHe(e,t,n);return DHe(e,t),e};Object.defineProperty(bu,"__esModule",{value:!0});var VH=dA(require("os")),wf=dA(require("vscode")),kHe=dA(require("https")),OHe=F9(),NHe=M9(),A_=U9(),LHe=IJ(),FHe=async(t,e)=>{let n;try{process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL="1";let i=await Promise.resolve().then(()=>dA(hle()));i.defaultClient?(n=new i.TelemetryClient(t),n.channel.setUseDiskRetryCaching(!0)):(i.setup(t).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setAutoCollectHeartbeat(!1).setUseDiskRetryCaching(!0).start(),n=i.defaultClient),wf&&wf.env&&(n.context.tags[n.context.keys.userId]=wf.env.machineId,n.context.tags[n.context.keys.sessionId]=wf.env.sessionId,n.context.tags[n.context.keys.cloudRole]=wf.env.appName,n.context.tags[n.context.keys.cloudRoleInstance]=wf.env.appName)}catch(i){return Promise.reject(`Failed to initialize app insights!
`+i.message)}return e!=null&&e.length&&MHe(n,e),{logEvent:(i,o)=>{try{n==null||n.trackEvent({name:i,properties:o==null?void 0:o.properties,measurements:o==null?void 0:o.measurements})}catch(s){throw new Error(`Failed to log event to app insights!
`+s.message)}},flush:async()=>{try{n==null||n.flush()}catch(i){throw new Error(`Failed to flush app insights!
`+i.message)}}}};function MHe(t,e){t.addTelemetryProcessor(n=>(Array.isArray(n.tags)?n.tags.forEach(r=>A_.TelemetryUtil.applyReplacements(r,e)):n.tags&&A_.TelemetryUtil.applyReplacements(n.tags,e),n.data.baseData&&A_.TelemetryUtil.applyReplacements(n.data.baseData,e),!0))}function UHe(){return{sendPOST:(e,n)=>{let r={method:"POST",headers:{...e.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(e.data)}};try{let i=kHe.request(e.urlString,r,o=>{o.on("data",function(s){n(o.statusCode??200,o.headers,s.toString())}),o.on("error",function(){n(0,{})})});i.write(e.data),i.end()}catch{n(0,{})}}}}var WH=class extends OHe.BaseTelemetryReporter{constructor(e,n){let r=s=>FHe(s,n);A_.TelemetryUtil.shouldUseOneDataSystemSDK(e)&&(r=s=>(0,LHe.oneDataSystemClientFactory)(s,wf,UHe()));let i={release:VH.release(),platform:VH.platform(),architecture:VH.arch()},o=new NHe.BaseTelemetrySender(e,r);if(e&&e.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(o,wf,{additionalCommonProperties:A_.TelemetryUtil.getAdditionalCommonProperties(i)})}};bu.default=WH});var GH=b(Yp=>{"use strict";Object.defineProperty(Yp,"__esModule",{value:!0});var pA=require("vscode"),Fv=class{constructor(e,n,r){this.extensionName=e,this.extensionVersion=n,this.targetPopulation=r}static trimVersionSuffix(e){let n=/\-[a-zA-Z0-9]+$/;return e.split(n)[0]}getFilterValue(e){switch(e){case Cu.ApplicationVersion:return Fv.trimVersionSuffix(pA.version);case Cu.Build:return pA.env.appName;case Cu.ClientId:return pA.env.machineId;case Cu.ExtensionName:return this.extensionName;case Cu.ExtensionVersion:return Fv.trimVersionSuffix(this.extensionVersion);case Cu.Language:return pA.env.language;case Cu.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,n=Object.values(Cu);for(let r of n)e.set(r,this.getFilterValue(r));return e}};Yp.VSCodeFilterProvider=Fv;var Cu;(function(t){t.Market="X-MSEdge-Market",t.CorpNet="X-FD-Corpnet",t.ApplicationVersion="X-VSCode-AppVersion",t.Build="X-VSCode-Build",t.ClientId="X-MSEdge-ClientId",t.ExtensionName="X-VSCode-ExtensionName",t.ExtensionVersion="X-VSCode-ExtensionVersion",t.Language="X-VSCode-Language",t.TargetPopulation="X-VSCode-TargetPopulation"})(Cu=Yp.Filters||(Yp.Filters={}));var qHe;(function(t){t.Team="team",t.Internal="internal",t.Insiders="insider",t.Public="public"})(qHe=Yp.TargetPopulation||(Yp.TargetPopulation={}))});var vle=b(YH=>{"use strict";Object.defineProperty(YH,"__esModule",{value:!0});var zH=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}};YH.BaseFeatureProvider=zH});var yle=b(XH=>{"use strict";Object.defineProperty(XH,"__esModule",{value:!0});var jHe=vle(),KH=class extends jHe.BaseFeatureProvider{constructor(e,n){super(e),this.telemetry=e,this.filterProviders=n,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let n of this.filterProviders){let r=n.getFilters();for(let i of r.keys()){let o=r.get(i);e.set(i,o)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;let n=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",n]])),this.cachedTelemetryEvents.push(e)}};XH.FilteredFeatureProvider=KH});var xle=b(Mv=>{"use strict";Object.defineProperty(Mv,"__esModule",{value:!0});var HHe=yle();Mv.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";var QH="ErrorType",JH=class extends HHe.FilteredFeatureProvider{constructor(e,n,r){super(n,r),this.httpClient=e,this.telemetry=n,this.filterProviders=r}async fetch(){let e=this.getFilters(),n={};for(let a of e.keys()){let u=e.get(a);n[a]=u}let r;try{r=await this.httpClient.get({headers:n})}catch(a){let u=a,c=new Map;u.response?c.set(QH,"ServerError"):u.request?c.set(QH,"NoResponse"):c.set(QH,"GenericError"),this.telemetry.postEvent(Mv.TASAPI_FETCHERROR_EVENTNAME,c)}if(!r)throw Error(Mv.TASAPI_FETCHERROR_EVENTNAME);e.keys.length>0&&this.PostEventToTelemetry(n);let i=r.data,o=i.Configs,s=[];for(let a of o)if(a.Parameters)for(let u of Object.keys(a.Parameters)){let c=u+(a.Parameters[u]?"":"cf");s.includes(c)||s.push(c)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};Mv.TasApiFeatureProvider=JH});var ZH=b((Ept,wle)=>{"use strict";wle.exports=function(e,n){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return e.apply(n,i)}}});var Gr=b((_pt,Cle)=>{"use strict";var $He=ZH(),Ef=Object.prototype.toString;function n$(t){return Array.isArray(t)}function e$(t){return typeof t>"u"}function BHe(t){return t!==null&&!e$(t)&&t.constructor!==null&&!e$(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}function Ele(t){return Ef.call(t)==="[object ArrayBuffer]"}function VHe(t){return Ef.call(t)==="[object FormData]"}function WHe(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ele(t.buffer),e}function GHe(t){return typeof t=="string"}function zHe(t){return typeof t=="number"}function _le(t){return t!==null&&typeof t=="object"}function mA(t){if(Ef.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function YHe(t){return Ef.call(t)==="[object Date]"}function KHe(t){return Ef.call(t)==="[object File]"}function XHe(t){return Ef.call(t)==="[object Blob]"}function ble(t){return Ef.call(t)==="[object Function]"}function QHe(t){return _le(t)&&ble(t.pipe)}function JHe(t){return Ef.call(t)==="[object URLSearchParams]"}function ZHe(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function e$e(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function r$(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),n$(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function t$(){var t={};function e(i,o){mA(t[o])&&mA(i)?t[o]=t$(t[o],i):mA(i)?t[o]=t$({},i):n$(i)?t[o]=i.slice():t[o]=i}for(var n=0,r=arguments.length;n<r;n++)r$(arguments[n],e);return t}function t$e(t,e,n){return r$(e,function(i,o){n&&typeof i=="function"?t[o]=$He(i,n):t[o]=i}),t}function n$e(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}Cle.exports={isArray:n$,isArrayBuffer:Ele,isBuffer:BHe,isFormData:VHe,isArrayBufferView:WHe,isString:GHe,isNumber:zHe,isObject:_le,isPlainObject:mA,isUndefined:e$,isDate:YHe,isFile:KHe,isBlob:XHe,isFunction:ble,isStream:QHe,isURLSearchParams:JHe,isStandardBrowserEnv:e$e,forEach:r$,merge:t$,extend:t$e,trim:ZHe,stripBOM:n$e}});var hA=b((bpt,Tle)=>{"use strict";var Uv=Gr();function Sle(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}Tle.exports=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(Uv.isURLSearchParams(n))i=n.toString();else{var o=[];Uv.forEach(n,function(u,c){u===null||typeof u>"u"||(Uv.isArray(u)?c=c+"[]":u=[u],Uv.forEach(u,function(f){Uv.isDate(f)?f=f.toISOString():Uv.isObject(f)&&(f=JSON.stringify(f)),o.push(Sle(c)+"="+Sle(f))}))}),i=o.join("&")}if(i){var s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}});var Ple=b((Cpt,Ile)=>{"use strict";var r$e=Gr();function gA(){this.handlers=[]}gA.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};gA.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};gA.prototype.forEach=function(e){r$e.forEach(this.handlers,function(r){r!==null&&e(r)})};Ile.exports=gA});var Ale=b((Spt,Rle)=>{"use strict";var i$e=Gr();Rle.exports=function(e,n){i$e.forEach(e,function(i,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[o])})}});var vA=b((Tpt,Dle)=>{"use strict";Dle.exports=function(e,n,r,i,o){return e.config=n,r&&(e.code=r),e.request=i,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e}});var yA=b((Ipt,kle)=>{"use strict";kle.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var xA=b((Ppt,Ole)=>{"use strict";var o$e=vA();Ole.exports=function(e,n,r,i,o){var s=new Error(e);return o$e(s,n,r,i,o)}});var i$=b((Rpt,Nle)=>{"use strict";var s$e=xA();Nle.exports=function(e,n,r){var i=r.config.validateStatus;!r.status||!i||i(r.status)?e(r):n(s$e("Request failed with status code "+r.status,r.config,null,r.request,r))}});var Fle=b((Apt,Lle)=>{"use strict";var wA=Gr();Lle.exports=wA.isStandardBrowserEnv()?function(){return{write:function(n,r,i,o,s,a){var u=[];u.push(n+"="+encodeURIComponent(r)),wA.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),wA.isString(o)&&u.push("path="+o),wA.isString(s)&&u.push("domain="+s),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(n){var r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var Ule=b((Dpt,Mle)=>{"use strict";Mle.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}});var jle=b((kpt,qle)=>{"use strict";qle.exports=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e}});var o$=b((Opt,Hle)=>{"use strict";var a$e=Ule(),c$e=jle();Hle.exports=function(e,n){return e&&!a$e(n)?c$e(e,n):n}});var Ble=b((Npt,$le)=>{"use strict";var s$=Gr(),u$e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];$le.exports=function(e){var n={},r,i,o;return e&&s$.forEach(e.split(`
`),function(a){if(o=a.indexOf(":"),r=s$.trim(a.substr(0,o)).toLowerCase(),i=s$.trim(a.substr(o+1)),r){if(n[r]&&u$e.indexOf(r)>=0)return;r==="set-cookie"?n[r]=(n[r]?n[r]:[]).concat([i]):n[r]=n[r]?n[r]+", "+i:i}}),n}});var Gle=b((Lpt,Wle)=>{"use strict";var Vle=Gr();Wle.exports=Vle.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),r;function i(o){var s=o;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(s){var a=Vle.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}()});var qv=b((Fpt,zle)=>{"use strict";function a$(t){this.message=t}a$.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")};a$.prototype.__CANCEL__=!0;zle.exports=a$});var Kle=b((Mpt,Yle)=>{"use strict";var EA=Gr(),l$e=i$(),f$e=Fle(),d$e=hA(),p$e=o$(),m$e=Ble(),h$e=Gle(),c$=xA(),g$e=yA(),v$e=qv();Yle.exports=function(e){return new Promise(function(r,i){var o=e.data,s=e.headers,a=e.responseType,u;function c(){e.cancelToken&&e.cancelToken.unsubscribe(u),e.signal&&e.signal.removeEventListener("abort",u)}EA.isFormData(o)&&delete s["Content-Type"];var l=new XMLHttpRequest;if(e.auth){var f=e.auth.username||"",d=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";s.Authorization="Basic "+btoa(f+":"+d)}var p=p$e(e.baseURL,e.url);l.open(e.method.toUpperCase(),d$e(p,e.params,e.paramsSerializer),!0),l.timeout=e.timeout;function m(){if(l){var g="getAllResponseHeaders"in l?m$e(l.getAllResponseHeaders()):null,v=!a||a==="text"||a==="json"?l.responseText:l.response,x={data:v,status:l.status,statusText:l.statusText,headers:g,config:e,request:l};l$e(function(w){r(w),c()},function(w){i(w),c()},x),l=null}}if("onloadend"in l?l.onloadend=m:l.onreadystatechange=function(){!l||l.readyState!==4||l.status===0&&!(l.responseURL&&l.responseURL.indexOf("file:")===0)||setTimeout(m)},l.onabort=function(){l&&(i(c$("Request aborted",e,"ECONNABORTED",l)),l=null)},l.onerror=function(){i(c$("Network Error",e,null,l)),l=null},l.ontimeout=function(){var v=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",x=e.transitional||g$e;e.timeoutErrorMessage&&(v=e.timeoutErrorMessage),i(c$(v,e,x.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",l)),l=null},EA.isStandardBrowserEnv()){var h=(e.withCredentials||h$e(p))&&e.xsrfCookieName?f$e.read(e.xsrfCookieName):void 0;h&&(s[e.xsrfHeaderName]=h)}"setRequestHeader"in l&&EA.forEach(s,function(v,x){typeof o>"u"&&x.toLowerCase()==="content-type"?delete s[x]:l.setRequestHeader(x,v)}),EA.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&a!=="json"&&(l.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&l.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&l.upload&&l.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(u=function(g){l&&(i(!g||g&&g.type?new v$e("canceled"):g),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(u),e.signal&&(e.signal.aborted?u():e.signal.addEventListener("abort",u))),o||(o=null),l.send(o)})}});var _A=b((Upt,Xle)=>{Xle.exports={version:"0.26.1"}});var rfe=b((qpt,nfe)=>{"use strict";var D_=Gr(),Qle=i$(),y$e=o$(),Jle=hA(),x$e=require("http"),w$e=require("https"),E$e=hm().http,_$e=hm().https,Zle=require("url"),b$e=require("zlib"),C$e=_A().version,jv=xA(),bA=vA(),S$e=yA(),T$e=qv(),efe=/https:?/;function tfe(t,e,n){if(t.hostname=e.host,t.host=e.host,t.port=e.port,t.path=n,e.auth){var r=Buffer.from(e.auth.username+":"+e.auth.password,"utf8").toString("base64");t.headers["Proxy-Authorization"]="Basic "+r}t.beforeRedirect=function(o){o.headers.host=o.host,tfe(o,e,o.href)}}nfe.exports=function(e){return new Promise(function(r,i){var o;function s(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}var a=function(V){s(),r(V)},u=!1,c=function(V){s(),u=!0,i(V)},l=e.data,f=e.headers,d={};if(Object.keys(f).forEach(function(V){d[V.toLowerCase()]=V}),"user-agent"in d?f[d["user-agent"]]||delete f[d["user-agent"]]:f["User-Agent"]="axios/"+C$e,l&&!D_.isStream(l)){if(!Buffer.isBuffer(l))if(D_.isArrayBuffer(l))l=Buffer.from(new Uint8Array(l));else if(D_.isString(l))l=Buffer.from(l,"utf-8");else return c(jv("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));if(e.maxBodyLength>-1&&l.length>e.maxBodyLength)return c(jv("Request body larger than maxBodyLength limit",e));d["content-length"]||(f["Content-Length"]=l.length)}var p=void 0;if(e.auth){var m=e.auth.username||"",h=e.auth.password||"";p=m+":"+h}var g=y$e(e.baseURL,e.url),v=Zle.parse(g),x=v.protocol||"http:";if(!p&&v.auth){var y=v.auth.split(":"),w=y[0]||"",_=y[1]||"";p=w+":"+_}p&&d.authorization&&delete f[d.authorization];var T=efe.test(x),P=T?e.httpsAgent:e.httpAgent;try{Jle(v.path,e.params,e.paramsSerializer).replace(/^\?/,"")}catch($){var E=new Error($.message);E.config=e,E.url=e.url,E.exists=!0,c(E)}var C={path:Jle(v.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:f,agent:P,agents:{http:e.httpAgent,https:e.httpsAgent},auth:p};e.socketPath?C.socketPath=e.socketPath:(C.hostname=v.hostname,C.port=v.port);var S=e.proxy;if(!S&&S!==!1){var I=x.slice(0,-1)+"_proxy",R=process.env[I]||process.env[I.toUpperCase()];if(R){var D=Zle.parse(R),A=process.env.no_proxy||process.env.NO_PROXY,N=!0;if(A){var O=A.split(",").map(function(V){return V.trim()});N=!O.some(function(V){return V?V==="*"||V[0]==="."&&v.hostname.substr(v.hostname.length-V.length)===V?!0:v.hostname===V:!1})}if(N&&(S={host:D.hostname,port:D.port,protocol:D.protocol},D.auth)){var M=D.auth.split(":");S.auth={username:M[0],password:M[1]}}}}S&&(C.headers.host=v.hostname+(v.port?":"+v.port:""),tfe(C,S,x+"//"+v.hostname+(v.port?":"+v.port:"")+C.path));var j,W=T&&(S?efe.test(S.protocol):!0);e.transport?j=e.transport:e.maxRedirects===0?j=W?w$e:x$e:(e.maxRedirects&&(C.maxRedirects=e.maxRedirects),j=W?_$e:E$e),e.maxBodyLength>-1&&(C.maxBodyLength=e.maxBodyLength),e.insecureHTTPParser&&(C.insecureHTTPParser=e.insecureHTTPParser);var L=j.request(C,function(V){if(!L.aborted){var re=V,ye=V.req||L;if(V.statusCode!==204&&ye.method!=="HEAD"&&e.decompress!==!1)switch(V.headers["content-encoding"]){case"gzip":case"compress":case"deflate":re=re.pipe(b$e.createUnzip()),delete V.headers["content-encoding"];break}var Ce={status:V.statusCode,statusText:V.statusMessage,headers:V.headers,config:e,request:ye};if(e.responseType==="stream")Ce.data=re,Qle(a,c,Ce);else{var Te=[],wt=0;re.on("data",function(ze){Te.push(ze),wt+=ze.length,e.maxContentLength>-1&&wt>e.maxContentLength&&(u=!0,re.destroy(),c(jv("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,ye)))}),re.on("aborted",function(){u||(re.destroy(),c(jv("error request aborted",e,"ERR_REQUEST_ABORTED",ye)))}),re.on("error",function(ze){L.aborted||c(bA(ze,e,null,ye))}),re.on("end",function(){try{var ze=Te.length===1?Te[0]:Buffer.concat(Te);e.responseType!=="arraybuffer"&&(ze=ze.toString(e.responseEncoding),(!e.responseEncoding||e.responseEncoding==="utf8")&&(ze=D_.stripBOM(ze))),Ce.data=ze}catch(In){c(bA(In,e,In.code,Ce.request,Ce))}Qle(a,c,Ce)})}}});if(L.on("error",function(V){L.aborted&&V.code!=="ERR_FR_TOO_MANY_REDIRECTS"||c(bA(V,e,null,L))}),L.on("socket",function(V){V.setKeepAlive(!0,1e3*60)}),e.timeout){var H=parseInt(e.timeout,10);if(isNaN(H)){c(jv("error trying to parse `config.timeout` to int",e,"ERR_PARSE_TIMEOUT",L));return}L.setTimeout(H,function(){L.abort();var V="";e.timeoutErrorMessage?V=e.timeoutErrorMessage:V="timeout of "+e.timeout+"ms exceeded";var re=e.transitional||S$e;c(jv(V,e,re.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",L))})}(e.cancelToken||e.signal)&&(o=function($){L.aborted||(L.abort(),c(!$||$&&$.type?new T$e("canceled"):$))},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o))),D_.isStream(l)?l.on("error",function(V){c(bA(V,e,null,L))}).pipe(L):L.end(l)})}});var SA=b((jpt,sfe)=>{"use strict";var Sr=Gr(),ife=Ale(),I$e=vA(),P$e=yA(),R$e={"Content-Type":"application/x-www-form-urlencoded"};function ofe(t,e){!Sr.isUndefined(t)&&Sr.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function A$e(){var t;return typeof XMLHttpRequest<"u"?t=Kle():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(t=rfe()),t}function D$e(t,e,n){if(Sr.isString(t))try{return(e||JSON.parse)(t),Sr.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var CA={transitional:P$e,adapter:A$e(),transformRequest:[function(e,n){return ife(n,"Accept"),ife(n,"Content-Type"),Sr.isFormData(e)||Sr.isArrayBuffer(e)||Sr.isBuffer(e)||Sr.isStream(e)||Sr.isFile(e)||Sr.isBlob(e)?e:Sr.isArrayBufferView(e)?e.buffer:Sr.isURLSearchParams(e)?(ofe(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):Sr.isObject(e)||n&&n["Content-Type"]==="application/json"?(ofe(n,"application/json"),D$e(e)):e}],transformResponse:[function(e){var n=this.transitional||CA.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,o=!r&&this.responseType==="json";if(o||i&&Sr.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o)throw s.name==="SyntaxError"?I$e(s,this,"E_JSON_PARSE"):s}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Sr.forEach(["delete","get","head"],function(e){CA.headers[e]={}});Sr.forEach(["post","put","patch"],function(e){CA.headers[e]=Sr.merge(R$e)});sfe.exports=CA});var cfe=b((Hpt,afe)=>{"use strict";var k$e=Gr(),O$e=SA();afe.exports=function(e,n,r){var i=this||O$e;return k$e.forEach(r,function(s){e=s.call(i,e,n)}),e}});var u$=b(($pt,ufe)=>{"use strict";ufe.exports=function(e){return!!(e&&e.__CANCEL__)}});var dfe=b((Bpt,ffe)=>{"use strict";var lfe=Gr(),l$=cfe(),N$e=u$(),L$e=SA(),F$e=qv();function f$(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new F$e("canceled")}ffe.exports=function(e){f$(e),e.headers=e.headers||{},e.data=l$.call(e,e.data,e.headers,e.transformRequest),e.headers=lfe.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),lfe.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||L$e.adapter;return n(e).then(function(i){return f$(e),i.data=l$.call(e,i.data,i.headers,e.transformResponse),i},function(i){return N$e(i)||(f$(e),i&&i.response&&(i.response.data=l$.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})}});var d$=b((Vpt,pfe)=>{"use strict";var Co=Gr();pfe.exports=function(e,n){n=n||{};var r={};function i(l,f){return Co.isPlainObject(l)&&Co.isPlainObject(f)?Co.merge(l,f):Co.isPlainObject(f)?Co.merge({},f):Co.isArray(f)?f.slice():f}function o(l){if(Co.isUndefined(n[l])){if(!Co.isUndefined(e[l]))return i(void 0,e[l])}else return i(e[l],n[l])}function s(l){if(!Co.isUndefined(n[l]))return i(void 0,n[l])}function a(l){if(Co.isUndefined(n[l])){if(!Co.isUndefined(e[l]))return i(void 0,e[l])}else return i(void 0,n[l])}function u(l){if(l in n)return i(e[l],n[l]);if(l in e)return i(void 0,e[l])}var c={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:u};return Co.forEach(Object.keys(e).concat(Object.keys(n)),function(f){var d=c[f]||o,p=d(f);Co.isUndefined(p)&&d!==u||(r[f]=p)}),r}});var gfe=b((Wpt,hfe)=>{"use strict";var M$e=_A().version,p$={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){p$[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var mfe={};p$.transitional=function(e,n,r){function i(o,s){return"[Axios v"+M$e+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return function(o,s,a){if(e===!1)throw new Error(i(s," has been removed"+(n?" in "+n:"")));return n&&!mfe[s]&&(mfe[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(o,s,a):!0}};function U$e(t,e,n){if(typeof t!="object")throw new TypeError("options must be an object");for(var r=Object.keys(t),i=r.length;i-- >0;){var o=r[i],s=e[o];if(s){var a=t[o],u=a===void 0||s(a,o,t);if(u!==!0)throw new TypeError("option "+o+" must be "+u);continue}if(n!==!0)throw Error("Unknown option "+o)}}hfe.exports={assertOptions:U$e,validators:p$}});var _fe=b((Gpt,Efe)=>{"use strict";var xfe=Gr(),q$e=hA(),vfe=Ple(),yfe=dfe(),TA=d$(),wfe=gfe(),Hv=wfe.validators;function k_(t){this.defaults=t,this.interceptors={request:new vfe,response:new vfe}}k_.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=TA(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&wfe.assertOptions(r,{silentJSONParsing:Hv.transitional(Hv.boolean),forcedJSONParsing:Hv.transitional(Hv.boolean),clarifyTimeoutError:Hv.transitional(Hv.boolean)},!1);var i=[],o=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(n)===!1||(o=o&&p.synchronous,i.unshift(p.fulfilled,p.rejected))});var s=[];this.interceptors.response.forEach(function(p){s.push(p.fulfilled,p.rejected)});var a;if(!o){var u=[yfe,void 0];for(Array.prototype.unshift.apply(u,i),u=u.concat(s),a=Promise.resolve(n);u.length;)a=a.then(u.shift(),u.shift());return a}for(var c=n;i.length;){var l=i.shift(),f=i.shift();try{c=l(c)}catch(d){f(d);break}}try{a=yfe(c)}catch(d){return Promise.reject(d)}for(;s.length;)a=a.then(s.shift(),s.shift());return a};k_.prototype.getUri=function(e){return e=TA(this.defaults,e),q$e(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")};xfe.forEach(["delete","get","head","options"],function(e){k_.prototype[e]=function(n,r){return this.request(TA(r||{},{method:e,url:n,data:(r||{}).data}))}});xfe.forEach(["post","put","patch"],function(e){k_.prototype[e]=function(n,r,i){return this.request(TA(i||{},{method:e,url:n,data:r}))}});Efe.exports=k_});var Cfe=b((zpt,bfe)=>{"use strict";var j$e=qv();function $v(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(i){e=i});var n=this;this.promise.then(function(r){if(n._listeners){var i,o=n._listeners.length;for(i=0;i<o;i++)n._listeners[i](r);n._listeners=null}}),this.promise.then=function(r){var i,o=new Promise(function(s){n.subscribe(s),i=s}).then(r);return o.cancel=function(){n.unsubscribe(i)},o},t(function(i){n.reason||(n.reason=new j$e(i),e(n.reason))})}$v.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};$v.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};$v.prototype.unsubscribe=function(e){if(this._listeners){var n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}};$v.source=function(){var e,n=new $v(function(i){e=i});return{token:n,cancel:e}};bfe.exports=$v});var Tfe=b((Ypt,Sfe)=>{"use strict";Sfe.exports=function(e){return function(r){return e.apply(null,r)}}});var Pfe=b((Kpt,Ife)=>{"use strict";var H$e=Gr();Ife.exports=function(e){return H$e.isObject(e)&&e.isAxiosError===!0}});var Dfe=b((Xpt,m$)=>{"use strict";var Rfe=Gr(),$$e=ZH(),IA=_fe(),B$e=d$(),V$e=SA();function Afe(t){var e=new IA(t),n=$$e(IA.prototype.request,e);return Rfe.extend(n,IA.prototype,e),Rfe.extend(n,e),n.create=function(i){return Afe(B$e(t,i))},n}var Xa=Afe(V$e);Xa.Axios=IA;Xa.Cancel=qv();Xa.CancelToken=Cfe();Xa.isCancel=u$();Xa.VERSION=_A().version;Xa.all=function(e){return Promise.all(e)};Xa.spread=Tfe();Xa.isAxiosError=Pfe();m$.exports=Xa;m$.exports.default=Xa});var Ofe=b((Qpt,kfe)=>{kfe.exports=Dfe()});var Nfe=b(g$=>{"use strict";Object.defineProperty(g$,"__esModule",{value:!0});var W$e=Ofe(),h$=class{constructor(e){this.endpoint=e}get(e){return W$e.default.get(this.endpoint,Object.assign(Object.assign({},e),{proxy:!1}))}};g$.AxiosHttpClient=h$});var Lfe=b(y$=>{"use strict";Object.defineProperty(y$,"__esModule",{value:!0});var v$=class{constructor(){this.storage=new Map}async getValue(e,n){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(n||void 0)}setValue(e,n){this.storage.set(e,n)}};y$.MemoryKeyValueStorage=v$});var Ffe=b(w$=>{"use strict";Object.defineProperty(w$,"__esModule",{value:!0});var G$e=Lfe(),x$=class{constructor(e,n,r,i,o){this.telemetry=e,this.assignmentContextTelemetryPropertyName=n,this.telemetryEventName=r,this.storageKey=i,this.storage=o,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(o=new G$e.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((s,a)=>{this.resolveInitialFetchPromise=s})}get features(){return this._features}set features(e){this._features=e,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}async getFeaturesAsync(e=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async r=>await r.getFeatures()));let n=await this.fetchPromise;this.updateFeatures(n,e)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,n=!1){let r={features:[],assignmentContext:"",configs:[]};for(let i of e){for(let o of i.features)r.features.includes(o)||r.features.push(o);for(let o of i.configs){let s=r.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):r.configs.push(o)}r.assignmentContext+=i.assignmentContext}(n||!this.featuresConsumed)&&(this.features=r),this.storage&&this.storage.setValue(this.storageKey,r)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),e!==void 0&&e.configs===void 0&&(e.configs=[])),this.features.features.length===0&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){let n=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),n.features.includes(e)}getTreatmentVariable(e,n){var r;return this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${n}`),(r=this.features.configs.find(o=>o.Id===e))===null||r===void 0?void 0:r.Parameters[n]}async getTreatmentVariableAsync(e,n,r){if(r){let i=this.featuresConsumed,o=this.getTreatmentVariable(e,n);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,n)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(!(e==null||this.featureProviders==null))for(let n of e)this.featureProviders.push(n)}};w$.ExperimentationServiceBase=x$});var Mfe=b(_$=>{"use strict";Object.defineProperty(_$,"__esModule",{value:!0});var E$=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(e&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};_$.PollingService=E$});var Ufe=b(C$=>{"use strict";Object.defineProperty(C$,"__esModule",{value:!0});var z$e=Ffe(),Y$e=Mfe(),b$=class extends z$e.ExperimentationServiceBase{constructor(e,n,r,i,o,s,a){if(super(e,i,o,s,a),this.telemetry=e,this.filterProviders=n,this.refreshRateMs=r,this.assignmentContextTelemetryPropertyName=i,this.telemetryEventName=o,this.storageKey=s,this.storage=a,r<1e3&&r!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");r>0&&(this.pollingService=new Y$e.PollingService(r),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let n=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),n}else return await super.getFeaturesAsync(e)}};C$.ExperimentationServiceAutoPolling=b$});var qfe=b(S$=>{"use strict";Object.defineProperty(S$,"__esModule",{value:!0});var K$e=xle(),X$e=Nfe(),Q$e=Ufe(),PA=class extends Q$e.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],e.refetchInterval!=null?e.refetchInterval:0,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new K$e.TasApiFeatureProvider(new X$e.AxiosHttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};S$.ExperimentationService=PA;PA.REFRESH_RATE_IN_MINUTES=30});var jfe=b(T$=>{"use strict";Object.defineProperty(T$,"__esModule",{value:!0});var J$e=qfe();T$.ExperimentationService=J$e.ExperimentationService});var Hfe=b(P$=>{"use strict";Object.defineProperty(P$,"__esModule",{value:!0});var I$=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,n){return await this.mementoGlobalStorage.get(e)||n}setValue(e,n){this.mementoGlobalStorage.update(e,n)}};P$.MementoKeyValueStorage=I$});var $fe=b(A$=>{"use strict";Object.defineProperty(A$,"__esModule",{value:!0});var R$=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,n){}getTreatmentVariableAsync(e,n){return Promise.resolve(void 0)}};A$.default=R$});var Vfe=b(RA=>{"use strict";Object.defineProperty(RA,"__esModule",{value:!0});var Z$e=GH(),eBe=jfe(),D$=require("vscode"),tBe=Hfe(),nBe=$fe(),rBe="https://default.exp-tas.com/vscode/ab",iBe="query-expfeature",oBe="abexp.assignmentcontext",sBe="VSCode.ABExp.FeatureData",aBe=1e3*60*30;function Bfe(t,e,n,r,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=D$.workspace.getConfiguration("telemetry");if(!(D$.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):D$.env.isTelemetryEnabled))return new nBe.default;let c=[new Z$e.VSCodeFilterProvider(t,e,n),...o],l=new tBe.MementoKeyValueStorage(i);return new eBe.ExperimentationService({filterProviders:c,telemetry:r,storageKey:sBe,keyValueStorage:l,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:oBe,telemetryEventName:iBe,endpoint:rBe,refetchInterval:aBe})}RA.getExperimentationService=Bfe;async function cBe(t,e,n,r,i,...o){let s=Bfe(t,e,n,r,i,...o);return await s.initializePromise,s}RA.getExperimentationServiceAsync=cBe});var Gfe=b(O_=>{"use strict";Object.defineProperty(O_,"__esModule",{value:!0});var Wfe=Vfe();O_.getExperimentationService=Wfe.getExperimentationService;O_.getExperimentationServiceAsync=Wfe.getExperimentationServiceAsync;var uBe=GH();O_.TargetPopulation=uBe.TargetPopulation});var Wpe=b((ewt,rWe)=>{rWe.exports={name:"remote-containers",displayName:"%displayName%",description:"%description%",version:"0.321.0",publisher:"ms-vscode-remote",icon:"resources/dev-containers.png",repository:{type:"git",url:"https://github.com/Microsoft/vscode-remote-release.git"},bugs:{url:"https://github.com/Microsoft/vscode-remote-release/issues"},license:"SEE LICENSE IN LICENSE.txt",engines:{vscode:"^1.84.0"},extensionKind:["ui"],capabilities:{untrustedWorkspaces:{supported:"limited",description:"%capabilities.untrustedWorkspaces.description%"},virtualWorkspaces:!0},categories:["Other"],keywords:["remote","docker","containers","remote development","dev container","devcontainer","development container","continueOn"],aiKey:"0c6ae279ed8443289764825290e4f9e2-1a736e7c-1324-4338-be46-fc2a58ae4d14-7255",activationEvents:["onStartupFinished","workspaceContains:.devcontainer/devcontainer.json","workspaceContains:.devcontainer.json","onResolveRemoteAuthority:dev-container","onResolveRemoteAuthority:attached-container","onResolveRemoteAuthority:k8s-container","onDebugResolve:extensionHost"],main:"./dist/extension/extension",l10n:"./l10n",enabledApiProposals:["resolvers","tunnels","workspaceTrust","terminalDimensions","contribEditSessions","contribViewsRemote","contribRemoteHelp"],contributes:{continueEditSession:[{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",group:"0_local@2",when:"!isWeb && remoteHub:hasVirtualFolders",qualifiedName:"%continueEditSession.containerVolume%",remoteGroup:"remote_30_dev-container_2_actions@8"},{command:"remote-containers.openRepositoryFromGitWithEditSession",group:"0_local@2",when:"git.state == initialized && gitOpenRepositoryCount != 0 && remoteName =~ /(codespaces*.*|tunnel)/ && false",qualifiedName:"%continueEditSession.containerVolume%",remoteGroup:"remote_30_dev-container_2_actions@8"}],languages:[{id:"jsonc",filenames:["devcontainer-feature.json"]}],jsonValidation:[{fileMatch:"devcontainer-feature.json",url:"https://raw.githubusercontent.com/devcontainers/spec/main/schemas/devContainerFeature.schema.json"}],configuration:{title:"%configuration.title%",properties:{"remote.containers.defaultExtensions":{scope:"application",deprecationMessage:"%configuration.defaultExtensions.deprecationMessage%",markdownDeprecationMessage:"%configuration.defaultExtensions.markdownDeprecationMessage%"},"dev.containers.defaultExtensions":{scope:"application",type:"array",description:"%configuration.defaultExtensions.description%",default:[],items:{type:"string",pattern:"([a-z0-9A-Z][a-z0-9\\-A-Z]*)\\.([a-z0-9A-Z][a-z0-9\\-A-Z]*)",errorMessage:"%configuration.defaultExtensions.errorMessage%"}},"dev.containers.defaultFeatures":{scope:"application",type:"object",description:"%configuration.defaultFeatures%",default:{}},"remote.containers.workspaceMountConsistency":{scope:"application",deprecationMessage:"%configuration.workspaceMountConsistency.deprecationMessage%",markdownDeprecationMessage:"%configuration.workspaceMountConsistency.markdownDeprecationMessage%"},"dev.containers.workspaceMountConsistency":{scope:"application",type:"string",enum:["consistent","cached","delegated"],enumDescriptions:["%configuration.workspaceMountConsistency.consistent%","%configuration.workspaceMountConsistency.cached%","%configuration.workspaceMountConsistency.delegated%"],description:"%configuration.workspaceMountConsistency.description%",default:"cached"},"remote.containers.cacheVolume":{scope:"application",deprecationMessage:"%configuration.cacheVolume.deprecationMessage%",markdownDeprecationMessage:"%configuration.cacheVolume.markdownDeprecationMessage%"},"dev.containers.cacheVolume":{scope:"application",type:"boolean",description:"%configuration.cacheVolume.description%",default:!0},"remote.containers.copyGitConfig":{scope:"machine",deprecationMessage:"%configuration.copyGitConfig.deprecationMessage%",markdownDeprecationMessage:"%configuration.copyGitConfig.markdownDeprecationMessage%"},"dev.containers.copyGitConfig":{scope:"machine",type:"boolean",markdownDescription:"%configuration.copyGitConfig.markdownDescription%",default:!0},"remote.containers.gitCredentialHelperConfigLocation":{scope:"machine",deprecationMessage:"%configuration.gitCredentialHelperConfigLocation.deprecationMessage%",markdownDeprecationMessage:"%configuration.gitCredentialHelperConfigLocation.markdownDeprecationMessage%"},"dev.containers.gitCredentialHelperConfigLocation":{scope:"machine",type:"string",enum:["system","global","none"],enumDescriptions:["%configuration.gitCredentialHelperConfigLocation.system%","%configuration.gitCredentialHelperConfigLocation.global%","%configuration.gitCredentialHelperConfigLocation.none%"],description:"%configuration.gitCredentialHelperConfigLocation.description%",default:"global"},"dev.containers.dockerCredentialHelper":{scope:"machine",type:"boolean",markdownDescription:"%configuration.dockerCredentialHelper.markdownDescription%",default:!0},"dev.containers.mountWaylandSocket":{scope:"application",type:"boolean",markdownDescription:"%configuration.mountWaylandSocket.markdownDescription%",default:!0},"remote.containers.logLevel":{scope:"application",deprecationMessage:"%configuration.logLevel.deprecationMessage%",markdownDeprecationMessage:"%configuration.logLevel.markdownDeprecationMessage%"},"dev.containers.logLevel":{scope:"application",type:"string",description:"%configuration.logLevel.description%",default:"debug",enum:["info","debug","trace"]},"remote.containers.dockerPath":{scope:"application",deprecationMessage:"%configuration.dockerPath.deprecationMessage%",markdownDeprecationMessage:"%configuration.dockerPath.markdownDeprecationMessage%"},"dev.containers.dockerPath":{scope:"application",type:"string",description:"%configuration.dockerPath.description%",default:"docker"},"remote.containers.dockerComposePath":{scope:"application",deprecationMessage:"%configuration.dockerComposePath.deprecationMessage%",markdownDeprecationMessage:"%configuration.dockerComposePath.markdownDeprecationMessage%"},"dev.containers.dockerComposePath":{scope:"application",type:"string",description:"%configuration.dockerComposePath.description%",default:"docker-compose"},"remote.containers.executeInWSL":{scope:"application",deprecationMessage:"%configuration.executeInWSL.deprecationMessage%",markdownDeprecationMessage:"%configuration.executeInWSL.markdownDeprecationMessage%"},"dev.containers.executeInWSL":{scope:"application",type:"boolean",description:"%configuration.executeInWSL.description%",default:!1},"remote.containers.executeInWSLDistro":{scope:"application",deprecationMessage:"%configuration.executeInWSLDistro.deprecationMessage%",markdownDeprecationMessage:"%configuration.executeInWSLDistro.markdownDeprecationMessage%"},"dev.containers.executeInWSLDistro":{scope:"application",type:"string",markdownDescription:"%configuration.executeInWSLDistro.markdownDescription%"},"dotfiles.repository":{scope:"machine",type:"string",description:"%configuration.dotfiles.repository.description%"},"dotfiles.installCommand":{scope:"machine",type:"string",description:"%configuration.dotfiles.installCommand.description%"},"dotfiles.targetPath":{scope:"machine",type:"string",description:"%configuration.dotfiles.targetPath.description%",default:"~/dotfiles"},"remote.containers.dotfiles.repository":{scope:"machine",deprecationMessage:"%configuration.dotfiles.repository.deprecationMessage%",markdownDeprecationMessage:"%configuration.dotfiles.repository.markdownDeprecationMessage%"},"remote.containers.dotfiles.installCommand":{scope:"machine",deprecationMessage:"%configuration.dotfiles.installCommand.deprecationMessage%",markdownDeprecationMessage:"%configuration.dotfiles.installCommand.markdownDeprecationMessage%"},"remote.containers.dotfiles.targetPath":{scope:"machine",deprecationMessage:"%configuration.dotfiles.targetPath.deprecationMessage%",markdownDeprecationMessage:"%configuration.dotfiles.targetPath.markdownDeprecationMessage%"},"remote.containers.repositoryConfigurationPaths":{scope:"application",deprecationMessage:"%configuration.repositoryConfigurationPaths.deprecationMessage%",markdownDeprecationMessage:"%configuration.repositoryConfigurationPaths.markdownDeprecationMessage%"},"dev.containers.repositoryConfigurationPaths":{scope:"application",type:"array",markdownDescription:"%configuration.repositoryConfigurationPaths.markdownDescription%",default:[],items:{type:"string"}},"dev.containers.experimentalLockfile":{scope:"application",type:"boolean",description:"%configuration.experimentalLockfile.description%",default:!1}}},commands:[{command:"remote-containers.reopenInContainer",title:"%command.reopenInContainer%",category:"%command.category%"},{command:"remote-containers.rebuildAndReopenInContainer",title:"%command.rebuildAndReopenInContainer%",category:"%command.category%"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",title:"%command.rebuildNoCacheAndReopenInContainer%",category:"%command.category%"},{command:"remote-containers.reopenLocally",title:"%command.reopenLocally%",category:"%command.category%"},{command:"remote-containers.reopenInWSL",title:"%command.reopenInWSL%",category:"%command.category%"},{command:"remote-containers.reopenInSSH",title:"%command.reopenInSSH%",category:"%command.category%"},{command:"remote-containers.reopenInTunnel",title:"%command.reopenInTunnel%",category:"%command.category%"},{command:"remote-containers.openFolder",title:"%command.openFolder%",category:"%command.category%",icon:{light:"resources/light/reopen-folder.svg",dark:"resources/dark/reopen-folder.svg"}},{command:"remote-containers.openFolderInContainerInCurrentWindow",title:"%command.openFolderInContainerInCurrentWindow%",category:"%command.category%",icon:"$(arrow-right)"},{command:"remote-containers.openFolderInContainerInNewWindow",title:"%command.openFolderInContainerInNewWindow%",category:"%command.category%",icon:"$(empty-window)"},{command:"remote-containers.openInformationAboutMountPerformance",title:"%command.openInformationAboutMountPerformance%",category:"%command.category%",icon:"$(info)"},{command:"remote-containers.openRepositoryInVolume",title:"%command.openRepositoryInVolume%",category:"%command.category%"},{command:"remote-containers.openRepositoryInUniqueVolume",title:"%command.openRepositoryInUniqueVolume%",icon:"$(repo-clone)",category:"%command.category%"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",title:"%command.openRepositoryFromRemoteHubWithEditSession%",icon:"$(repo-clone)",category:"%command.category%"},{command:"remote-containers.openRepositoryFromGitWithEditSession",title:"%command.openRepositoryFromGitWithEditSession%",icon:"$(repo-clone)",category:"%command.category%"},{command:"remote-containers.openPullRequestInVolume",title:"%command.openPullRequestInVolume%",category:"%command.category%"},{command:"remote-containers.inspectVolume",title:"%command.inspectVolume%",category:"%command.category%"},{command:"remote-containers.openWorkspace",title:"%command.openWorkspace%",category:"%command.category%"},{command:"remote-containers.attachToRunningContainer",title:"%command.attachToRunningContainer%",category:"%command.category%"},{command:"remote-containers.attachToRunningContainerFromViewlet",title:"%command.attachToRunningContainerFromViewlet%",category:"%command.category%"},{command:"remote-containers.inspectVolumeFromViewlet",title:"%command.inspectVolumeFromViewlet%",category:"%command.category%"},{command:"remote-containers.cloneInVolumeFromViewlet",title:"%command.cloneInVolumeFromViewlet%",category:"%command.category%"},{command:"remote-containers.cleanUpDevContainers",title:"%command.cleanUpDevContainers%",category:"%command.category%",icon:"$(clear-all)"},{command:"remote-containers.pruneVolumes",title:"%command.pruneVolumes%",category:"%command.category%",icon:"$(clear-all)"},{command:"remote-containers.explorerVolumesRefresh",title:"%command.explorerVolumesRefresh%",category:"%command.category%",icon:"$(refresh)"},{command:"remote-containers.attachToK8sContainerFromViewlet",title:"%command.attachToK8sContainerFromViewlet%",category:"%command.category%"},{command:"remote-containers.switchContainer",title:"%command.switchContainer%",category:"%command.category%"},{command:"remote-containers.rebuildContainer",title:"%command.rebuildContainer%",category:"%command.category%",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.rebuildContainerNoCache",title:"%command.rebuildContainerNoCache%",category:"%command.category%",icon:{light:"resources/light/tools.svg",dark:"resources/dark/tools.svg"}},{command:"remote-containers.createDevContainerFile",title:"%command.createDevContainerFile%",category:"%command.category%"},{command:"remote-containers.createDevContainer",title:"%command.createDevContainer%",category:"%command.category%"},{command:"remote-containers.settings",title:"%command.settings%",category:"%command.category%"},{command:"remote-containers.getHelp",title:"%command.getHelp%",category:"%command.category%"},{command:"remote-containers.getStarted",title:"%command.getStarted%",category:"%command.category%"},{command:"remote-containers.trySample",title:"%command.trySample%",category:"%command.category%"},{command:"remote-containers.reportIssue",title:"%command.reportIssue%",category:"%command.category%"},{command:"remote-containers.provideFeedback",title:"%command.provideFeedback%",category:"%command.category%"},{command:"remote-containers.openDevContainerFile",title:"%command.openDevContainerFile%",category:"%command.category%",icon:{light:"resources/light/gear.svg",dark:"resources/dark/gear.svg"}},{command:"remote-containers.openAttachConfigByNameFile",title:"%command.openAttachConfigByNameFile%",category:"%command.category%"},{command:"remote-containers.openAttachDevContainerFile",title:"%command.openAttachDevContainerFile%",category:"%command.category%"},{command:"remote-containers.revealLogTerminal",title:"%command.revealLogTerminal%",category:"%command.category%"},{command:"remote-containers.openLogFile",title:"%command.openLogFile%",category:"Dev Containers Developer"},{command:"remote-containers.openLastLogFile",title:"%command.openLastLogFile%",category:"%command.category%"},{command:"remote-containers.attachToContainerInCurrentWindow",title:"%command.attachToContainerInCurrentWindow%",category:"%command.category%",icon:"$(arrow-right)"},{command:"remote-containers.attachToContainerInNewWindow",title:"%command.attachToContainerInNewWindow%",category:"%command.category%",icon:"$(empty-window)"},{command:"remote-containers.stopContainer",title:"%command.stopContainer%",category:"%command.category%"},{command:"remote-containers.startContainer",title:"%command.startContainer%",category:"%command.category%",icon:{light:"resources/light/vm-start.svg",dark:"resources/dark/vm-start.svg"}},{command:"remote-containers.removeContainer",title:"%command.removeContainer%",category:"%command.category%",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.removeRecentFolder",title:"%command.removeRecentFolder%",category:"%command.category%",icon:{light:"resources/light/remove.svg",dark:"resources/dark/remove.svg"}},{command:"remote-containers.showDetails",title:"%command.showDetails%",category:"%command.category%"},{command:"remote-containers.explorerTargetsRefresh",title:"%command.explorerTargetsRefresh%",category:"%command.category%",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.explorerDetailsRefresh",title:"%command.explorerDetailsRefresh%",category:"%command.category%",icon:{light:"resources/light/refresh.svg",dark:"resources/dark/refresh.svg"}},{command:"remote-containers.inspectDockerResource",title:"%command.inspectDockerResource%",category:"%command.category%"},{command:"remote-containers.inspectInBasicDevContainer",title:"%command.inspectInBasicDevContainer%",category:"%command.category%"},{command:"remote-containers.cloneInVolume",title:"%command.cloneInVolume%",category:"%command.category%"},{command:"remote-containers.removeVolume",title:"%command.removeVolume%",category:"%command.category%"},{command:"remote-containers.newContainer",title:"%command.newContainer%",category:"%command.category%",icon:{light:"resources/light/plus.svg",dark:"resources/dark/plus.svg"}},{command:"remote-containers.showContainerLog",title:"%command.showContainerLog%",category:"%command.category%"},{command:"remote-containers.addExtensionToConfig",title:"%command.addExtensionToConfig%",category:"%command.category%"},{command:"remote-containers.checkoutPRInVolume",title:"%command.checkoutPRInVolume%",category:"%command.category%"},{command:"remote-containers.showReopenInContainerNotificationReset",title:"%command.showReopenInContainerNotificationReset%",category:"%command.category%"},{command:"remote-containers.showRecoveryContainerNotificationReset",title:"%command.showRecoveryContainerNotificationReset%",category:"%command.category%"},{command:"remote-containers.labelPortAndUpdateConfig",title:"%command.labelPortAndUpdateConfig%",category:"%command.category%",icon:"$(tag)"},{command:"remote-containers.installDocker",title:"%command.installDocker%",category:"%command.category%"},{command:"remote-containers.installDockerInWSL",title:"%command.installDockerInWSL%",category:"%command.category%"},{command:"remote-containers.installUserCLI",title:"%command.installUserCLI%",category:"%command.category%"},{command:"remote-containers.configureContainerFeatures",title:"%command.configureContainerFeatures%",category:"%command.category%"}],menus:{commandPalette:[{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.reopenInContainer",when:"workspaceFolderCount != 0 && remoteName == dev-container && isRecoveryContainer"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildNoCacheAndReopenInContainer",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.reopenLocally",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH"},{command:"remote-containers.reopenInTunnel",when:"canReopenInTunnel"},{command:"remote-containers.openFolder",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openRepositoryInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openPullRequestInVolume",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.createDevContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.openWorkspace",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.attachToRunningContainer",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.attachToRunningContainerFromViewlet",when:"false"},{command:"remote-containers.inspectVolumeFromViewlet",when:"false"},{command:"remote-containers.openRepositoryFromRemoteHubWithEditSession",when:"false"},{command:"remote-containers.openRepositoryFromGitWithEditSession",when:"false"},{command:"remote-containers.cloneInVolumeFromViewlet",when:"false"},{command:"remote-containers.inspectInBasicDevContainer",when:"false"},{command:"remote-containers.cloneInVolume",when:"false"},{command:"remote-containers.removeVolume",when:"false"},{command:"remote-containers.attachToK8sContainerFromViewlet",when:"false"},{command:"remote-containers.checkoutPRInVolume",when:"false"},{command:"remote-containers.switchContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainer",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.rebuildContainerNoCache",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.createDevContainerFile",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",when:"remoteName =~ /^(dev-container|wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openDevContainerFile",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openDevContainerFile",when:"remoteName =~ /^(dev|attached)-container$/"},{command:"remote-containers.openAttachConfigByNameFile",when:"remoteName == attached-container"},{command:"remote-containers.openAttachDevContainerFile",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container|wsl|ssh-remote|tunnel)?$/"},{command:"remote-containers.getStarted",when:"!remoteName && !virtualWorkspace || remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.trySample",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.trySample",when:"remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.provideFeedback",when:"remoteName =~ /^(dev-container|attached-container|exec|k8s-container)$/"},{command:"remote-containers.attachToContainerInCurrentWindow",when:"false"},{command:"remote-containers.attachToContainerInNewWindow",when:"false"},{command:"remote-containers.stopContainer",when:"false"},{command:"remote-containers.removeContainer",when:"false"},{command:"remote-containers.startContainer",when:"false"},{command:"remote-containers.removeRecentFolder",when:"false"},{command:"remote-containers.showDetails",when:"false"},{command:"remote-containers.explorerTargetsRefresh",when:"false"},{command:"remote-containers.explorerVolumesRefresh",when:"false"},{command:"remote-containers.explorerDetailsRefresh",when:"false"},{command:"remote-containers.inspectDockerResource",when:"false"},{command:"remote-containers.openFolderInContainerInCurrentWindow",when:"false"},{command:"remote-containers.openFolderInContainerInNewWindow",when:"false"},{command:"remote-containers.openInformationAboutMountPerformance",when:"false"},{command:"remote-containers.newContainer",when:"false"},{command:"remote-containers.showContainerLog",when:"false"},{command:"remote-containers.labelPortAndUpdateConfig",when:"false"},{command:"remote-containers.addExtensionToConfig",when:"false"},{command:"remote-containers.installDockerInWSL",when:"isWindows && !remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"!remoteName && !virtualWorkspace"},{command:"remote-containers.configureContainerFeatures",when:"remoteName =~ /^(dev-container|wsl|ssh-remote|tunnel)$/"}],"statusBar/remoteIndicator":[{command:"remote-containers.createDevContainer",group:"remote_30_dev-container_2_actions@1",when:"true"},{command:"remote-containers.attachToRunningContainer",group:"remote_30_dev-container_2_actions@2",when:"true"},{command:"remote-containers.configureContainerFeatures",group:"remote_30_dev-container_2_actions@3",when:"remoteName =~ /^(dev-container)$/"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@4",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.createDevContainerFile",group:"remote_30_dev-container_2_actions@4",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"workspaceFolderCount == 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"remoteName =~ /tunnel*.*/ && gitOpenRepositoryCount == 0"},{command:"remote-containers.openRepositoryInUniqueVolume",group:"remote_30_dev-container_2_actions@5",when:"workspaceFolderCount == 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.rebuildContainer",group:"remote_30_dev-container_2_actions@6",when:"remoteName =~ /^dev-container$/"},{command:"remote-containers.reopenLocally",group:"remote_30_dev-container_2_actions@7",when:"canReopenLocally"},{command:"remote-containers.reopenInWSL",group:"remote_30_dev-container_2_actions@7",when:"canReopenInWSL"},{command:"remote-containers.reopenInSSH",group:"remote_30_dev-container_2_actions@7",when:"canReopenInSSH"},{command:"remote-containers.reopenInTunnel",group:"remote_30_dev-container_2_actions@7",when:"canReopenInTunnel"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@8",when:"workspaceFolderCount != 0 && remoteName =~ /^(wsl|ssh-remote|tunnel)$/"},{command:"remote-containers.reopenInContainer",group:"remote_30_dev-container_2_actions@8",when:"workspaceFolderCount != 0 && !remoteName && !virtualWorkspace"},{command:"remote-containers.openFolder",group:"remote_30_dev-container_2_actions@8",when:"workspaceFolderCount == 0 && !remoteName && !virtualWorkspace"}],"view/title":[{command:"remote-containers.explorerTargetsRefresh",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@3"},{command:"remote-containers.newContainer",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@1"},{command:"remote-containers.cleanUpDevContainers",when:"view == targetsContainers && !remote-containers:needsDockerStartOrInstall && !remote-containers:noContainersWithFolder && !remote-containers:noContainersWithoutFolder",group:"navigation@2"},{command:"remote-containers.newContainer",when:"view == dockerContainers",group:"navigation"},{command:"remote-containers.explorerDetailsRefresh",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.attachToContainerInNewWindow",when:"view == detailsContainers",group:"navigation"},{command:"remote-containers.rebuildContainer",when:"view == detailsContainers && remoteName == dev-container",group:"navigation"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && remoteName =~ /^(dev|attached)-container$/",group:"navigation"},{command:"remote-containers.pruneVolumes",when:"view == devVolumes",group:"navigation@2"},{command:"remote-containers.explorerVolumesRefresh",when:"view == devVolumes",group:"navigation@3"},{command:"remote-containers.openRepositoryInUniqueVolume",when:"view == devVolumes",group:"navigation@1"}],"view/item/context":[{command:"remote-containers.attachToRunningContainerFromViewlet",when:"view == dockerContainers && viewItem =~ /^runningContainer$/i && vscode-docker:aciContext != true",group:"containers_1_general@2"},{command:"remote-containers.inspectVolumeFromViewlet",when:"view == dockerVolumes && viewItem == volume && vscode-docker:aciContext != true",group:"volumes_1_general@2"},{command:"remote-containers.checkoutPRInVolume",when:"view =~ /pr:/ && viewItem =~ /pullrequest(:local)?:nonactive|description/",group:"1_pullrequest@3"},{command:"remote-containers.attachToK8sContainerFromViewlet",group:"2@4",when:"remoteName =~ /^(wsl)?$/ && view == extension.vsKubernetesExplorer && viewItem =~ /vsKubernetes\\.resource\\.pod/i"},{command:"remote-containers.openFolderInContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@1"},{command:"remote-containers.openFolderInContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@1"},{command:"remote-containers.openFolderInContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"1_folder@2"},{command:"remote-containers.openFolderInContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(dev|attached|exited|running).*Folder$/",group:"inline@2"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"2_folder@1"},{command:"remote-containers.removeRecentFolder",when:"view == targetsContainers && viewItem == attachedFolder",group:"inline@3"},{command:"workbench.action.closeFolder",when:"view == targetsContainers && viewItem =~ /active.*Folder/",group:"1_folder@1"},{command:"remote-containers.reopenLocally",when:"canReopenLocally && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInWSL",when:"canReopenInWSL && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInSSH",when:"canReopenInSSH && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.reopenInTunnel",when:"canReopenInTunnel && view == targetsContainers && viewItem =~ /active(d|D)ev/",group:"1_folder@1"},{command:"remote-containers.attachToContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"1_container@1"},{command:"remote-containers.attachToContainerInCurrentWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"inline@1"},{command:"remote-containers.attachToContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"1_container@2"},{command:"remote-containers.attachToContainerInNewWindow",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)Container$/",group:"inline@2"},{command:"remote-containers.stopContainer",when:"view == targetsContainers && viewItem =~ /^(active|running)(Dev|)Container/",group:"2_container@2"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"2_container@3"},{command:"remote-containers.rebuildContainer",when:"view == targetsContainers && viewItem =~ /activeDevContainer/",group:"2_container@1"},{command:"remote-containers.removeContainer",when:"view == targetsContainers && viewItem =~ /^(running|exited)(Dev|)Container/",group:"inline@3"},{command:"remote-containers.startContainer",when:"view == targetsContainers && viewItem =~ /^exited(Dev|)Container/",group:"1_container@3"},{command:"remote-containers.showDetails",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@4"},{command:"remote-containers.inspectDockerResource",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@5"},{command:"remote-containers.showContainerLog",when:"view == targetsContainers && viewItem =~ /^(active|running|exited)(Dev|)Container/",group:"1_container@6"},{command:"remote-containers.openDevContainerFile",when:"view == detailsContainers && viewItem == devContainer"},{command:"remote-containers.inspectDockerResource",when:"view == detailsContainers && viewItem =~ /^(image|volume)$/"},{command:"remote-containers.openInformationAboutMountPerformance",when:"view == detailsContainers && viewItem == mountPerformanceInfo",group:"inline@1"},{command:"remote-containers.cloneInVolume",when:"view == devVolumes && viewItem =~ /^(devVolume)$/",group:"1_volumes@1"},{command:"remote-containers.inspectInBasicDevContainer",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@1"},{command:"remote-containers.inspectDockerResource",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"2_volumes@2"},{command:"remote-containers.removeVolume",when:"view == devVolumes && viewItem =~ /^(devVolume|uniqueDevVolume)$/",group:"3_volumes-destructive@1"}],"ports/item/port/inline":[{command:"remote-containers.labelPortAndUpdateConfig",group:"0_manage@4",when:"remoteName =~ /^(dev|attached)-container$/ && tunnelType == Forwarded"}],"extension/context":[{command:"remote-containers.addExtensionToConfig",group:"2_configure",when:"!isBuiltinExtension && remoteName =~ /^(dev-container|attached-container|wsl|ssh-remote|tunnel)?$/"}]},resourceLabelFormatters:[{scheme:"vscode-remote",authority:"dev-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.dev-container.workspaceSuffix%"}},{scheme:"vscode-remote",authority:"attached-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.attached-container.workspaceSuffix%"}},{scheme:"vscode-remote",authority:"exec+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.exec.workspaceSuffix%"}},{scheme:"vscode-remote",authority:"k8s-container+*",formatting:{label:"${path}",separator:"/",tildify:!0,workspaceSuffix:"%resourceLabelFormatters.k8s-container.workspaceSuffix%"}}],views:{remote:[{id:"targetsContainers",name:"%views.remote.targetsContainers%",group:"targets@2",remoteName:["dev-container","attached-container","exec","k8s-container"]},{id:"detailsContainers",name:"%views.remote.detailsContainers%",when:"remote-containers:showDetails",group:"details@1",remoteName:["dev-container","attached-container"]},{id:"devVolumes",name:"%views.remote.devVolumes%",group:"details@2",remoteName:["dev-container","attached-container"]}]},viewsWelcome:[{view:"targetsContainers",when:"remote-containers:needsDockerStartOrInstall",contents:"%viewsWelcome.targetsContainers.needsDockerStartOrInstall%"},{view:"targetsContainers",when:"remote-containers:needsSSHCredentials",contents:"%viewsWelcome.targetsContainers.needsSSHCredentials%"},{view:"targetsContainers",when:"remote-containers:noContainersWithFolder",contents:"%viewsWelcome.targetsContainers.noContainersWithFolder%"},{view:"targetsContainers",when:"remote-containers:noContainersWithoutFolder",contents:"%viewsWelcome.targetsContainers.noContainersWithoutFolder%"},{view:"devVolumes",when:"remote-containers:noDevVolumes",contents:"%viewsWelcome.devVolumes.noDevVolumes%"}],remoteHelp:{getStarted:"https://aka.ms/vscode-remote/containers/tutorial-sandbox",documentation:"https://aka.ms/vscode-remote/containers",issues:"https://aka.ms/vscode-remote/containers/issues",remoteName:["dev-container","attached-container","exec","k8s-container"]}},scripts:{"vscode:prepublish":"npx npm-run-all --npm-path npm clean definitions compile-prod dev-containers-user-cli-prepare",compile:"npx npm-run-all --npm-path npm clean-dist definitions compile-dev",watch:"npx npm-run-all --npm-path npm clean-dist definitions compile-watch",postinstall:"yarn --cwd node_modules/@devcontainers/cli",precommit:"node build/hygiene.js",package:"vsce package --yarn",definitions:"npx npm-run-all --npm-path npm definitions-clean definitions-copy",lint:"eslint -c .eslintrc.js --rulesdir ./build/eslint --max-warnings 0 --ext .ts ./src ./test","compile-prod":"npx npm-run-all --npm-path npm compile-cli-prod copy-cli esbuild-prod","compile-dev":"npx npm-run-all --npm-path npm compile-cli-dev copy-cli esbuild-dev","compile-watch":"npx npm-run-all --npm-path npm --parallel compile-cli-watch watch-cli esbuild-watch","esbuild-prod":"node esbuild.js --production","esbuild-dev":"node esbuild.js","esbuild-watch":"node esbuild.js --watch","compile-cli-prod":"yarn --cwd node_modules/@devcontainers/cli compile-prod","compile-cli-dev":"yarn --cwd node_modules/@devcontainers/cli compile-dev","compile-cli-watch":"yarn --cwd node_modules/@devcontainers/cli compile-watch","copy-cli":'copyfiles --up 4 --all "node_modules/@devcontainers/cli/dist/spec-node/devContainersSpecCLI.js" dist',"watch-cli":"npm-watch","type-check":"npx npm-run-all --npm-path npm clean-built tsc-b","tsc-b":"tsc -b","type-check-watch":"npx npm-run-all --npm-path npm clean-built tsc-b-w","tsc-b-w":"tsc -b -w","definitions-clean":"rimraf dist/node_modules/vscode-dev-containers","definitions-copy":'copyfiles --up 3 "node_modules/@devcontainers/cli/node_modules/vscode-dev-containers/container-features/{devcontainer-features.json,feature-scripts.env,fish-debian.sh,homebrew-debian.sh,install.sh}" dist',"dev-containers-cli-publish":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-publish","dev-containers-cli-package":"npx npm-run-all --npm-path npm dev-containers-cli-prepare dev-containers-cli-npm-pack","dev-containers-cli-prepare":"npx npm-run-all --npm-path npm clean dev-containers-cli-compile dev-containers-cli-copy-module","dev-containers-cli-compile":"npx npm-run-all --npm-path npm compile-prod","dev-containers-cli-copy-module":"copyfiles ThirdPartyNotices.txt dist/node/devContainersCLI.js dev-containers-cli","dev-containers-cli-npm-publish":"cd dev-containers-cli && npm publish","dev-containers-cli-npm-pack":"cd dev-containers-cli && npm pack","dev-containers-user-cli-package":"npx npm-run-all --npm-path npm dev-containers-user-cli-prepare dev-containers-user-cli-npm-pack","dev-containers-user-cli-prepare":"npx npm-run-all --npm-path npm dev-containers-user-cli-copy-module dev-containers-user-cli-copy-definitions","dev-containers-user-cli-clean-prepare":"npx npm-run-all --npm-path npm clean dev-containers-user-prepare","dev-containers-user-cli-copy-module":'copyfiles ThirdPartyNotices.txt dist/node/devContainersUserCLI.js dist/spec-node/devContainersSpecCLI.js "scripts/**/*" dev-containers-user-cli',"dev-containers-user-cli-copy-definitions":'copyfiles --up 3 "node_modules/@devcontainers/cli/node_modules/vscode-dev-containers/container-features/{devcontainer-features.json,feature-scripts.env,fish-debian.sh,homebrew-debian.sh,install.sh}" dev-containers-user-cli/dist',"dev-containers-user-cli-npm-pack":"cd dev-containers-user-cli && npm pack",clean:"npx npm-run-all --npm-path npm clean-dist clean-built","clean-dist":"rimraf dist dev-containers-cli/dist dev-containers-cli/scripts dev-containers-user-cli/dist dev-containers-user-cli/scripts","clean-built":"rimraf built",test:"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit test/core/**/*.test.ts","test-matrix":"env TS_NODE_PROJECT=test/core/tsconfig.json mocha -r ts-node/register --exit","test-no-env":"mocha -r ts-node/register --exit test/core/**/*.test.ts","test-dev-containers":"env TS_NODE_PROJECT=test/dev-containers/tsconfig.json mocha -r ts-node/register --exit test/dev-containers/**/*.test.ts",copytestconfigsforalpine:"/bin/bash -c 'cd test/configs && for f in *; do if [[ -d $f ]] && [[ $f != *alpine* ]]; then cp -r -T $f $f-alpine ; fi ; done'"},watch:{"copy-cli":"node_modules/@devcontainers/cli/dist/spec-node/devContainersSpecCLI.js"},devDependencies:{"@types/chai":"^4.3.4","@types/follow-redirects":"^1.14.1","@types/js-yaml":"^4.0.5","@types/markdown-it":"^12.2.3","@types/minimist":"^1.2.2","@types/mocha":"^10.0.1","@types/ncp":"^2.0.5","@types/node":"^18.15.3","@types/pull-stream":"^3.6.2","@types/recursive-readdir":"^2.2.1","@types/semver":"^7.3.13","@types/stats-lite":"^2.2.0","@types/tar":"^6.1.4","@types/tar-stream":"^3.1.1","@types/vscode":"~1.75.0","@types/yargs":"^17.0.22","@typescript-eslint/eslint-plugin":"^5.55.0","@typescript-eslint/experimental-utils":"^5.55.0","@typescript-eslint/parser":"^5.55.0","@vscode/l10n-dev":"^0.0.26",ajv:"^8.12.0",chai:"^4.3.7",copyfiles:"^2.4.1",esbuild:"^0.17.12",eslint:"^8.36.0","event-stream":"^4.0.1","gulp-eslint":"^6.0.0","gulp-filter":"^7.0.0",husky:"^8.0.3",jsonc:"^2.0.0",minimist:"^1.2.8",mocha:"^10.2.0","npm-run-all":"^4.1.5","npm-watch":"^0.11.0","p-all":"^4.0.0",rimraf:"^4.4.0","stats-lite":"^2.2.0","ts-node":"^10.9.1",typescript:"^5.0.2","typescript-formatter":"^7.2.2",vinyl:"^3.0.0","vinyl-fs":"^3.0.3",vsce:"^2.15.0"},dependencies:{"@devcontainers/cli":"https://github.com/devcontainers/cli.git#71180e791b13371f8313d981dfcf06b3c8fcd2ab","@vscode/extension-telemetry":"^0.7.7","@vscode/l10n":"^0.0.13",applicationinsights:"^2.5.0",fflate:"^0.8.1","find-process":"^1.4.7","follow-redirects":"^1.15.2","js-yaml":"^4.1.0","jsonc-parser":"^3.2.0",muxrpc:"^6.7.3","node-pty":"^0.10.1","pull-pushable":"^2.2.0","pull-stream":"^3.7.0","pull-stream-to-stream":"^2.0.0",semver:"^7.5.2","stream-to-pull-stream":"^1.7.3",tar:"^6.1.13","tar-stream":"^3.1.6","vscode-tas-client":"^0.1.63","vscode-uri":"^3.0.7",yargs:"~17.7.1"}}});var OWe={};ua(OWe,{activate:()=>iWe,attachToContainer:()=>Z_,deactivate:()=>cWe});module.exports=Xi(OWe);var F=B(require("vscode")),Kpe=B(Pr()),te=require("vscode"),Xpe=B(require("os")),gD=B(require("fs")),mn=B(require("path")),Qpe=B(require("querystring"));function _y(t,e=!1){let n=t.length,r=0,i="",o=0,s=16,a=0,u=0,c=0,l=0,f=0;function d(y,w){let _=0,T=0;for(;_<y||!w;){let P=t.charCodeAt(r);if(P>=48&&P<=57)T=T*16+P-48;else if(P>=65&&P<=70)T=T*16+P-65+10;else if(P>=97&&P<=102)T=T*16+P-97+10;else break;r++,_++}return _<y&&(T=-1),T}function p(y){r=y,i="",o=0,s=16,f=0}function m(){let y=r;if(t.charCodeAt(r)===48)r++;else for(r++;r<t.length&&um(t.charCodeAt(r));)r++;if(r<t.length&&t.charCodeAt(r)===46)if(r++,r<t.length&&um(t.charCodeAt(r)))for(r++;r<t.length&&um(t.charCodeAt(r));)r++;else return f=3,t.substring(y,r);let w=r;if(r<t.length&&(t.charCodeAt(r)===69||t.charCodeAt(r)===101))if(r++,(r<t.length&&t.charCodeAt(r)===43||t.charCodeAt(r)===45)&&r++,r<t.length&&um(t.charCodeAt(r))){for(r++;r<t.length&&um(t.charCodeAt(r));)r++;w=r}else f=3;return t.substring(y,w)}function h(){let y="",w=r;for(;;){if(r>=n){y+=t.substring(w,r),f=2;break}let _=t.charCodeAt(r);if(_===34){y+=t.substring(w,r),r++;break}if(_===92){if(y+=t.substring(w,r),r++,r>=n){f=2;break}switch(t.charCodeAt(r++)){case 34:y+='"';break;case 92:y+="\\";break;case 47:y+="/";break;case 98:y+="\b";break;case 102:y+="\f";break;case 110:y+=`
`;break;case 114:y+="\r";break;case 116:y+="	";break;case 117:let P=d(4,!0);P>=0?y+=String.fromCharCode(P):f=4;break;default:f=5}w=r;continue}if(_>=0&&_<=31)if(Ey(_)){y+=t.substring(w,r),f=2;break}else f=6;r++}return y}function g(){if(i="",f=0,o=r,u=a,l=c,r>=n)return o=n,s=17;let y=t.charCodeAt(r);if(xD(y)){do r++,i+=String.fromCharCode(y),y=t.charCodeAt(r);while(xD(y));return s=15}if(Ey(y))return r++,i+=String.fromCharCode(y),y===13&&t.charCodeAt(r)===10&&(r++,i+=`
`),a++,c=r,s=14;switch(y){case 123:return r++,s=1;case 125:return r++,s=2;case 91:return r++,s=3;case 93:return r++,s=4;case 58:return r++,s=6;case 44:return r++,s=5;case 34:return r++,i=h(),s=10;case 47:let w=r-1;if(t.charCodeAt(r+1)===47){for(r+=2;r<n&&!Ey(t.charCodeAt(r));)r++;return i=t.substring(w,r),s=12}if(t.charCodeAt(r+1)===42){r+=2;let _=n-1,T=!1;for(;r<_;){let P=t.charCodeAt(r);if(P===42&&t.charCodeAt(r+1)===47){r+=2,T=!0;break}r++,Ey(P)&&(P===13&&t.charCodeAt(r)===10&&r++,a++,c=r)}return T||(r++,f=1),i=t.substring(w,r),s=13}return i+=String.fromCharCode(y),r++,s=16;case 45:if(i+=String.fromCharCode(y),r++,r===n||!um(t.charCodeAt(r)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=m(),s=11;default:for(;r<n&&v(y);)r++,y=t.charCodeAt(r);if(o!==r){switch(i=t.substring(o,r),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(y),r++,s=16}}function v(y){if(xD(y)||Ey(y))return!1;switch(y){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function x(){let y;do y=g();while(y>=12&&y<=15);return y}return{setPosition:p,getPosition:()=>r,scan:e?x:g,getToken:()=>s,getTokenValue:()=>i,getTokenOffset:()=>o,getTokenLength:()=>r-o,getTokenStartLine:()=>u,getTokenStartCharacter:()=>o-l,getTokenError:()=>f}}function xD(t){return t===32||t===9}function Ey(t){return t===10||t===13}function um(t){return t>=48&&t<=57}var VB;(function(t){t[t.lineFeed=10]="lineFeed",t[t.carriageReturn=13]="carriageReturn",t[t.space=32]="space",t[t._0=48]="_0",t[t._1=49]="_1",t[t._2=50]="_2",t[t._3=51]="_3",t[t._4=52]="_4",t[t._5=53]="_5",t[t._6=54]="_6",t[t._7=55]="_7",t[t._8=56]="_8",t[t._9=57]="_9",t[t.a=97]="a",t[t.b=98]="b",t[t.c=99]="c",t[t.d=100]="d",t[t.e=101]="e",t[t.f=102]="f",t[t.g=103]="g",t[t.h=104]="h",t[t.i=105]="i",t[t.j=106]="j",t[t.k=107]="k",t[t.l=108]="l",t[t.m=109]="m",t[t.n=110]="n",t[t.o=111]="o",t[t.p=112]="p",t[t.q=113]="q",t[t.r=114]="r",t[t.s=115]="s",t[t.t=116]="t",t[t.u=117]="u",t[t.v=118]="v",t[t.w=119]="w",t[t.x=120]="x",t[t.y=121]="y",t[t.z=122]="z",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.asterisk=42]="asterisk",t[t.backslash=92]="backslash",t[t.closeBrace=125]="closeBrace",t[t.closeBracket=93]="closeBracket",t[t.colon=58]="colon",t[t.comma=44]="comma",t[t.dot=46]="dot",t[t.doubleQuote=34]="doubleQuote",t[t.minus=45]="minus",t[t.openBrace=123]="openBrace",t[t.openBracket=91]="openBracket",t[t.plus=43]="plus",t[t.slash=47]="slash",t[t.formFeed=12]="formFeed",t[t.tab=9]="tab"})(VB||(VB={}));function wD(t,e,n){let r,i,o,s,a;if(e){for(s=e.offset,a=s+e.length,o=s;o>0&&!by(t,o-1);)o--;let y=a;for(;y<t.length&&!by(t,y);)y++;i=t.substring(o,y),r=Pme(i,n)}else i=t,r=0,o=0,s=0,a=t.length;let u=Rme(n,t),c=0,l=0,f;n.insertSpaces?f=lm(" ",n.tabSize||4):f="	";let d=_y(i,!1),p=!1;function m(){return c>1?lm(u,c)+lm(f,r+l):u+lm(f,r+l)}function h(){let y=d.scan();for(c=0;y===15||y===14;)y===14&&n.keepLines?c+=1:y===14&&(c=1),y=d.scan();return p=y===16||d.getTokenError()!==0,y}let g=[];function v(y,w,_){!p&&(!e||w<a&&_>s)&&t.substring(w,_)!==y&&g.push({offset:w,length:_-w,content:y})}let x=h();if(n.keepLines&&c>0&&v(lm(u,c),0,0),x!==17){let y=d.getTokenOffset()+o,w=lm(f,r);v(w,o,y)}for(;x!==17;){let y=d.getTokenOffset()+d.getTokenLength()+o,w=h(),_="",T=!1;for(;c===0&&(w===12||w===13);){let E=d.getTokenOffset()+o;v(" ",y,E),y=d.getTokenOffset()+d.getTokenLength()+o,T=w===12,_=T?m():"",w=h()}if(w===2)x!==1&&l--,n.keepLines&&c>0||!n.keepLines&&x!==1?_=m():n.keepLines&&(_=" ");else if(w===4)x!==3&&l--,n.keepLines&&c>0||!n.keepLines&&x!==3?_=m():n.keepLines&&(_=" ");else{switch(x){case 3:case 1:l++,n.keepLines&&c>0||!n.keepLines?_=m():_=" ";break;case 5:n.keepLines&&c>0||!n.keepLines?_=m():_=" ";break;case 12:_=m();break;case 13:c>0?_=m():T||(_=" ");break;case 6:n.keepLines&&c>0?_=m():T||(_=" ");break;case 10:n.keepLines&&c>0?_=m():w===6&&!T&&(_="");break;case 7:case 8:case 9:case 11:case 2:case 4:n.keepLines&&c>0?_=m():(w===12||w===13)&&!T?_=" ":w!==5&&w!==17&&(p=!0);break;case 16:p=!0;break}c>0&&(w===12||w===13)&&(_=m())}w===17&&(n.keepLines&&c>0?_=m():_=n.insertFinalNewline?u:"");let P=d.getTokenOffset()+o;v(_,y,P),x=w}return g}function lm(t,e){let n="";for(let r=0;r<e;r++)n+=t;return n}function Pme(t,e){let n=0,r=0,i=e.tabSize||4;for(;n<t.length;){let o=t.charAt(n);if(o===" ")r++;else if(o==="	")r+=i;else break;n++}return Math.floor(r/i)}function Rme(t,e){for(let n=0;n<e.length;n++){let r=e.charAt(n);if(r==="\r")return n+1<e.length&&e.charAt(n+1)===`
`?`\r
`:"\r";if(r===`
`)return`
`}return t&&t.eol||`
`}function by(t,e){return`\r
`.indexOf(t.charAt(e))!==-1}var Cy;(function(t){t.DEFAULT={allowTrailingComma:!1}})(Cy||(Cy={}));function WB(t,e){let n=[],r=new Object,i,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(u,c,l,f){o.value=u,o.offset=c,o.length=l,o.type=f,o.colonOffset=void 0,i=o}try{db(t,{onObjectBegin:(u,c)=>{if(e<=u)throw r;i=void 0,s=e>u,n.push("")},onObjectProperty:(u,c,l)=>{if(e<c||(a(u,c,l,"property"),n[n.length-1]=u,e<=c+l))throw r},onObjectEnd:(u,c)=>{if(e<=u)throw r;i=void 0,n.pop()},onArrayBegin:(u,c)=>{if(e<=u)throw r;i=void 0,n.push(0)},onArrayEnd:(u,c)=>{if(e<=u)throw r;i=void 0,n.pop()},onLiteralValue:(u,c,l)=>{if(e<c||(a(u,c,l,zB(u)),e<=c+l))throw r},onSeparator:(u,c,l)=>{if(e<=c)throw r;if(u===":"&&i&&i.type==="property")i.colonOffset=c,s=!1,i=void 0;else if(u===","){let f=n[n.length-1];typeof f=="number"?n[n.length-1]=f+1:(s=!0,n[n.length-1]=""),i=void 0}}})}catch(u){if(u!==r)throw u}return{path:n,previousNode:i,isAtPropertyKey:s,matches:u=>{let c=0;for(let l=0;c<u.length&&l<n.length;l++)if(u[c]===n[l]||u[c]==="*")c++;else if(u[c]!=="**")return!1;return c===u.length}}}function GB(t,e=[],n=Cy.DEFAULT){let r=null,i=[],o=[];function s(u){Array.isArray(i)?i.push(u):r!==null&&(i[r]=u)}return db(t,{onObjectBegin:()=>{let u={};s(u),o.push(i),i=u,r=null},onObjectProperty:u=>{r=u},onObjectEnd:()=>{i=o.pop()},onArrayBegin:()=>{let u=[];s(u),o.push(i),i=u,r=null},onArrayEnd:()=>{i=o.pop()},onLiteralValue:s,onError:(u,c,l)=>{e.push({error:u,offset:c,length:l})}},n),i[0]}function fb(t,e=[],n=Cy.DEFAULT){let r={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(u){r.type==="property"&&(r.length=u-r.offset,r=r.parent)}function o(u){return r.children.push(u),u}db(t,{onObjectBegin:u=>{r=o({type:"object",offset:u,length:-1,parent:r,children:[]})},onObjectProperty:(u,c,l)=>{r=o({type:"property",offset:c,length:-1,parent:r,children:[]}),r.children.push({type:"string",value:u,offset:c,length:l,parent:r})},onObjectEnd:(u,c)=>{i(u+c),r.length=u+c-r.offset,r=r.parent,i(u+c)},onArrayBegin:(u,c)=>{r=o({type:"array",offset:u,length:-1,parent:r,children:[]})},onArrayEnd:(u,c)=>{r.length=u+c-r.offset,r=r.parent,i(u+c)},onLiteralValue:(u,c,l)=>{o({type:zB(u),offset:c,length:l,parent:r,value:u}),i(c+l)},onSeparator:(u,c,l)=>{r.type==="property"&&(u===":"?r.colonOffset=c:u===","&&i(c))},onError:(u,c,l)=>{e.push({error:u,offset:c,length:l})}},n);let a=r.children[0];return a&&delete a.parent,a}function Sy(t,e){if(!t)return;let n=t;for(let r of e)if(typeof r=="string"){if(n.type!=="object"||!Array.isArray(n.children))return;let i=!1;for(let o of n.children)if(Array.isArray(o.children)&&o.children[0].value===r&&o.children.length===2){n=o.children[1],i=!0;break}if(!i)return}else{let i=r;if(n.type!=="array"||i<0||!Array.isArray(n.children)||i>=n.children.length)return;n=n.children[i]}return n}function lb(t){switch(t.type){case"array":return t.children.map(lb);case"object":let e=Object.create(null);for(let n of t.children){let r=n.children[1];r&&(e[n.children[0].value]=lb(r))}return e;case"null":case"string":case"number":case"boolean":return t.value;default:return}}function db(t,e,n=Cy.DEFAULT){let r=_y(t,!1),i=[];function o(R){return R?()=>R(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function s(R){return R?()=>R(r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>i.slice()):()=>!0}function a(R){return R?D=>R(D,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter()):()=>!0}function u(R){return R?D=>R(D,r.getTokenOffset(),r.getTokenLength(),r.getTokenStartLine(),r.getTokenStartCharacter(),()=>i.slice()):()=>!0}let c=s(e.onObjectBegin),l=u(e.onObjectProperty),f=o(e.onObjectEnd),d=s(e.onArrayBegin),p=o(e.onArrayEnd),m=u(e.onLiteralValue),h=a(e.onSeparator),g=o(e.onComment),v=a(e.onError),x=n&&n.disallowComments,y=n&&n.allowTrailingComma;function w(){for(;;){let R=r.scan();switch(r.getTokenError()){case 4:_(14);break;case 5:_(15);break;case 3:_(13);break;case 1:x||_(11);break;case 2:_(12);break;case 6:_(16);break}switch(R){case 12:case 13:x?_(10):g();break;case 16:_(1);break;case 15:case 14:break;default:return R}}}function _(R,D=[],A=[]){if(v(R),D.length+A.length>0){let N=r.getToken();for(;N!==17;){if(D.indexOf(N)!==-1){w();break}else if(A.indexOf(N)!==-1)break;N=w()}}}function T(R){let D=r.getTokenValue();return R?m(D):(l(D),i.push(D)),w(),!0}function P(){switch(r.getToken()){case 11:let R=r.getTokenValue(),D=Number(R);isNaN(D)&&(_(2),D=0),m(D);break;case 7:m(null);break;case 8:m(!0);break;case 9:m(!1);break;default:return!1}return w(),!0}function E(){return r.getToken()!==10?(_(3,[],[2,5]),!1):(T(!1),r.getToken()===6?(h(":"),w(),I()||_(4,[],[2,5])):_(5,[],[2,5]),i.pop(),!0)}function C(){c(),w();let R=!1;for(;r.getToken()!==2&&r.getToken()!==17;){if(r.getToken()===5){if(R||_(4,[],[]),h(","),w(),r.getToken()===2&&y)break}else R&&_(6,[],[]);E()||_(4,[],[2,5]),R=!0}return f(),r.getToken()!==2?_(7,[2],[]):w(),!0}function S(){d(),w();let R=!0,D=!1;for(;r.getToken()!==4&&r.getToken()!==17;){if(r.getToken()===5){if(D||_(4,[],[]),h(","),w(),r.getToken()===4&&y)break}else D&&_(6,[],[]);R?(i.push(0),R=!1):i[i.length-1]++,I()||_(4,[],[4,5]),D=!0}return p(),R||i.pop(),r.getToken()!==4?_(8,[4],[]):w(),!0}function I(){switch(r.getToken()){case 3:return S();case 1:return C();case 10:return T(!0);default:return P()}}return w(),r.getToken()===17?n.allowEmptyContent?!0:(_(4,[],[]),!1):I()?(r.getToken()!==17&&_(9,[],[]),!0):(_(4,[],[]),!1)}function zB(t){switch(typeof t){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(t){if(Array.isArray(t))return"array"}else return"null";return"object"}default:return"null"}}function YB(t,e,n,r){let i=e.slice(),s=fb(t,[]),a,u;for(;i.length>0&&(u=i.pop(),a=Sy(s,i),a===void 0&&n!==void 0);)typeof u=="string"?n={[u]:n}:n=[n];if(a)if(a.type==="object"&&typeof u=="string"&&Array.isArray(a.children)){let c=Sy(a,[u]);if(c!==void 0)if(n===void 0){if(!c.parent)throw new Error("Malformed AST");let l=a.children.indexOf(c.parent),f,d=c.parent.offset+c.parent.length;if(l>0){let p=a.children[l-1];f=p.offset+p.length}else f=a.offset+1,a.children.length>1&&(d=a.children[1].offset);return Af(t,{offset:f,length:d-f,content:""},r)}else return Af(t,{offset:c.offset,length:c.length,content:JSON.stringify(n)},r);else{if(n===void 0)return[];let l=`${JSON.stringify(u)}: ${JSON.stringify(n)}`,f=r.getInsertionIndex?r.getInsertionIndex(a.children.map(p=>p.children[0].value)):a.children.length,d;if(f>0){let p=a.children[f-1];d={offset:p.offset+p.length,length:0,content:","+l}}else a.children.length===0?d={offset:a.offset+1,length:0,content:l}:d={offset:a.offset+1,length:0,content:l+","};return Af(t,d,r)}}else if(a.type==="array"&&typeof u=="number"&&Array.isArray(a.children)){let c=u;if(c===-1){let l=`${JSON.stringify(n)}`,f;if(a.children.length===0)f={offset:a.offset+1,length:0,content:l};else{let d=a.children[a.children.length-1];f={offset:d.offset+d.length,length:0,content:","+l}}return Af(t,f,r)}else if(n===void 0&&a.children.length>=0){let l=u,f=a.children[l],d;if(a.children.length===1)d={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===l){let p=a.children[l-1],m=p.offset+p.length,h=a.offset+a.length;d={offset:m,length:h-2-m,content:""}}else d={offset:f.offset,length:a.children[l+1].offset-f.offset,content:""};return Af(t,d,r)}else if(n!==void 0){let l,f=`${JSON.stringify(n)}`;if(!r.isArrayInsertion&&a.children.length>u){let d=a.children[u];l={offset:d.offset,length:d.length,content:f}}else if(a.children.length===0||u===0)l={offset:a.offset+1,length:0,content:a.children.length===0?f:f+","};else{let d=u>a.children.length?a.children.length:u,p=a.children[d-1];l={offset:p.offset+p.length,length:0,content:","+f}}return Af(t,l,r)}else throw new Error(`Can not ${n===void 0?"remove":r.isArrayInsertion?"insert":"modify"} Array index ${c} as length is not sufficient`)}else throw new Error(`Can not add ${typeof u!="number"?"index":"property"} to parent of type ${a.type}`);else{if(n===void 0)throw new Error("Can not delete in empty document");return Af(t,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(n)},r)}}function Af(t,e,n){if(!n.formattingOptions)return[e];let r=pb(t,e),i=e.offset,o=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;i>0&&!by(r,i-1);)i--;for(;o<r.length&&!by(r,o);)o++}let s=wD(r,{offset:i,length:o-i},{...n.formattingOptions,keepLines:!1});for(let u=s.length-1;u>=0;u--){let c=s[u];r=pb(r,c),i=Math.min(i,c.offset),o=Math.max(o,c.offset+c.length),o+=c.content.length-c.length}let a=t.length-(r.length-o)-i;return[{offset:i,length:a,content:r.substring(i,o)}]}function pb(t,e){return t.substring(0,e.offset)+e.content+t.substring(e.offset+e.length)}var KB;(function(t){t[t.None=0]="None",t[t.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=2]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",t[t.InvalidUnicode=4]="InvalidUnicode",t[t.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",t[t.InvalidCharacter=6]="InvalidCharacter"})(KB||(KB={}));var XB;(function(t){t[t.OpenBraceToken=1]="OpenBraceToken",t[t.CloseBraceToken=2]="CloseBraceToken",t[t.OpenBracketToken=3]="OpenBracketToken",t[t.CloseBracketToken=4]="CloseBracketToken",t[t.CommaToken=5]="CommaToken",t[t.ColonToken=6]="ColonToken",t[t.NullKeyword=7]="NullKeyword",t[t.TrueKeyword=8]="TrueKeyword",t[t.FalseKeyword=9]="FalseKeyword",t[t.StringLiteral=10]="StringLiteral",t[t.NumericLiteral=11]="NumericLiteral",t[t.LineCommentTrivia=12]="LineCommentTrivia",t[t.BlockCommentTrivia=13]="BlockCommentTrivia",t[t.LineBreakTrivia=14]="LineBreakTrivia",t[t.Trivia=15]="Trivia",t[t.Unknown=16]="Unknown",t[t.EOF=17]="EOF"})(XB||(XB={}));var JB=WB,Ye=GB,Df=fb,gs=Sy;var mb=lb;var QB;(function(t){t[t.InvalidSymbol=1]="InvalidSymbol",t[t.InvalidNumberFormat=2]="InvalidNumberFormat",t[t.PropertyNameExpected=3]="PropertyNameExpected",t[t.ValueExpected=4]="ValueExpected",t[t.ColonExpected=5]="ColonExpected",t[t.CommaExpected=6]="CommaExpected",t[t.CloseBraceExpected=7]="CloseBraceExpected",t[t.CloseBracketExpected=8]="CloseBracketExpected",t[t.EndOfFileExpected=9]="EndOfFileExpected",t[t.InvalidCommentToken=10]="InvalidCommentToken",t[t.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",t[t.UnexpectedEndOfString=12]="UnexpectedEndOfString",t[t.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",t[t.InvalidUnicode=14]="InvalidUnicode",t[t.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",t[t.InvalidCharacter=16]="InvalidCharacter"})(QB||(QB={}));function Pn(t,e,n,r){return YB(t,e,n,r)}function yi(t,e){let n=e.slice(0).sort((i,o)=>{let s=i.offset-o.offset;return s===0?i.length-o.length:s}),r=t.length;for(let i=n.length-1;i>=0;i--){let o=n[i];if(o.offset+o.length<=r)t=pb(t,o);else throw new Error("Overlapping edit");r=o.offset}return t}var Wt=B(require("fs")),la=require("util");function fr(t){return new Promise(e=>Wt.stat(t,(n,r)=>e(!n&&r.isFile())))}function ZB(t){return new Promise(e=>Wt.stat(t,(n,r)=>e(!n&&r.isDirectory())))}function eV(t){return new Promise(e=>Wt.stat(t,(n,r)=>e(!n&&r.isSocket())))}var st=(0,la.promisify)(Wt.readFile),hb=(0,la.promisify)(Wt.writeFile),BWe=(0,la.promisify)(Wt.appendFile),oc=(0,la.promisify)(Wt.rename),Ru=(0,la.promisify)(Wt.readdir),tV=(0,la.promisify)(Wt.unlink),vs=t=>new Promise((e,n)=>Wt.mkdir(t,{recursive:!0},r=>r?n(r):e())),nV=(0,la.promisify)(Wt.rmdir),Au=(0,la.promisify)(Wt.rm),VWe=(0,la.promisify)(Wt.copyFile);function ED(t,e,n){let r=t.relative(e,n);return!!r&&!r.startsWith("..")&&!t.isAbsolute(r)}var Ue=B(require("vscode")),Tr=require("vscode"),G_=B(require("path"));var aw=B(require("path")),Ah=B(Pr());var sV=B(require("os")),Iy=B(require("fs")),aV=B(require("path"));var _D=require("events"),fa=class{constructor(...e){this.nodeEmitter=new _D.EventEmitter;this.event=e=>(this.nodeEmitter.on("event",e),{dispose:()=>{this.nodeEmitter.off("event",e)}});this.disposables=e}fire(e){this.nodeEmitter.emit("event",e)}dispose(){this.nodeEmitter.removeAllListeners(),this.disposables.forEach(e=>e.dispose())}},gb=class{constructor(){this.nodeEmitter=new _D.EventEmitter;this.event=e=>{let n=r=>r.results.push(e(r.data));return this.nodeEmitter.on("event",n),{dispose:()=>{this.nodeEmitter.off("event",n)}}}}fire(e){let n=[];return this.nodeEmitter.emit("event",{data:e,results:n}),n}dispose(){this.nodeEmitter.removeAllListeners()}};function rV(t,e){return{sendTelemetryEvent:async()=>{},isCachedFlightEnabled:async()=>!1,product:e,package:t,getTelemetryLevel:()=>"off"}}var xi=(a=>(a[a.Trace=1]="Trace",a[a.Debug=2]="Debug",a[a.Info=3]="Info",a[a.Warning=4]="Warning",a[a.Error=5]="Error",a[a.Critical=6]="Critical",a[a.Off=7]="Off",a))(xi||{}),CD={info:3,debug:2,trace:1},Ome=Object.keys(CD).reduce((t,e)=>(t[CD[e]]=e,t),[]);function yb(t){return CD[t]||3}function Ro(t){return Ome[t]||3}var Re={write:()=>{},raw:()=>{},start:()=>Date.now(),stop:()=>{},event:()=>{}},Du=/(\x9B|\x1B\[)[0-?]*[ -\/]*[@-~]/g;function cV(t,e){let n=!!e;return{event:r=>{n&&(n=!1,t.forEach(i=>i.event({type:"text",level:3,timestamp:Date.now(),text:e}))),t.forEach(i=>i.event(r))}}}function uV(t,e){let n=Fme(t);return{event(r){let i=Lme(r,e());i&&n.write(i)},join:n.join}}function lV(t,e,n){return{event(r){let i=Nme(r,e(),n.getTime());i&&t(i)}}}function Xr(t,e=2){return{event:t.event,write(n,r=e){t.event({type:"text",level:r,timestamp:Date.now(),text:n})},raw(n,r=e){t.event({type:"raw",level:r,timestamp:Date.now(),text:n})},start(n,r=e){let i=Date.now();return t.event({type:"start",level:r,timestamp:i,text:n}),i},stop(n,r,i=e){t.event({type:"stop",level:i,timestamp:Date.now(),text:n,startTimestamp:r})},get dimensions(){return t.dimensions},onDidChangeDimensions:t.onDidChangeDimensions}}function Nme(t,e,n){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":return`[${Ty(iV,`${t.timestamp-n} ms`)}] ${vb(t.text)}`;case"raw":return t.text;case"start":return 1>=e?`${Ty(jme,`[${t.timestamp-n} ms] Start`)}: ${vb(t.text)}`:`[${Ty(iV,`${t.timestamp-n} ms`)}] Start: ${vb(t.text)}`;case"stop":return 1>=e?`${Ty(qme,`[${t.timestamp-n} ms] Stop`)} (${t.timestamp-t.startTimestamp} ms): ${vb(t.text)}`:void 0;default:throw fV(t)}}function vb(t){return $me(t).replace(/\r?\n/g,`\r
`).replace(/(\r?\n)?$/,`\r
`)}function Lme(t,e){if(!(!("level"in t)||t.level<e))switch(t.type){case"text":case"raw":return`[${new Date(t.timestamp).toISOString()}] ${bD(t.text)}`;case"start":return`[${new Date(t.timestamp).toISOString()}] Start: ${bD(t.text)}`;case"stop":return 2>=e?`[${new Date(t.timestamp).toISOString()}] Stop (${t.timestamp-t.startTimestamp} ms): ${bD(t.text)}`:void 0;default:throw fV(t)}}function bD(t){return t.replace(Du,"").replace(/(\r?\n)?$/,sV.EOL)}function fV(t){return new Error(`Unknown log event type: ${t.type}`)}function Fme(t){let e=[],n=!1,r,i;function o(){n=!1,i&&!e.length&&(r=void 0,i(),i=void 0)}function s(a,u=!1){if(a&&e.push(a),!u&&!n&&e.length){n=!0;let c=e.join("");e.length=0,Iy.appendFile(t,c,l=>{l&&(l.code==="ENOENT"?Iy.mkdir(aV.dirname(t),{recursive:!0},f=>{f?(o(),console.error(f)):Iy.appendFile(t,c,d=>{o(),d&&console.error(d),s()})}):(o(),console.error(l))),o(),s()})}}return{write:s,join:()=>r||(n?r=new Promise(a=>i=a):Promise.resolve())}}var Mme="38;2;143;99;79",dV="38;2;99;143;79",Ume="38;2;86;156;214",qme=Mme,jme=dV,iV=dV,Hme=Ume;function Ty(t,e){return e.split(`
`).map(n=>`\x1B[1m\x1B[${t}m${n}\x1B[39m\x1B[22m`).join(`
`)}function $me(t){let e,n=0,r=[];for(Du.lastIndex=0;e=Du.exec(t);)r.push(oV(t.substring(n,e.index))),r.push(e[0]),n=Du.lastIndex;return r.push(oV(t.substr(n))),r.join("")}function oV(t){let e=/(?<=^|[^A-Za-z0-9_\-\.])[0-9]+(\.[0-9]+)*(?=$|[^A-Za-z0-9_\-\.])/g,n,r=0,i=[];for(;n=e.exec(t);)i.push(t.substring(r,n.index)),i.push(Ty(Hme,n[0])),r=e.lastIndex;return i.push(t.substr(r)),i.join("")}function pt(t){return t.split(/\r?\n/).map(e=>`\x1B[1m\x1B[31m${e}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}function SD(t){return t.split(/\r?\n/).map(e=>`\x1B[1m\x1B[33m${e}\x1B[39m\x1B[22m`).join(`\r
`)+`\r
`}var ge=class extends Error{constructor(n){var r;super(n.originalError&&n.originalError.message||n.description);this.manageContainer=!1;this.actions=[];this.data={};Object.assign(this,n),(r=this.originalError)!=null&&r.stack&&(this.stack=this.originalError.stack)}};var he=B(require("path")),e0=B(require("fs")),T7=B(hm()),hL=require("string_decoder"),il=B(LC());var QS=B(require("crypto")),I7=B(HO()),gh=B(Pr());var L4=require("module"),Xwe=(0,L4.createRequire)("/"),YC,Qwe=";var __w=require('worker_threads');__w.parentPort.on('message',function(m){onmessage({data:m})}),postMessage=function(m,t){__w.parentPort.postMessage(m,t)},close=process.exit;self=global";try{YC=Xwe("worker_threads").Worker}catch{}var Jwe=YC?function(t,e,n,r,i){var o=!1,s=new YC(t+Qwe,{eval:!0}).on("error",function(a){return i(a,null)}).on("message",function(a){return i(null,a)}).on("exit",function(a){a&&!o&&i(new Error("exited with code "+a),null)});return s.postMessage(n,r),s.terminate=function(){return o=!0,YC.prototype.terminate.call(s)},s}:function(t,e,n,r,i){setImmediate(function(){return i(new Error("async operations unsupported - update to Node 12+ (or Node 10-11 with the --experimental-worker CLI flag)"),null)});var o=function(){};return{terminate:o,postMessage:o}},ei=Uint8Array,Jf=Uint16Array,F4=Int32Array,VO=new ei([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),WO=new ei([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),M4=new ei([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),U4=function(t,e){for(var n=new Jf(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new F4(n[30]),r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return{b:n,r:i}},q4=U4(VO,2),GO=q4.b,Zwe=q4.r;GO[28]=258,Zwe[258]=28;var j4=U4(WO,0),H4=j4.b,XGe=j4.r,QC=new Jf(32768);for(mt=0;mt<32768;++mt)Tc=(mt&43690)>>1|(mt&21845)<<1,Tc=(Tc&52428)>>2|(Tc&13107)<<2,Tc=(Tc&61680)>>4|(Tc&3855)<<4,QC[mt]=((Tc&65280)>>8|(Tc&255)<<8)>>1;var Tc,mt,Wm=function(t,e,n){for(var r=t.length,i=0,o=new Jf(e);i<r;++i)t[i]&&++o[t[i]-1];var s=new Jf(e);for(i=1;i<e;++i)s[i]=s[i-1]+o[i-1]<<1;var a;if(n){a=new Jf(1<<e);var u=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],l=e-t[i],f=s[t[i]-1]++<<l,d=f|(1<<l)-1;f<=d;++f)a[QC[f]>>u]=c}else for(a=new Jf(r),i=0;i<r;++i)t[i]&&(a[i]=QC[s[t[i]-1]++]>>15-t[i]);return a},lx=new ei(288);for(mt=0;mt<144;++mt)lx[mt]=8;var mt;for(mt=144;mt<256;++mt)lx[mt]=9;var mt;for(mt=256;mt<280;++mt)lx[mt]=7;var mt;for(mt=280;mt<288;++mt)lx[mt]=8;var mt,$4=new ei(32);for(mt=0;mt<32;++mt)$4[mt]=5;var mt;var B4=Wm(lx,9,1);var V4=Wm($4,5,1),KC=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Mo=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},XC=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},W4=function(t){return(t+7)/8|0},JC=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new ei(t.subarray(e,n))};var G4=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Zr=function(t,e,n){var r=new Error(e||G4[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Zr),!n)throw r;return r},z4=function(t,e,n,r){var i=t.length,o=r?r.length:0;if(!i||e.f&&!e.l)return n||new ei(0);var s=!n,a=s||e.i!=2,u=e.i;s&&(n=new ei(i*3));var c=function(In){var vi=n.length;if(In>vi){var hs=new ei(Math.max(vi*2,In));hs.set(n),n=hs}},l=e.f||0,f=e.p||0,d=e.b||0,p=e.l,m=e.d,h=e.m,g=e.n,v=i*8;do{if(!p){l=Mo(t,f,1);var x=Mo(t,f+1,3);if(f+=3,x)if(x==1)p=B4,m=V4,h=9,g=5;else if(x==2){var T=Mo(t,f,31)+257,P=Mo(t,f+10,15)+4,E=T+Mo(t,f+5,31)+1;f+=14;for(var C=new ei(E),S=new ei(19),I=0;I<P;++I)S[M4[I]]=Mo(t,f+I*3,7);f+=P*3;for(var R=KC(S),D=(1<<R)-1,A=Wm(S,R,1),I=0;I<E;){var N=A[Mo(t,f,D)];f+=N&15;var y=N>>4;if(y<16)C[I++]=y;else{var O=0,M=0;for(y==16?(M=3+Mo(t,f,3),f+=2,O=C[I-1]):y==17?(M=3+Mo(t,f,7),f+=3):y==18&&(M=11+Mo(t,f,127),f+=7);M--;)C[I++]=O}}var j=C.subarray(0,T),W=C.subarray(T);h=KC(j),g=KC(W),p=Wm(j,h,1),m=Wm(W,g,1)}else Zr(1);else{var y=W4(f)+4,w=t[y-4]|t[y-3]<<8,_=y+w;if(_>i){u&&Zr(0);break}a&&c(d+w),n.set(t.subarray(y,_),d),e.b=d+=w,e.p=f=_*8,e.f=l;continue}if(f>v){u&&Zr(0);break}}a&&c(d+131072);for(var L=(1<<h)-1,H=(1<<g)-1,$=f;;$=f){var O=p[XC(t,f)&L],V=O>>4;if(f+=O&15,f>v){u&&Zr(0);break}if(O||Zr(2),V<256)n[d++]=V;else if(V==256){$=f,p=null;break}else{var re=V-254;if(V>264){var I=V-257,ye=VO[I];re=Mo(t,f,(1<<ye)-1)+GO[I],f+=ye}var Ce=m[XC(t,f)&H],Te=Ce>>4;Ce||Zr(3),f+=Ce&15;var W=H4[Te];if(Te>3){var ye=WO[Te];W+=XC(t,f)&(1<<ye)-1,f+=ye}if(f>v){u&&Zr(0);break}a&&c(d+131072);var wt=d+re;if(d<W){var Pe=o-W,ze=Math.min(W,wt);for(Pe+d<0&&Zr(3);d<ze;++d)n[d]=r[Pe+d]}for(;d<wt;++d)n[d]=n[d-W]}}e.l=p,e.p=$,e.b=d,e.f=l,p&&(l=1,e.m=h,e.d=m,e.n=g)}while(!l);return d!=n.length&&s?JC(n,0,d):n.subarray(0,d)};var eEe=new ei(0);var tEe=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n},O4=function(t,e,n){for(var r=t(),i=t.toString(),o=i.slice(i.indexOf("[")+1,i.lastIndexOf("]")).replace(/\s+/g,"").split(","),s=0;s<r.length;++s){var a=r[s],u=o[s];if(typeof a=="function"){e+=";"+u+"=";var c=a.toString();if(a.prototype)if(c.indexOf("[native code]")!=-1){var l=c.indexOf(" ",8)+1;e+=c.slice(l,c.indexOf("(",l))}else{e+=c;for(var f in a.prototype)e+=";"+u+".prototype."+f+"="+a.prototype[f].toString()}else e+=c}else n[u]=a}return e},zC=[],nEe=function(t){var e=[];for(var n in t)t[n].buffer&&e.push((t[n]=new t[n].constructor(t[n])).buffer);return e},rEe=function(t,e,n,r){if(!zC[n]){for(var i="",o={},s=t.length-1,a=0;a<s;++a)i=O4(t[a],i,o);zC[n]={c:O4(t[s],i,o),e:o}}var u=tEe({},zC[n].e);return Jwe(zC[n].c+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+e.toString()+"}",n,u,nEe(u),r)},iEe=function(){return[ei,Jf,F4,VO,WO,M4,GO,H4,B4,V4,QC,G4,Wm,KC,Mo,XC,W4,JC,Zr,z4,zO,Y4,K4]};var Y4=function(t){return postMessage(t,[t.buffer])},K4=function(t){return t&&{out:t.size&&new ei(t.size),dictionary:t.dictionary}},oEe=function(t,e,n,r,i,o){var s=rEe(n,r,i,function(a,u){s.terminate(),o(a,u)});return s.postMessage([t,e],e.consume?[t.buffer]:[]),function(){s.terminate()}};var xa=function(t,e){return t[e]|t[e+1]<<8},_s=function(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0},$O=function(t,e){return _s(t,e)+_s(t,e+4)*4294967296};function sEe(t,e,n){return n||(n=e,e={}),typeof n!="function"&&Zr(7),oEe(t,e,[iEe],function(r){return Y4(zO(r.data[0],K4(r.data[1])))},1,n)}function zO(t,e){return z4(t,{i:2},e&&e.out,e&&e.dictionary)}var BO=typeof TextDecoder<"u"&&new TextDecoder,aEe=0;try{BO.decode(eEe,{stream:!0}),aEe=1}catch{}var cEe=function(t){for(var e="",n=0;;){var r=t[n++],i=(r>127)+(r>223)+(r>239);if(n+i>t.length)return{s:e,r:JC(t,n-1)};i?i==3?(r=((r&15)<<18|(t[n++]&63)<<12|(t[n++]&63)<<6|t[n++]&63)-65536,e+=String.fromCharCode(55296|r>>10,56320|r&1023)):i&1?e+=String.fromCharCode((r&31)<<6|t[n++]&63):e+=String.fromCharCode((r&15)<<12|(t[n++]&63)<<6|t[n++]&63):e+=String.fromCharCode(r)}};function uEe(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}else{if(BO)return BO.decode(t);var i=cEe(t),o=i.s,n=i.r;return n.length&&Zr(8),o}}var lEe=function(t,e){return e+30+xa(t,e+26)+xa(t,e+28)},fEe=function(t,e,n){var r=xa(t,e+28),i=uEe(t.subarray(e+46,e+46+r),!(xa(t,e+8)&2048)),o=e+46+r,s=_s(t,e+20),a=n&&s==4294967295?dEe(t,o):[s,_s(t,e+24),_s(t,e+42)],u=a[0],c=a[1],l=a[2];return[xa(t,e+10),u,c,i,o+xa(t,e+30)+xa(t,e+32),l]},dEe=function(t,e){for(;xa(t,e)!=1;e+=4+xa(t,e+2));return[$O(t,e+12),$O(t,e+4),$O(t,e+20)]};var N4=typeof queueMicrotask=="function"?queueMicrotask:typeof setTimeout=="function"?setTimeout:function(t){t()};function X4(t,e,n){n||(n=e,e={}),typeof n!="function"&&Zr(7);var r=[],i=function(){for(var g=0;g<r.length;++g)r[g]()},o={},s=function(g,v){N4(function(){n(g,v)})};N4(function(){s=n});for(var a=t.length-22;_s(t,a)!=101010256;--a)if(!a||t.length-a>65558)return s(Zr(13,0,1),null),i;var u=xa(t,a+8);if(u){var c=u,l=_s(t,a+16),f=l==4294967295||c==65535;if(f){var d=_s(t,a-12);f=_s(t,d)==101075792,f&&(c=u=_s(t,d+32),l=_s(t,d+48))}for(var p=e&&e.filter,m=function(g){var v=fEe(t,l,f),x=v[0],y=v[1],w=v[2],_=v[3],T=v[4],P=v[5],E=lEe(t,P);l=T;var C=function(I,R){I?(i(),s(I,null)):(R&&(o[_]=R),--u||s(null,o))};if(!p||p({name:_,size:y,originalSize:w,compression:x}))if(!x)C(null,JC(t,E,E+y));else if(x==8){var S=t.subarray(E,E+y);if(y<32e4)try{C(null,zO(S,{out:new ei(w)}))}catch(I){C(I,null)}else r.push(sEe(S,{size:w},C))}else C(Zr(14,"unknown compression type "+x,1),null);else C(null,null)},h=0;h<c;++h)m(h)}else s(null,{});return i}var P7=B(B6());var eSe=B(require("path")),aL=require("string_decoder");var BS=B(require("path")),$Y=B(require("stream")),BY=B(require("os")),fh=B(require("child_process")),Ux=require("string_decoder");var DY=B(require("path")),kY=B(require("assert"));var V6;(()=>{"use strict";var t={470:i=>{function o(u){if(typeof u!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(u))}function s(u,c){for(var l,f="",d=0,p=-1,m=0,h=0;h<=u.length;++h){if(h<u.length)l=u.charCodeAt(h);else{if(l===47)break;l=47}if(l===47){if(!(p===h-1||m===1))if(p!==h-1&&m===2){if(f.length<2||d!==2||f.charCodeAt(f.length-1)!==46||f.charCodeAt(f.length-2)!==46){if(f.length>2){var g=f.lastIndexOf("/");if(g!==f.length-1){g===-1?(f="",d=0):d=(f=f.slice(0,g)).length-1-f.lastIndexOf("/"),p=h,m=0;continue}}else if(f.length===2||f.length===1){f="",d=0,p=h,m=0;continue}}c&&(f.length>0?f+="/..":f="..",d=2)}else f.length>0?f+="/"+u.slice(p+1,h):f=u.slice(p+1,h),d=h-p-1;p=h,m=0}else l===46&&m!==-1?++m:m=-1}return f}var a={resolve:function(){for(var u,c="",l=!1,f=arguments.length-1;f>=-1&&!l;f--){var d;f>=0?d=arguments[f]:(u===void 0&&(u=process.cwd()),d=u),o(d),d.length!==0&&(c=d+"/"+c,l=d.charCodeAt(0)===47)}return c=s(c,!l),l?c.length>0?"/"+c:"/":c.length>0?c:"."},normalize:function(u){if(o(u),u.length===0)return".";var c=u.charCodeAt(0)===47,l=u.charCodeAt(u.length-1)===47;return(u=s(u,!c)).length!==0||c||(u="."),u.length>0&&l&&(u+="/"),c?"/"+u:u},isAbsolute:function(u){return o(u),u.length>0&&u.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var u,c=0;c<arguments.length;++c){var l=arguments[c];o(l),l.length>0&&(u===void 0?u=l:u+="/"+l)}return u===void 0?".":a.normalize(u)},relative:function(u,c){if(o(u),o(c),u===c||(u=a.resolve(u))===(c=a.resolve(c)))return"";for(var l=1;l<u.length&&u.charCodeAt(l)===47;++l);for(var f=u.length,d=f-l,p=1;p<c.length&&c.charCodeAt(p)===47;++p);for(var m=c.length-p,h=d<m?d:m,g=-1,v=0;v<=h;++v){if(v===h){if(m>h){if(c.charCodeAt(p+v)===47)return c.slice(p+v+1);if(v===0)return c.slice(p+v)}else d>h&&(u.charCodeAt(l+v)===47?g=v:v===0&&(g=0));break}var x=u.charCodeAt(l+v);if(x!==c.charCodeAt(p+v))break;x===47&&(g=v)}var y="";for(v=l+g+1;v<=f;++v)v!==f&&u.charCodeAt(v)!==47||(y.length===0?y+="..":y+="/..");return y.length>0?y+c.slice(p+g):(p+=g,c.charCodeAt(p)===47&&++p,c.slice(p))},_makeLong:function(u){return u},dirname:function(u){if(o(u),u.length===0)return".";for(var c=u.charCodeAt(0),l=c===47,f=-1,d=!0,p=u.length-1;p>=1;--p)if((c=u.charCodeAt(p))===47){if(!d){f=p;break}}else d=!1;return f===-1?l?"/":".":l&&f===1?"//":u.slice(0,f)},basename:function(u,c){if(c!==void 0&&typeof c!="string")throw new TypeError('"ext" argument must be a string');o(u);var l,f=0,d=-1,p=!0;if(c!==void 0&&c.length>0&&c.length<=u.length){if(c.length===u.length&&c===u)return"";var m=c.length-1,h=-1;for(l=u.length-1;l>=0;--l){var g=u.charCodeAt(l);if(g===47){if(!p){f=l+1;break}}else h===-1&&(p=!1,h=l+1),m>=0&&(g===c.charCodeAt(m)?--m==-1&&(d=l):(m=-1,d=h))}return f===d?d=h:d===-1&&(d=u.length),u.slice(f,d)}for(l=u.length-1;l>=0;--l)if(u.charCodeAt(l)===47){if(!p){f=l+1;break}}else d===-1&&(p=!1,d=l+1);return d===-1?"":u.slice(f,d)},extname:function(u){o(u);for(var c=-1,l=0,f=-1,d=!0,p=0,m=u.length-1;m>=0;--m){var h=u.charCodeAt(m);if(h!==47)f===-1&&(d=!1,f=m+1),h===46?c===-1?c=m:p!==1&&(p=1):c!==-1&&(p=-1);else if(!d){l=m+1;break}}return c===-1||f===-1||p===0||p===1&&c===f-1&&c===l+1?"":u.slice(c,f)},format:function(u){if(u===null||typeof u!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof u);return function(c,l){var f=l.dir||l.root,d=l.base||(l.name||"")+(l.ext||"");return f?f===l.root?f+d:f+"/"+d:d}(0,u)},parse:function(u){o(u);var c={root:"",dir:"",base:"",ext:"",name:""};if(u.length===0)return c;var l,f=u.charCodeAt(0),d=f===47;d?(c.root="/",l=1):l=0;for(var p=-1,m=0,h=-1,g=!0,v=u.length-1,x=0;v>=l;--v)if((f=u.charCodeAt(v))!==47)h===-1&&(g=!1,h=v+1),f===46?p===-1?p=v:x!==1&&(x=1):p!==-1&&(x=-1);else if(!g){m=v+1;break}return p===-1||h===-1||x===0||x===1&&p===h-1&&p===m+1?h!==-1&&(c.base=c.name=m===0&&d?u.slice(1,h):u.slice(m,h)):(m===0&&d?(c.name=u.slice(1,p),c.base=u.slice(1,h)):(c.name=u.slice(m,p),c.base=u.slice(m,h)),c.ext=u.slice(p,h)),m>0?c.dir=u.slice(0,m-1):d&&(c.dir="/"),c},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a}},e={};function n(i){var o=e[i];if(o!==void 0)return o.exports;var s=e[i]={exports:{}};return t[i](s,s.exports,n),s.exports}n.d=(i,o)=>{for(var s in o)n.o(o,s)&&!n.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},n.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),n.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var r={};(()=>{var i;if(n.r(r),n.d(r,{URI:()=>g,Utils:()=>I}),typeof process=="object")i=process.platform==="win32";else if(typeof navigator=="object"){var o=navigator.userAgent;i=o.indexOf("Windows")>=0}var s,a,u=(s=function(O,M){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,W){j.__proto__=W}||function(j,W){for(var L in W)Object.prototype.hasOwnProperty.call(W,L)&&(j[L]=W[L])},s(O,M)},function(O,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function j(){this.constructor=O}s(O,M),O.prototype=M===null?Object.create(M):(j.prototype=M.prototype,new j)}),c=/^\w[\w\d+.-]*$/,l=/^\//,f=/^\/\//;function d(O,M){if(!O.scheme&&M)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(O.authority,'", path: "').concat(O.path,'", query: "').concat(O.query,'", fragment: "').concat(O.fragment,'"}'));if(O.scheme&&!c.test(O.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(O.path){if(O.authority){if(!l.test(O.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(f.test(O.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}var p="",m="/",h=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,g=function(){function O(M,j,W,L,H,$){$===void 0&&($=!1),typeof M=="object"?(this.scheme=M.scheme||p,this.authority=M.authority||p,this.path=M.path||p,this.query=M.query||p,this.fragment=M.fragment||p):(this.scheme=function(V,re){return V||re?V:"file"}(M,$),this.authority=j||p,this.path=function(V,re){switch(V){case"https":case"http":case"file":re?re[0]!==m&&(re=m+re):re=m}return re}(this.scheme,W||p),this.query=L||p,this.fragment=H||p,d(this,$))}return O.isUri=function(M){return M instanceof O||!!M&&typeof M.authority=="string"&&typeof M.fragment=="string"&&typeof M.path=="string"&&typeof M.query=="string"&&typeof M.scheme=="string"&&typeof M.fsPath=="string"&&typeof M.with=="function"&&typeof M.toString=="function"},Object.defineProperty(O.prototype,"fsPath",{get:function(){return T(this,!1)},enumerable:!1,configurable:!0}),O.prototype.with=function(M){if(!M)return this;var j=M.scheme,W=M.authority,L=M.path,H=M.query,$=M.fragment;return j===void 0?j=this.scheme:j===null&&(j=p),W===void 0?W=this.authority:W===null&&(W=p),L===void 0?L=this.path:L===null&&(L=p),H===void 0?H=this.query:H===null&&(H=p),$===void 0?$=this.fragment:$===null&&($=p),j===this.scheme&&W===this.authority&&L===this.path&&H===this.query&&$===this.fragment?this:new x(j,W,L,H,$)},O.parse=function(M,j){j===void 0&&(j=!1);var W=h.exec(M);return W?new x(W[2]||p,S(W[4]||p),S(W[5]||p),S(W[7]||p),S(W[9]||p),j):new x(p,p,p,p,p)},O.file=function(M){var j=p;if(i&&(M=M.replace(/\\/g,m)),M[0]===m&&M[1]===m){var W=M.indexOf(m,2);W===-1?(j=M.substring(2),M=m):(j=M.substring(2,W),M=M.substring(W)||m)}return new x("file",j,M,p,p)},O.from=function(M){var j=new x(M.scheme,M.authority,M.path,M.query,M.fragment);return d(j,!0),j},O.prototype.toString=function(M){return M===void 0&&(M=!1),P(this,M)},O.prototype.toJSON=function(){return this},O.revive=function(M){if(M){if(M instanceof O)return M;var j=new x(M);return j._formatted=M.external,j._fsPath=M._sep===v?M.fsPath:null,j}return M},O}(),v=i?1:void 0,x=function(O){function M(){var j=O!==null&&O.apply(this,arguments)||this;return j._formatted=null,j._fsPath=null,j}return u(M,O),Object.defineProperty(M.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=T(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),M.prototype.toString=function(j){return j===void 0&&(j=!1),j?P(this,!0):(this._formatted||(this._formatted=P(this,!1)),this._formatted)},M.prototype.toJSON=function(){var j={$mid:1};return this._fsPath&&(j.fsPath=this._fsPath,j._sep=v),this._formatted&&(j.external=this._formatted),this.path&&(j.path=this.path),this.scheme&&(j.scheme=this.scheme),this.authority&&(j.authority=this.authority),this.query&&(j.query=this.query),this.fragment&&(j.fragment=this.fragment),j},M}(g),y=((a={})[58]="%3A",a[47]="%2F",a[63]="%3F",a[35]="%23",a[91]="%5B",a[93]="%5D",a[64]="%40",a[33]="%21",a[36]="%24",a[38]="%26",a[39]="%27",a[40]="%28",a[41]="%29",a[42]="%2A",a[43]="%2B",a[44]="%2C",a[59]="%3B",a[61]="%3D",a[32]="%20",a);function w(O,M,j){for(var W=void 0,L=-1,H=0;H<O.length;H++){var $=O.charCodeAt(H);if($>=97&&$<=122||$>=65&&$<=90||$>=48&&$<=57||$===45||$===46||$===95||$===126||M&&$===47||j&&$===91||j&&$===93||j&&$===58)L!==-1&&(W+=encodeURIComponent(O.substring(L,H)),L=-1),W!==void 0&&(W+=O.charAt(H));else{W===void 0&&(W=O.substr(0,H));var V=y[$];V!==void 0?(L!==-1&&(W+=encodeURIComponent(O.substring(L,H)),L=-1),W+=V):L===-1&&(L=H)}}return L!==-1&&(W+=encodeURIComponent(O.substring(L))),W!==void 0?W:O}function _(O){for(var M=void 0,j=0;j<O.length;j++){var W=O.charCodeAt(j);W===35||W===63?(M===void 0&&(M=O.substr(0,j)),M+=y[W]):M!==void 0&&(M+=O[j])}return M!==void 0?M:O}function T(O,M){var j;return j=O.authority&&O.path.length>1&&O.scheme==="file"?"//".concat(O.authority).concat(O.path):O.path.charCodeAt(0)===47&&(O.path.charCodeAt(1)>=65&&O.path.charCodeAt(1)<=90||O.path.charCodeAt(1)>=97&&O.path.charCodeAt(1)<=122)&&O.path.charCodeAt(2)===58?M?O.path.substr(1):O.path[1].toLowerCase()+O.path.substr(2):O.path,i&&(j=j.replace(/\//g,"\\")),j}function P(O,M){var j=M?_:w,W="",L=O.scheme,H=O.authority,$=O.path,V=O.query,re=O.fragment;if(L&&(W+=L,W+=":"),(H||L==="file")&&(W+=m,W+=m),H){var ye=H.indexOf("@");if(ye!==-1){var Ce=H.substr(0,ye);H=H.substr(ye+1),(ye=Ce.lastIndexOf(":"))===-1?W+=j(Ce,!1,!1):(W+=j(Ce.substr(0,ye),!1,!1),W+=":",W+=j(Ce.substr(ye+1),!1,!0)),W+="@"}(ye=(H=H.toLowerCase()).lastIndexOf(":"))===-1?W+=j(H,!1,!0):(W+=j(H.substr(0,ye),!1,!0),W+=H.substr(ye))}if($){if($.length>=3&&$.charCodeAt(0)===47&&$.charCodeAt(2)===58)(Te=$.charCodeAt(1))>=65&&Te<=90&&($="/".concat(String.fromCharCode(Te+32),":").concat($.substr(3)));else if($.length>=2&&$.charCodeAt(1)===58){var Te;(Te=$.charCodeAt(0))>=65&&Te<=90&&($="".concat(String.fromCharCode(Te+32),":").concat($.substr(2)))}W+=j($,!0,!1)}return V&&(W+="?",W+=j(V,!1,!1)),re&&(W+="#",W+=M?re:w(re,!1,!1)),W}function E(O){try{return decodeURIComponent(O)}catch{return O.length>3?O.substr(0,3)+E(O.substr(3)):O}}var C=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function S(O){return O.match(C)?O.replace(C,function(M){return E(M)}):O}var I,R=n(470),D=function(O,M,j){if(j||arguments.length===2)for(var W,L=0,H=M.length;L<H;L++)!W&&L in M||(W||(W=Array.prototype.slice.call(M,0,L)),W[L]=M[L]);return O.concat(W||Array.prototype.slice.call(M))},A=R.posix||R,N="/";(function(O){O.joinPath=function(M){for(var j=[],W=1;W<arguments.length;W++)j[W-1]=arguments[W];return M.with({path:A.join.apply(A,D([M.path],j,!1))})},O.resolvePath=function(M){for(var j=[],W=1;W<arguments.length;W++)j[W-1]=arguments[W];var L=M.path,H=!1;L[0]!==N&&(L=N+L,H=!0);var $=A.resolve.apply(A,D([L],j,!1));return H&&$[0]===N&&!M.authority&&($=$.substring(1)),M.with({path:$})},O.dirname=function(M){if(M.path.length===0||M.path===N)return M;var j=A.dirname(M.path);return j.length===1&&j.charCodeAt(0)===46&&(j=""),M.with({path:j})},O.basename=function(M){return A.basename(M.path)},O.extname=function(M){return A.extname(M.path)}})(I||(I={}))})(),V6=r})();var{URI:xe,Utils:oo}=V6;var W6=B(require("path"));var Qu=B(Pr());function kt(t,e){if(Ex(e)){let n=t.dirname(e);return{isWorkspaceFile:!0,workspaceOrFolderPath:e,rootFolderPath:n,configFolderPath:n}}return{isWorkspaceFile:!1,workspaceOrFolderPath:e,rootFolderPath:e,configFolderPath:e}}function Ex(t){return W6.extname(t)===".code-workspace"}async function cS(t,e){if(e.isWorkspaceFile)try{let n=e.rootFolderPath,r=(await t.readFile(e.workspaceOrFolderPath)).toString(),o=Ye(r).folders;if(o&&o.length>0){for(let s of o){let a=s.path,u;if(a){if(t.path.isAbsolute(a))return Qu.t("Workspace contains an absolute folder path '{0}'.",a);u=t.path.resolve(n,a)}else{let c=s.uri;return c?xe.parse(c).scheme!=="file"?Qu.t("Workspace contains folder '{0}' not on the local file system.",c):Qu.t("Workspace contains an absolute folder path '{0}'.",c):Qu.t("Workspace contains a folder that defines neither a path nor a URI.")}if(!obe(t,u,n))return Qu.t("Folder '{0}' is not a subfolder of shared root folder '{1}'.",u,n)}return}return Qu.t("Workspace does not define any folders")}catch(n){return Qu.t("Problems loading workspace file {0}: {1}",e.workspaceOrFolderPath,n&&(n.message||n.toString()))}}function obe(t,e,n){return e===n?!0:!e||!n||n.length>e.length||e.length>n.length&&e.charAt(n.length)!==t.path.sep?!1:sbe(t.platform,n,e.substr(0,n.length))}function sbe(t,e,n){return t==="linux"?e===n:e.toLowerCase()===n.toLowerCase()}var vn=B(require("path")),IS=B(LC()),JN=B(require("crypto")),CS=B(_x()),SY=require("string_decoder");var ZN=B(Pr());var bx=B(require("path"));async function X5(t,e){let n=await RN(t,"agent-socket");if(!n){e.write("gpg-agent: No agent-socket found in container.");return}let r=await RN(t,"homedir");try{let{stdout:i}=await t.exec(`ls '${r}/private-keys-v1.d' 2>/dev/null`);if(i.trim()){e.write("gpg-agent: Private keys found in container, not forwarding.");return}}catch{}return n}async function Q5(t,e,n,r){let i=await K5(t,"agent-extra-socket",r);if(!i){r.write(`gpg-agent: No agent-extra-socket found on ${t.type} host.`);return}let o=(async()=>{await e.exec(`mkdir -p -m 700 '${bx.posix.dirname(n)}'`);let s=await K5(t,"homedir",r),a=await RN(e,"homedir");s&&a&&(await ad(t,e,t.path.join(s,"pubring.kbx"),bx.posix.join(a,"pubring.kbx"),"gpg"),await ad(t,e,t.path.join(s,"pubring.gpg"),bx.posix.join(a,"pubring.gpg"),"gpg"),await ad(t,e,t.path.join(s,"trustdb.gpg"),bx.posix.join(a,"trustdb.gpg"),"gpg")),await kbe(t,r)})();return{cliHost:t,remoteGpgSocket:n,localGpgSocket:i,ready:o}}async function K5(t,e,n){try{let{stdout:r}=await ae({exec:t.exec,cmd:"gpgconf",args:["--list-dir",e],output:n,print:!0}),i=r.toString().trim();if(i.indexOf(`
`)!==-1){let o=new RegExp(`^${e}:(.*)$`,"m").exec(i);o&&(i=o[1])}return t.platform==="win32"&&/^\/.\//.test(i)&&(i=`${i.charAt(1)}:${i.substr(2).replace(/\//g,"\\")}`),i}catch{return}}async function RN(t,e){try{let{stdout:n}=await t.exec(`gpgconf --list-dir ${e}`),r=n.trim();if(r.indexOf(`
`)!==-1){let i=new RegExp(`^${e}:(.*)$`,"m").exec(r);if(i)return i[1]}return r}catch{return}}async function kbe(t,e){try{await ae({exec:t.exec,cmd:"gpg-connect-agent",args:["updatestartuptty","/bye"],output:e})}catch{}}var e8=B(require("path"));async function Cx(t,e,n){if(!("exec"in t)){for(let r=e,i="";r!==i;i=r,r=t.path.dirname(r))if(await t.isFile(t.path.join(r,".git","config")))return r;return}try{let{stdout:r}=await ae({exec:t.exec,cmd:"git",args:["rev-parse","--show-cdup"],cwd:e,output:n}),i=r.toString().trim();return t.path.resolve(e,i)}catch{return}}async function AN(t,e,n,r){try{return await ae({exec:t.exec,cmd:"git",args:["ls-remote",e],cwd:".",env:n,output:r,print:"onerror"}),!0}catch(i){return(i==null?void 0:i.code)==="ENOENT"?void 0:!1}}async function t8(t,e,n,r,i){let o=r[1],s={get:"fill",store:"approve",erase:"reject"}[o];if(s===void 0)throw new Error(`Expected get, store or erase, got: ${o}`);let a=await J5(n?t:e,s,i).catch(u=>{if(n)throw u});return!n&&(a==null?void 0:a.code)!==0&&(a=await J5(t,s,i),a.code===0&&(n=!0)),{result:a,preferLocalCLIHost:n}}async function J5({exec:t},e,n){try{let{stdout:r,stderr:i}=await ae({exec:t,cmd:"git",args:["credential",e],env:{GIT_TERMINAL_PROMPT:"0"},stdin:Buffer.from(n),output:Re});return{stdout:r.toString(),stderr:i.toString(),code:0}}catch(r){if(!(r&&r.stdout&&r.stderr))throw r;let{stdout:i,stderr:o,code:s}=r;return{stdout:i.toString(),stderr:o.toString(),code:s||0}}}async function n8(t,e,n){let r=await DN(t,e,n);if(!r)return;r.startsWith("refs/")&&(r=r.substr(5)),r.startsWith("remotes/")&&(r=r.substr(8));let i=r.indexOf("/");if(i===-1)return;let o=r.substr(0,i),s=r.substr(i+1);try{let{stdout:a}=await ae({exec:t.exec,cmd:"git",args:["remote","get-url",o],cwd:e.rootFolderPath,output:n}),u=a.toString().trim();if(u.endsWith(".git")&&(u=u.substr(0,u.length-4)),u.startsWith("https://github.com/")){let c=await Fbe(t,e,o,n);if(c&&s!==c)return`${u}/tree/${s}`}return u}catch{return}}async function r8(t,e,n){if(!("exec"in t)){let i=await Cx(t,e.rootFolderPath,n);if(!i)return;try{return(await t.readFile(t.path.join(i,".git","config"))).toString().split(/^\[/m).filter(a=>a.startsWith("remote")).map(a=>(/^\s*url\s*=\s*(\S+)/m.exec(a)||[])[1]).filter(Boolean)}catch(o){if((o==null?void 0:o.code)!=="ENOENT")throw o;return[]}}let r;try{let{stdout:i}=await ae({exec:t.exec,cmd:"git",args:["remote","-v"],cwd:e.rootFolderPath,output:n});r=i.toString()}catch{return}return Array.from(new Set(Obe(/^[^\s]+\s+([^\s]+)/gm,r,1)))}function Obe(t,e,n){return{[Symbol.iterator]:function*(){let r;for(;r=t.exec(e);)yield r[n],t.lastIndex===r.index&&t.lastIndex++}}}async function i8(t,e,n){return await Nbe(t,e,n)||Lbe(t,e,n)}async function Nbe(t,e,n){try{let{stdout:r}=await ae({exec:t.exec,cmd:"git",args:["status","--porcelain"],cwd:e.rootFolderPath,output:n});return!!r.toString().trim()}catch{return}}async function Lbe(t,e,n){let r=await DN(t,e,n);if(r)try{let{stdout:i}=await ae({exec:t.exec,cmd:"git",args:["log",`${r}..HEAD`],cwd:e.rootFolderPath,output:n});return!!i.toString().trim()}catch{return}}async function o8(t,e,n,r){let i=await DN(t,e,r);if(!i)return!1;try{let o=t.platform==="win32"?n.replace(/\\/g,"/"):n;return await ae({exec:t.exec,cmd:"git",args:["cat-file","-e",`${i}:${o}`],cwd:e.rootFolderPath,output:r}),!0}catch{return!1}}async function DN(t,e,n){try{let{stdout:r}=await ae({exec:t.exec,cmd:"git",args:["rev-parse","--abbrev-ref","--symbolic-full-name","@{u}"],cwd:e.rootFolderPath,output:n});return r.toString().trim()}catch{return}}async function Fbe(t,e,n,r){try{let{stdout:i}=await ae({exec:t.exec,cmd:"git",args:["remote","show",n],cwd:e.rootFolderPath,output:r});return(i.toString().match(/^\s*HEAD branch:\s*(.*)$/m)||[])[1]}catch{return}}async function s8(t,e,n,r,i,o){let{extensionPath:s}=t;if(await e.isFolder(e.path.join(n,".git")))return{gitClone:void 0,gitUnshallow:void 0};await e.mkdirp(n);let a=r.tokenEnvVar?{...r.env,GIT_ASKPASS:e.path.join(s,"scripts","gitAskPass.sh"),GIT_TOKEN:e.env[r.tokenEnvVar]}:r.env,u=[];r.fullClone||u.push("--depth","1"),r.branch&&u.push("--branch",r.branch),r.recurseSubmodules&&u.push("--recurse-submodules");let c=Pc({ptyExec:e.ptyExec,cmd:"git",args:["clone",...u,r.url,"."],cwd:n,env:a,output:Xr(i,3)}),l=r.fullClone?c:(async()=>(await c,await Pc({ptyExec:e.ptyExec,cmd:"git",args:["config","remote.origin.fetch","+refs/heads/*:refs/remotes/origin/*"],cwd:n,env:a,output:o}),Pc({ptyExec:e.ptyExec,cmd:"git",args:["fetch","--unshallow","--tags"],cwd:n,env:a,output:o})))();return{gitClone:c,gitUnshallow:l}}async function dS(t,e,n){await Sx(t,e,[".gitconfig"],"git"),await Mbe(t,e,n),await Ube(t,e.shellServer)}var a8=["git","config"];async function Mbe(t,e,n){let{cliHost:r}=t,i=await Z5(r);if(!await r.isFile(i)&&(r.type==="local"||(r=await Ss(process.cwd(),t.loadNativeModule,t.output),i=await Z5(r),!await r.isFile(i))))return;let o=(async()=>{let s=await n,a=s.XDG_CONFIG_HOME?[s.XDG_CONFIG_HOME]:[e.homeFolder,".config"];return e8.posix.join(...a,...a8)})();await ad(r,e.shellServer,i,o,"git")}async function Z5(t){let{env:e}=t,n=e.XDG_CONFIG_HOME?[e.XDG_CONFIG_HOME]:[await t.homedir(),".config"];return t.path.join(...n,...a8)}async function Ube(t,e){await e.exec(`# Cleaning up git config
for key in core.editor core.sshCommand gpg.program
do
	value="$(git config --global --get $key)"
	executable="\${value%% *}"
	([ -z "$executable" ] || [ "$executable" = "${t.product.applicationName}" ]) && continue
	command -v "$executable" >/dev/null 2>&1 || (echo "Removing Git config key: $key = $value" && git config --global --unset $key)
done
git config --global --unset http.sslBackend || true`)}var Zu=require("stream");async function c8(t,e){let{stdout:n}=await t.exec(`cat /proc/${e}/environ`,{logOutput:!1});return n.split("\0").map(r=>{let i=r.indexOf("=");return i!==-1?[r.slice(0,i),r.slice(i+1)]:[]}).reduce((r,[i,o])=>(i&&(r[i]=o),r),{})}async function kN(t){let e=`for pid in \`cd /proc && ls -d [0-9]*\`; do { echo $pid ; readlink /proc/$pid/cwd || echo ; readlink /proc/$pid/ns/mnt || echo ; cat /proc/$pid/stat | tr "
" " " ; echo ; cat /proc/$pid/environ | tr "
" " " ; echo ; cat < /proc/$pid/cmdline | tr "
" " " ; echo ; } ; echo --- ; done ; readlink /proc/self/ns/mnt 2>/dev/null`,{stdout:n}=await t.exec(e,{logOutput:!1}),r=6,i=n.split(`
---
`),o=i.pop().trim();return{processes:i.map(a=>a.split(`
`)).filter(a=>a.length>=r).map(([a,u,c,l,f,d])=>{let p=/.*\) [^ ]* ([^ ]*) ([^ ]*)/.exec(l)||[];return{pid:a,ppid:p[1],pgrp:p[2],cwd:u,mntNS:c,cmd:d.replace(/\0/g," "),env:f.split("\0").reduce((m,h)=>{let g=h.indexOf("=");return g!==-1&&(m[h.substr(0,g)]=h.substr(g+1)),m},{})}}),mntNS:o}}function u8(t){let e={};return t.forEach(n=>e[n.pid]={process:n,childProcesses:[]}),t.filter(n=>n.ppid).forEach(n=>{var r;return(r=e[n.ppid])==null?void 0:r.childProcesses.push(e[n.pid])}),e}function ON(t,e="  ",n="  "){return`${n}${t.process.pid}: ${t.process.cmd}
${t.childProcesses.map(r=>ON(r,e,n+e))}`}var Uo=B(require("path")),p8=B(require("fs"));async function qo(t,e=process.cwd(),n=process.env){if(process.platform!=="win32")return t;if(Uo.isAbsolute(t))return await NN(t)||t;if(/[/\\]/.test(t)){let s=Uo.join(e,t);return await NN(s)||s}let r,i;if(n){for(let s of Object.keys(n))if(s.toLowerCase()==="path"){let a=n[s];typeof a=="string"&&(r=a,i=a.split(Uo.delimiter).filter(Boolean),i.push(Uo.join(n.ProgramW6432||"C:\\Program Files","Docker\\Docker\\resources\\bin")));break}}if(i===void 0||i.length===0){let s=new Error(`No PATH to look up executable '${t}'.`);throw s.code="ENOENT",s}for(let s of i){let a;Uo.isAbsolute(s)?a=Uo.join(s,t):a=Uo.join(e,s,t);let u=await NN(a);if(u)return u}let o=new Error(`Exectuable '${t}' not found on PATH '${r}'.`);throw o.code="ENOENT",o}var l8=process.env.PATHEXT,f8=l8?l8.toLowerCase().split(";"):[".com",".exe",".bat",".cmd"];async function NN(t){if(f8.indexOf(Uo.extname(t))!==-1)return await d8(t)?t:void 0;for(let e of f8){let n=t+e;if(await d8(n))return n}}function d8(t){return new Promise(e=>p8.stat(t,(n,r)=>e(!n&&r.isFile())))}var LN="dev-containers-",m8="credentials not found in native keychain";async function v8(t,e,n,r,i,o){let s=await h8(n?t:e,r,i,o).catch(a=>{if(n)throw a});return!n&&(s==null?void 0:s.code)!==0&&(s=await h8(t,r,i,o),s.code===0&&(n=!0)),{result:s,preferLocalCLIHost:n}}async function h8(t,e,n,r){let i,o=e[1];try{let s=o==="store"?JSON.parse(n).ServerURL:n.trim(),a=await qbe(t,s,r);if(!a)return{stdout:o==="get"?m8:"Docker credential helper not found.",stderr:"",code:1};if("identitytoken"in a)return o!=="get"?{stdout:`Docker credential command not supported without credential helper: ${o}.`,stderr:"",code:1}:{stdout:JSON.stringify({ServerURL:s,Username:"<token>",Secret:a.identitytoken}),stderr:"",code:0};if("auth"in a){if(o!=="get")return{stdout:`Docker credential command not supported without credential helper: ${o}.`,stderr:"",code:1};let[l,f]=Buffer.from(a.auth,"base64").toString().split(":");return{stdout:JSON.stringify({ServerURL:s,Username:l,Secret:f}),stderr:"",code:0}}i=`docker-credential-${a.helper}`;let{stdout:u,stderr:c}=await ae({exec:t.exec,cmd:i,args:e.slice(1),stdin:Buffer.from(n),output:Re});return{stdout:u.toString(),stderr:c.toString(),code:0}}catch(s){if(i&&((s==null?void 0:s.code)==="ENOENT"||(s==null?void 0:s.code)==="EPIPE"))return{stdout:o==="get"?m8:`Docker credential helper '${i}' not found: ${(s==null?void 0:s.message)||String(s)}.`,stderr:"",code:1};if(!(s&&s.stdout&&s.stderr))throw s;let{stdout:a,stderr:u,code:c}=s;return{stdout:a.toString(),stderr:u.toString(),code:c||0}}}async function qbe(t,e,n){var i,o,s,a,u;n.write(`Looking up Docker credential helper for '${e}'.`);try{let c=Ye((await t.readFile(t.path.join(await t.homedir(),".docker","config.json"))).toString()),l=xe.parse(e).authority||e,f=(i=c==null?void 0:c.credHelpers)==null?void 0:i[l];if(f)return{helper:f};let d=(s=(o=c==null?void 0:c.auths)==null?void 0:o[e])==null?void 0:s.identitytoken;if(d)return{identitytoken:d};let p=(u=(a=c==null?void 0:c.auths)==null?void 0:a[e])==null?void 0:u.auth;if(p)return{auth:p};if(c!=null&&c.credsStore)return{helper:c.credsStore}}catch(c){(c==null?void 0:c.code)!=="ENOENT"&&n.write(`Error reading Docker config: ${(c==null?void 0:c.message)||String(c)}.`)}let r=await y8(t);return r?{helper:r}:void 0}async function FN(t,e){let n=t.path.join(await t.homedir(),".docker","config.json");try{let r=await t.readFile(n),i=Ye(r.toString());return!!(i!=null&&i.credsStore)||Object.keys((i==null?void 0:i.credHelpers)||{}).some(o=>{var s;return(s=i==null?void 0:i.credHelpers)==null?void 0:s[o]})||Object.keys((i==null?void 0:i.auths)||{}).some(o=>{var s,a;return(a=(s=i==null?void 0:i.auths)==null?void 0:s[o])==null?void 0:a.auth})||g8(t)}catch(r){return(r==null?void 0:r.code)!=="ENOENT"?(e.write(`Error reading Docker config (${n}): ${(r==null?void 0:r.stack)||(r==null?void 0:r.message)||String(r)}.`),!1):g8(t)}}async function g8(t){let e=await y8(t);return!!e&&await jbe(t,`docker-credential-${e}`)}async function y8(t){if(t.platform==="darwin")return"osxkeychain";if(t.platform==="win32")return"wincred";if(t.platform==="linux")try{return await ae({exec:t.exec,cmd:"/bin/sh",args:["-c","command -v docker-credential-pass >/dev/null 2>&1"],output:Re}),"pass"}catch{return"secretservice"}}async function jbe(t,e){try{return t.platform==="win32"?!!await qo(e,t.cwd,t.env):(await ae({exec:t.exec,cmd:"/bin/sh",args:["-c",`command -v '${e}' >/dev/null 2>&1`],output:Re}),!0)}catch{return!1}}function Ju(t){return`remote.containers.${t}`}function Rc(t){return`dev.containers.${t}`}var UN=B(require("path"));var Hbe=B(require("http")),$be=B(require("https"));function MN(t,e={}){return new Promise((n,r)=>{let i=t.startsWith("https:")?$be:Hbe,o;if(Object.keys(e).length>0){let a=new URL(t);o={headers:e,host:a.host,path:a.pathname}}i.get(o??t,a=>{var u;if(a.statusCode<200||a.statusCode>299){if(a.statusCode===302){let c=(u=a.headers)==null?void 0:u.location;c&&n(MN(c,e))}r(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`))}else{a.on("error",r);let c=[];a.on("data",l=>c.push(l)),a.on("end",()=>n(Buffer.concat(c)))}}).on("error",r)})}async function Fr(t){let e=await st(UN.join(t,"package.json"),"utf8");return JSON.parse(e)}async function Tx(t){let e=await st(UN.join(t,"product.json"),"utf8"),n=JSON.parse(e);return n.commit||(n.commit=await Ix(n.quality)),n.serverDataFolderName||(n.serverDataFolderName=".vscode-server-oss"),n}async function Ix(t="insider"){let e=`https://update.code.visualstudio.com/api/update/server-linux-x64/${t}/latest`,n=await MN(e);return JSON.parse(n.toString()).version}function pS(t){return["bin",t.serverApplicationName]}var RCe=hY(),bY=_S(),QN=wY(),ACe=_Y();async function PS(t,e,n){var N,O,M,j,W,L;let{cliHost:r,wslCLIHost:i,output:o}=t,{shellServer:s,launchRootShellServer:a}=e,u="Launching Dev Containers helper.",c=o.start(u);if(el)return o.stop(u,c),{remoteEnv:{},ready:Promise.resolve(),reconnect:()=>Promise.resolve()};let l=[r];r.type!=="local"&&l.push(await Ss(process.cwd(),t.loadNativeModule,o)),r.type!=="wsl"&&i&&l.push(i);let f=JN.randomUUID(),d={},p=CY(l,H=>qCe(H,o)),m=p?vn.posix.join(((N=e.env)==null?void 0:N.TMPDIR)||"/tmp",`vscode-ssh-auth-${f}.sock`):void 0;p&&(d[m]=p,o.write(`ssh-agent: SSH_AUTH_SOCK in container (${m}) forwarded to ${p.cliHost.type} host (${p.unparsed}).`));let h=CY(l,H=>jCe(H,o)),g=-1,v;if(h)do v=vn.posix.join(((O=e.env)==null?void 0:O.TMPDIR)||"/tmp",".X11-unix",`X${++g}`);while(await OCe(s,v));let x=h?`:${g}`:void 0;h&&(await s.exec(`mkdir -p '${vn.posix.dirname(v)}'`),d[v]=h,o.write(`X11 forwarding: DISPLAY in container (${x}) forwarded to ${h.cliHost.type} host (${h.unparsed}).`));let y=await X5(e.shellServer,o),w=y?await DCe(l,H=>Q5(H,e.shellServer,y,o)):void 0;w&&(d[w.remoteGpgSocket]={name:"gpg-agent",unparsed:w.localGpgSocket,cliHost:w.cliHost,connectTo:{socketPath:w.localGpgSocket}},o.write(`gpg-agent: Socket in container (${w.remoteGpgSocket}) forwarded to ${w.cliHost.type} host (${w.localGpgSocket}).`));let _=vn.posix.join(((M=e.env)==null?void 0:M.TMPDIR)||"/tmp",`vscode-remote-containers-ipc-${f}.sock`),T=vn.posix.join(((j=e.env)==null?void 0:j.TMPDIR)||"/tmp",`vscode-remote-containers-server-${f}.js`),P=vn.posix.join(((W=e.env)==null?void 0:W.TMPDIR)||"/tmp",`vscode-remote-containers-${f}.js`),C=((n==null?void 0:n.getNewConfiguration("dockerCredentialHelper"))??t.isDockerCredentialHelperEnabled)&&a&&await kCe(s,"docker")?vn.posix.join("/usr/local/bin",`docker-credential-${LN}${f}`):void 0,S=l.find(H=>H.type==="local"),I=TY(t,e,"Container",void 0,!1,!1,T,P,C,d,_,S),R=I.then(H=>H.ready),D=I.then(H=>H.mrpcExec),A=I.then(H=>H.mrpcPtyExec);return R.catch(console.error),t.onAdoptProcess(H=>HCe(e.shellServer,_,m,v,H).catch(console.error)),o.stop(u,c),{remoteContainersCLI:P,remoteEnv:{REMOTE_CONTAINERS_IPC:_,...m?{SSH_AUTH_SOCK:m}:void 0,...x&&!((L=e.env)!=null&&L.DISPLAY)?{DISPLAY:x}:void 0,...v?{REMOTE_CONTAINERS_DISPLAY_SOCK:v}:void 0},mrpcExec:D,mrpcPtyExec:A,ready:R,reconnect:()=>I.then(H=>H.reconnect())}}function CY(t,e){for(let n of t){let r=e(n);if(r)return r}}async function DCe(t,e){for(let n of t){let r=await e(n);if(r)return r}}async function kCe(t,e){try{return await t.exec(`command -v ${e} >/dev/null 2>&1`),!0}catch{return!1}}async function OCe(t,e){try{return await t.exec(`test -e ${e}`),!0}catch{return!1}}async function kx(t,e,n,r,i){let{passwdUser:o,homeFolder:s,nodeExecutable:a,mrpcExec:u,mrpcPtyExec:c,setBaseEnv:l,connect:f,reconnect:d,terminate:p}=await TY(t,{remoteExec:e,platform:i},"Host",n,!0,r,void 0);return{passwdUser:o,homeFolder:s,nodeExecutable:a,exec:u,ptyExec:c,setBaseEnv:l,connect:f,reconnect:d,terminate:p}}async function TY(t,e,n,r,i,o,s,a,u,c,l,f){let{cliHost:d,product:p,output:m}=t,{remoteExec:h,platform:g,nodeExecutable:v,launchRootShellServer:x}=e,y=a&&st(vn.join(t.extensionPath,"dist","common","remoteContainersCLI.js"),{encoding:"utf8"}),w=st(vn.join(t.extensionPath,"dist","common","remoteContainersServer.js"),{encoding:"utf8"}),_=await Bn(h,m,void 0,g,n),T=i?await ld(_,await ud(_)):void 0,P=(await _.exec({posix:"echo ~",win32:"echo $env:userprofile"})).stdout.trim().split(`
`)[0],E=!0;if(!v||!s){let R=_.path.join(P,".vscode-remote-containers");v||(v=await $Ce(t,_,R,P,p,o)),s||(s=_.path.join(R,"dist",`vscode-remote-containers-server-${t.package.version}.js`),await RS(_,s)?E=!1:await _.exec(`mkdir -p '${_.path.dirname(s)}'`))}if(a){let R=`EOF-${a}`;await _.exec(`cat <<'${R}' >${a}
${await y}
${R}
`)}if(u&&x&&((d==null?void 0:d.type)!=="local"&&f&&await FN(f,m)||d&&await FN(d,m))){let R=(await _.exec(`cat ~/.docker/config.json || echo "{
}"`)).stdout,D=Ye(R);if(!(D!=null&&D.credsStore)||D.credsStore.startsWith(LN)){let A=await x(),N=`EOF-${u}`;await A.exec(`mkdir -p ${vn.posix.dirname(u)} && cat <<'${N}' >${u}
#!/bin/sh
${v} ${a} docker-credential-helper $@
${N}
`),await A.exec(`chmod +x ${u}`);let O=Pn(R,["credsStore"],vn.posix.basename(u).substring(18),{formattingOptions:{}}),M=yi(R,O);await _.exec(`mkdir -p ~/.docker && cat <<'${N}' >~/.docker/config.json
${M}
${N}
`)}}if(E){let R=`EOF-${s}`,D=`${s}_${Date.now()}`;await _.exec(`cat <<'${R}' >${D}
${await w}
${R}
mv ${D} ${s}`)}let C=()=>NCe(t,n,_,v,s,c,l,f),S=await C(),I;return{ready:S.ready,passwdUser:T,nodeExecutable:v,homeFolder:P,mrpcExec:FCe(()=>S.mrpc,n,r||P),mrpcPtyExec:MCe(()=>S.mrpc,n,r||P),mrpcExecToEnd:UCe(()=>S.mrpc,n,r||P),setBaseEnv:R=>new Promise((D,A)=>{I=R,S.mrpc.setBaseEnv(R,N=>N?A(N):D())}),connect:S.mrpc.connect,reconnect:async()=>{let R=`${n}: Reconnecting exec server`,D=m.start(R);await S.process.terminate().catch(()=>{}),_=await Bn(h,m,void 0,void 0,n),S=await C(),I&&await new Promise((A,N)=>{S.mrpc.setBaseEnv(I,O=>O?N(O):A())}),m.stop(R,D)},terminate:()=>S.process.terminate()}}async function NCe(t,e,n,r,i,o,s,a){let{cliHost:u,output:c}=t,l=Object.keys(o||{}),f={...l.reduce((P,E)=>(P[E]="duplex",P),{}),rpc:"async",connected:"async",ready:"async"},d={exec:"async",stdin:"sink",stdout:"source",stderr:"source",exit:"async",terminate:"async",dispose:"async",ptyExec:"async",ptyIn:"sink",ptyOut:"source",ptyResize:"async",ptyExit:"async",ptyTerminate:"async",ptyDispose:"async",execToEnd:"async",setBaseEnv:"async",connect:"duplex"},p=n.process,m=`set -e ; echo -n ${so} >&2 ; ${s?`rm -f '${s}' ; `:""}REMOTE_CONTAINERS_SOCKETS='${JSON.stringify(l)}' REMOTE_CONTAINERS_IPC='${s||""}' '${r}' '${i}'
`;p.stdin.write(m);let h,g=new Promise(P=>h=P),v=new SY.StringDecoder;p.stderr.on("data",P=>{let E=v.write(P).replace(/^.*DeprecationWarning: Buffer\(\) is deprecated.*$\r?\n?/mg,"").trim();if(h){let C=E.indexOf(so);C!==-1&&(h(),h=void 0,E=E.substr(0,C)+E.substr(C+1))}E&&c.write(pt(`${e} server: ${E}`))}),p.exit.then(({code:P,signal:E})=>{c.write(`${e} server terminated (code: ${P}, signal: ${E}).`)},P=>{c.write(`${e} server did not launch or terminated: ${(P==null?void 0:P.stack)||(P==null?void 0:P.message)||String(P)}`)});let x=(u==null?void 0:u.type)==="local",y={git:x,docker:x},w,_=new Promise(P=>w=P),T=RCe(d,f)({...l.reduce((P,E)=>{let C=o[E];return P[E]=LCe(t,C),P},{}),rpc:async(P,E)=>{try{let{args:C,stdin:S}=JSON.parse(P);if(C[0]==="git-credential-helper"){let I=await t8(a,u,y.git,C,S);y.git=I.preferLocalCLIHost,E(void 0,JSON.stringify(I.result))}else if(C[0]==="docker-credential-helper"){let I=await v8(a,u,y.docker,C,S,c);y.docker=I.preferLocalCLIHost,E(void 0,JSON.stringify(I.result))}}catch(C){console.error(C),E(C)}},connected:P=>{P()},ready:P=>{w(),P()}});return(0,CS.default)(bY.source(p.stdout),T.createStream(),bY.sink(p.stdin)),await Promise.race([g,p.exit.then(({code:P,signal:E})=>{throw new Error(`${e} server terminated (code: ${P}, signal: ${E}).`)})]),{ready:_,mrpc:T,process:p}}function LCe(t,e){let{sendTelemetryEvent:n,output:r}=t,i=!1;function o(s){if(!i&&s instanceof Error&&s.code==="ENOENT"&&(i=!0,r.event({type:"notification",message:ZN.t("Could not connect to {0} on {1} host ({2}). Make sure the service is running.",e.name,e.cliHost.type,e.unparsed)}),n)){let a={serviceName:e.name,hostType:e.cliHost.type,hostPlatform:e.cliHost.platform},u=e.cliHost.authority;if(u){let c=u.indexOf("+");c!==-1&&(a.hostAuthority=u.substring(0,c))}n("serviceConnectionFailure",a)}}return()=>{let s=e.cliHost.connect(e.connectTo);return{sink:a=>{s.sink((u,c)=>{o(u),a(u,c)})},source:(a,u)=>{s.source(a,(c,l)=>{o(c),u(c,l)})}}}}function FCe(t,e,n){return async r=>{let{cmd:i,args:o,cwd:s,env:a,output:u}=r,c=`Run in ${e}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,l=u.start(c),f=t(),d=await new Promise((p,m)=>{f.exec({cmd:i,args:o,cwd:s||n,env:a},(h,g)=>{h?m(h):p(g)})});return{stdin:QN.sink(f.stdin(d,p=>{p&&p.message!=="unexpected end of parent stream"&&console.error(p)})),stdout:QN.source(f.stdout(d)),stderr:QN.source(f.stderr(d)),exit:new Promise((p,m)=>{f.exit(d,(h,g)=>{var v;u.stop(c,l),h?((v=h.message)!=null&&v.endsWith("ENOENT")&&!h.code&&(h.code="ENOENT"),m(h)):p(g)})}),terminate:async()=>new Promise((p,m)=>{f.terminate(d,h=>{h?m(h):p()})})}}}function MCe(t,e,n){return async r=>{let{cmd:i,args:o,cwd:s,env:a,output:u}=r,c=`Run in ${e}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,l=u.start(c),f=t(),d=await new Promise((g,v)=>{var x,y;f.ptyExec({cmd:i,args:o,cwd:s||n,env:a,rows:(x=u.dimensions)==null?void 0:x.rows,cols:(y=u.dimensions)==null?void 0:y.columns},(w,_)=>{w?v(w):g(_)})}),p=[u.onDidChangeDimensions&&u.onDidChangeDimensions(g=>f.ptyResize(d,g.columns,g.rows))],m=ACe();(0,CS.default)(m,f.ptyIn(d,g=>{g&&g.message!=="unexpected end of parent stream"&&console.error(g)}));let h=new fa;return(0,CS.default)(f.ptyOut(d),g=>{g(null,function v(x,y){if(x!==!0){if(x)throw x;h.fire(y),g(null,v)}})}),{write:g=>m.push(g),onData:h.event,resize:(g,v)=>f.ptyResize(d,g,v),exit:new Promise((g,v)=>{f.ptyExit(d,(x,y)=>{p.forEach(w=>w==null?void 0:w.dispose()),u.stop(c,l),x?v(x):g(y)})}),terminate:async()=>new Promise((g,v)=>{f.ptyTerminate(d,x=>{x?v(x):g()})})}}}function UCe(t,e,n){return async r=>{let{cmd:i,args:o,cwd:s,env:a,output:u}=r,c=`Run in ${e}: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,l=u.start(c),f=t();return new Promise((d,p)=>{f.execToEnd({cmd:i,args:o,cwd:s||n,env:a},(m,h)=>{if(u.stop(c,l),m||!h)p({stdin:new Zu.Writable,stdout:Zu.Readable.from([]),stderr:Zu.Readable.from([]),exit:Promise.reject(m),terminate:async()=>{}});else{let g=Zu.Readable.from([Buffer.from(h.stdout.data)]),v=new Promise(w=>g.on("end",w)),x=Zu.Readable.from([Buffer.from(h.stderr.data)]),y=new Promise(w=>x.on("end",w));d({stdin:new Zu.Writable,stdout:g,stderr:x,exit:Promise.all([v,y]).then(()=>({code:h.code,signal:h.signal})),terminate:async()=>{}})}})})}}var SS="\\\\.\\pipe\\openssh-ssh-agent";function qCe(t,e){let n=t.env.SSH_AUTH_SOCK;if(n)return{name:"ssh-agent",unparsed:n,cliHost:t,connectTo:{socketPath:n}};if(e.write(`ssh-agent: SSH_AUTH_SOCK not set on ${t.type} host.`),t.platform==="win32")return{name:"ssh-agent",unparsed:SS,cliHost:t,connectTo:{socketPath:SS}}}function jCe(t,e){let n=t.env.DISPLAY,r=n==null?void 0:n.match(/^(?<hostOrPath>[^:]+)?:(?<display>\d+)(?:\.(?<screen>\d+))?$/);if(r!=null&&r.groups){let{hostOrPath:i,display:o}=r.groups,s=ZN.t("X11 display");return!i||i==="localhost/unix"?{name:s,unparsed:n,cliHost:t,connectTo:{socketPath:`/tmp/.X11-unix/X${o}`}}:i.startsWith("/")?{name:s,unparsed:n,cliHost:t,connectTo:{socketPath:`${i}:${o}`}}:{name:s,unparsed:n,cliHost:t,connectTo:{host:i,port:6e3+parseInt(o,10)}}}n?e.write(`X11 forwarding: DISPLAY value on ${t.type} host not supported (${n}).`):e.write(`X11 forwarding: DISPLAY not set on ${t.type} host.`)}async function eL(t){let e=t.env.WAYLAND_DISPLAY,n=t.env.XDG_RUNTIME_DIR,r=e&&t.path.isAbsolute(e)?e:e&&n&&t.path.join(n,e),i=n&&t.path.join(n,"wayland-0"),o=r||i;if(o&&await t.isSocket(o))return o}async function IY(t){let e=JN.randomUUID();return vn.posix.join((t==null?void 0:t.TMPDIR)||"/tmp",`vscode-wayland-${e}.sock`)}async function PY(t,e){let{shellServer:n,remoteWaylandSocket:r}=t;if(!r||e.WAYLAND_DISPLAY)return{};let i=e.XDG_RUNTIME_DIR;i||(i=(await n.exec('umask 077 && XRD="/tmp/user/$(id -u)" && mkdir -p $XRD && echo $XRD')).stdout.trim());let o=vn.posix.basename(r);return await n.exec(`test -e ${i}/${o} || ln -sf ${r} ${i}/${o}`),i===e.XDG_RUNTIME_DIR?{WAYLAND_DISPLAY:o}:{XDG_RUNTIME_DIR:i,WAYLAND_DISPLAY:o}}var ih=new Set;async function HCe(t,e,n,r,i){let o=await i.processId;if(o&&o>0){let s=await c8(t,o),a=s.REMOTE_CONTAINERS_IPC;a&&a!==e&&!ih.has(a)&&a.indexOf("vscode-remote-containers-ipc")!==-1&&(ih.add(a),await t.exec(`rm '${a}' && ln -s '${e}' '${a}'`));let u=s.SSH_AUTH_SOCK;u&&n&&u!==n&&!ih.has(u)&&u.indexOf("vscode-ssh-auth")!==-1&&(ih.add(u),await t.exec(`rm '${u}' && ln -s '${n}' '${u}'`));let c=s.REMOTE_CONTAINERS_DISPLAY_SOCK;c&&r&&c!==r&&!ih.has(c)&&(ih.add(c),await t.exec(`rm '${c}' && ln -s '${r}' '${c}'`))}}async function $Ce(t,e,n,r,i,o){let s=(i==null?void 0:i.commit)||await Ix(i==null?void 0:i.quality),a=i!=null&&i.commit?i.quality||"insider":"stable",{localCacheFolder:u,output:c,alternateDownload:l}=t,f=vn.posix.join(n,"bin",s),d=vn.posix.join(f,"node");try{await e.exec(`test -x '${d}'`)}catch{if(i)try{let v=vn.posix.join(Ox(vn.posix,r,i),"bin",s),x=vn.posix.join(v,"node");await e.exec(`test -x '${x}'`);let y=vn.posix.join(v,"node_modules","node-pty","package.json");return await e.exec(`test -f '${y}'`),x}catch{}let p;if((await e.exec("uname -s")).stdout.trim().split(`
`)[0]==="Darwin")p=(await e.exec("uname -m")).stdout.trim()==="arm64"?TS.arm64:TS.x64;else{let v=await tL(e);p=AS(v,!1)}let h={localCacheFolder:u,build:p,commit:s,quality:a,web:!1,output:c,alternateDownload:l},g=oh(h);if(await fr(g)||await Nx(h),p.id==="darwin")await Ax({output:c},e,g,f,o);else{let v=[];await IS.t({file:g,filter:y=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(y),onentry:y=>{new IS.WriteEntry.Tar(y).on("data",_=>v.push(_))}});let x=Buffer.concat(v);await Ax({output:c},e,x,f,o,!1)}}return d}var Lx=B(require("net"));var Fx=_S(),nL=t=>{if("port"in t)return Fx.duplex(Lx.connect(t.port,t.host));let e=t.socketPath;if(process.platform!=="win32"||e.startsWith("\\\\.\\pipe\\"))return Fx.duplex(Lx.connect(e));let n=new Lx.Socket;return WCe(n,e)};function BCe(t){let e=[];return t.split("-").map(n=>{let r=n.match(/.{2}/g);r!==null&&r.reverse().map(i=>{e.push(parseInt(i,16))})}),Buffer.from(e)}function VCe(t,e,n){return e||n===void 0?{headerSize:t,err:e}:t===0?{headerSize:t,data:n}:n.length>t?(n=n.slice(t,n.length),t=0,{headerSize:t,data:n}):(t=t-n.length,{headerSize:t})}function WCe(t,e){let n=0,r=[],i=[],o,s=l=>{l instanceof Error&&console.error(l),t.destroy();for(let f of r)f.cb(l,void 0);r=[];for(let f of i)f(l,(d,p)=>{});i=[]};function a(l,f){o.source(l,function(d,p){let m=VCe(n,d,p);n=m.headerSize,m.err||m.data?f(m.err||null,m.data):a(l,f)})}return(async()=>{let l=await st(e),d=l.toString().match(/!<socket >(\d+)( s)? ((([A-Fa-f0-9]{2}){4}-?){4})/),p,m;if(d!==null){let h=d[1],g=d[3];p=parseInt(h,10);let v=BCe(g),x=Buffer.alloc(12);x.writeUInt32LE(process.pid,0),m=Buffer.concat([v,x]),n=16+3*4}else{let h=l.indexOf(10);p=parseInt(l.slice(0,h).toString(),10),m=l.slice(h+1),n=0}t.on("error",h=>{s(h)}),t.connect(p,"127.0.0.1",()=>{t.write(m,h=>{if(!h){o=Fx.duplex(t);for(let g of r)a(g.abort,g.cb);r=[];for(let g of i)o.sink(g);i=[]}})})})().catch(l=>{s(l)}),{source:function(l,f){o!==void 0?a(l,f):r.push({abort:l,cb:f})},sink:function(l){o!==void 0?o.sink(l):i.push(l)}}}function RY(t,e,n){return r=>{let i=(async()=>{let o="port"in r?`{ host: '${r.host}', port: ${r.port} }`:`{ path: '${r.socketPath}' }`,s=await e({cmd:t,args:["-e",`// Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host.
const net = require('net');
const fs = require('fs');
process.stdin.pause();
const client = net.createConnection(${o}, () => {
	console.error('Connection established');
	client.pipe(process.stdout);
	process.stdin.pipe(client);
});
client.on('close', function (hadError) {
	console.error(hadError ? 'Remote close with error' : 'Remote close');
	process.exit(hadError ? 1 : 0);
});
client.on('error', function (err) {
	process.stderr.write(err && (err.stack || err.message) || String(err));
});
process.stdin.on('close', function (hadError) {
	console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
	process.exit(hadError ? 1 : 0);
});
process.on('uncaughtException', function (err) {
	fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
});
`],output:Xr(n,1)});return s.exit.then(({code:a,signal:u})=>{n.write(`Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host terminated with code ${a} and signal ${u}.`,1)},a=>{n.write(`Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host terminated with error: ${a&&a.message||String(a)}`)}),s.stderr.on("data",a=>{n.write(`Connection forwarding to ${"port"in r?`${r.host}:${r.port}`:r.socketPath} on remote host stderr: ${a.toString("utf8")}`,1)}),{sink:Fx.sink(s.stdin),source:Fx.source(s.stdout)}})();return{sink:o=>{i.then(s=>s.sink(o),s=>o(s,()=>{})).catch(s=>n.write(`Connection forwarding to sink error: ${(s==null?void 0:s.stack)||(s==null?void 0:s.message)||String(s)}`))},source:(o,s)=>{i.then(a=>a.source(o,s),a=>s(a)).catch(a=>n.write(`Connection forwarding to source error: ${(a==null?void 0:a.stack)||(a==null?void 0:a.message)||String(a)}`))}}}}var DS=!1;function sh(t,e,n){return DS?function(i){return GCe(t(i),`${e} ${JSON.stringify(i)}`,n)}:t}function GCe(t,e,n){return DS?{source:AY(t.source,`${e} Source`,n),sink:zCe(t.sink,`${e} Sink`,n)}:t}function AY(t,e,n){return DS?function(i,o){n.write(`${e} end in (${typeof i}${i&&typeof i=="object"?`: ${Object.keys(i)}`:""}): ${i&&typeof i=="object"&&i.stack||i}`),t(i,function(a,u){n.write(`${e} end out (${typeof a}${a&&typeof a=="object"?`: ${Object.keys(a)}`:""}): ${a&&typeof a=="object"&&a.stack||a}`),n.write(`${e} data: ${u==null?void 0:u.toString("hex")}`),o(a,u)})}:t}function zCe(t,e,n){return DS?function(i){t(AY(i,e,n))}:t}var rL=B(Pr()),OY=/^\\\\wsl(\.localhost|\$)?\\/;function Mr(t){return OY.test(t.toLowerCase())}function ah(t){let e=t.toLowerCase(),n=OY.exec(e);if(!n)return"";let r=e.indexOf("\\",n[0].length);return t.substring(n[0].length,r)}async function kS(t){let{stdout:e}=await ae({exec:Dc(void 0),cmd:"wsl",args:["-l","-v"],output:t}),n=e.toString(e[1]===0?"utf16le":"utf8").trim();return(/^\*\s*(\S+)/m.exec(n)||[])[1]}async function fd(t,e,n){let{stdout:r}=await ae({exec:Dc(void 0),cmd:"wsl",args:["-d",t,"-e","wslpath","-u",e],output:n});return r.toString().trim()}async function YCe(t,e){let{stdout:n}=await ae({exec:Dc(void 0),cmd:"wsl",args:["-d",t,"-e","/bin/sh","-c","echo ~"],output:e});return n.toString().trim()}async function NY(t,e,n){let{stdout:r}=await ae({exec:t.exec,cmd:"wslpath",args:["-w",e],output:n});return r.toString().trim()}async function ch(t,e){let n=ah(t),r=await fd(n,t,e);return xe.parse(`vscode-remote://wsl+${n}${r}`)}function uh(t){if(t.scheme==="vscode-remote"){let e=OS(t.authority);if(e){let n=t.path;return Ex(n)&&(n=DY.posix.dirname(n)),{wslDistro:e,wslPath:n}}}}function OS(t){return(/wsl\+(.*)/.exec(t)||[])[1]}async function NS(t,e,n,r,i,o,s,a){var m;let{distro:u,cwd:c}=await iL(t,e,s);kY.ok(!u.startsWith("-"),rL.t("Distro must not start with a dash: {0}",u));let l=kc("wsl",["-d",u,"-e"],c),f=await kx({extensionPath:n,localCacheFolder:r,package:await Fr(n),product:i,loadNativeModule:o,output:s,alternateDownload:a},l,c,!1),d=await dd({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:s},{shell:((m=f.passwdUser)==null?void 0:m.shell)||"/bin/sh",remoteExec:f.exec});delete d.WSL_INTEROP,await f.setBaseEnv(d);let p=ao("wsl",c,d,f.exec,f.ptyExec,sh(f.connect,"WSL",s),f.nodeExecutable,s);return p.toCommonURI=async h=>{try{return xe.file((await ae({exec:f.exec,cmd:"wslpath",args:["-w",h],output:s})).stdout.toString().trim())}catch{return}},p}async function iL(t,{defaultDistro:e},n){let r,i;return typeof t=="object"?(r=t.wslDistro,i=t.wslPath):t&&Mr(t)?(r=ah(t),i=await fd(r,t,n)):(r=e||await kS(n)||(()=>{throw new ge({description:rL.t("No default WSL distro found.")})})(),i=t?await fd(r,t,n):await YCe(r,n)),{distro:r,cwd:i}}function lh(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}async function LY(t,e,n,r,i){try{return(await Vn(e,{posix:ae({exec:t,cmd:"cat",args:[r],output:i}),win32:ae({exec:t,cmd:n,args:["-e",`require('fs').createReadStream('${r.replace(/\\/g,"\\\\")}').pipe(process.stdout)`],output:i})})).stdout}catch(o){let s=new Error(`Could not read file: ${r}`);throw s.originalError=o,s.code="ENOENT",s}}async function FY(t,e,n,r,i,o){await Vn(e,{posix:ae({exec:t,cmd:"dd",args:[`of=${r}`],stdin:i,output:o}),win32:ae({exec:t,cmd:n,args:["-e",`process.stdin.pipe(require('fs').createWriteStream('${r.replace(/\\/g,"\\\\")}'))`],stdin:i,output:o})})}async function LS(t,e,n,r,i){await Vn(e,{posix:()=>ae({exec:t,cmd:"mv",args:["-n",n,r],output:i}),win32:()=>ae({exec:t,cmd:"powershell",args:["-NoProfile","-Command",`Move-Item -Path '${n}' -Destination '${r}'`],output:i})})()}async function FS(t,e,n,r,i){let{recursive:o,force:s}=r;await Vn(e,{posix:()=>ae({exec:t,cmd:"rm",args:[o&&"-r",s&&"-f",n].filter(Boolean),output:i}),win32:()=>ae({exec:t,cmd:"powershell",args:["-NoProfile","-Command",`Remove-Item${o?" -Recurse":""}${s?" -Force":""} '${n}'`],output:i})})()}async function MS(t,e,n,r){await Vn(e,{posix:()=>ae({exec:t,cmd:"mkdir",args:["-p",n],output:r}),win32:()=>ae({exec:t,cmd:"powershell",args:["-NoProfile","-Command",`New-Item -ItemType Directory '${n}'`],output:r})})()}async function MY(t,e,n,r){return(await Vn(e,{posix:()=>ae({exec:t,cmd:"ls",args:["-a",n],output:r}),win32:()=>ae({exec:t,cmd:"powershell",args:["-NoProfile","-Command",`(Get-ChildItem '${n}').Name`],output:r})})()).stdout.toString().trim().split(/\r?\n/).filter(o=>o!=="."&&o!=="..")}var oL=B(require("path")),HS=B(require("os"));var UY=B(require("os")),US=B(require("assert")),qS=B(Pr());async function qY(t,e,n,r,i,o,s,a,u,c){var v;let l=t.substr(6),f=l.indexOf(":"),d=[(c==null?void 0:c.settings.executablePath)||"ssh"];if(c!=null&&c.settings.executableArgs&&d.push(...c.settings.executableArgs),c!=null&&c.settings.configFilePath&&d.push("-F",KCe(c==null?void 0:c.settings.configFilePath)),f!==-1){let x=l.substr(f+1);US.ok(!x.startsWith("-"),qS.t("Port number must not start with a dash: {0}",x));let y=l.substr(0,f);US.ok(!y.startsWith("-"),qS.t("Hostname must not start with a dash: {0}",y)),d.push("-p",x,y)}else US.ok(!l.startsWith("-"),qS.t("Hostname must not start with a dash: {0}",l)),d.push(l);let p=kc(d[0],d.slice(1),void 0,await(c==null?void 0:c.sshAskpassEnv)||{}),m=await kx({extensionPath:r,localCacheFolder:i,package:await Fr(r),product:o,loadNativeModule:s,output:a,alternateDownload:u},p,e,!1),h=await dd({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:a},{shell:((v=m.passwdUser)==null?void 0:v.shell)||"/bin/sh",remoteExec:m.exec});await m.setBaseEnv(h);let g=ao("remote",e||m.homeFolder,h,m.exec,m.ptyExec,m.connect,m.nodeExecutable,a);return g.toCommonURI=()=>Promise.resolve(void 0),g.reconnect=()=>m.reconnect(),g.terminate=()=>m.terminate(),g}function KCe(t){return t.replace(/^~($|\/|\\)/,`${UY.homedir()}$1`)}function Mx(t,e){let n=XCe(t);if(!n)return;let r=n.hostName;if(n.user||n.hostName.toLowerCase()!==n.hostName||n.port||n.hostName.match(/[\/\\\+]/)){let i=JSON.stringify(n);r=Buffer.from(i,"utf8").toString("hex")}return xe.parse(`vscode-remote://ssh-remote+${r}${e}`)}function XCe(t){if(!t.startsWith("ssh://"))return;let e=t.substr(6),n=e.match(/^(?:(.*)@)?(.+?)(?::(\d+))?$/);if(n){let[,r,i,o]=n;return{hostName:i,user:r,port:o?parseInt(o,10):void 0}}return{hostName:e}}function tl(t){var e;return!!(t&&"host"in t&&((e=t.host)!=null&&e.startsWith("ssh://")))}function nl(t){return!!(t!=null&&t.startsWith("ssh-remote+"))}function jS(t){let e=/^ssh-remote\+(.*)$/.exec(t);if(!e)return;let n=e[1];try{let r=JSON.parse(Buffer.from(n,"hex").toString("utf8"));if(r&&r.hostName)return r}catch{}return{hostName:n}}async function jY(t,e,n,r,i,o,s,a,u,c){return t!=null&&t.startsWith("ssh://")&&!(c!=null&&c.localDocker)?qY(t,e,r,i,o,s,n,a,u,c):typeof e=="object"||r.executeInWSL==="forWSLPath"&&e&&Mr(e)||r.executeInWSL==="always"?NS(e,r,i,o,s,n,a,u):Ss(e||process.cwd(),n,a)}async function Ss(t,e,n){let r=Dc(t),i=await HY(t,e);return QCe(t,r,i,n?sh(nL,"Local",n):nL)}function ao(t,e,n,r,i,o,s,a){let u,c;return{type:t,platform:"linux",exec:r,ptyExec:i,cwd:e,env:n,path:oL.posix,async homedir(){if(typeof c>"u"){let f=(await ae({exec:r,cmd:"id",args:["-u"],output:Re})).stdout.toString().trim(),d=await Bn(r,Re,void 0,"linux","Host"),p=await ld(d,f);c=this.env.HOME||(p==null?void 0:p.home)||"/"}return c},async tmpdir(){return this.env.TMPDIR||"/tmp"},isFile:async l=>{try{return await ae({exec:r,cmd:"test",args:["-f",l],output:Re}),!0}catch(f){if((f==null?void 0:f.code)!==1)throw f;return!1}},isFolder:async l=>{try{return await ae({exec:r,cmd:"test",args:["-d",l],output:Re}),!0}catch(f){if((f==null?void 0:f.code)!==1)throw f;return!1}},isSocket:async l=>{try{return await ae({exec:r,cmd:"test",args:["-S",l],output:Re}),!0}catch(f){if((f==null?void 0:f.code)!==1)throw f;return!1}},readFile:async l=>{try{return(await ae({exec:r,cmd:"cat",args:[l],output:Re})).stdout}catch(f){let d=new Error(`Could not read file: ${l}`);throw d.originalError=f,d.code="ENOENT",d}},writeFile:async(l,f)=>{await ae({exec:r,cmd:"/bin/sh",args:["-c",`cat >'${l}'`],stdin:f,output:Re})},rename:async(l,f)=>{await ae({exec:r,cmd:"mv",args:[l,f],output:Re})},rm:async(l,{recursive:f,force:d})=>{await ae({exec:r,cmd:"rm",args:[...f?["-r"]:[],...d?["-f"]:[],l],output:Re})},mkdirp:async l=>{await ae({exec:r,cmd:"mkdir",args:["-p",l],output:Re})},readDir:async l=>(await ae({exec:r,cmd:"ls",args:["-a",l],output:Re})).stdout.toString().trim().split(`
`).filter(f=>f!=="."&&f!==".."),readDirWithTypes:async l=>{let f={f:1,"*":1,"/":2,"@":64};return(await ae({exec:r,cmd:"ls",args:["-aF",l],output:Re})).stdout.toString().trim().split(`
`).map(d=>"/*@=%|>".indexOf(d[d.length-1])!==-1?[d.substr(0,d.length-1),d[d.length-1]]:[d,"f"]).filter(([d])=>d!=="."&&d!=="..").map(([d,p])=>[d,f[p]||0])},getUsername:async()=>(u===void 0&&(u=(await ae({exec:r,cmd:"id",args:["-u","-n"],output:Re})).stdout.toString().trim()),u),toCommonURI:()=>Promise.resolve(void 0),connect:o,nodeExecutable:s}}function QCe(t,e,n,r){return{type:"local",platform:process.platform,exec:e,ptyExec:n,cwd:t,env:process.env,path:oL,homedir:async()=>HS.homedir(),tmpdir:async()=>HS.tmpdir(),isFile:fr,isFolder:ZB,isSocket:eV,readFile:st,writeFile:hb,rename:oc,rm:Au,mkdirp:async i=>{await vs(i)},readDir:Ru,getUsername:$S,toCommonURI:async i=>xe.file(i),connect:r}}function VY(t,e,n){return t==="linux"?e===n:e.toLowerCase()===n.toLowerCase()}var JCe=BS.join(__dirname,"..","..","node_modules",".bin","ts-node"),el=BS.basename(process.argv[0])==="ts-node"||process.argv.indexOf("ts-node/register")!==-1;async function ae(t){let{exec:e,cmd:n,args:r,cwd:i,env:o,stdin:s,output:a,print:u}=t,c=await e({cmd:n,args:r,cwd:i,env:o,output:a});return new Promise((l,f)=>{let d=[],p=[],m=u==="continuous"?new Ux.StringDecoder:void 0;c.stdout.on("data",v=>{d.push(v),u==="continuous"&&a.write(m.write(v))}),c.stdout.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let h=u==="continuous"?new Ux.StringDecoder:void 0;c.stderr.on("data",v=>{p.push(v),u==="continuous"&&a.write(pt(h.write(v)))}),c.stderr.on("error",v=>{if((v==null?void 0:v.code)!=="ENOTCONN")throw v});let g=[];c.exit.then(({code:v})=>{try{g.forEach(w=>w.dispose());let x=Buffer.concat(d),y=Buffer.concat(p);(u===!0||v&&u==="onerror")&&(a.write(x.toString().replace(/\r?\n/g,`\r
`)),a.write(pt(y.toString()))),u&&v&&a.write(`Exit code ${v}`),v?f({message:`Command failed: ${n} ${(r||[]).join(" ")}`,stdout:x,stderr:y,code:v}):l({stdout:x,stderr:y})}catch(x){f(x)}},f),s instanceof Buffer?(c.stdin.write(s,v=>{v&&f(v)}),c.stdin.end()):s instanceof $Y.Readable?s.pipe(c.stdin):typeof s=="function"&&g.push(s(v=>c.stdin.write(v)))})}async function Pc(t){let{ptyExec:e,cmd:n,args:r,cwd:i,env:o,output:s,resolveOn:a,onDidInput:u}=t,c=await e({cmd:n,args:r,cwd:i,env:o,output:s});return new Promise((l,f)=>{let d="",p=[u&&u(m=>c.write(m))];c.onData(m=>{d+=m,s.raw(m),a&&a.exec(d)&&l({cmdOutput:d})}),c.exit.then(({code:m,signal:h})=>{try{p.forEach(g=>g==null?void 0:g.dispose()),m||h?f({message:`Command failed: ${n} ${(r||[]).join(" ")}`,cmdOutput:d,code:m,signal:h}):l({cmdOutput:d})}catch(g){f(g)}},m=>{p.forEach(h=>h==null?void 0:h.dispose()),f(m)})})}var ZCe={SIGHUP:1,SIGINT:2,SIGQUIT:3,SIGILL:4,SIGTRAP:5,SIGABRT:6,SIGIOT:6,SIGBUS:7,SIGEMT:void 0,SIGFPE:8,SIGKILL:9,SIGUSR1:10,SIGSEGV:11,SIGUSR2:12,SIGPIPE:13,SIGALRM:14,SIGTERM:15,SIGSTKFLT:16,SIGCHLD:17,SIGCLD:void 0,SIGCONT:18,SIGSTOP:19,SIGTSTP:20,SIGTTIN:21,SIGTTOU:22,SIGURG:23,SIGXCPU:24,SIGXFSZ:25,SIGVTALRM:26,SIGPROF:27,SIGWINCH:28,SIGIO:29,SIGPOLL:29,SIGPWR:30,SIGINFO:void 0,SIGLOST:void 0,SIGSYS:31,SIGUNUSED:31};function Dc(t){return async function(e){let{cmd:n,args:r,output:i}=e,o=`Run: ${n} ${(r||[]).join(" ").replace(/\n.*/g,"")}`,s=i.start(o),a=e.cwd||t,u=e.env?{...process.env,...e.env}:process.env,c=await qo(n,a,u),l=fh.spawn(c,r,{cwd:a,env:u,windowsHide:!0});return{stdin:l.stdin,stdout:l.stdout,stderr:l.stderr,exit:new Promise((f,d)=>{l.once("error",p=>{i.stop(o,s),d(p)}),l.once("close",(p,m)=>{i.stop(o,s),f({code:p,signal:m})})}),async terminate(){l.kill("SIGKILL")}}}}async function HY(t,e){let n=await e("node-pty");if(!n)throw new Error("Missing node-pty");return async function(r){var h,g;let{cmd:i,args:o,output:s}=r,a=`Run: ${i} ${(o||[]).join(" ").replace(/\n.*/g,"")}`,u=s.start(a),c=!1,l=r.cwd||t,f=r.env?{...process.env,...r.env}:process.env,d=await qo(i,l,f),p=n.spawn(d,o||[],{cwd:l,env:f,cols:(h=s.dimensions)==null?void 0:h.columns,rows:(g=s.dimensions)==null?void 0:g.rows,useConpty:c}),m=[s.onDidChangeDimensions&&s.onDidChangeDimensions(v=>p.resize(v.columns,v.rows))];return{onData:p.onData.bind(p),write:p.write.bind(p),resize:p.resize.bind(p),exit:new Promise(v=>{p.onExit(({exitCode:x,signal:y})=>{if(m.forEach(w=>w==null?void 0:w.dispose()),s.stop(a,u),v({code:x,signal:y}),process.platform==="win32")try{p.kill()}catch{}})}),async terminate(){p.kill("SIGKILL")}}}}function WY(t){return async function(e){let n=await t(e),r=new fa;if(n.stdout){let i=new Ux.StringDecoder;n.stdout.on("data",o=>r.fire(i.write(o))),n.stdout.on("close",()=>{let o=i.end();o&&r.fire(o)})}if(n.stderr){let i=new Ux.StringDecoder;n.stderr.on("data",o=>r.fire(i.write(o))),n.stderr.on("close",()=>{let o=i.end();o&&r.fire(o)})}return{onData:r.event,write:n.stdin.write.bind(n.stdin),resize:()=>{},exit:n.exit.then(({code:i,signal:o})=>({code:typeof i=="number"?i:void 0,signal:typeof o=="string"?ZCe[o]:void 0})),terminate:n.terminate.bind(n)}}}function kc(t,e,n,r){return async function(i){let{env:o,cmd:s,args:a,output:u}=i,c=i.cwd||n,l=c?`cd '${c}' && `:"",f=Object.keys(o||{}).map(w=>o[w]===void 0?"":`${w}='${o[w]}' `).join(""),d=(a||[]).map(w=>` '${w.replace(/'/g,`'"'"'`)}'`).join(""),p=`${l}${f}${s}${d}`,m=p!==s?["/bin/sh","-c",p]:[p],h=[...e,...m],g=`Run: ${t} ${h.join(" ").replace(/\n.*/g,"")}`,v=u.start(g),x=await qo(t,process.cwd(),process.env),y=fh.spawn(x,h,{windowsHide:!0,env:r?{...process.env,...r}:void 0});return{stdin:y.stdin,stdout:y.stdout,stderr:y.stderr,exit:new Promise((w,_)=>{y.once("error",T=>{u.stop(g,v),_(T)}),y.once("close",(T,P)=>{u.stop(g,v),w({code:T,signal:P})})}),async terminate(){y.kill("SIGKILL")}}}}async function GY(t,e,n,r){let i=await r("node-pty");if(!i)throw new Error("Missing node-pty");return async function(o){var T,P;let{env:s,cmd:a,args:u,output:c}=o,l=o.cwd||n,f=l?`cd '${l}' && `:"",d=Object.keys(s||{}).map(E=>`${E}='${s[E]}' `).join(""),p=(u||[]).map(E=>` '${E.replace(/'/g,`'"'"'`)}'`).join(""),m=`${f}${d}${a}${p}`,h=[...e,"/bin/sh","-c",m],g=`Run: ${t} ${h.join(" ").replace(/\n.*/g,"")}`,v=c.start(g),x=!1,y=await qo(t,process.cwd(),process.env),w=i.spawn(y,h,{cols:(T=c.dimensions)==null?void 0:T.columns,rows:(P=c.dimensions)==null?void 0:P.rows,useConpty:x}),_=[c.onDidChangeDimensions&&c.onDidChangeDimensions(E=>w.resize(E.columns,E.rows))];return{onData:w.onData.bind(w),write:w.write.bind(w),resize:w.resize.bind(w),exit:new Promise(E=>{w.onExit(({exitCode:C,signal:S})=>{if(_.forEach(I=>I==null?void 0:I.dispose()),c.stop(g,v),E({code:C,signal:S}),process.platform==="win32")try{w.kill()}catch{}})}),async terminate(){w.kill("SIGKILL")}}}}function dh(t){let e=/^'?v?(\d+(\.\d+)*)/.exec(t);if(e)return e[1].split(".").map(n=>parseInt(n,10))}function ph(t,e){for(let n=0,r=Math.max(t.length,e.length);n<r;n++){let i=t[n]||0,o=e[n]||0;if(i!==o)return i<o}return!1}var zY=el?(t,e,n)=>fh.spawn(JCe,[t,...e||[]],{...n,windowsHide:!0}):fh.fork;async function mh(t,e){if(!e){try{return require(t)}catch{}return}try{return require(`${e}/node_modules.asar/${t}`)}catch{}try{return require(`${e}/node_modules/${t}`)}catch{}try{return __non_webpack_require__(`${e}/node_modules.asar/${t}`)}catch{}try{return __non_webpack_require__(`${e}/node_modules/${t}`)}catch{}}function YY(t){let{output:e}=t,n=[];return{output:Xr({...e,get dimensions(){return e.dimensions},event:i=>n?n.push(i):e.event(i)}),flush:()=>{n&&(n.forEach(i=>e.event(i)),n=void 0)}}}function KY(t,e,n){return Xr({...t,get dimensions(){return t.dimensions},event:i=>{i.channel===e&&t.event(i),n.event(i)}})}function Vn(t,e){return e&&typeof e=="object"&&"win32"in e?t==="win32"?e.win32:e.posix:e}async function RS(t,e){return Vn(t.platform,{posix:async()=>{try{return await t.exec(`test -f '${e}'`),!0}catch{return!1}},win32:async()=>(await t.exec(`Test-Path '${e}' -PathType Leaf`)).stdout.trim()==="True"})()}var sL;async function $S(){return sL===void 0&&(sL=(async()=>{try{return BY.userInfo().username}catch(t){if(process.platform!=="linux")throw t;return(await ae({exec:Dc(void 0),cmd:"id",args:["-u","-n"],output:Re})).stdout.toString().trim()}})()),sL}function XY(t){let e=t.replace(/['\\]/g,"\\$&"),n=lh(t).replaceAll("'","\\'");return` (command -v getent >/dev/null 2>&1 && getent passwd '${e}' || grep -E '^${n}|^[^:]*:[^:]*:${n}:' /etc/passwd || true)`}async function QY(t,e,n,r,i,o){let s="Extracting tarball",a=o.start(s),u=`${r}_${Date.now()}`;try{await MS(t,e,u,o);let c=n instanceof Buffer?n:await(async()=>{let l=[];for await(let f of n)l.push(f);return Buffer.concat(l)})();await ae({exec:t,cmd:"tar",args:["--no-same-owner",`-x${i?"z":""}`,"--strip-components","1","-C",u],stdin:c,output:o,print:"continuous"}),await LS(t,e,u,r,o)}catch(c){try{await FS(t,e,u,{recursive:!0,force:!0},o)}catch{}throw c}finally{o.stop(s,a)}}var so="\u2404";async function Bn(t,e,n,r="linux",i="Container"){let o=typeof t=="function",s=r==="win32",a=o?await t({env:n?{VSCODE_REMOTE_CONTAINERS_SESSION:n}:{},cmd:s?"powershell":"/bin/sh",args:s?["-NoProfile","-Command","-"]:[],output:e}):t;if(!o){let d=s?`powershell -NoProfile -Command "powershell -NoProfile -Command -"
`:`/bin/sh -c 'echo ${so}; /bin/sh'
`;a.stdin.write(d),await new Promise(m=>{let h="",g=new aL.StringDecoder;a.stdout.on("data",function v(x){h+=g.write(x),h.includes(d)&&(a.stdout.off("data",v),m())})})}let u=tSe(a),c;async function l(d,p){let m=c=(async()=>{try{await c}catch{}return f(Vn(r,d),p)})();try{return await Promise.race([m,u.unexpectedExit])}finally{u.disposeStdioListeners(),c===m&&(c=void 0)}}async function f(d,p){let m=`Run in ${i.toLowerCase()}: ${d.replace(/\n.*/g,"")}`,h;if((p==null?void 0:p.logOutput)!=="silent"&&(h=e.start(m,p==null?void 0:p.logLevel)),a.stdin.destroyed){e.write("Stdin closed!");let{code:P,signal:E}=await a.exit;return Promise.reject({message:`Shell server terminated (code: ${P}, signal: ${E})`,code:P,signal:E})}r==="win32"?a.stdin.write(`[Console]::Write('${so}'); ( ${d} ); [Console]::Write("${so}$LastExitCode ${so}"); [Console]::Error.Write('${so}')
`):a.stdin.write(`echo -n ${so}; ( ${d} ); echo -n ${so}$?${so}; echo -n ${so} >&2
`);let[g,v]=JY(a.stdout,[1,2],(p==null?void 0:p.logOutput)==="continuous"?(P,E,C)=>{E===1&&C===0&&e.write(P,p==null?void 0:p.logLevel)}:()=>{}),x=JY(a.stderr,[1],(p==null?void 0:p.logOutput)==="continuous"?(P,E,C)=>{E===0&&C===0&&e.write(P,p==null?void 0:p.logLevel)}:()=>{})[0];p!=null&&p.stdin&&(await g,a.stdin.write(p==null?void 0:p.stdin));let[y,w]=await v,[_]=await x,T=parseInt(w,10)||0;return((p==null?void 0:p.logOutput)===void 0||(p==null?void 0:p.logOutput)===!0)&&(e.write(y,p==null?void 0:p.logLevel),e.write(_,p==null?void 0:p.logLevel),T&&e.write(`Exit code ${T}`,p==null?void 0:p.logLevel)),(p==null?void 0:p.logOutput)==="continuous"&&T&&e.write(`Exit code ${T}`,p==null?void 0:p.logLevel),(p==null?void 0:p.logOutput)!=="silent"&&e.stop(m,h,p==null?void 0:p.logLevel),T?Promise.reject({message:`Command in ${i.toLowerCase()} failed: ${d}`,code:T,stdout:y,stderr:_}):{stdout:y,stderr:_}}return{exec:l,process:a,platform:r,path:Vn(r,eSe)}}function JY(t,e,n){let r=e.map(()=>{let l;return{promise:new Promise((d,p)=>l={resolve:d,reject:p}),...l}}),i=new aL.StringDecoder("utf8"),o=[],s=0,a=[];function u(l){let f=i.write(l);c(f)}function c(l){let f=l.indexOf(so);if(f!==-1){let d=l.substr(0,f);o.push(d),n(d,s,a.length),a.push(o.join("")),o.length=0,a.length===e[s]&&(r[s].resolve(a),s++,a=[],s===e.length&&t.off("data",u)),f+1<l.length&&c(l.substr(f+1))}else o.push(l),n(l,s,a.length)}return t.on("data",u),r.map(l=>l.promise)}function tSe(t){let e,n=new Promise((u,c)=>e=c),r=[],i=[],o=u=>r.push(u),s=u=>i.push(u);return t.stdout.on("data",o),t.stderr.on("data",s),t.exit.then(({code:u,signal:c})=>{e(`Shell server terminated (code: ${u}, signal: ${c})
${Buffer.concat(r).toString()}
${Buffer.concat(i).toString()}`)},u=>{e(`Shell server failed: ${u&&(u.stack||u.message)}`)}),{unexpectedExit:n,disposeStdioListeners:()=>{t.stdout.off("data",o),t.stderr.off("data",s),r.length=0,i.length=0}}}var p7=B(require("net")),m7=B(d7());async function h7({forwardedPorts:t,output:e,getLogLevel:n},r,i,o){e.write(`Port forwarding for container port ${i} starts listening on local port.`,2);let s=o?{VSCODE_REMOTE_CONTAINERS_SESSION:o}:void 0;return new Promise((a,u)=>{let c=new Set,l=p7.createServer({pauseOnConnect:!0},f=>{let d=f.remotePort,p=l.address().port;e.write(`Port forwarding connection from ${d} > ${p} > ${i} in the container.`),n()===1&&(async()=>{let m=await(0,m7.default)("port",d);e.write(`Port forwarding process for ${d} > ${p} > ${i} in the container:
${JSON.stringify(m,void 0,"  ")}`)})().catch(console.error),uSe(e,r,[r.nodeExecutable,"-e",`
				const net = require('net');
				const fs = require('fs');
				process.stdin.pause();
				const client = net.createConnection({ host: '127.0.0.1', port: ${i} }, () => {
					console.error('Connection established');
					client.pipe(process.stdout);
					process.stdin.pipe(client);
				});
				client.on('close', function (hadError) {
					console.error(hadError ? 'Remote close with error' : 'Remote close');
					process.exit(hadError ? 1 : 0);
				});
				client.on('error', function (err) {
					process.stderr.write(err && (err.stack || err.message) || String(err));
				});
				process.stdin.on('close', function (hadError) {
					console.error(hadError ? 'Remote stdin close with error' : 'Remote stdin close');
					process.exit(hadError ? 1 : 0);
				});
				process.on('uncaughtException', function (err) {
					fs.writeSync(process.stderr.fd, \`Uncaught Exception: \${String(err && (err.stack || err.message) || err)}\\n\`);
				});
			`],s).then(m=>{let h;m.exit.then(({code:g,signal:v})=>{h||(c.delete(f),f.end()),e.write(`Port forwarding ${d} > ${p} > ${i} terminated${h?` by extension (${h})`:""} with code ${g} and signal ${v}.`)},g=>{c.delete(f),f.end(),e.write(`Port forwarding ${d} > ${p} > ${i} terminated with error: ${g&&g.message||String(g)}`)}),m.stderr.on("data",g=>{e.write(`Port forwarding ${d} > ${p} > ${i} stderr: ${g.toString("utf8")}`,2)}),f.on("close",g=>{e.write(`Port forwarding ${d} > ${p} > ${i}: Local close${g?" with error":""}`,2),c.delete(f),h="closed",m.stdin.end(),setTimeout(()=>{h="killed",m.terminate().catch(console.error)},5e3)}),m.stdout.pipe(f),f.pipe(m.stdin),c.add(f)}).catch(console.error)});l.on("listening",()=>{let f={targetPort:i,server:l,connections:c};l.on("close",()=>{t.delete(f)}),t.add(f),e.write(`Port forwarding local port ${l.address().port} to container port ${i}`),a(l)}),l.on("error",f=>{if(f&&(f.code==="EADDRINUSE"||f.code==="EACCES")){l.listen(0,"127.0.0.1");return}u(f)}),l.on("close",()=>{u(new Error("Closed"))}),l.listen(i,"127.0.0.1")})}async function uSe(t,e,n,r){return e.remoteExec({env:r,cmd:n[0],args:n.slice(1),output:t})}var hh=B(require("path"));var pL=B(Pr());function zS(t,e){let n,r=t.platform==="win32",i={...t,get env(){return n||(n=v7(r,t.env))}},o=dSe.bind(void 0,r,i);return t.containerWorkspaceFolder&&(i.containerWorkspaceFolder=y7(o,t.containerWorkspaceFolder)),GS(o,e)}function g7(t,e,n,r){let i=t==="win32";return GS(pSe.bind(void 0,i,e,v7(i,n)),r)}function GS(t,e){if(typeof e=="string")return y7(t,e);if(Array.isArray(e))return e.map(n=>GS(t,n));if(e&&typeof e=="object"){let n=Object.create(null);return Object.keys(e).forEach(r=>{n[r]=GS(t,e[r])}),n}return e}var lSe=/\$\{(.*?)\}/g;function v7(t,e){if(t){let n=Object.create(null);return Object.keys(e).forEach(r=>{n[r.toLowerCase()]=e[r]}),n}return e}function y7(t,e){return e.replace(lSe,fSe.bind(void 0,t))}function fSe(t,e,n){let r,i=n.split(":");return i.length>1&&(n=i[0],r=i[1]),t(e,n,r)}function dSe(t,e,n,r,i){switch(r){case"env":case"localEnv":return x7(t,e.env,i,n,e.configFile);case"localWorkspaceFolder":return e.localWorkspaceFolder!==void 0?e.localWorkspaceFolder:n;case"localWorkspaceFolderBasename":return e.localWorkspaceFolder!==void 0?(t?hh.win32:hh.posix).basename(e.localWorkspaceFolder):n;case"containerWorkspaceFolder":return e.containerWorkspaceFolder!==void 0?e.containerWorkspaceFolder:n;case"containerWorkspaceFolderBasename":return e.containerWorkspaceFolder!==void 0?hh.posix.basename(e.containerWorkspaceFolder):n;default:return n}}function pSe(t,e,n,r,i,o){switch(i){case"containerEnv":return x7(t,n,o,r,e);default:return r}}function x7(t,e,n,r,i){if(n){t&&(n=n.toLowerCase());let o=e[n];return typeof o=="string"?o:""}throw new ge({description:i?pL.t("'{0}' in {1} can not be resolved because no environment variable name is given.",r,hh.posix.basename(i.path)):pL.t("'{0}' can not be resolved because no environment variable name is given.",r)})}async function $o(t){return new Promise(e=>setTimeout(e,t))}var YS=B(require("path"));var mSe=["install.sh","install","bootstrap.sh","bootstrap","script/bootstrap","setup.sh","setup","script/setup"];async function w7(t,e,n,r,i){let{repository:o,installCommand:s,targetPath:a}=t.dotfilesConfiguration;if(o=i.getDotfileConfiguration("dotfiles.repository")||o,s=i.getDotfileConfiguration("dotfiles.installCommand")||s,a=i.getDotfileConfiguration("dotfiles.targetPath")||a,!o)return;await r;let u=await n;o.indexOf(":")===-1&&!/^\.{0,2}\//.test(o)&&(o=`https://github.com/${o}.git`);let c=e.shellServer,l=E7(e),f=Object.keys(u).filter(d=>!(d.startsWith("BASH_FUNC_")&&d.endsWith("%%"))).reduce((d,p)=>`${d}${p}=${hSe(u[p])} `,"");try{t.output.event({type:"progress",name:"Installing Dotfiles",status:"running"}),s?await c.exec(`# Clone & install dotfiles
${KS(l)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${f}git clone ${o} ${a} || exit $?
if [ -x ${s} ]
then
	echo Executing script ${s}
	cd ${a} && ${f}${s}
else
	echo Error: ${s} not executable
	exit 126
fi
`,{logOutput:"continuous",logLevel:3}):await c.exec(`# Clone & install dotfiles
${KS(l)} || (echo dotfiles marker found && exit 1) || exit 0
command -v git >/dev/null 2>&1 || (echo git not found && exit 1) || exit 0
[ -e ${a} ] || ${f}git clone ${o} ${a} || exit $?
cd ${a}
for f in ${mSe.join(" ")}
do
	if [ -e $f ]
	then
		installCommand=$f
		break
	fi
done
if [ -z "$installCommand" ]
then
	dotfiles=$(ls -d ${a}/.* 2>/dev/null | grep -v -E '/(.|..|.git)$')
	if [ ! -z "$dotfiles" ]
	then
		echo Linking dotfiles: $dotfiles
		ln -sf $dotfiles ~ 2>/dev/null
	else
		echo No dotfiles found.
	fi
else
	if [ -x "$installCommand" ]
	then
		echo Executing script '${a}'/"$installCommand"
		${f}./"$installCommand"
	else
		echo Error: '${a}'/"$installCommand" not executable
		exit 126
	fi
fi
`,{logOutput:"continuous",logLevel:3}),t.output.event({type:"progress",name:"Installing Dotfiles",status:"succeeded"})}catch{t.output.event({type:"progress",name:"Installing Dotfiles",status:"failed"})}}function hSe(t){return`'${(t||"").replace(/'+/g,`'"$&"'`)}'`}function E7(t){return YS.posix.join(wa(t),".dotfilesMarker")}async function _7(t){let e=E7(t),n=YS.posix.resolve(t.homeFolder,".devcontainer",".dotfilesMarker");try{await t.shellServer.exec(`test -f '${e}' && test ! -e '${n}' && mkdir -p '${YS.posix.dirname(n)}' && cp '${e}' '${n}'`)}catch{}}var md=0,b7=/Extension host agent listening on (\d+)/;var gSe="updateContentCommand";async function t0(t){let{params:e,createdAt:n,startedAt:r,sharedDataFolder:i,sharedDataFolderIsLocalCacheFolder:o,remoteWorkspaceFolder:s,containerUser:a,containerGroup:u,containerEnv:c,remoteExec:l,remotePtyExec:f,remoteExecAsRoot:d,rootShellServer:p,remoteWaylandSocket:m}=t,h;if(p&&a==="root"?h=p:h=await Bn(l,e.output,e.sessionId),!c){let D=(await h.exec("echo $PATH")).stdout.trim();c=D?{PATH:D}:{}}a||(a=await ud(h)),!d&&a==="root"&&(d=l);let g=await tL(h),v=await ld(h,a);v||e.output.write(SD(`User ${a} not found with 'getent passwd'.`));let x=await ySe(c,v),y=await vSe(c,v),w=Ox(he.posix,y,e.product),{commit:_,quality:T}=e.product,P=_&&await wSe(w,_,T||"insider",e.web),E=AS(g,T==="stable"),C=_&&i&&await R7(he.posix,i,E,_,T||"insider",e.web),S=P&&pd("linux",P),I;p?I=Promise.resolve(p):a==="root"&&(I=Promise.resolve(h));let R={createdAt:n,startedAt:r,osRelease:g,build:E,user:a,gid:u||(v==null?void 0:v.gid),env:c,shell:x,homeFolder:y,userDataFolder:w,sharedDataFolderIsLocalCacheFolder:o,sharedDataFolder:i,installFolder:P,sharedInstallFolder:C,remoteWorkspaceFolder:s,nodeExecutable:S,remoteExec:l,remotePtyExec:f,remoteExecAsRoot:d,shellServer:h,remoteWaylandSocket:m};return(I||d)&&(R.launchRootShellServer=()=>I||(I=Bn(d,e.output))),R}async function ud(t){return(await t.exec("id -un")).stdout.trim()}async function vSe(t,e){return t.HOME||e&&e.home||"/root"}async function ySe(t,e){return t.SHELL||e&&e.shell||"/bin/sh"}async function ld(t,e){let{stdout:n}=await t.exec(XY(e),{logOutput:!1});if(n.trim())return xSe(n)}function xSe(t){let e=t.replace(/\n$/,"").split(":");return{name:e[0],uid:e[2],gid:e[3],home:e[5],shell:e[6]}}async function wSe(t,e,n,r){return he.posix.join(t,"bin",`${e}${n==="stable"?"":`-${n}`}${r?"-web":""}`)}async function R7(t,e,n,r,i,o){return t.join(e,"bin",n.id,`${r}${i==="stable"?"":`-${i}`}${o?"-web":""}`)}function A7(t){return he.posix.join(t.userDataFolder,"extensions")}function wa(t){return he.posix.join(typeof t=="string"?t:t.userDataFolder,"data/Machine")}function n0(t){return he.posix.join(t.userDataFolder,"data/Machine/settings.json")}function ESe(t){return he.posix.join(t,".vscode-remote")}function Ox(t,e,n){return t.join(e,n.serverDataFolderName)}function _Se(t,e,n){return t.join(e,n.dataFolderName)}function r0(t){return he.posix.join("/var",/^\.*(.*)$/.exec(t)[1])}function pd(t,e){return Vn(t,{posix:()=>he.posix.join(e,"node"),win32:()=>he.win32.join(e,"node.exe")})()}var qx=class{constructor(e){this.settings=e}getConfiguration(e){return this.settings[Rc(e)]||this.settings[Ju(e)]}getNewConfiguration(e){return this.settings[Rc(e)]}getDotfileConfiguration(e){return this.settings[Ju(e)]||this.settings[e]}};async function ol(t,e,n,r,i=md,o,s){await bSe(t,e);let a=await CSe(t,e,r),{serverDownloaded:u}=await PSe(t,e),c,l,f=Promise.resolve(),d;if(e.nodeExecutable){let y=await PS(t,e,a);c=y.remoteContainersCLI,l=y.remoteEnv,f=y.ready;let w=o;o=w&&(async(...T)=>(await y.ready,w(...T))),d=y.mrpcExec;let _=t.cliHost.reconnect;_&&(t.cliHost.reconnect=async()=>{await _(),y.reconnect().catch(T=>t.output.write(pt(T&&(T.stack||T.message)||String(T))))})}let m=t.computeExtensionHostEnv||t.postCreate.enabled?dd(t,e,r,d).then(async y=>({...y,...l,...await PY(e,y),REMOTE_CONTAINERS:"true",...g7(t.cliHost.platform,n.configFilePath,e.env,r.remoteEnv||{})})):Promise.resolve({}),h=a.getConfiguration("gitCredentialHelperConfigLocation")??t.credentialHelperConfigLocation;e.nodeExecutable&&(await Sx(t,e,[".ssh","known_hosts"],"ssh"),h!=="none"&&await JS(e,c,t.output,"system"));let g,v,x;if(e.installFolder){let w=await BSe(t,e,i,d,async()=>ASe(t,e,async()=>{var P;return[...new Set([].concat(...(((P=r.customizations)==null?void 0:P.vscode)||[]).map(E=>E.extensions||[])))]},!1),void 0,!0,!1),_=w.serverPort;x=w.connectionToken,g=_,t.forwardServerPort&&e.nodeExecutable&&(v=await h7(t,e,_,t.sessionId),g=v.address().port,t.backgroundTasks.push(async()=>zSe(t,e,r)))}if(t.postCreate.enabled){let y,w=new Promise(T=>y=()=>{T()}),_=(async()=>{let T={...l,REMOTE_CONTAINERS:"true"},P=["onCreateCommand","updateContentCommand","postCreateCommand","postStartCommand","postAttachCommand"],E=P.reduce((C,S)=>(C[S]=(r[`${S}s`]||[]).length>0,C),{});if(t.prebuild){let C=P.indexOf("updateContentCommand");if((!P.slice(0,C+1).some(R=>E[R])||!o?"prebuild":await o(!1,!1,!0,a,T))!=="prebuild")throw new Error('"prebuild" expected')}else{let C=!0,S=!0,I=r.waitFor||gSe,R=P.indexOf(I),D=P.indexOf("postCreateCommand"),A=R<=D&&!P.slice(0,R+1).some(j=>E[j]),N=a.getDotfileConfiguration("dotfiles.repository")||t.dotfilesConfiguration.repository,O=!P.slice(0,D+1).some(j=>E[j])&&!N,M=A?"skipNonBlocking":O||!o?"stopForPersonalization":await o(C,S,!1,a,T);if(M==="skipNonBlocking"){if(y(),t.postCreate.skipNonBlocking)return;C=!1,M=!P.slice(R+1,D+1).some(W=>E[W])&&!N||!o?"stopForPersonalization":await o(C,S,!1,a,T)}if(M==="stopForPersonalization"){o||await w7(t,e,m,f,a),e.nodeExecutable&&((a.getConfiguration("copyGitConfig")??t.isCopyGitConfigEnabled)&&await dS(t,e,m.then(L=>({...e.env,...L}))),await JS(e,c,t.output,h)),await(s==null?void 0:s()),S=!1;let j=R>D&&!P.slice(D+1,R+1).some(L=>E[L]),W=!P.slice(D+1).some(L=>E[L]);M=j?"skipNonBlocking":W||!o?"done":await o(C,S,!1,a,T)}if(M==="skipNonBlocking"){if(y(),t.postCreate.skipNonBlocking)return;C=!1,M=!P.slice(R+1).some(W=>E[W])||!o?"done":await o(C,S,!1,a,T)}if(M!=="done")throw new Error('"done" expected')}})();_.then(()=>{t.postCreate.done()},T=>{t.postCreate.done(T)}),t.backgroundTasks.push(_),await Promise.race([w,_])}return{hostOrContainerPort:g,hostPortServer:v,connectionToken:x,remoteEnv:t.computeExtensionHostEnv?await m:{},serverDownloaded:u}}async function bSe(t,e){let n=ESe(e.homeFolder);!await ZS(e.shellServer,e.userDataFolder)&&await ZS(e.shellServer,n)&&await Oc(t,e,["/bin/sh","-c",`cp -r '${n}' '${e.userDataFolder}'`])}async function CSe(t,e,n){var s;let r=wa(e),i=he.posix.join(r,".writeMachineSettingsMarker"),o=n0(e);if(await L7(e.shellServer,i)){let a=(s=n.customizations)==null?void 0:s.vscode,u=Object.assign({},...(Array.isArray(a)?a:a?[a]:[]).map(c=>c.settings));if(SSe(u,n.portsAttributes),TSe(u,n.otherPortsAttributes),Object.keys(u).length)return await e.shellServer.exec(`mkdir -p '${he.posix.dirname(o)}' && cat >'${o}' <<'settingsJSON'
${JSON.stringify(u,null,"	")}
settingsJSON
`),new qx(u)}try{let{stdout:a}=await e.shellServer.exec(`cat ${o}`);return new qx(Ye(a)||{})}catch{return new qx({})}}function SSe(t,e){if(!t||!e||!Object.keys(e).length)return;let n="remote.portsAttributes";if(!t[n]){t[n]=e;return}for(let r in e)t[n][r]||(t[n][r]=e[r])}function TSe(t,e){if(!t||!e)return;let n="remote.otherPortsAttributes";t[n]||(t[n]=e)}async function i0(t,e,n,r){let i=typeof t.gid=="string"?`${t.user}:${t.gid}`:t.user,o=await e();if((await o.exec(`stat -c %u ${n}`)).stdout.trim()==="0"){let u=he.posix.dirname(n);u!=="/"&&await o.exec(`chown ${i} ${u}`),n!=="/"&&await o.exec(`chown -R ${i} ${n}`)}else if(r&&(await o.exec(`stat -c %u ${r}`)).stdout.trim()==="0"){let l=he.posix.dirname(r);l!=="/"&&await o.exec(`chown -R ${i} ${l}`)}}async function JS(t,e,n,r){if(e||el)if(r==="none")n.write("Git credential helper not enabled.");else{let i=r==="system"?t.launchRootShellServer&&await t.launchRootShellServer():t.shellServer;i?await i.exec(`command -v git >/dev/null 2>&1 && git config --${r} --replace-all credential.helper '!f() { ${t.nodeExecutable} ${e} git-credential-helper $*; }; f' || true`):n.write("Cannot configure system wide Git credential helper without root access.")}}async function Sx(t,e,n,r){let{cliHost:i}=t,o=i.path.join(await i.homedir(),...n);if(!await i.isFile(o)&&(i.type==="local"||(i=await Ss(process.cwd(),t.loadNativeModule,t.output),o=i.path.join(await i.homedir(),...n),!await i.isFile(o))))return;let s=he.posix.join(e.homeFolder,...n);await ad(i,e.shellServer,o,s,r)}async function ad(t,e,n,r,i){let o=await ISe(t,n);if(o)try{let s=await r;await e.exec(`# Test for ${s} and ${i}
[ -e ${s} ] && echo ${s} exists && exit 1
command -v ${i} >/dev/null 2>&1 || (echo ${i} not found && exit 1) || exit 1
mkdir -p ${he.posix.dirname(s)}`),await e.exec(`# Copy ${n} to ${s}
${vL(o.byteLength)} >${s}`,{stdin:o})}catch(s){if(s&&s.code!==1)throw s}}async function ISe(t,e){try{return await t.readFile(e)}catch(n){if(n&&(n.code==="ENOENT"||n.code==="EISDIR"))return;throw n}}async function PSe(t,e){let{commit:n}=t.product,{installFolder:r,shellServer:i,launchRootShellServer:o,build:s}=e;if(!(n&&r))return{serverDownloaded:void 0};RSe(e.osRelease,s),s.preview&&t.output.write(`\r
\x1B[1mSupport for ${s.label} is in preview.\x1B[22m\r
\r
`);let a=await ZS(i,r),u;a||s===N7[s.arch]&&(o?u=(await o()).exec("apk info | grep -e '^libstdc++$' || (apk update && apk add libstdc++)"):u=i.exec(`apk info | grep -e '^libstdc++$' || (echo "ERROR: libstdc++ not found. Please install." >&2 && exit 1)`));let c=e.sharedInstallFolder;if(c&&await ZS(i,c))return a||await i.exec(`mkdir -p '${he.posix.dirname(r)}' && ln -snf '${c}' '${r}'`),o&&(async()=>{await(await o()).exec(`touch '${c}'`)})().catch(console.error),await u,{serverDownloaded:!1};if(a)return{serverDownloaded:!1};t.progress(4),t.output.write(`Installing VS Code Server for commit ${n}\r
`);let l=!!(c&&o),f=l?c:r,d=l?await o():i,p={localCacheFolder:t.localCacheFolder,build:s,commit:n,quality:t.product.quality||"insider",web:t.web,output:t.output,alternateDownload:t.alternateDownload},m=oh(p),h=await fr(m);h||await Nx(p);try{e.sharedDataFolderIsLocalCacheFolder?await C7(p):await Ax(t,d,m,f)}catch(g){if(g&&g.stderr&&/unexpected end of file|not in gzip format/i.test(g.stderr.toString()))await Nx(p),e.sharedDataFolderIsLocalCacheFolder?await C7(p):await Ax(t,d,m,f);else throw g}return l&&(await i.exec(`mkdir -p '${he.posix.dirname(r)}' && ln -snf '${c}' '${r}'`),(async()=>{await d.exec(`touch '${c}' && cd '${he.posix.dirname(c)}' && ls -td *[^_]????????????? | tail -n +10 | xargs rm -rf`)})().catch(console.error)),await u,{serverDownloaded:!h}}function RSe(t,e){let n=t.version;if(e.minVersion&&n){let r=dh(n.trim());if(r&&ph(r,e.minVersion)){let i=gh.t("{0} {1} or later required.",e.label,e.minVersion.join("."));throw new ge({description:i,data:{reload:!1}})}}}async function Nx(t){let{build:e,commit:n,quality:r,web:i,output:o}=t,s="Downloading VS Code Server",a=o.start(s);o.write(`${n} ${e.id} ${r} ${i?"web":""}`);let u=oh(t);await vs(he.dirname(u));let c=`https://update.code.visualstudio.com/commit:${n}/server-${e.id}${i?"-web":""}/${r}`;try{let l=`${u}_${Date.now()}`;await new Promise((f,d)=>{let p=e0.createWriteStream(l);o.write("Starting download.",1),T7.https.get(c,h=>{if(h.statusCode<200||h.statusCode>299){o.write(`Download failed: ${h.statusCode} ${h.statusMessage}.`,1),d(new ge({description:gh.t("Downloading the VS Code Server failed. Please try again later."),originalError:`Failed to download VS Code Server (${c}): HTTP ${h.statusCode} - ${h.statusMessage}`}));return}o.write("Downloading data.",1),h.on("error",d),h.pipe(p),h.on("end",f)}).on("error",d)}),await oc(l,u)}catch(l){if(o.write("Downloading failed.",1),o.write((l==null?void 0:l.stack)||(l==null?void 0:l.message)||String(l),1),t.alternateDownload){o.write(l&&(l.originalError||l.message)),o.write("Retrying to download VS Code Server.");let f=`${u}_${Date.now()}`;await t.alternateDownload(c,f),await oc(f,u)}else throw l||new ge({description:gh.t("Downloading the VS Code Server failed. Please try again later.")})}finally{o.stop(s,a)}}async function Ax(t,e,n,r,i,o=!0){let s="Installing VS Code Server",a=t.output.start(s),u=`${r}_${Date.now()}`;try{if(await e.exec(`mkdir -p ${u}`),i)typeof n=="string"&&n.endsWith(".zip")?await e.exec(`unzip ${n} -d ${u}`):await e.exec(`cat ${n} | tar --no-same-owner -x${o?"z":""} -C ${u}`);else{let c=typeof n=="string"?await st(n):n;await e.exec(`${vL(c.byteLength)} | tar --no-same-owner -x${o?"z":""} -C ${u}`,{stdin:c})}await e.exec(`mv -n ${he.posix.join(u,"*",".")} ${r} && rmdir ${u}`)}catch(c){try{await e.exec(`rm -rf ${u}`)}catch{}throw c}finally{t.output.stop(s,a)}}async function C7(t){let{localCacheFolder:e,build:n,commit:r,quality:i,web:o,output:s}=t,a="Unpacking VS Code Server",u=s.start(a);s.write(`${r} ${n.id} ${i} ${o?"web":""}`);let c=await R7(he,e,n,r,i,o),l=`${c}_${Date.now()}`;try{await vs(l);let f=oh(t);await(await Dc(void 0)({cmd:"tar",args:["--no-same-owner","-xzf",f,"--strip-components","1","-C",l],cwd:process.cwd(),output:s})).exit,await Au(c,{recursive:!0,force:!0}),await oc(l,c)}catch(f){try{await Au(l,{recursive:!0,force:!0})}catch{}throw f}finally{s.stop(a,u)}}function oh(t){let{localCacheFolder:e,build:n,commit:r,quality:i,web:o}=t,s=he.join(e,"serverCache",r),a=`vscode-server-${n.id}${i==="stable"?"":`-${i}`}${o?"-web":""}${n.archiveExt||".tar.gz"}`;return he.join(s,a)}async function D7(t,e){let n=await F7(e),r={VSCODE_AGENT_FOLDER:e.userDataFolder},{stdout:i}=await Oc(t,e,[he.posix.join(e.installFolder,...pS(n)),...M7(e.userDataFolder),...U7(t.getTelemetryLevel()),"--list-extensions"],e.installFolder,{remoteEnv:r});return i.toString().split(`
`).filter(o=>!!o)}async function ASe(t,e,n,r){let i="Preparing Extensions",o=t.output.start(i),{sharedDataFolder:s}=e,a=s?MSe(s):void 0,u=k7(e),c=await kSe(t,e,n);if(e.sharedDataFolderIsLocalCacheFolder)await e.shellServer.exec(`mkdir -p '${a}' && ln -s -T '${a}' '${u}' || true`),e.launchRootShellServer&&await(await e.launchRootShellServer()).exec(`chown -R ${e.user} ${a}`);else{let f=FSe(t.localCacheFolder),d=await OSe(t,e,f,a,u,[...c.builtinExtensions,...c.extensions]);NSe(t,e,f,a,u,d).catch(console.error)}c.extensions=c.extensions.filter(f=>!c.builtinExtensions.includes(f)),t.product.version&&I7.lte("1.77.0",t.product.version.split("-")[0])&&(t.output.write(`Optimizing extensions for quality: ${t.product.quality}`),c.builtinExtensions=await DSe(t,e,u,c.builtinExtensions));let l=[].concat(...c.builtinExtensions.map(f=>["--install-builtin-extension",f]),...c.extensions.map(f=>["--install-extension",f]));return r&&l.length&&l.push("--do-not-sync"),t.output.stop(i,o),{...c,args:l}}async function DSe(t,e,n,r){if(r.length===0)return r;let{shellServer:i}=e,o=(await i.exec(`test -d ${n} && ls ${n} || true`)).stdout.trim().split(`
`).filter(a=>!!a&&a.endsWith("vsix"));t.output.write(`Available vsix: ${o.join(", ")||"None"}`);let s=r.map(a=>{let u=o.find(c=>c.startsWith(a.toLocaleLowerCase()));return u?`${n}/${u}`:a});return t.output.write(`Optimized extensions to install: ${s.join(", ")||"None"}`),s}async function kSe(t,e,n){let r=wa(e),i=he.posix.join(r,".installExtensionsMarker"),o=!await L7(e.shellServer,i),s=o?[]:t.installBuiltinExtensions||[],a=await t.getAdditionalExtensionsToInstall(o),u=o?[]:await n();for(let c of a)u.indexOf(c)===-1&&u.push(c);return{builtinExtensions:s,extensions:u}}async function OSe(t,e,n,r,i,o){t.output.write(`Extensions cache, install extensions: ${o.join(", ")||"None"}`);let{shellServer:s}=e,a=(await s.exec(`test -d ${i} && ls ${i} || true`)).stdout.trim().split(`
`).filter(u=>!!u);if(r){let u=(await s.exec(`test -d ${r} && ls ${r} || true`)).stdout.trim().split(`
`).filter(l=>!!l),c=u.filter(l=>o.some(f=>l.toLowerCase().startsWith(f.toLowerCase()))&&a.indexOf(l)===-1);if(t.output.write(`Extensions cache, link in container: ${c.join(", ")||"None"}`),c.length){await s.exec(`mkdir -p '${i}' && ln -s '${r}'/* '${i}' || true`);let{launchRootShellServer:l}=e;l&&(async()=>{await(await l()).exec(`cd ${r} && touch ${c.map(d=>`'${d}'`).join(" ")}`)})().catch(console.error)}return{remoteExtensions:[...new Set([...a,...u])],cachedExtensions:u}}else{await vs(n);let u=await Ru(n),c=u.filter(l=>o.some(f=>l.toLowerCase().startsWith(f.toLowerCase()))&&a.indexOf(l)===-1);if(t.output.write(`Extensions cache, copy to remote: ${c.join(", ")||"None"}`),c.length){let l=he.basename(n),f=il.c({cwd:he.dirname(n)},c.map(m=>he.join(l,m))),d=he.posix.join(i,`tmp-${Date.now()}`),p=await new Promise(m=>{let h=[];f.on("data",g=>h.push(g)),f.on("end",()=>m(Buffer.concat(h)))});await s.exec(`# Copy extensions to remote
mkdir -p ${d}
${vL(p.byteLength)} | tar --no-same-owner -x --strip-components 1 -C ${d}
mv ${d}/* ${i} && rmdir ${d}`,{stdin:p})}return{remoteExtensions:a.concat(c),cachedExtensions:u}}}async function NSe(t,e,n,r,i,o){if(r&&!e.launchRootShellServer)return;let s=1e4,a=6e4;for(await $o(s);;)o=await LSe(t,e,n,r,i,o),await $o(a)}async function LSe(t,e,n,r,i,{remoteExtensions:o,cachedExtensions:s}){let{shellServer:a,launchRootShellServer:u,remoteExec:c}=e,l=(await a.exec(`ls ${i} || true`,{logOutput:"silent"})).stdout.trim().split(`
`).filter(d=>!!d);if(!r){let d=o.filter(p=>l.indexOf(p)===-1);t.output.write(`Extensions cache, remote removals: ${d.join(", ")||"None"}`);for(let p of d)try{await tV(he.join(n,p))}catch(m){if(!(m&&m.code==="ENOENT"))throw m}}let f=l.filter(d=>o.indexOf(d)===-1&&s.indexOf(d)===-1);if(t.output.write(`Extensions cache, copy to ${r?"shared cache":"local"}: ${f.join(", ")||"None"}`,1),f.length)if(r){let d=await u();await d.exec(`mkdir -p '${r}' && cd '${i}' && cp ${f.map(p=>`'${p}'`).join(" ")} '${r}'`),await d.exec(`cd '${r}' && ls -t | tail -n +50 | xargs rm -f`)}else{let d=he.posix.basename(i),p=await c({cmd:"tar",cwd:he.posix.dirname(i),args:["c",...f.map(v=>he.posix.join(d,v))],output:t.output}),m=he.join(he.dirname(n),`${he.basename(n)}-${Date.now()}`);await vs(m);let h=il.x({cwd:m,strip:1}),g=new Promise((v,x)=>{h.on("error",x),h.on("finish",v)});p.stdout.pipe(h),await g;for(let v of await Ru(m))await oc(he.join(m,v),he.join(n,v));await nV(m)}return{remoteExtensions:l,cachedExtensions:s}}var gL="extensionsCache";function FSe(t){return he.join(t,gL)}function MSe(t){return he.posix.join(t,gL)}function k7(t){return he.posix.join(t.userDataFolder,gL)}var O7={x64:{label:"x86-64",id:"linux-x64",arch:"x64",stable:!0,preview:!1},armhf:{label:"ARM",id:"linux-armhf",arch:"armhf",stable:!0,preview:!0},arm64:{label:"ARM64",id:"linux-arm64",arch:"arm64",stable:!0,preview:!0}},N7={x64:{label:"Alpine Linux",id:"linux-alpine",arch:"x64",stable:!0,preview:!0,minVersion:[3,9]},arm64:{label:"Alpine Linux ARM64",id:"alpine-arm64",arch:"arm64",stable:!0,preview:!0,minVersion:[3,9]}},TS={x64:{label:"Mac",id:"darwin",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},arm64:{label:"Mac ARM",id:"darwin-arm64",arch:"arm64",stable:!0,preview:!0,archiveExt:".zip"}},USe={x64:{label:"Windows",id:"win32-x64",arch:"x64",stable:!0,preview:!0,archiveExt:".zip"},arm64:{label:"Windows ARM",id:"win32-arm64",arch:"arm64",stable:!0,preview:!0,archiveExt:".zip"}},qSe={linux:O7,alpine:N7,darwin:TS,win32:USe},jSe={x86_64:"x64",armv7l:"armhf",arm64:"arm64",aarch64:"arm64"};function AS(t,e){var i;let n=jSe[t.hardware],r=n&&(((i=qSe[t.id])==null?void 0:i[n])||O7[n]);if(!r||e&&!r.stable)throw new ge({description:t.id==="alpine"?gh.t("Alpine Linux is not supported on the hardware architecture '{0}' of the container.",t.hardware):gh.t("The hardware architecture '{0}' of the container is not supported.",t.hardware),data:{learnMoreUrl:"https://aka.ms/vscode-remote/linux",reload:!1}});return r}async function tL(t){let e="unknown",n="unknown",r="unknown";try{e=(await t.exec("uname -m")).stdout.trim();let{stdout:i}=await t.exec("(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null");n=(i.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",r=(i.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(i){console.error(i)}return{hardware:e,id:n,version:r}}async function HSe(t,e,n,r){let i=await Vn(n,{async win32(){var a;return{amd64:"x86_64",arm64:"arm64"}[((a=e.PROCESSOR_ARCHITECTURE)==null?void 0:a.toLowerCase())||""]||"unknown"},async posix(){return(await ae({exec:t,cmd:"uname",args:["-m"],output:r})).stdout.toString().trim()}})(),o=n,s="unknown";if(n==="linux")try{let a=(await ae({exec:t,cmd:"/bin/sh",args:["(cat /etc/os-release || cat /usr/lib/os-release) 2>/dev/null"],output:r})).stdout.toString();o=(a.match(/^ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound",s=(a.match(/^VERSION_ID=([^\u001b\r\n]*)/m)||[])[1]||"notfound"}catch(a){console.error(a)}return{hardware:i,id:o,version:s}}async function L7(t,e){try{return await t.exec(KS(e)),!0}catch{return!1}}function KS(t){return`test ! -f '${t}' && set -o noclobber && mkdir -p '${he.posix.dirname(t)}' && { > '${t}' ; } 2> /dev/null`}async function ZS(t,e){try{return await $Se(t,e),!0}catch{return!1}}async function $Se(t,e){return t.exec(`test -d ${e}`)}async function BSe(t,e,n,r,i,o,s,a){let{userDataFolder:u,installFolder:c,sharedInstallFolder:l,shellServer:f}=e,{processes:d,mntNS:p}=await kN(f),m=await F7(e),h=`(${he.posix.join(...pS(m))})`.replace(".","\\."),g=new RegExp(`${he.posix.join(he.posix.dirname(c).replace(".","\\."),"[^/]*",h)}`),v=d.filter(L=>L.mntNS===p&&g.test(L.cmd));t.output.write(`Running extension host agents:
${JSON.stringify(v,void 0,"  ")}`,1);let{current:x,others:y}=v.reduce((L,H)=>(L[(H.cwd===c||H.cwd===l)&&g.test(H.cmd)?"current":"others"].push(H),L),{current:[],others:[]});if(s&&y.length){t.output.write(`Terminating old extension host agent.\r
`);try{await f.exec(`kill -9 ${y.map(L=>L.pgrp?`-${L.pgrp}`:L.pid).join(" ")}`)}catch{}}let{commit:w,quality:_}=t.product,T=he.posix.join(wa(e),`.connection-token-${w}${_==="stable"?"":`-${_}`}${t.web?"-web":""}`),P=he.posix.join(wa(e),`.devport-${w}${_==="stable"?"":`-${_}`}${t.web?"-web":""}`);if(x.length){t.output.write(`Extension host agent is already running.\r
`);try{let{stdout:L}=await f.exec(`cat '${P}' 2>/dev/null`),H=L.toString().trim(),$=parseInt(H,10),V=new RegExp(" '?--connection-token-file'? ").test(x[0].cmd)?(await f.exec(`cat '${T}'`)).stdout.toString().trim():void 0;return{serverPort:$,connectionToken:V}}catch(L){console.error(L),t.output.write(`Agent port not found. Terminating old extension host agent.\r
`);try{await f.exec(`kill -9 ${x.map(H=>H.pgrp?`-${H.pgrp}`:H.pid).join(" ")}`)}catch{}}}let E="isLocalContainer"in t&&t.isLocalContainer,C=`${T}-${QS.randomUUID()}`,{stdout:S}=await f.exec(`cat '${T}' 2>/dev/null || (umask 377 && echo '${QS.randomUUID()}' >'${C}' && mv -n '${C}' '${T}' && rm -f '${C}' && cat '${T}')`),I=S.toString().trim();t.progress(5);let R="Starting VS Code Server",D=t.output.start(R),A=[he.posix.join(c,...pS(m)),"--log",Ro(t.getLogLevel()),"--force-disable-user-env",...M7(e.userDataFolder),...VSe(E),...U7(t.getTelemetryLevel()),"--accept-server-license-terms","--host","127.0.0.1","--port",String(n),"--connection-token-file",T,"--extensions-download-dir",k7(e),...(await i()).args,"--start-server",...E?["--disable-websocket-compression"]:[""],...a?["--enable-remote-auto-shutdown"]:[]],N={SHELL:e.shell,VSCODE_AGENT_FOLDER:u,...await o};delete N.NODE_OPTIONS;let M=(await Oc(t,{remoteExec:e.remoteExec},A,c,{remoteEnv:N,resolveOn:b7,print:"continuous"})).cmdOutput;t.output.stop(R,D);let j=(b7.exec(M)||[])[1];if(!j)throw new Error("Port not found");return await f.exec(`echo ${j} >'${P}'`),{serverPort:parseInt(j,10),connectionToken:I}}async function F7({shellServer:t,installFolder:e}){return JSON.parse((await t.exec(`cat '${he.posix.join(e,"product.json")}'`,{logOutput:!1})).stdout.toString().trim())}function M7(t){return["--server-data-dir",t]}function VSe(t){return t?["--use-host-proxy"]:[]}function U7(t){return t?["--telemetry-level",t]:[]}var WSe=/^([a-z0-9\-]+):(\d{1,5})$/;function GSe(t){let e=t.match(WSe);if(!(!e||e.length!==3))return{host:e[1],port:Number(e[2])}}async function zSe(t,e,n){let r=(n.forwardPorts||[]).map(o=>typeof o=="number"?`localhost:${o}`:o).map(GSe).filter(Boolean),i=await t.getTunnels();await Promise.all(r.filter(o=>!i.find(s=>s.remoteAddress.host===o.host&&s.remoteAddress.port===o.port)).map(async({host:o,port:s})=>t.openTunnel(e,s,o)))}async function Oc(t,{remoteExec:e},n,r,i={}){let o=i.print||(i.silent?"off":"end"),s=await e({env:i.remoteEnv,cwd:r,cmd:n[0],args:n.slice(1),output:i.silent?Re:t.output}),a=[],u=[],c=new hL.StringDecoder,l=new hL.StringDecoder,f="",d="",p,m,h=new Promise((w,_)=>{p=w,m=_});s.stdout.on("data",w=>{a.push(w);let _=c.write(w);o==="continuous"&&t.output.write(_.replace(/\r?\n/g,`\r
`)),f+=_,i.resolveOn&&i.resolveOn.exec(f)&&p()}),s.stderr.on("data",w=>{u.push(w),d+=l.write(w)}),i.stdin instanceof Buffer?(s.stdin.write(i.stdin,w=>{w&&m(w)}),s.stdin.end()):i.stdin instanceof e0.ReadStream&&i.stdin.pipe(s.stdin);let g=await Promise.race([s.exit,h]),v=Buffer.concat(a),x=Buffer.concat(u);o==="end"&&(t.output.write(f.replace(/\r?\n/g,`\r
`)),t.output.write(pt(d)));let y=`${f}
${d}`;return g&&(g.code||g.signal)?Promise.reject({message:`Command failed: ${n.join(" ")}`,cmdOutput:y,stdout:v,stderr:x,code:g.code,signal:g.signal}):{cmdOutput:y,stdout:v,stderr:x}}function vL(t){let n=t%8192;return`(dd iflag=fullblock bs=8192 count=${(t-n)/8192} 2>/dev/null; dd iflag=fullblock bs=${n} count=1 2>/dev/null)`}async function dd(t,e,n,r){let i=XSe(n,t);if(!i||i==="none")return{};let o=await YSe(i,t,e.shellServer);return o||(t.output.write("userEnvProbe: not found in cache"),o=await S7(i,t,e,r,"cat /proc/self/environ","\0"),o||(t.output.write("userEnvProbe: falling back to printenv"),o=await S7(i,t,e,r,"printenv",`
`)),o&&await KSe(o,i,t,e.shellServer),o||{})}async function YSe(t,e,n){if(!n||!e.containerSessionDataFolder)return;let r=q7(t,e.containerSessionDataFolder);try{if(await RS(n,r)){let{stdout:i}=await n.exec(`cat '${r}'`);return JSON.parse(i)}}catch(i){e.output.write(`Failed to read/parse user env cache: ${i}`,5)}}async function KSe(t,e,n,r){if(!r||!n.containerSessionDataFolder)return;let i=q7(e,n.containerSessionDataFolder);try{await r.exec(`mkdir -p '${he.posix.dirname(i)}' && cat > '${i}' << 'envJSON'
${JSON.stringify(t,null,"	")}
envJSON
`)}catch(o){n.output.write(`Failed to cache user env: ${o}`,5)}}function q7(t,e){return he.posix.join(e,`env-${t}.json`)}async function S7(t,e,n,r,i,o){var s;if(t==="none")return{};try{let a=QS.randomUUID(),u=new RegExp(a+"([^]*)"+a),c=n.shell;e.output.write(`userEnvProbe shell: ${c}`);let l=he.posix.basename(c),f=`echo -n ${a}; ${i}; echo -n ${a}`,d;/^pwsh(-preview)?$/.test(l)?d=t==="loginInteractiveShell"||t==="loginShell"?["-Login","-Command"]:["-Command"]:d=[t==="loginInteractiveShell"?"-lic":t==="loginShell"?"-lc":t==="interactiveShell"?"-ic":"-c"];let p=Xr(e.output,1),m=Oc({output:p},{remoteExec:await r||n.remoteExec},[c,...d,f],n.installFolder);Promise.race([m,$o(2e3)]).then(async P=>{if(!P){let E,C=n.shellServer||await Bn(n.remoteExec,e.output);try{({processes:E}=await kN(C))}finally{n.shellServer||await C.process.terminate()}let S=E.find(I=>I.cmd.startsWith(c)&&I.cmd.indexOf(a)!==-1);if(S){let R=u8(E)[S.pid];e.output.write(`userEnvProbe is taking longer than 2 seconds. Process tree:
${ON(R)}`)}else e.output.write("userEnvProbe is taking longer than 2 seconds. Process not found.")}},()=>{}).catch(P=>e.output.write(pt(P&&(P.stack||P.message)||"Error reading process tree.")));let h=await Promise.race([m,$o(1e4)]);if(!h)return e.output.write(pt("userEnvProbe is taking longer than 10 seconds. Avoid waiting for user input in your shell's startup scripts. Continuing.")),{};let g=h.stdout.toString(),v=u.exec(g),x=v?v[1]:"";if(!x||x.trim()==="-n")return;let y=x.split(o).reduce((P,E)=>{let C=E.indexOf("=");return C!==-1&&(P[E.substring(0,C)]=E.substring(C+1)),P},{});e.output.write(`userEnvProbe parsed: ${JSON.stringify(y,void 0,"  ")}`,1),delete y.PWD;let w=y.PATH,_=(s=n.env)==null?void 0:s.PATH,T=!(e.allowSystemConfigChange&&n.launchRootShellServer)&&w&&_;if(T){let P=n.user;y.PATH=QSe(w,_,P==="root"||P==="0")}return e.output.write(`userEnvProbe PATHs:
Probe:     ${typeof w=="string"?`'${w}'`:"None"}
Container: ${typeof _=="string"?`'${_}'`:"None"}${T?`
Merged:    ${typeof y.PATH=="string"?`'${y.PATH}'`:"None"}`:""}`),y}catch(a){return e.output.write(pt(a&&(a.stack||a.message)||"Error reading shell environment.")),{}}}function XSe(t,e){let n=t==null?void 0:t.userEnvProbe;return e.output.write(`userEnvProbe: ${n||e.defaultUserEnvProbe}${n?"":" (default)"}`),n||(n=e.defaultUserEnvProbe),n}function QSe(t,e,n){let r=t.split(":"),i=0;for(let o of e.split(":")){let s=r.indexOf(o);s===-1?(n||!/\/sbin(\/|$)/.test(o))&&r.splice(i++,0,o):i=s+1}return r.join(":")}async function j7(t){for(let e of t)await(typeof e=="function"?e():e)}async function H7(t){let{localCacheFolder:e,output:n,alternateDownload:r,exec:i,env:o,isFile:s,userDataFolder:a,homeFolder:u,product:c,platform:l}=t,f=c.commit||await Ix(c.quality),d=c.commit?c.quality||"insider":"stable",p=l==="win32"?he.win32:he.posix,m=p.join(a,"bin",f);if(await XS(l,m,s))return pd(l,m);let h=`${d.substring(0,1).toUpperCase()}${d.substring(1)}${d==="insider"?"s":""}-${f}`,g=p.join(Ox(p,u,c),"cli","servers",h,"server");if(await XS(l,g,s))return pd(l,g);let v=p.join(_Se(p,u,c),"cli","servers",h,"server");if(await XS(l,v,s))return pd(l,v);let x=p.join(Ox(p,u,c),"bin",f);if(await XS(l,x,s))return pd(l,x);let y=await HSe(i,o,l,n),w=AS(y,!1),_={localCacheFolder:e,build:w,commit:f,quality:d,web:!1,output:n,alternateDownload:r},T=oh(_);await fr(T)||await Nx(_);let P=T.endsWith(".zip")?await ZSe(T):await JSe(T);return await QY(i,l,P,m,!1,n),pd(l,m)}async function XS(t,e,n){let r=pd(t,e),o=(t==="win32"?he.win32:he.posix).join(e,"node_modules","node-pty","package.json");return await n(r)&&await n(o)}async function JSe(t){let e=[];return await il.t({file:t,filter:n=>/^[^/]*\/(LICENSE$|node$|node_modules\/node-pty\/)/.test(n),onentry:n=>{new il.WriteEntry.Tar(n).on("data",i=>e.push(i))}}),Buffer.concat(e)}async function ZSe(t){let e=await st(t),n=await new Promise((i,o)=>{X4(e,{filter:s=>/^[^/]*\/(LICENSE$|node(\.exe)?$|node_modules\/node-pty\/)/.test(s.name)},(s,a)=>{s?o(s):i(a)})}),r=P7.pack();for(let i in n)i.endsWith("/")||r.entry({name:i},n[i]);return r.finalize(),r}var MK=B(require("crypto")),Qx=B(require("path"));function rK(t){return typeof t>"u"||t===null}function e0e(t){return typeof t=="object"&&t!==null}function t0e(t){return Array.isArray(t)?t:rK(t)?[]:[t]}function n0e(t,e){var n,r,i,o;if(e)for(o=Object.keys(e),n=0,r=o.length;n<r;n+=1)i=o[n],t[i]=e[i];return t}function r0e(t,e){var n="",r;for(r=0;r<e;r+=1)n+=t;return n}function i0e(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var o0e=rK,s0e=e0e,a0e=t0e,c0e=r0e,u0e=i0e,l0e=n0e,Wn={isNothing:o0e,isObject:s0e,toArray:a0e,repeat:c0e,isNegativeZero:u0e,extend:l0e};function iK(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),r+" "+n):r}function Hx(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=iK(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Hx.prototype=Object.create(Error.prototype);Hx.prototype.constructor=Hx;Hx.prototype.toString=function(e){return this.name+": "+iK(this,e)};var Ti=Hx;function yL(t,e,n,r,i){var o="",s="",a=Math.floor(i/2)-1;return r-e>a&&(o=" ... ",e=r-a+o.length),n-r>a&&(s=" ...",n=r+a-s.length),{str:o+t.slice(e,n).replace(/\t/g,"\u2192")+s,pos:r-e+o.length}}function xL(t,e){return Wn.repeat(" ",e-t.length)+t}function f0e(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,r=[0],i=[],o,s=-1;o=n.exec(t.buffer);)i.push(o.index),r.push(o.index+o[0].length),t.position<=o.index&&s<0&&(s=r.length-2);s<0&&(s=r.length-1);var a="",u,c,l=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+l+3);for(u=1;u<=e.linesBefore&&!(s-u<0);u++)c=yL(t.buffer,r[s-u],i[s-u],t.position-(r[s]-r[s-u]),f),a=Wn.repeat(" ",e.indent)+xL((t.line-u+1).toString(),l)+" | "+c.str+`
`+a;for(c=yL(t.buffer,r[s],i[s],t.position,f),a+=Wn.repeat(" ",e.indent)+xL((t.line+1).toString(),l)+" | "+c.str+`
`,a+=Wn.repeat("-",e.indent+l+3+c.pos)+`^
`,u=1;u<=e.linesAfter&&!(s+u>=i.length);u++)c=yL(t.buffer,r[s+u],i[s+u],t.position-(r[s]-r[s+u]),f),a+=Wn.repeat(" ",e.indent)+xL((t.line+u+1).toString(),l)+" | "+c.str+`
`;return a.replace(/\n$/,"")}var d0e=f0e,p0e=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],m0e=["scalar","sequence","mapping"];function h0e(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(r){e[String(r)]=n})}),e}function g0e(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(p0e.indexOf(n)===-1)throw new Ti('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=h0e(e.styleAliases||null),m0e.indexOf(this.kind)===-1)throw new Ti('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Ur=g0e;function $7(t,e){var n=[];return t[e].forEach(function(r){var i=n.length;n.forEach(function(o,s){o.tag===r.tag&&o.kind===r.kind&&o.multi===r.multi&&(i=s)}),n[i]=r}),n}function v0e(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function r(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(r);return t}function EL(t){return this.extend(t)}EL.prototype.extend=function(e){var n=[],r=[];if(e instanceof Ur)r.push(e);else if(Array.isArray(e))r=r.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(r=r.concat(e.explicit));else throw new Ti("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof Ur))throw new Ti("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Ti("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Ti("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),r.forEach(function(o){if(!(o instanceof Ur))throw new Ti("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(EL.prototype);return i.implicit=(this.implicit||[]).concat(n),i.explicit=(this.explicit||[]).concat(r),i.compiledImplicit=$7(i,"implicit"),i.compiledExplicit=$7(i,"explicit"),i.compiledTypeMap=v0e(i.compiledImplicit,i.compiledExplicit),i};var y0e=EL,x0e=new Ur("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),w0e=new Ur("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),E0e=new Ur("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),_0e=new y0e({explicit:[x0e,w0e,E0e]});function b0e(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function C0e(){return null}function S0e(t){return t===null}var T0e=new Ur("tag:yaml.org,2002:null",{kind:"scalar",resolve:b0e,construct:C0e,predicate:S0e,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function I0e(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function P0e(t){return t==="true"||t==="True"||t==="TRUE"}function R0e(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var A0e=new Ur("tag:yaml.org,2002:bool",{kind:"scalar",resolve:I0e,construct:P0e,predicate:R0e,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function D0e(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function k0e(t){return 48<=t&&t<=55}function O0e(t){return 48<=t&&t<=57}function N0e(t){if(t===null)return!1;var e=t.length,n=0,r=!1,i;if(!e)return!1;if(i=t[n],(i==="-"||i==="+")&&(i=t[++n]),i==="0"){if(n+1===e)return!0;if(i=t[++n],i==="b"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(i!=="0"&&i!=="1")return!1;r=!0}return r&&i!=="_"}if(i==="x"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!D0e(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}if(i==="o"){for(n++;n<e;n++)if(i=t[n],i!=="_"){if(!k0e(t.charCodeAt(n)))return!1;r=!0}return r&&i!=="_"}}if(i==="_")return!1;for(;n<e;n++)if(i=t[n],i!=="_"){if(!O0e(t.charCodeAt(n)))return!1;r=!0}return!(!r||i==="_")}function L0e(t){var e=t,n=1,r;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),r=e[0],(r==="-"||r==="+")&&(r==="-"&&(n=-1),e=e.slice(1),r=e[0]),e==="0")return 0;if(r==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function F0e(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Wn.isNegativeZero(t)}var M0e=new Ur("tag:yaml.org,2002:int",{kind:"scalar",resolve:N0e,construct:L0e,predicate:F0e,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),U0e=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function q0e(t){return!(t===null||!U0e.test(t)||t[t.length-1]==="_")}function j0e(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var H0e=/^[-+]?[0-9]+e/;function $0e(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Wn.isNegativeZero(t))return"-0.0";return n=t.toString(10),H0e.test(n)?n.replace("e",".e"):n}function B0e(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Wn.isNegativeZero(t))}var V0e=new Ur("tag:yaml.org,2002:float",{kind:"scalar",resolve:q0e,construct:j0e,predicate:B0e,represent:$0e,defaultStyle:"lowercase"}),W0e=_0e.extend({implicit:[T0e,A0e,M0e,V0e]}),G0e=W0e,oK=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),sK=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function z0e(t){return t===null?!1:oK.exec(t)!==null||sK.exec(t)!==null}function Y0e(t){var e,n,r,i,o,s,a,u=0,c=null,l,f,d;if(e=oK.exec(t),e===null&&(e=sK.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(o=+e[4],s=+e[5],a=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(l=+e[10],f=+(e[11]||0),c=(l*60+f)*6e4,e[9]==="-"&&(c=-c)),d=new Date(Date.UTC(n,r,i,o,s,a,u)),c&&d.setTime(d.getTime()-c),d}function K0e(t){return t.toISOString()}var X0e=new Ur("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:z0e,construct:Y0e,instanceOf:Date,represent:K0e});function Q0e(t){return t==="<<"||t===null}var J0e=new Ur("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Q0e}),TL=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Z0e(t){if(t===null)return!1;var e,n,r=0,i=t.length,o=TL;for(n=0;n<i;n++)if(e=o.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;r+=6}return r%8===0}function eTe(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,o=TL,s=0,a=[];for(e=0;e<i;e++)e%4===0&&e&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(r.charAt(e));return n=i%4*6,n===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):n===18?(a.push(s>>10&255),a.push(s>>2&255)):n===12&&a.push(s>>4&255),new Uint8Array(a)}function tTe(t){var e="",n=0,r,i,o=t.length,s=TL;for(r=0;r<o;r++)r%3===0&&r&&(e+=s[n>>18&63],e+=s[n>>12&63],e+=s[n>>6&63],e+=s[n&63]),n=(n<<8)+t[r];return i=o%3,i===0?(e+=s[n>>18&63],e+=s[n>>12&63],e+=s[n>>6&63],e+=s[n&63]):i===2?(e+=s[n>>10&63],e+=s[n>>4&63],e+=s[n<<2&63],e+=s[64]):i===1&&(e+=s[n>>2&63],e+=s[n<<4&63],e+=s[64],e+=s[64]),e}function nTe(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var rTe=new Ur("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Z0e,construct:eTe,predicate:nTe,represent:tTe}),iTe=Object.prototype.hasOwnProperty,oTe=Object.prototype.toString;function sTe(t){if(t===null)return!0;var e=[],n,r,i,o,s,a=t;for(n=0,r=a.length;n<r;n+=1){if(i=a[n],s=!1,oTe.call(i)!=="[object Object]")return!1;for(o in i)if(iTe.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(e.indexOf(o)===-1)e.push(o);else return!1}return!0}function aTe(t){return t!==null?t:[]}var cTe=new Ur("tag:yaml.org,2002:omap",{kind:"sequence",resolve:sTe,construct:aTe}),uTe=Object.prototype.toString;function lTe(t){if(t===null)return!0;var e,n,r,i,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1){if(r=s[e],uTe.call(r)!=="[object Object]"||(i=Object.keys(r),i.length!==1))return!1;o[e]=[i[0],r[i[0]]]}return!0}function fTe(t){if(t===null)return[];var e,n,r,i,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1)r=s[e],i=Object.keys(r),o[e]=[i[0],r[i[0]]];return o}var dTe=new Ur("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:lTe,construct:fTe}),pTe=Object.prototype.hasOwnProperty;function mTe(t){if(t===null)return!0;var e,n=t;for(e in n)if(pTe.call(n,e)&&n[e]!==null)return!1;return!0}function hTe(t){return t!==null?t:{}}var gTe=new Ur("tag:yaml.org,2002:set",{kind:"mapping",resolve:mTe,construct:hTe}),aK=G0e.extend({implicit:[X0e,J0e],explicit:[rTe,cTe,dTe,gTe]}),al=Object.prototype.hasOwnProperty,o0=1,cK=2,uK=3,s0=4,wL=1,vTe=2,B7=3,yTe=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,xTe=/[\x85\u2028\u2029]/,wTe=/[,\[\]\{\}]/,lK=/^(?:!|!!|![a-z\-]+!)$/i,fK=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function V7(t){return Object.prototype.toString.call(t)}function Ea(t){return t===10||t===13}function gd(t){return t===9||t===32}function Ii(t){return t===9||t===32||t===10||t===13}function yh(t){return t===44||t===91||t===93||t===123||t===125}function ETe(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function _Te(t){return t===120?2:t===117?4:t===85?8:0}function bTe(t){return 48<=t&&t<=57?t-48:-1}function W7(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}function CTe(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var dK=new Array(256),pK=new Array(256);for(hd=0;hd<256;hd++)dK[hd]=W7(hd)?1:0,pK[hd]=W7(hd);var hd;function STe(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||aK,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function mK(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=d0e(n),new Ti(e,n)}function ve(t,e){throw mK(t,e)}function a0(t,e){t.onWarning&&t.onWarning.call(null,mK(t,e))}var G7={YAML:function(e,n,r){var i,o,s;e.version!==null&&ve(e,"duplication of %YAML directive"),r.length!==1&&ve(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(r[0]),i===null&&ve(e,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&ve(e,"unacceptable YAML version of the document"),e.version=r[0],e.checkLineBreaks=s<2,s!==1&&s!==2&&a0(e,"unsupported YAML version of the document")},TAG:function(e,n,r){var i,o;r.length!==2&&ve(e,"TAG directive accepts exactly two arguments"),i=r[0],o=r[1],lK.test(i)||ve(e,"ill-formed tag handle (first argument) of the TAG directive"),al.call(e.tagMap,i)&&ve(e,'there is a previously declared suffix for "'+i+'" tag handle'),fK.test(o)||ve(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{ve(e,"tag prefix is malformed: "+o)}e.tagMap[i]=o}};function sl(t,e,n,r){var i,o,s,a;if(e<n){if(a=t.input.slice(e,n),r)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||ve(t,"expected valid JSON character");else yTe.test(a)&&ve(t,"the stream contains non-printable characters");t.result+=a}}function z7(t,e,n,r){var i,o,s,a;for(Wn.isObject(n)||ve(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(n),s=0,a=i.length;s<a;s+=1)o=i[s],al.call(e,o)||(e[o]=n[o],r[o]=!0)}function xh(t,e,n,r,i,o,s,a,u){var c,l;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,l=i.length;c<l;c+=1)Array.isArray(i[c])&&ve(t,"nested arrays are not supported inside keys"),typeof i=="object"&&V7(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&V7(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),r==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,l=o.length;c<l;c+=1)z7(t,e,o[c],n);else z7(t,e,o,n);else!t.json&&!al.call(n,i)&&al.call(e,i)&&(t.line=s||t.line,t.lineStart=a||t.lineStart,t.position=u||t.position,ve(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[i]=o,delete n[i];return e}function IL(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):ve(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Dn(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);i!==0;){for(;gd(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(Ea(i))for(IL(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return n!==-1&&r!==0&&t.lineIndent<n&&a0(t,"deficient indentation"),r}function l0(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||Ii(n)))}function PL(t,e){e===1?t.result+=" ":e>1&&(t.result+=Wn.repeat(`
`,e-1))}function TTe(t,e,n){var r,i,o,s,a,u,c,l,f=t.kind,d=t.result,p;if(p=t.input.charCodeAt(t.position),Ii(p)||yh(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=t.input.charCodeAt(t.position+1),Ii(i)||n&&yh(i)))return!1;for(t.kind="scalar",t.result="",o=s=t.position,a=!1;p!==0;){if(p===58){if(i=t.input.charCodeAt(t.position+1),Ii(i)||n&&yh(i))break}else if(p===35){if(r=t.input.charCodeAt(t.position-1),Ii(r))break}else{if(t.position===t.lineStart&&l0(t)||n&&yh(p))break;if(Ea(p))if(u=t.line,c=t.lineStart,l=t.lineIndent,Dn(t,!1,-1),t.lineIndent>=e){a=!0,p=t.input.charCodeAt(t.position);continue}else{t.position=s,t.line=u,t.lineStart=c,t.lineIndent=l;break}}a&&(sl(t,o,s,!1),PL(t,t.line-u),o=s=t.position,a=!1),gd(p)||(s=t.position+1),p=t.input.charCodeAt(++t.position)}return sl(t,o,s,!1),t.result?!0:(t.kind=f,t.result=d,!1)}function ITe(t,e){var n,r,i;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(sl(t,r,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)r=t.position,t.position++,i=t.position;else return!0;else Ea(n)?(sl(t,r,i,!0),PL(t,Dn(t,!1,e)),r=i=t.position):t.position===t.lineStart&&l0(t)?ve(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);ve(t,"unexpected end of the stream within a single quoted scalar")}function PTe(t,e){var n,r,i,o,s,a;if(a=t.input.charCodeAt(t.position),a!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;(a=t.input.charCodeAt(t.position))!==0;){if(a===34)return sl(t,n,t.position,!0),t.position++,!0;if(a===92){if(sl(t,n,t.position,!0),a=t.input.charCodeAt(++t.position),Ea(a))Dn(t,!1,e);else if(a<256&&dK[a])t.result+=pK[a],t.position++;else if((s=_Te(a))>0){for(i=s,o=0;i>0;i--)a=t.input.charCodeAt(++t.position),(s=ETe(a))>=0?o=(o<<4)+s:ve(t,"expected hexadecimal character");t.result+=CTe(o),t.position++}else ve(t,"unknown escape sequence");n=r=t.position}else Ea(a)?(sl(t,n,r,!0),PL(t,Dn(t,!1,e)),n=r=t.position):t.position===t.lineStart&&l0(t)?ve(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}ve(t,"unexpected end of the stream within a double quoted scalar")}function RTe(t,e){var n=!0,r,i,o,s=t.tag,a,u=t.anchor,c,l,f,d,p,m=Object.create(null),h,g,v,x;if(x=t.input.charCodeAt(t.position),x===91)l=93,p=!1,a=[];else if(x===123)l=125,p=!0,a={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=a),x=t.input.charCodeAt(++t.position);x!==0;){if(Dn(t,!0,e),x=t.input.charCodeAt(t.position),x===l)return t.position++,t.tag=s,t.anchor=u,t.kind=p?"mapping":"sequence",t.result=a,!0;n?x===44&&ve(t,"expected the node content, but found ','"):ve(t,"missed comma between flow collection entries"),g=h=v=null,f=d=!1,x===63&&(c=t.input.charCodeAt(t.position+1),Ii(c)&&(f=d=!0,t.position++,Dn(t,!0,e))),r=t.line,i=t.lineStart,o=t.position,wh(t,e,o0,!1,!0),g=t.tag,h=t.result,Dn(t,!0,e),x=t.input.charCodeAt(t.position),(d||t.line===r)&&x===58&&(f=!0,x=t.input.charCodeAt(++t.position),Dn(t,!0,e),wh(t,e,o0,!1,!0),v=t.result),p?xh(t,a,m,g,h,v,r,i,o):f?a.push(xh(t,null,m,g,h,v,r,i,o)):a.push(h),Dn(t,!0,e),x=t.input.charCodeAt(t.position),x===44?(n=!0,x=t.input.charCodeAt(++t.position)):n=!1}ve(t,"unexpected end of the stream within a flow collection")}function ATe(t,e){var n,r,i=wL,o=!1,s=!1,a=e,u=0,c=!1,l,f;if(f=t.input.charCodeAt(t.position),f===124)r=!1;else if(f===62)r=!0;else return!1;for(t.kind="scalar",t.result="";f!==0;)if(f=t.input.charCodeAt(++t.position),f===43||f===45)wL===i?i=f===43?B7:vTe:ve(t,"repeat of a chomping mode identifier");else if((l=bTe(f))>=0)l===0?ve(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?ve(t,"repeat of an indentation width identifier"):(a=e+l-1,s=!0);else break;if(gd(f)){do f=t.input.charCodeAt(++t.position);while(gd(f));if(f===35)do f=t.input.charCodeAt(++t.position);while(!Ea(f)&&f!==0)}for(;f!==0;){for(IL(t),t.lineIndent=0,f=t.input.charCodeAt(t.position);(!s||t.lineIndent<a)&&f===32;)t.lineIndent++,f=t.input.charCodeAt(++t.position);if(!s&&t.lineIndent>a&&(a=t.lineIndent),Ea(f)){u++;continue}if(t.lineIndent<a){i===B7?t.result+=Wn.repeat(`
`,o?1+u:u):i===wL&&o&&(t.result+=`
`);break}for(r?gd(f)?(c=!0,t.result+=Wn.repeat(`
`,o?1+u:u)):c?(c=!1,t.result+=Wn.repeat(`
`,u+1)):u===0?o&&(t.result+=" "):t.result+=Wn.repeat(`
`,u):t.result+=Wn.repeat(`
`,o?1+u:u),o=!0,s=!0,u=0,n=t.position;!Ea(f)&&f!==0;)f=t.input.charCodeAt(++t.position);sl(t,n,t.position,!1)}return!0}function Y7(t,e){var n,r=t.tag,i=t.anchor,o=[],s,a=!1,u;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),u=t.input.charCodeAt(t.position);u!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,ve(t,"tab characters must not be used in indentation")),!(u!==45||(s=t.input.charCodeAt(t.position+1),!Ii(s))));){if(a=!0,t.position++,Dn(t,!0,-1)&&t.lineIndent<=e){o.push(null),u=t.input.charCodeAt(t.position);continue}if(n=t.line,wh(t,e,uK,!1,!0),o.push(t.result),Dn(t,!0,-1),u=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&u!==0)ve(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return a?(t.tag=r,t.anchor=i,t.kind="sequence",t.result=o,!0):!1}function DTe(t,e,n){var r,i,o,s,a,u,c=t.tag,l=t.anchor,f={},d=Object.create(null),p=null,m=null,h=null,g=!1,v=!1,x;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=f),x=t.input.charCodeAt(t.position);x!==0;){if(!g&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,ve(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),o=t.line,(x===63||x===58)&&Ii(r))x===63?(g&&(xh(t,f,d,p,m,null,s,a,u),p=m=h=null),v=!0,g=!0,i=!0):g?(g=!1,i=!0):ve(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,x=r;else{if(s=t.line,a=t.lineStart,u=t.position,!wh(t,n,cK,!1,!0))break;if(t.line===o){for(x=t.input.charCodeAt(t.position);gd(x);)x=t.input.charCodeAt(++t.position);if(x===58)x=t.input.charCodeAt(++t.position),Ii(x)||ve(t,"a whitespace character is expected after the key-value separator within a block mapping"),g&&(xh(t,f,d,p,m,null,s,a,u),p=m=h=null),v=!0,g=!1,i=!1,p=t.tag,m=t.result;else if(v)ve(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=l,!0}else if(v)ve(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=l,!0}if((t.line===o||t.lineIndent>e)&&(g&&(s=t.line,a=t.lineStart,u=t.position),wh(t,e,s0,!0,i)&&(g?m=t.result:h=t.result),g||(xh(t,f,d,p,m,h,s,a,u),p=m=h=null),Dn(t,!0,-1),x=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&x!==0)ve(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return g&&xh(t,f,d,p,m,null,s,a,u),v&&(t.tag=c,t.anchor=l,t.kind="mapping",t.result=f),v}function kTe(t){var e,n=!1,r=!1,i,o,s;if(s=t.input.charCodeAt(t.position),s!==33)return!1;if(t.tag!==null&&ve(t,"duplication of a tag property"),s=t.input.charCodeAt(++t.position),s===60?(n=!0,s=t.input.charCodeAt(++t.position)):s===33?(r=!0,i="!!",s=t.input.charCodeAt(++t.position)):i="!",e=t.position,n){do s=t.input.charCodeAt(++t.position);while(s!==0&&s!==62);t.position<t.length?(o=t.input.slice(e,t.position),s=t.input.charCodeAt(++t.position)):ve(t,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!Ii(s);)s===33&&(r?ve(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),lK.test(i)||ve(t,"named tag handle cannot contain such characters"),r=!0,e=t.position+1)),s=t.input.charCodeAt(++t.position);o=t.input.slice(e,t.position),wTe.test(o)&&ve(t,"tag suffix cannot contain flow indicator characters")}o&&!fK.test(o)&&ve(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{ve(t,"tag name is malformed: "+o)}return n?t.tag=o:al.call(t.tagMap,i)?t.tag=t.tagMap[i]+o:i==="!"?t.tag="!"+o:i==="!!"?t.tag="tag:yaml.org,2002:"+o:ve(t,'undeclared tag handle "'+i+'"'),!0}function OTe(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&ve(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!Ii(n)&&!yh(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&ve(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function NTe(t){var e,n,r;if(r=t.input.charCodeAt(t.position),r!==42)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!Ii(r)&&!yh(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&ve(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),al.call(t.anchorMap,n)||ve(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Dn(t,!0,-1),!0}function wh(t,e,n,r,i){var o,s,a,u=1,c=!1,l=!1,f,d,p,m,h,g;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=s=a=s0===n||uK===n,r&&Dn(t,!0,-1)&&(c=!0,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)),u===1)for(;kTe(t)||OTe(t);)Dn(t,!0,-1)?(c=!0,a=o,t.lineIndent>e?u=1:t.lineIndent===e?u=0:t.lineIndent<e&&(u=-1)):a=!1;if(a&&(a=c||i),(u===1||s0===n)&&(o0===n||cK===n?h=e:h=e+1,g=t.position-t.lineStart,u===1?a&&(Y7(t,g)||DTe(t,g,h))||RTe(t,h)?l=!0:(s&&ATe(t,h)||ITe(t,h)||PTe(t,h)?l=!0:NTe(t)?(l=!0,(t.tag!==null||t.anchor!==null)&&ve(t,"alias node should not have any properties")):TTe(t,h,o0===n)&&(l=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):u===0&&(l=a&&Y7(t,g))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&ve(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),f=0,d=t.implicitTypes.length;f<d;f+=1)if(m=t.implicitTypes[f],m.resolve(t.result)){t.result=m.construct(t.result),t.tag=m.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(al.call(t.typeMap[t.kind||"fallback"],t.tag))m=t.typeMap[t.kind||"fallback"][t.tag];else for(m=null,p=t.typeMap.multi[t.kind||"fallback"],f=0,d=p.length;f<d;f+=1)if(t.tag.slice(0,p[f].tag.length)===p[f].tag){m=p[f];break}m||ve(t,"unknown tag !<"+t.tag+">"),t.result!==null&&m.kind!==t.kind&&ve(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+m.kind+'", not "'+t.kind+'"'),m.resolve(t.result,t.tag)?(t.result=m.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):ve(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||l}function LTe(t){var e=t.position,n,r,i,o=!1,s;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(s=t.input.charCodeAt(t.position))!==0&&(Dn(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||s!==37));){for(o=!0,s=t.input.charCodeAt(++t.position),n=t.position;s!==0&&!Ii(s);)s=t.input.charCodeAt(++t.position);for(r=t.input.slice(n,t.position),i=[],r.length<1&&ve(t,"directive name must not be less than one character in length");s!==0;){for(;gd(s);)s=t.input.charCodeAt(++t.position);if(s===35){do s=t.input.charCodeAt(++t.position);while(s!==0&&!Ea(s));break}if(Ea(s))break;for(n=t.position;s!==0&&!Ii(s);)s=t.input.charCodeAt(++t.position);i.push(t.input.slice(n,t.position))}s!==0&&IL(t),al.call(G7,r)?G7[r](t,r,i):a0(t,'unknown document directive "'+r+'"')}if(Dn(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,Dn(t,!0,-1)):o&&ve(t,"directives end mark is expected"),wh(t,t.lineIndent-1,s0,!1,!0),Dn(t,!0,-1),t.checkLineBreaks&&xTe.test(t.input.slice(e,t.position))&&a0(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&l0(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,Dn(t,!0,-1));return}if(t.position<t.length-1)ve(t,"end of the stream or a document separator is expected");else return}function hK(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new STe(t,e),r=t.indexOf("\0");for(r!==-1&&(n.position=r,ve(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)LTe(n);return n.documents}function FTe(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var r=hK(t,n);if(typeof e!="function")return r;for(var i=0,o=r.length;i<o;i+=1)e(r[i])}function MTe(t,e){var n=hK(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new Ti("expected a single document in the stream, but found more")}}var UTe=FTe,qTe=MTe,gK={loadAll:UTe,load:qTe},vK=Object.prototype.toString,yK=Object.prototype.hasOwnProperty,RL=65279,jTe=9,$x=10,HTe=13,$Te=32,BTe=33,VTe=34,_L=35,WTe=37,GTe=38,zTe=39,YTe=42,xK=44,KTe=45,c0=58,XTe=61,QTe=62,JTe=63,ZTe=64,wK=91,EK=93,eIe=96,_K=123,tIe=124,bK=125,qr={};qr[0]="\\0";qr[7]="\\a";qr[8]="\\b";qr[9]="\\t";qr[10]="\\n";qr[11]="\\v";qr[12]="\\f";qr[13]="\\r";qr[27]="\\e";qr[34]='\\"';qr[92]="\\\\";qr[133]="\\N";qr[160]="\\_";qr[8232]="\\L";qr[8233]="\\P";var nIe=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],rIe=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function iIe(t,e){var n,r,i,o,s,a,u;if(e===null)return{};for(n={},r=Object.keys(e),i=0,o=r.length;i<o;i+=1)s=r[i],a=String(e[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),u=t.compiledTypeMap.fallback[s],u&&yK.call(u.styleAliases,a)&&(a=u.styleAliases[a]),n[s]=a;return n}function oIe(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else if(t<=4294967295)n="U",r=8;else throw new Ti("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+n+Wn.repeat("0",r-e.length)+e}var sIe=1,Bx=2;function aIe(t){this.schema=t.schema||aK,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Wn.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=iIe(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?Bx:sIe,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function K7(t,e){for(var n=Wn.repeat(" ",e),r=0,i=-1,o="",s,a=t.length;r<a;)i=t.indexOf(`
`,r),i===-1?(s=t.slice(r),r=a):(s=t.slice(r,i+1),r=i+1),s.length&&s!==`
`&&(o+=n),o+=s;return o}function bL(t,e){return`
`+Wn.repeat(" ",t.indent*e)}function cIe(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function u0(t){return t===$Te||t===jTe}function Vx(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==RL||65536<=t&&t<=1114111}function X7(t){return Vx(t)&&t!==RL&&t!==HTe&&t!==$x}function Q7(t,e,n){var r=X7(t),i=r&&!u0(t);return(n?r:r&&t!==xK&&t!==wK&&t!==EK&&t!==_K&&t!==bK)&&t!==_L&&!(e===c0&&!i)||X7(e)&&!u0(e)&&t===_L||e===c0&&i}function uIe(t){return Vx(t)&&t!==RL&&!u0(t)&&t!==KTe&&t!==JTe&&t!==c0&&t!==xK&&t!==wK&&t!==EK&&t!==_K&&t!==bK&&t!==_L&&t!==GTe&&t!==YTe&&t!==BTe&&t!==tIe&&t!==XTe&&t!==QTe&&t!==zTe&&t!==VTe&&t!==WTe&&t!==ZTe&&t!==eIe}function lIe(t){return!u0(t)&&t!==c0}function jx(t,e){var n=t.charCodeAt(e),r;return n>=55296&&n<=56319&&e+1<t.length&&(r=t.charCodeAt(e+1),r>=56320&&r<=57343)?(n-55296)*1024+r-56320+65536:n}function CK(t){var e=/^\n* /;return e.test(t)}var SK=1,CL=2,TK=3,IK=4,vh=5;function fIe(t,e,n,r,i,o,s,a){var u,c=0,l=null,f=!1,d=!1,p=r!==-1,m=-1,h=uIe(jx(t,0))&&lIe(jx(t,t.length-1));if(e||s)for(u=0;u<t.length;c>=65536?u+=2:u++){if(c=jx(t,u),!Vx(c))return vh;h=h&&Q7(c,l,a),l=c}else{for(u=0;u<t.length;c>=65536?u+=2:u++){if(c=jx(t,u),c===$x)f=!0,p&&(d=d||u-m-1>r&&t[m+1]!==" ",m=u);else if(!Vx(c))return vh;h=h&&Q7(c,l,a),l=c}d=d||p&&u-m-1>r&&t[m+1]!==" "}return!f&&!d?h&&!s&&!i(t)?SK:o===Bx?vh:CL:n>9&&CK(t)?vh:s?o===Bx?vh:CL:d?IK:TK}function dIe(t,e,n,r,i){t.dump=function(){if(e.length===0)return t.quotingType===Bx?'""':"''";if(!t.noCompatMode&&(nIe.indexOf(e)!==-1||rIe.test(e)))return t.quotingType===Bx?'"'+e+'"':"'"+e+"'";var o=t.indent*Math.max(1,n),s=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),a=r||t.flowLevel>-1&&n>=t.flowLevel;function u(c){return cIe(t,c)}switch(fIe(e,a,t.indent,s,u,t.quotingType,t.forceQuotes&&!r,i)){case SK:return e;case CL:return"'"+e.replace(/'/g,"''")+"'";case TK:return"|"+J7(e,t.indent)+Z7(K7(e,o));case IK:return">"+J7(e,t.indent)+Z7(K7(pIe(e,s),o));case vh:return'"'+mIe(e)+'"';default:throw new Ti("impossible error: invalid scalar style")}}()}function J7(t,e){var n=CK(t)?String(e):"",r=t[t.length-1]===`
`,i=r&&(t[t.length-2]===`
`||t===`
`),o=i?"+":r?"":"-";return n+o+`
`}function Z7(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function pIe(t,e){for(var n=/(\n+)([^\n]*)/g,r=function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,n.lastIndex=c,eK(t.slice(0,c),e)}(),i=t[0]===`
`||t[0]===" ",o,s;s=n.exec(t);){var a=s[1],u=s[2];o=u[0]===" ",r+=a+(!i&&!o&&u!==""?`
`:"")+eK(u,e),i=o}return r}function eK(t,e){if(t===""||t[0]===" ")return t;for(var n=/ [^ ]/g,r,i=0,o,s=0,a=0,u="";r=n.exec(t);)a=r.index,a-i>e&&(o=s>i?s:a,u+=`
`+t.slice(i,o),i=o+1),s=a;return u+=`
`,t.length-i>e&&s>i?u+=t.slice(i,s)+`
`+t.slice(s+1):u+=t.slice(i),u.slice(1)}function mIe(t){for(var e="",n=0,r,i=0;i<t.length;n>=65536?i+=2:i++)n=jx(t,i),r=qr[n],!r&&Vx(n)?(e+=t[i],n>=65536&&(e+=t[i+1])):e+=r||oIe(n);return e}function hIe(t,e,n){var r="",i=t.tag,o,s,a;for(o=0,s=n.length;o<s;o+=1)a=n[o],t.replacer&&(a=t.replacer.call(n,String(o),a)),(Nc(t,e,a,!1,!1)||typeof a>"u"&&Nc(t,e,null,!1,!1))&&(r!==""&&(r+=","+(t.condenseFlow?"":" ")),r+=t.dump);t.tag=i,t.dump="["+r+"]"}function tK(t,e,n,r){var i="",o=t.tag,s,a,u;for(s=0,a=n.length;s<a;s+=1)u=n[s],t.replacer&&(u=t.replacer.call(n,String(s),u)),(Nc(t,e+1,u,!0,!0,!1,!0)||typeof u>"u"&&Nc(t,e+1,null,!0,!0,!1,!0))&&((!r||i!=="")&&(i+=bL(t,e)),t.dump&&$x===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=o,t.dump=i||"[]"}function gIe(t,e,n){var r="",i=t.tag,o=Object.keys(n),s,a,u,c,l;for(s=0,a=o.length;s<a;s+=1)l="",r!==""&&(l+=", "),t.condenseFlow&&(l+='"'),u=o[s],c=n[u],t.replacer&&(c=t.replacer.call(n,u,c)),Nc(t,e,u,!1,!1)&&(t.dump.length>1024&&(l+="? "),l+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Nc(t,e,c,!1,!1)&&(l+=t.dump,r+=l));t.tag=i,t.dump="{"+r+"}"}function vIe(t,e,n,r){var i="",o=t.tag,s=Object.keys(n),a,u,c,l,f,d;if(t.sortKeys===!0)s.sort();else if(typeof t.sortKeys=="function")s.sort(t.sortKeys);else if(t.sortKeys)throw new Ti("sortKeys must be a boolean or a function");for(a=0,u=s.length;a<u;a+=1)d="",(!r||i!=="")&&(d+=bL(t,e)),c=s[a],l=n[c],t.replacer&&(l=t.replacer.call(n,c,l)),Nc(t,e+1,c,!0,!0,!0)&&(f=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,f&&(t.dump&&$x===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,f&&(d+=bL(t,e)),Nc(t,e+1,l,!0,f)&&(t.dump&&$x===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,i+=d));t.tag=o,t.dump=i||"{}"}function nK(t,e,n){var r,i,o,s,a,u;for(i=n?t.explicitTypes:t.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof e=="object"&&e instanceof a.instanceOf)&&(!a.predicate||a.predicate(e))){if(n?a.multi&&a.representName?t.tag=a.representName(e):t.tag=a.tag:t.tag="?",a.represent){if(u=t.styleMap[a.tag]||a.defaultStyle,vK.call(a.represent)==="[object Function]")r=a.represent(e,u);else if(yK.call(a.represent,u))r=a.represent[u](e,u);else throw new Ti("!<"+a.tag+'> tag resolver accepts not "'+u+'" style');t.dump=r}return!0}return!1}function Nc(t,e,n,r,i,o,s){t.tag=null,t.dump=n,nK(t,n,!1)||nK(t,n,!0);var a=vK.call(t.dump),u=r,c;r&&(r=t.flowLevel<0||t.flowLevel>e);var l=a==="[object Object]"||a==="[object Array]",f,d;if(l&&(f=t.duplicates.indexOf(n),d=f!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(i=!1),d&&t.usedDuplicates[f])t.dump="*ref_"+f;else{if(l&&d&&!t.usedDuplicates[f]&&(t.usedDuplicates[f]=!0),a==="[object Object]")r&&Object.keys(t.dump).length!==0?(vIe(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(gIe(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object Array]")r&&t.dump.length!==0?(t.noArrayIndent&&!s&&e>0?tK(t,e-1,t.dump,i):tK(t,e,t.dump,i),d&&(t.dump="&ref_"+f+t.dump)):(hIe(t,e,t.dump),d&&(t.dump="&ref_"+f+" "+t.dump));else if(a==="[object String]")t.tag!=="?"&&dIe(t,t.dump,e,o,u);else{if(a==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new Ti("unacceptable kind of an object to dump "+a)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}function yIe(t,e){var n=[],r=[],i,o;for(SL(t,n,r),i=0,o=r.length;i<o;i+=1)e.duplicates.push(n[r[i]]);e.usedDuplicates=new Array(o)}function SL(t,e,n){var r,i,o;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)n.indexOf(i)===-1&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,o=t.length;i<o;i+=1)SL(t[i],e,n);else for(r=Object.keys(t),i=0,o=r.length;i<o;i+=1)SL(t[r[i]],e,n)}function xIe(t,e){e=e||{};var n=new aIe(e);n.noRefs||yIe(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Nc(n,0,r,!0,!0)?n.dump+`
`:""}var wIe=xIe,EIe={dump:wIe};function AL(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Wx=gK.load,w8e=gK.loadAll,E8e=EIe.dump;var _8e=AL("safeLoad","load"),b8e=AL("safeLoadAll","loadAll"),C8e=AL("safeDump","dump");var Ps=B(require("path")),NK=B(require("os")),LK=B(require("crypto")),FK=B(LC());var Gx=B(require("path")),AK=B(require("os"));var RK=B(require("crypto"));var Is={async readDocument(t){switch(t.scheme){case"file":try{return(await st(t.fsPath)).toString()}catch(e){if(e&&e.code==="ENOENT")return;throw e}default:throw new Error(`Unsupported scheme: ${t.toString()}`)}},async applyEdits(t,e,n){switch(t.scheme){case"file":let r=yi(n,e);await hb(t.fsPath,r);break;default:throw new Error(`Unsupported scheme: ${t.toString()}`)}}},NL=class{constructor(e,n=NL.scheme){this.fileHost=e;this.scheme=n}async readDocument(e){switch(e.scheme){case this.scheme:try{return(await this.fileHost.readFile(we(e,this.fileHost.platform))).toString()}catch{return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,n,r){switch(e.scheme){case this.scheme:let i=yi(r,n);await this.fileHost.writeFile(we(e,this.fileHost.platform),Buffer.from(i));break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},ft=NL;ft.scheme="vscode-fileHost";var vd=class{constructor(e){this.shellServer=e}async readDocument(e){switch(e.scheme){case vd.scheme:try{let{stdout:n}=await this.shellServer.exec(`cat ${e.path}`);return n}catch{return}default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}async applyEdits(e,n,r){switch(e.scheme){case vd.scheme:try{vd.nonce||(vd.nonce=RK.randomUUID());let i=yi(r,n),o=`EOF-${vd.nonce}`;await this.shellServer.exec(`cat <<'${o}' >${e.path}
${i}
${o}
`)}catch(i){console.log(i)}break;default:throw new Error(`Unsupported scheme: ${e.toString()}`)}}},Pi=vd;Pi.scheme="vscode-remote";var kL=class{constructor(e){this.documents=e}async readDocument(e){let n=this.documents[e.scheme];if(!n)throw new Error(`Unsupported scheme: ${e.toString()}`);return n.readDocument(e)}async applyEdits(e,n,r){let i=this.documents[e.scheme];if(!i)throw new Error(`Unsupported scheme: ${e.toString()}`);return i.applyEdits(e,n,r)}};function ir(t,e){let n={file:Is,[ft.scheme]:new ft(t)};return e&&(n[Pi.scheme]="readFile"in e?new ft(e,Pi.scheme):new Pi(e)),new kL(n)}var DL=new Map;async function OL(t,e){let n=t.toString(),r=DL.get(n);if(r||DL.set(n,r=[]),r.push(e),r.length===1){for(;r.length;)await r[0](),r.shift();DL.delete(n)}}function we(t,e){let n;return t.authority&&t.path.length>1&&(t.scheme==="file"||t.scheme===ft.scheme)?n=`//${t.authority}${t.path}`:t.path.charCodeAt(0)===47&&(t.path.charCodeAt(1)>=65&&t.path.charCodeAt(1)<=90||t.path.charCodeAt(1)>=97&&t.path.charCodeAt(1)<=122)&&t.path.charCodeAt(2)===58?n=t.path[1].toLowerCase()+t.path.substr(2):n=t.path,e==="win32"&&(n=n.replace(/\//g,"\\"),n[0]==="\\"&&n[1]!=="\\"&&(n=`C:${n}`)),n}function or(t,e,n){let r=t==="win32"?"/"+n.replace(/\\/g,"/"):n;return e.with({path:r})}function Eh(t,e){return[t.join(e,".devcontainer","devcontainer.json"),t.join(e,".devcontainer.json")]}function zx(t,e){let n=t.normalize(e);return Eh(t,"").includes(n)}async function f0(t,e){let n=Eh(t.path,e);for(let r of n)if(await t.isFile(r))return xe.file(r).with({scheme:ft.scheme})}async function DK(t){let e=Eh(Gx,t);for(let n of e)if(await fr(n))return n}var Lc=`{${AK.EOL}}`;async function Bo(t,e,n,r){e.scheme==="file"&&await vs(Gx.dirname(e.fsPath)),await t.applyEdits(e,n,r)}function cl(t){let e=Gx.posix.dirname(t.path);return t.with({path:e})}var LL=B(require("path")),bIe={src:"source",destination:"target",dst:"target"};function kK(t){return t.split(",").map(e=>e.split("=")).reduce((e,[n,r])=>({...e,[bIe[n]||n]:r}),{})}function d0(t){let e=typeof t=="string"?LL.join(t,"dist"):t.distFolder;return LL.join(e,"node_modules","vscode-dev-containers","container-features")}function OK(t){var e;return(e=t.options)!=null&&e.version?"version":void 0}var Yx=require("string_decoder");function Xx(t){if(!(t.extensions||t.settings||t.devPort!==void 0))return t;let e={...t},n=e.customizations||(e.customizations={}),r=n.vscode||(n.vscode={});return e.extensions&&(r.extensions=(r.extensions||[]).concat(e.extensions),delete e.extensions),e.settings&&(r.settings={...e.settings,...r.settings||{}},delete e.settings),e.devPort!==void 0&&r.devPort===void 0&&(r.devPort=e.devPort,delete e.devPort),e}function Kx(t,e,n){return p0(t,e.configFilePath,n)}function p0(t,e,n){let r=cl(e);return e.with({path:Ps.posix.resolve(r.path,t.platform==="win32"&&e.scheme!==Pi.scheme?(Ps.win32.isAbsolute(n)?"/":"")+n.replace(/\\/g,"/"):n)})}function jr(t){return"dockerFile"in t||"build"in t&&"dockerfile"in t.build}function m0(t){return t&&(jr(t)||"image"in t||"dockerComposeFile"in t)}function ul(t,e){return Kx(t,e,CIe(e))}function CIe(t){return"dockerFile"in t?t.dockerFile:t.build.dockerfile}async function ll(t,e,n,r){if(Array.isArray(e.dockerComposeFile)){if(e.dockerComposeFile.length)return e.dockerComposeFile.map(i=>we(Kx(t,e,i),t.platform))}else if(typeof e.dockerComposeFile=="string")return[we(Kx(t,e,e.dockerComposeFile),t.platform)];if(r){let i=n==null?void 0:n.COMPOSE_FILE;if(i)return i.split(t.path.delimiter).map(a=>t.path.resolve(r,a));try{let a=t.path.join(r,".env"),u=await t.readFile(a),c=/^COMPOSE_FILE=(.+)$/m.exec(u.toString()),l=c&&c[1].trim();if(l)return l.split(t.path.delimiter).map(f=>t.path.resolve(r,f))}catch(a){if(!(a&&(a.code==="ENOENT"||a.code==="EISDIR")))throw a}let o=[t.path.resolve(r,"docker-compose.yml")],s=t.path.resolve(r,"docker-compose.override.yml");return await t.isFile(s)&&o.push(s),o}return[]}async function Vo(t,e){let{cliHost:n,postCreate:r,output:i}=t,o=await SIe(t),s=TIe(n),a;return await IIe({exec:n.exec,cwd:t.cwd||o.cwd,cmd:s.cmd,args:[...s.args,o.script,...e],env:PIe(t,s.cmd),stdin:r==null?void 0:r.onDidInput,output:i,stdoutData:u=>a=u,stderrData:u=>{i.event(u)}}),a}async function SIe(t){let{cliHost:e,extensionPath:n,output:r}=t,i=Ps.join(n,"dist","spec-node","devContainersSpecCLI.js"),o=e.type==="local"?n:e.path.join(await e.homedir(),".vscode-remote-containers","dist",`dev-containers-cli-${t.package.version}`),s=e.type==="local"?i:e.path.join(o,"dist","spec-node","devContainersSpecCLI.js");if(["wsl","remote"].indexOf(e.type)!==-1&&!await e.isFile(s)){let a=`${o}-${LK.randomUUID()}`,u=e.path.join(a,"dist","spec-node","devContainersSpecCLI.js");await e.mkdirp(e.path.dirname(u)),await e.writeFile(e.path.join(a,"package.json"),await st(Ps.join(n,"package.json"))),await e.writeFile(u,await st(i));let c=d0(n),l=e.path.join(a,"dist","node_modules","vscode-dev-containers","container-features");await yd(c,e,l,r),await yd(Ps.join(n,"scripts"),e,e.path.join(a,"scripts"),r),await e.rename(a,o)}return{cwd:o,script:s}}function TIe(t){if(t.type==="local")return el?{cmd:process.argv[0],args:[]}:{cmd:process.argv[0],args:process.versions.electron&&process.versions["microsoft-build"]?["--ms-enable-electron-run-as-node"]:[]};if(t.nodeExecutable)return{cmd:t.nodeExecutable,args:[]};throw new Error("Node executable required")}async function IIe(t){let{exec:e,cmd:n,args:r,cwd:i,env:o,stdin:s,output:a,stdoutData:u,stderrData:c}=t,l=await e({cmd:n,args:r,cwd:i,env:o,output:a});return new Promise((f,d)=>{let p=new Yx.StringDecoder,m="";l.stdout.on("data",x=>{m+=p.write(x);let y=m.split(`
`);m=y.pop();for(let w of y)if(w.trim())try{u(JSON.parse(w))}catch{a.write(w)}}),l.stdout.on("error",x=>{if((x==null?void 0:x.code)!=="ENOTCONN")throw x});let h=new Yx.StringDecoder,g="";l.stderr.on("data",x=>{g+=h.write(x);let y=g.split(`
`);g=y.pop();for(let w of y)if(w.trim())try{c(JSON.parse(w))}catch{a.write(w)}}),l.stderr.on("error",x=>{if((x==null?void 0:x.code)!=="ENOTCONN")throw x});let v=[];l.exit.then(({code:x})=>{try{v.forEach(y=>y.dispose()),x?(a.write(`Exit code ${x}`),d({message:`Command failed: ${n} ${(r||[]).join(" ")}`,code:x})):f()}catch(y){d(y)}},d),typeof s=="function"&&v.push(s(x=>l.stdin.write(x)))})}function PIe(t,e){let{cliHost:n,env:r,appRoot:i}=t;return{...r,...n.type==="local"?i?{NODE_PATH:`${n.path.join(i,"node_modules.asar")}${Ps.delimiter}${n.path.join(i,"node_modules")}`}:void 0:n.type==="container"?void 0:{NODE_PATH:n.path.join(n.path.dirname(e),"node_modules")},...el?{TS_NODE_PROJECT:void 0}:{}}}async function yd(t,e,n,r){await e.mkdirp(n);let i=FK.c({cwd:t,filter:c=>(console.log(c),!0)},["."]),o=new Promise((c,l)=>{i.on("error",l),i.on("finish",c)}),s=await e.exec({cmd:"tar",args:["--no-same-owner","-x","-f","-"],cwd:n,output:r}),a=new Yx.StringDecoder;s.stdout.on("data",c=>{r.write(a.write(c))});let u=new Yx.StringDecoder;s.stderr.on("data",c=>{r.write(pt(u.write(c)))}),i.pipe(s.stdin),await Promise.all([s.exit,o])}async function Ri(){return Ps.join(NK.tmpdir(),process.platform==="linux"?`vsch-${await $S()}`:"vsch")}function RIe(){return{contentHashes:{}}}async function g0(t,e,n,r){let i=t.getConfigurationState();if(i){let o=i.contentHashes,s=Object.keys(o),u=(await FL(e,n,r)).contentHashes,c=Object.keys(u),l=new Set(c);s.forEach(p=>l.delete(p));let f=new Set(s);c.forEach(p=>f.delete(p));let d=[];for(let p of s)p in u&&u[p]!==o[p]&&d.push(p);if(l.size||f.size||d.length){let p=await FL(e,n,r);(async()=>{await t.containerOutdated([...l,...f,...d].sort())==="ignore"&&await t.updateConfigurationState(p)})().catch(console.error)}}else await UK(t,e,n,r)}async function v0(t,e,n,r,i){let o="Updating configuration state",s=i.start(o);await UK(t,e,n,r),i.stop(o,s)}async function UK(t,e,n,r){let i=await FL(e,n,r);await t.updateConfigurationState(i)}async function FL(t,e,n){let r=RIe();h0(r,Qx.posix.basename(n.configFilePath.path),JSON.stringify({...n,forwardPorts:void 0,configFilePath:void 0,postStartCommand:void 0,postAttachCommand:void 0}));let i=cl(n.configFilePath).path;if(jr(n)){let o=ul(t,n),s=await e.readDocument(o);s!==void 0&&h0(r,Qx.posix.relative(i,o.path),s)}if("dockerComposeFile"in n){let o=await ll(t,n,t.env,t.cwd),s=await Promise.all(o.map(async a=>{let u=xe.file(a).with({scheme:ft.scheme});return{uri:u,content:await e.readDocument(u)}}));for(let{uri:a,content:u}of s)u!==void 0&&h0(r,Qx.posix.relative(i,a.path),u);for(let a=s.length-1;a>=0;a--){let{uri:u,content:c}=s[a];if(c){let l=Wx(c),f=l&&l.services,d=f&&f[n.service],p=d&&d.build,m=p&&(typeof p=="string"?p:p.context);if(m){let h=p0(t,u,m),g=qK(h,p.dockerfile||"Dockerfile"),v=await e.readDocument(g);v!==void 0&&h0(r,Qx.posix.relative(i,g.path),v)}if(d&&(d.image||d.build))break}}}return r}function h0(t,e,n){let r=MK.createHash("sha256").update(n).digest("hex");t.contentHashes[e]=r}var As=B(require("path")),vl=B(require("crypto"));var gl=B(Pr());var ti=B(require("path")),YL=B(require("crypto"));var ml=B(Pr());var VK=B(require("net")),HL=B(require("path"));var ML=B(require("path")),qL=B(require("http")),jK=B(require("os")),HK=B(require("crypto"));async function $K(t,e){let n=await jL(t),r=new UL(n,e);return r.listen(),r}var UL=class{constructor(e,n){this.ipcHandlePath=e;this.server=qL.createServer((r,i)=>{Promise.resolve(n(r,i)).catch(o=>console.error(o&&o.message||o))}),this.server.on("error",r=>console.error(r))}listen(){this.server.listen(this.ipcHandlePath)}dispose(){this.server.close()}};async function BK(t){return new Promise((e,n)=>{let r=[];t.setEncoding("utf8"),t.on("data",i=>r.push(i)),t.on("error",i=>n(i)),t.on("end",()=>{let i=JSON.parse(r.join(""));e(i)})})}async function jL(t){let e=HK.randomUUID(),n=`${t}-${e}`;return process.platform==="win32"?`\\\\.\\pipe\\${n}-sock`:process.env.XDG_RUNTIME_DIR?ML.join(process.env.XDG_RUNTIME_DIR,`${n}.sock`):ML.join(jK.tmpdir(),`${n}.sock`)}var y0=class{constructor(){this.messages=[]}push(e){this.messages.push(e),this.dequeueRequest&&(this.dequeueRequest.resolve(this.messages),this.dequeueRequest=void 0,this.messages=[])}async dequeue(e){if(this.messages.length){let n=this.messages;return this.messages=[],n}return this.dequeueRequest&&this.dequeueRequest.resolve([]),new Promise((n,r)=>{this.dequeueRequest={resolve:n,reject:r},typeof e=="number"&&setTimeout(r,e)})}};async function _a(t,e,n){let r=await jL("ssh-askpass");return await new Promise((i,o)=>{VK.createServer(s=>{s.setEncoding("utf8");let a="";s.on("data",async u=>{if(a+=u,a.endsWith(`
`))try{n.write(`SSH askpass request: ${a}`,1);let c=await e(JSON.parse(a));s.write(c,l=>{l&&console.error(l)}),s.end()}catch(c){console.error(c)}}),s.on("error",u=>console.error(u))}).on("error",s=>{o(s)}).listen(r,()=>{i()})}),{DISPLAY:process.env.DISPLAY||"1",ELECTRON_RUN_AS_NODE:"1",SSH_ASKPASS:HL.join(t,"scripts",`ssh-askpass.${process.platform==="win32"?"bat":"sh"}`),SSH_ASKPASS_REQUIRE:"force",VSCODE_SSH_ASKPASS_NODE:process.execPath,VSCODE_SSH_ASKPASS_EXTRA_ARGS:process.versions.electron?"--ms-enable-electron-run-as-node":"",VSCODE_SSH_ASKPASS_MAIN:HL.join(t,"dist","common","sshAskpass.js"),VSCODE_SSH_ASKPASS_HANDLE:r}}var AIe=0;function yn(t){return t.VSCODE_SSH_ASKPASS_HANDLE?{VSCODE_SSH_ASKPASS_COUNTER:String(++AIe)}:{}}async function Ai(t,e){return(await ba(t,[e]))[0]}async function ba(t,e){let n=await w0(t,"container",e);for(let r of n){r.Ports=[];let i=r.NetworkSettings.Ports;for(let o in i){let[s,a]=o.split("/");for(let u of i[o]||[]){let{HostIp:c,HostPort:l}=u;r.Ports.push({IP:c,PrivatePort:parseInt(s),PublicPort:parseInt(l),Type:a})}}}return n}async function WK(t,e){return(await w0(t,"image",[e]))[0]}async function x0(t,e){return(await w0(t,"volume",[e]))[0]}async function xd(t,e){return w0(t,"volume",e)}async function w0(t,e,n){if(!n.length)return[];let r=Sa(t),i=await ae({...r,args:(r.args||[]).concat(["inspect","--type",e,...n])});try{return JSON.parse(i.stdout.toString())}catch(o){throw console.error({stdout:i.stdout.toString(),stderr:i.stderr.toString()}),o}}async function Fc(t,e=!1,n=[]){let r=[];e&&r.push("-a");for(let o of n)r.push("--filter",`label=${o}`);return(await ke(t,"ps","-q",...r)).stdout.toString().split(/\r?\n/).filter(o=>!!o)}async function Di(t,e=[]){let n=[];for(let i of e)n.push("--filter",`label=${i}`);return(await ke(t,"volume","ls","-q",...n)).stdout.toString().split(/\r?\n/).filter(i=>!!i)}async function fl(t,e=[]){return(await ke(t,"volume","ls","-q","-f","dangling=true",...e.map(r=>["-f",`label=${r}`]).flat())).stdout.toString().split(/\r?\n/).filter(r=>!!r)}async function _h(t,e,n){let r=[];for(let i of n||[])r.push("--label",i);await ke(t,"volume","create",...r,e)}async function $L(t,e){let{exec:n,cmd:r,args:i,env:o,output:s}=Sa(t),a=[];for(let d in e)for(let p of e[d])a.push("--filter",`${d}=${p}`);let u=await VL(t)?"json":"{{json .}}",c=(i||[]).concat(["events","--format",u,...a]),l=await n({cmd:r,args:c,env:o,output:s}),f=[];return l.stderr.on("data",d=>f.push(d)),l.exit.then(({code:d,signal:p})=>{f.length&&s.write(pt(Buffer.concat(f).toString())),(d||p&&p!=="SIGKILL")&&s.write(pt(`Docker events terminated (code: ${d}, signal: ${p}).`))},d=>{s.write(pt(d&&(d.stack||d.message)))}),l}async function ke(t,...e){let n=Sa(t);return ae({...n,args:(n.args||[]).concat(e)})}async function BL(t){var e;try{let{stdout:n}=await ke(t,"context","ls","--format","{{json .}}"),r=`[${n.toString().trim().split(/\r?\n/).join(",")}]`;return(e=JSON.parse(r).find(s=>s.Current))==null?void 0:e.Name}catch{return}}async function VL(t){try{let{stdout:e}=await ke(t,"-v");return e.toString().toLowerCase().indexOf("podman")!==-1}catch{return!1}}async function GK(t,...e){let n=KK(t);return Pc({...n,args:(n.args||[]).concat(e)})}async function Jx(t,...e){let n=Sa(t,"dockerComposeCLI"in t?await t.dockerComposeCLI():void 0);return ae({...n,args:(n.args||[]).concat(e)})}function Rs(t,e,n){return async function(r){let{exec:i,cmd:o,args:s,env:a}=Sa(t),{argsPrefix:u,args:c}=YK(e,n,r,!1);return i({cmd:o,args:(s||[]).concat(c),env:a,output:zK(r.output,o,u)})}}async function Ca(t,e,n,r){if(!await r("node-pty"))throw new Error("Missing node-pty");return async function(o){let{ptyExec:s,cmd:a,args:u,env:c}=KK(t),{argsPrefix:l,args:f}=YK(e,n,o,!0);return s({cmd:a,args:(u||[]).concat(f),env:c,output:zK(o.output,a,l)})}}function zK(t,e,n){return DIe(t,`Run: ${e} ${(n||[]).join(" ").replace(/\n.*/g,"")}`,"Run in container:")}function DIe(t,e,n){let r=new RegExp(lh(e),"g");return Xr({...t,get dimensions(){return t.dimensions},event:o=>t.event("text"in o?{...o,text:o.text.replace(r,n)}:o)})}function YK(t,e,n,r){let{env:i,cwd:o,cmd:s,args:a}=n,u=["exec","-i"];r&&u.push("-t"),e&&u.push("-u",e),i&&Object.keys(i).forEach(l=>u.push("-e",`${l}=${i[l]}`)),o&&u.push("-w",o),u.push(t);let c=u.slice();return u.push(s),a&&u.push(...a),{argsPrefix:c,args:u}}function Sa(t,e){return"dockerEnv"in t?{exec:t.common.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:{...t.dockerEnv,...yn(t.dockerEnv)},output:t.common.output}:"cliHost"in t?{exec:t.cliHost.exec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:{...t.env,...yn(t.env)},output:t.output}:{...t,env:{...t.env,...yn(t.env)}}}function KK(t,e){return"dockerEnv"in t?{ptyExec:t.common.cliHost.ptyExec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:{...t.dockerEnv,...yn(t.dockerEnv)},output:t.common.output}:"cliHost"in t?{ptyExec:t.cliHost.ptyExec,cmd:e?e.cmd:t.dockerCLI,args:e?e.args:[],env:{...t.env,...yn(t.env)},output:t.output}:{...t,env:{...t.env,...yn(t.env)}}}var XK=B(Pr()),QK="com.docker.compose.project",kIe="com.docker.compose.service";async function JK(t,e,n,r,i,o,s,a,u,c,l,f,d,p,m){return OIe(t,e,n,r,i,o,NIe(r),s,a,u,c,l,f,d,p,m)}async function OIe(t,e,n,r,i,o,s,a,u,c,l,f,d,p,m,h){var y,w;let{common:g}=t,{cliHost:v}=e,x;try{let _=await ll(v,r,v.env,v.cwd),T=v.path.join(v.cwd,".env"),P=Array.isArray(r.dockerComposeFile)&&r.dockerComposeFile.length===0&&await v.isFile(T)?T:void 0,E=await WL(e,n,_),C=!c,S={...e.env,...yn(e.env)},I={cliHost:v,dockerPath:e.dockerCLI,dockerComposePath:e.dockerComposePath,env:S,extensionPath:g.extensionPath,appRoot:g.appRoot,package:g.package,output:g.postCreate.output},{mergedConfiguration:R}=await pl(I,o,p,g.getLogLevel(),h,d,a.Id,m),D=R.remoteUser;x=await Ch(t,a.Id,s,D),f&&c&&x.user!=="root"&&(x.launchRootShellServer?await i0(x,x.launchRootShellServer,s,r.configFilePath.path):g.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let A=ir(v,x.shellServer);C||await v0(t.configurationTracking,v,A,r,g.output);let N=R.shutdownAction;N==="stopContainer"&&(N="stopCompose");let O={cwd:i,dockerCLI:t.dockerCLI,dockerComposeCLI:await t.dockerComposeCLI(),env:g.env,containerId:a.Id,user:x.user,sessionId:g.sessionId,shutdownAction:N,projectName:E,composeFiles:_,envFile:P,buildContainerRunArgs:l,service:r.service,runServices:r.runServices,logLevel:g.getLogLevel(),delay:1e4},{shutdownArgs:M,doneWithDocuments:j}=await b0(t,v,A,"dockerCompose",O,C?r:void 0);g.backgroundTasks.push(j);let W=((w=(((y=R.customizations)==null?void 0:y.vscode)||[]).slice().reverse().find(ye=>typeof ye.devPort=="number"))==null?void 0:w.devPort)||md,{hostOrContainerPort:L,hostPortServer:H,connectionToken:$,remoteEnv:V,serverDownloaded:re}=await ol(g,x,r,R,W,Sh(t,e,x,o,d,a.Id,u,p,m));return M.hostPortServer=H,{params:g,properties:x,config:r,resolvedAuthority:{host:dl,port:L,connectionToken:$,extensionHostEnv:V},tunnelInformation:g.isLocalContainer?bh(a):{},dockerParams:t,dockerContainerId:a.Id,serverDownloaded:re}}catch(_){let T=_ instanceof ge?_:new ge({description:XK.t("An error occurred setting up the container."),originalError:_});throw a&&(T.manageContainer=!0,T.params=t.common,T.containerId=a.Id,T.dockerParams=t),x&&(T.containerProperties=x),T.config=r,T}}function NIe(t){return t.workspaceFolder||"/"}async function ZK(t,e,n){let r=await Fc(t,!0,[`${QK}=${e}`,`${kIe}=${n}`]);return r&&r[0]}async function WL(t,e,n){let{cliHost:r}="cliHost"in t?t:t.common,i=await LIe(t),o=E0(r.env.COMPOSE_PROJECT_NAME||"",i);if(o)return o;try{let u=r.path.join(r.cwd,".env"),c=await r.readFile(u),l=/^COMPOSE_PROJECT_NAME=(.+)$/m.exec(c.toString()),f=l&&l[1].trim(),d=E0(f||"",i);if(d)return d}catch(u){if(!(u&&(u.code==="ENOENT"||u.code==="EISDIR")))throw u}let s=e.configFolderPath,a=n[0]?r.path.dirname(n[0]):r.cwd;return VY(r.platform,a,r.path.join(s,".devcontainer"))?E0(`${r.path.basename(s)}_devcontainer`,i):E0(r.path.basename(a),i)}function _0(t){let e=(t.Config.Labels||{})[QK];return e||void 0}function E0(t,e){return e?t.toLowerCase().replace(/[^-_a-z0-9]/g,""):t.toLowerCase().replace(/[^a-z0-9]/g,"")}async function LIe(t){try{let e=dh((await t.dockerComposeCLI()).version);return e?!ph(e,[1,21,0]):!0}catch{return!0}}function Ta(t,e,n){let r;return()=>r||(r=(async()=>{let i=!1,o;try{o=(await Jx({...t,cmd:n},"version","--short")).stdout}catch(s){if((s==null?void 0:s.code)!=="ENOENT")throw s;o=(await Jx({...t,cmd:e},"compose","version","--short")).stdout,i=!0}return{version:o.toString().trim(),cmd:i?e:n,args:i?["compose"]:[]}})())}async function e9(t,e,n,r){if(e&&!/\/\.?devcontainer\.json$/.test(e.path))throw new Error(`Filename must be devcontainer.json or .devcontainer.json (${we(e,t.common.cliHost.platform)}).`);let i=t.parsedAuthority;if(!i||kn(i))return FIe(t,i,e,n,r);if(ni(i))return i.inspectVolume?GL(t,i):MIe(t,i,e);if(Mc(i))return i.inspectVolume?GL(t,i):UIe(t,i,e);if(iw(i))return GL(t,i);throw new Error(`Unexpected authority: ${JSON.stringify(i)}`)}async function FIe(t,e,n,r,i){let{common:o,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:u}=t,{cliHost:c,env:l,output:f}=o,d=c.cwd,p=t.originalCwd||d,m=e&&kt(c.path,Ex(e.hostPath)?c.path.join(d,ti.basename(e.hostPath)):d);e!=null&&e.configFile&&!n&&(n=e.configFile,c.type==="wsl"&&n.scheme==="file"&&(n=xe.from({scheme:ft.scheme,path:await P0(n,c)})));let h={cliHost:c,dockerCLI:s,dockerComposeCLI:a,dockerComposePath:u,env:l,output:f},g=i?void 0:[`${nw}=${p}`],v=i||[`${rw}=${p}`,`${I0}=${o.product.quality}`];return KL(t,h,g,v,p,d,n,r,void 0,m,e==null?void 0:e.settings,[],"on")}async function MIe(t,e,n){let{repositoryPath:r,volumeName:i,folder:o}=e,s=uo(r);i=await s9(t,s,i);let{labels:a,remoteWorkspaceFolder:u}=a9(s,r,o,i),c=[...a],l=[...a,`${I0}=${t.common.product.quality}`],{containerId:f,shellServer:d,remoteContainersEnv:p,config:m,preInstalledExtensions:h}=await s.cloneAndInitializeRepository(t,e,s,i,n),g=o?s.workspaceFolder(o):s.fullRepositoryName,v=JL(s,i,o);return t9(t,e,n,m,h,f,d,p,i,g,u,c,l,v)}async function UIe(t,e,n){let{common:r}=t,{extensionPath:i,appRoot:o,loadNativeModule:s,output:a}=r,{volumeName:u,folder:c}=e,l=[`${S0}=${u}`,`${i9}=${c}`],f=l;await e1(t);let d=ZL(u,wd()),{stdout:p}=await ke(t,...d),m=p.toString().trim(),h=Rs(t,m,"root"),g=await Bn(h,a),v=[],x=tw(c),y=x,w=await Ca(t,m,"root",s),_=ao("container",x,{},h,w,()=>{throw new Error("not implemented")},"node",a),{configuration:T}=await Zx({cliHost:_,dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:i,appRoot:o,package:r.package,output:a},x,n,t.common.getLogLevel(),l);return t9(t,e,n,T,v,m,g,{},u,x,y,l,f,d)}async function t9(t,e,n,r,i,o,s,a,u,c,l,f,d,p){var E,C,S;let m=kt(ti.posix,c),h=[`type=volume,source=${u},target=${ti.posix.dirname(m.rootFolderPath)},external=true`],g=await c9(t,o,a,l),v={},{HOME:x,USERPROFILE:y}=t.common.env;x!==void 0&&(v.HOME=x,await s.exec(`test -e "${x}" || (mkdir -p "$(dirname "${x}")" && ln -s ~ "${x}")`)),y!==void 0&&(v.USERPROFILE=y);let w=g.cliHost,_,T,P=jr(r)||"image"in r;if(P||"dockerComposeFile"in r&&r.workspaceFolder||i.length){let I=i.length?{...r.customizations,vscode:{...(E=r.customizations)==null?void 0:E.vscode,extensions:[...((S=(C=r.customizations)==null?void 0:C.vscode)==null?void 0:S.extensions)||[],...i]}}:r.customizations;T=P?N=>({...N,workspaceFolder:void 0,workspaceMount:"",customizations:I}):N=>({...N,workspaceFolder:m.rootFolderPath,customizations:I});let R=w.path.join(await w.tmpdir(),`devcontainer-${YL.randomUUID()}.json`),D=`EOF-${R}`,A=`${R}_${Date.now()}`;await s.exec(`cat <<'${D}' >${A}
${JSON.stringify({...T(r),configFilePath:void 0})}
${D}
mv ${A} ${R}`),_=xe.from({scheme:ft.scheme,path:R})}try{return await KL(t,g,f,d,t.common.cliHost.cwd,w.cwd,n,_,T,m,e.settings,h,"off",p,!0,void 0,v)}finally{Promise.all(t.common.backgroundTasks.filter(I=>typeof I!="function").map(I=>I.catch(()=>{}))).then(()=>ke(t,"rm","-f",o))}}async function GL(t,e){let{common:n,dockerCLI:r,dockerComposeCLI:i,dockerComposePath:o}=t,{cliHost:s,env:a,output:u}=n,{volumeName:c}=e,l,f,d=iw(e);d?(l=T0,f="Inspect Volume"):(l=uo(e.repositoryPath).volumeDestination,f="Recovery Container");let p=[`${Ih}=${c}`],m=[`${Ih}=${c}`,`${I0}=${n.product.quality}`],h=await o9(t),g=[`type=volume,source=${c},target=${l},external=true`],v={cliHost:s,dockerCLI:r,dockerComposeCLI:i,dockerComposePath:o,env:a,output:u},x=kt(s.path,h);return KL(t,v,p,m,h,h,void 0,void 0,void 0,x,e.settings,g,"never",void 0,!d,f)}async function KL(t,e,n,r,i,o,s,a,u,c,l,f,d,p,m,h,g){var wt;let{common:v,userRepositoryConfigurationPaths:x}=t,{output:y,extensionPath:w,appRoot:_,postCreate:T,localWaylandSocket:P}=v,{cliHost:E}=e,C=[...f];if(t.cacheMount==="bind"&&(await vs(v.localCacheFolder),C.push(`type=bind,source=${v.localCacheFolder},target=/vscode`)),t.cacheMount==="volume"){let Pe="vscode";(await Di(e)).indexOf(Pe)===-1&&await _h(e,Pe),C.push("type=volume,source=vscode,target=/vscode,external=true")}if(P){let Pe=await IY(void 0);C.push(`type=bind,source=${P},target=${Pe}`)}let S=s?{uri:s,location:qIe(E,c,s)}:c?await C0(E,c,x,!a,y):void 0,I=S==null?void 0:S.uri;if((I==null?void 0:I.scheme)==="file"&&E.type!=="local"){let Pe=ti.dirname(I.fsPath),ze=ti.basename(I.fsPath),In=ze===".devcontainer.json"?Pe:ti.dirname(Pe),vi=E.path.join(await E.tmpdir(),`devcontainer-config-${YL.randomUUID()}`);await yd(In,E,vi,y),I=xe.from({scheme:ft.scheme,path:E.path.join(vi,...ze===".devcontainer.json"?[ze]:[ti.basename(Pe),ze])})}typeof t.removeOnStartup=="string"&&await co(t,t.removeOnStartup)&&await ke(t,"rm","-f",t.removeOnStartup);let R=await Th(e,r);R&&t.removeOnStartup===!0&&n&&(await ke(t,"rm","-f",R.Id),R=void 0);let D=!!R||!n,A=D?r:await jIe(t,e,S,n),N=!1,O=t.removeOnStartup!==!0?R||n&&await Th(e,n):void 0;((wt=O==null?void 0:O.State)==null?void 0:wt.Status)==="running"&&(N=!0,ke({...Sa(t),print:"continuous"},"exec","-i","-u","root",O.Id,"/bin/sh","-c",`echo "Container already running. Keep-alive process started." ; export VSCODE_REMOTE_CONTAINERS_SESSION=${t.common.sessionId} ; /bin/sh`).catch(()=>{N=!1,y.write("Keep-alive process ended.")}));let M={...g,...e.env,...yn(e.env)},j={cliHost:E,dockerPath:e.dockerCLI,dockerComposePath:e.dockerComposePath,env:M,extensionPath:w,appRoot:_,package:v.package,postCreate:T,output:v.postCreate.output},W=await Zx(j,o,I,v.getLogLevel(),A,void 0,a),L=W.configuration;await t.ensureNoDisallowedFeatures(e,L,A);let H=v.postCreate.output.dimensions||v.output.dimensions,$=v.additionalFeaturesToInstall,V;try{V=await Vo(j,["up",...e.cliHost.type==="local"&&v.persistedFolder?["--user-data-folder",v.persistedFolder]:[],...e.dockerCLI!=="docker"?["--docker-path",e.dockerCLI]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],...v.containerSessionDataFolder?["--container-session-data-folder",v.containerSessionDataFolder]:[],...D?["--container-data-folder",wa(t.common.product.serverDataFolderName)]:[],...D?["--container-system-data-folder",r0(t.common.product.serverDataFolderName)]:[],"--workspace-folder",o,...t.workspaceMountConsistencyDefault?["--workspace-mount-consistency",t.workspaceMountConsistencyDefault]:[],...[].concat(...A.map(Pe=>["--id-label",Pe])),"--log-level",Ro(v.getLogLevel()),"--log-format","json",...I?["--config",we(I,E.platform)]:[],...a?["--override-config",we(a,E.platform)]:[],"--default-user-env-probe",v.defaultUserEnvProbe,...t.buildNoCache?["--build-no-cache"]:[],...t.removeOnStartup===!0?["--remove-existing-container"]:[],...t.expectExistingContainer?["--expect-existing-container"]:[],...t.useExperimentalLockfile?["--experimental-lockfile"]:[],...[].concat(...C.map(Pe=>["--mount",Pe])),"--skip-post-create","--update-remote-user-uid-default",d,"--mount-workspace-git-root",...H?["--terminal-columns",String(H.columns),"--terminal-rows",String(H.rows)]:[],...Object.keys($).length>0?["--additional-features",JSON.stringify($)]:[]])}catch(Pe){let ze=Pe instanceof ge?Pe:new ge({description:ml.t("An error occurred setting up the container."),originalError:Pe});throw ze.step="devContainersCLIUP",ze}if((V==null?void 0:V.outcome)!=="success")throw new ge({description:ml.t("devcontainer command failed: {0}",JSON.stringify(V)),step:"devContainersCLIUP"});let re=await co(t,V.containerId);if(!re)return l9(v.output,"Dev container not found.");N||(N=!0,ke({...Sa(t),print:"continuous"},"exec","-i","-u","root",re.Id,"/bin/sh","-c",`echo "New container started. Keep-alive process started." ; export VSCODE_REMOTE_CONTAINERS_SESSION=${t.common.sessionId} ; /bin/sh`).catch(()=>{N=!1,y.write("Keep-alive process ended.")}));let ye=Ph(v.cliHost.authority,l),Ce=h||(L.name?ml.t("Dev Container: {0}{1}",L.name,ye):ml.t("Dev Container{0}",ye));v.setWorkspaceName(Ce);let Te;try{if(jr(L)||"image"in L)Te=await u9(t,e,L,W.workspace,i,o,re,D,!O,m,A,I,a,v.additionalFeaturesToInstall);else if("dockerComposeFile"in L){if(!c)throw new ge({description:ml.t("A Dev Container using Docker Compose requires a workspace folder.")});Te=await JK(t,e,c,L,i,o,re,D,!O,p,m,A,I,a,v.additionalFeaturesToInstall)}else throw new ge({description:ml.t('Dev container config ({0}) is missing one of "image", "dockerFile" or "dockerComposeFile" properties.',L.configFilePath)})}catch(Pe){let ze=Pe instanceof ge?Pe:new ge({description:ml.t("An error occurred setting up the container."),originalError:Pe});throw ze.step="setupDevContainer",ze}return HIe(t,j,L,a,u,re,p,o,I,A,Te.properties),Te.configLocation=S==null?void 0:S.location,Te}function qIe(t,e,n){return e&&(n.scheme===ft.scheme||n.scheme==="file"&&t.type==="local")&&ED(ti,e.rootFolderPath,we(n,t.platform))?"workspace":n.scheme==="file"?"user":"unknown"}async function jIe(t,e,n,r){var s;let{cliHost:i}=e,o;if(n){let{uri:a}=n,u;a.scheme===ft.scheme||a.scheme==="file"&&i.type==="local"?u=we(a,i.platform):u=a.toString();let c=[...r,`${zL}=${u}`];if(await Th(e,c))o=c;else{let l=await Th(e,r);l&&!((s=l.Config.Labels)!=null&&s[zL])?t.removeOnStartup===!0?(await ke(e,"rm","-f",l.Id),o=c):o=r:o=c}}else o=r;return o}function HIe(t,e,n,r,i,o,s,a,u,c,l){let{common:f}=t,{output:d,extensionPath:p,appRoot:m}=f,{cliHost:h}=e;if(t.watch){let g,v=n.configFilePath;if(v.scheme===ft.scheme)if(h.type==="local")g=v.with({scheme:"file"});else if(h.type==="container")g=v.with({scheme:Pi.scheme,authority:f.authority});else{let x=we(v,h.platform),y=o.Mounts.find(w=>ED(h.path,w.Source,x));if(y){let w=h.path.relative(y.Source,x),_=h.platform==="win32"?w.replace(/\\/g,"/"):w;g=xe.from({scheme:Pi.scheme,authority:f.authority,path:ti.posix.join(y.Destination,_)})}}else(v.scheme==="file"||v.scheme===Pi.scheme)&&(g=v);if(g){let T=function(){x||(w=y().finally(async()=>{await $o(h.type==="container"?5e3:1e3),w=void 0,_&&(_=!1,T())}))},x=!1;async function y(){let E=e,C;try{if(h.type==="container"){let{stdout:R}=await ke(t,...s);C=R.toString().trim();let D=Rs(t,C,"root");if(r&&i){let O=r.path,M=`EOF-${O}`,j=`${O}_${Date.now()}`,W=await Bn(D,d),L=Ye((await W.exec(`cat '${v.path}'`)).stdout);await W.exec(`cat <<'${M}' >${j}
${JSON.stringify({...i(L),configFilePath:void 0})}
${M}
mv ${j} ${O}`)}let A=await Ca(t,C,"root",f.loadNativeModule);E={cliHost:ao("container",a,{},D,A,()=>{throw new Error("not implemented")},"node",d),dockerPath:"docker",dockerComposePath:"docker-compose",env:{},extensionPath:p,appRoot:m,package:f.package,output:d}}let S=await Zx(E,a,u,f.getLogLevel(),c,o.Id,r),I=ir(E.cliHost,l.shellServer);await g0({...t.configurationTracking,containerOutdated:async R=>{x=!0;let D=await t.configurationTracking.containerOutdated(R);return D==="ignore"&&(x=!1),D}},E.cliHost,I,S.configuration)}finally{C&&await ke(t,"rm","-f",C)}}let w,_=!1,P=t.watch(g,()=>{w?_=!0:T()});t.common.shutdowns.push(async()=>(await P).dispose())}}}async function Th(t,e){let n=await Fc(t,!0,e);return(await ba(t,n)).filter(i=>i.State.Status!=="removing")[0]}async function Zx(t,e,n,r,i,o,s){let{cliHost:a,output:u}=t,c=await Vo(t,["read-configuration",...t.dockerPath!=="docker"?["--docker-path",t.dockerPath]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],"--workspace-folder",e,...(i||[]).map(l=>["--id-label",l]).flat(),...o?["--container-id",o]:[],"--log-level",Ro(r),"--log-format","json",...n?["--config",we(n,a.platform)]:[],...s?["--override-config",we(s,a.platform)]:[],"--mount-workspace-git-root",...u.dimensions?["--terminal-columns",String(u.dimensions.columns),"--terminal-rows",String(u.dimensions.rows)]:[]]);return c.configuration.configFilePath=xe.revive(c.configuration.configFilePath).with({scheme:a.type==="local"?"file":ft.scheme}),c}async function ew(t,e,n,r,i){let o=await C0(t,e,n,r,i);return o==null?void 0:o.uri}async function C0(t,e,n,r,i){let o=await r8(t,e,Re),s=o&&await XL(o,n);if(s)return{uri:s,location:"user"};let a=await f0(t,e.configFolderPath);if(a)return{uri:a,location:"workspace"};r&&i&&(o!=null&&o.length?i.write(`No dev container config found. Additional locations checked:
${n9(o,n).map(u=>`- ${ti.join(u,".devcontainer","devcontainer.json")}`).join(`
`)}`):i.write("No dev container config found. No repository connection string found."))}async function XL(t,e){let n=n9(t,e);for(let r of n){let i=await DK(r);if(i)return xe.file(i)}}function n9(t,e){let n=[],r=new Set(t.map($Ie).filter(i=>!!i));for(let i of r)for(let o of e){let s=ti.join(o,i);n.push(s)}return n}function r9(t,e,n){let r=t.path.relative(e.rootFolderPath,we(n,t.platform));return r&&!r.startsWith("..")&&!t.path.isAbsolute(r)}function $Ie(t){let e;if(t.startsWith("https://"))e=t.substr(8);else{let n=/[^@:]+@([^:]+):(.+)/.exec(t);if(n)e=`${n[1]}/${n[2]}`;else return}if(!(e.toLowerCase().startsWith("github.com")&&(e=(/^[^/]+\/[^/]+\/[^/]+/.exec(e)||[])[0],!e)))return e.endsWith(".git")&&(e=e.substr(0,e.length-4)),e}var S0="vsc.devcontainer.volume.name",i9="vsc.devcontainer.volume.folder";function QL(t){return t?`${t.volumeName}:${t.folder}`:void 0}function hl(t){let e=(t.Config.Labels||{})[S0],n=(t.Config.Labels||{})[i9];return e&&n?{volumeName:e,folder:n}:void 0}var Ia=B(require("url")),f9=B(require("https"));var d9=B(Pr());function Pa(t){return t.toLowerCase().indexOf("github.com")>=0?zIe(t):t.toLowerCase().indexOf("visualstudio.com")>=0?WIe(t):t.toLowerCase().indexOf("dev.azure.com")>=0?VIe(t):t.toLowerCase().indexOf("gitlab.com")>=0?GIe(t):BIe(t)}function Uc(t){let e="owner",n="repository";return{repository:"unknown",repositoryUrl:t,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${e}/${n}`}}function BIe(t){var s;let e="unknown-owner",n,r=t,i;i=(s=Ia.parse(t))==null?void 0:s.path;let o=i==null?void 0:i.split("/");return!o||o.length<1?Uc(t):(n=o[o.length-1],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),{repository:"unknown",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${e}/${n}`})}function VIe(t){var o,s;let e,n,r=t,i;if(A0(t)){let a=`http://${t}`;i=(o=Ia.parse(a))==null?void 0:o.path;let u=i==null?void 0:i.split("/");if(!u||u.length<5)return Uc(t);e=u[3],n=u[4]}else{i=(s=Ia.parse(t))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return Uc(t);e=a[2],n=a[4],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf(".")))}return{repository:"ado",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${e}/${n}`}}function WIe(t){var o,s;let e,n,r=t,i;if(A0(t)){let a=`http://${t}`;i=(o=Ia.parse(a))==null?void 0:o.path;let u=i==null?void 0:i.split("/");if(!u||u.length<5)return Uc(t);e=u[3],n=u[4]}else{i=(s=Ia.parse(t))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<5)return Uc(t);e=a[2],n=a[4],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf(".")))}return{repository:"vso",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${e}/${n}`}}function GIe(t){var o,s;let e,n,r=t,i;if(A0(t)){let a=`http://${t}`;i=(o=Ia.parse(a))==null?void 0:o.path,i&&(i=i.replace("/:","/"));let u=i==null?void 0:i.split("/");if(!u||u.length<3)return Uc(t);e=u[u.length-2],n=u[u.length-1]}else{i=(s=Ia.parse(t))==null?void 0:s.path;let a=i==null?void 0:i.split("/");if(!a||a.length<3)return Uc(t);e=a[a.length-2],n=a[a.length-1]}return n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),{repository:"gitlab",repositoryUrl:r,ref:void 0,commit:!1,repositoryOwner:e,repositoryName:n,pullRequestId:void 0,fullRepositoryName:`${e}/${n}`}}function zIe(t){var u,c;let e,n,r=t,i,o,s;if(A0(t)){let l=`http://${t}`;s=(u=Ia.parse(l))==null?void 0:u.path,s&&(s=s.replace("/:","/"))}else s=(c=Ia.parse(t))==null?void 0:c.path;let a=s==null?void 0:s.split("/");if(!a||a.length<=2)return Uc(t);if(e=a[1],n=a[2],n.endsWith(".git")&&(n=n.substring(0,n.lastIndexOf("."))),a.length>=3){if(a[3]==="commit"||a[3]==="tree"){let l=t.match(/\/tree\/|\/commit\//);l&&l.index&&(r=t.substring(0,l.index),i=t.substring(l.index+l[0].length))}if(a[3]==="pull"){o=a[4];let l=t.match(/\/pull\//);l&&l.index&&(r=t.substring(0,l.index))}}return{repository:"github",repositoryUrl:r,ref:i,commit:a[3]==="commit",repositoryOwner:e,repositoryName:n,pullRequestId:o,fullRepositoryName:`${e}/${n}`}}function A0(t){return t=t.toLowerCase(),t.indexOf("://")<0?t.indexOf("@")<t.indexOf(":"):!1}var ow=class extends Error{constructor(n,r){super();this.code=n,this.description=r}},sw=class{constructor(e){this.inputUrl=e,this.gitUrlInfo=Pa(this.inputUrl)}repositoryName(){return this.gitUrlInfo.repositoryName}repositoryOwner(){return this.gitUrlInfo.repositoryOwner}async postClone(e,n,r,i){}installExtension(){return null}},t1=class extends sw{constructor(e){super(e)}async parseUrl(e){var o,s,a;let n=(o=this.gitUrlInfo)==null?void 0:o.repositoryOwner,r=(s=this.gitUrlInfo)==null?void 0:s.repositoryName,i=(a=this.gitUrlInfo)==null?void 0:a.pullRequestId;return this.getPullRequestInfo(e,n,r,i)}async getPullRequestInfo(e,n,r,i){var l,f,d,p,m,h,g,v,x,y,w;let o=await this.fetchPullRequestInfo(e,n,r,i),s=(f=(l=o.head)==null?void 0:l.repo)==null?void 0:f.clone_url,a=(p=(d=o.base)==null?void 0:d.repo)==null?void 0:p.clone_url;if(!a)throw new ow(2,d9.t("Cannot access the head repository of the Pull Request."));let u=(m=o.head)==null?void 0:m.ref,c=((v=(g=(h=o.head)==null?void 0:h.repo)==null?void 0:g.owner)==null?void 0:v.login)===n?null:(w=(y=(x=o.head)==null?void 0:x.repo)==null?void 0:y.owner)==null?void 0:w.login;return{urlToClone:a,prRepositoryUrl:s,ref:u,sourceOwner:c}}async fetchPullRequestInfo(e,n,r,i){let o=`/repos/${n}/${r}/pulls/${i}`,s={"user-agent":"vscode-remote-containers"};e&&(s.authorization=`token ${e}`);let a={hostname:"api.github.com",port:443,path:o,method:"GET",headers:s};return new Promise((u,c)=>{let l="",f=f9.request(a,d=>{if(d.statusCode<200||d.statusCode>=300)return c(new Error(`Status Code: ${d.statusCode}`));d.on("data",p=>{l+=p}),d.on("end",()=>{let p=JSON.parse(l.toString());u(p)})});f.on("error",c),f.end()})}cloneOptions(e){return{url:e.urlToClone,fullClone:!0}}async postClone(e,n,r,i){if(e.sourceOwner){let c=e.prRepositoryUrl.replace(/\.[^/.]+$/,"");await ae({exec:n.exec,cmd:"git",args:["remote","add",e.sourceOwner,c],cwd:r,output:i}),await ae({exec:n.exec,cmd:"git",args:["fetch",e.sourceOwner,e.ref],cwd:r,output:i});try{await ae({exec:n.exec,cmd:"git",args:["checkout","-t",`${e.sourceOwner}/${e.ref}`],cwd:r,output:i})}catch(l){if(!(l.stderr&&l.stderr.startsWith(`fatal: A branch named '${e.ref}' already exists`)))throw l}await ae({exec:n.exec,cmd:"git",args:["config","--local",`remote.${e.sourceOwner}.github-pr-remote`,"true"],cwd:r,output:i})}else await ae({exec:n.exec,cmd:"git",args:["checkout",e.ref],cwd:r,output:i});let o=this.gitUrlInfo.repositoryOwner,s=this.gitUrlInfo.repositoryName,a=this.gitUrlInfo.pullRequestId,u=`${o}#${s}#${a}`;await ae({exec:n.exec,cmd:"git",args:["config","--local",`branch.${e.ref}.github-pr-owner-number`,u],cwd:r,output:i})}installExtension(){return"GitHub.vscode-pull-request-github"}},n1=class extends sw{constructor(e){super(e)}async parseUrl(e){var n,r;return{urlToClone:(n=this.gitUrlInfo)==null?void 0:n.repositoryUrl,ref:(r=this.gitUrlInfo)==null?void 0:r.ref}}cloneOptions(e){let n=this.gitUrlInfo.commit;return{url:e.urlToClone,branch:!n&&e.ref||void 0,fullClone:n}}async postClone(e,n,r,i){this.gitUrlInfo.commit&&await ae({exec:n.exec,cmd:"git",args:["checkout",e.ref],cwd:r,output:i})}},R0=class extends sw{constructor(n,r){super(n);this.branch=r}async parseUrl(n){return{urlToClone:this.inputUrl,ref:this.branch}}cloneOptions(n){return{url:n.urlToClone,branch:n.ref||void 0}}};function D0(t,e){if(e)return new R0(t,e);let n=Pa(t);if(n.repository==="github"){if(n.pullRequestId)return new t1(t);if(n.ref)return new n1(t)}return new R0(t)}var o1="vsch.local.repository",k0="dev.container.volume";function uo(t){return{repositoryPath:t,fullRepositoryName:s1(t),repositoryName:a1(t),workspaceFolder:tw,volumeDestination:wd(),oldVolumeName:KIe(t),alreadyCloned:!1,uniqueVolumeName:XIe(t),legacyUniqueVolumeName:QIe(t),getOldWorkspacePath:g9,cloneAndInitializeRepository:JIe,gitUrlHandler:D0(t),gitUrlInfo:Pa(t)}}function s1(t){let e=Pa(t);return e==null?void 0:e.fullRepositoryName}function a1(t){let e=Pa(t);return e==null?void 0:e.repositoryName}function wd(){return"/workspaces"}function KIe(t){let e=s1(t);return`vsc-${As.posix.basename(e)}-${m9(t)}`}function XIe(t){let e=p9(t),n=vl.createHash("sha256").update(t).digest("hex");return`${e}-${n}`}function QIe(t){let e=p9(t),n=m9(t);return`${e}-${n}`}function p9(t){let e=Pa(t),n="";return e&&e.repositoryName&&(n=e.repositoryName,e.ref?n=`${n}-${e.ref.replace(/\//g,"-")}`:e.pullRequestId&&(n=`${n}-pull-${e.pullRequestId}`)),n}function m9(t){return vl.createHash("md5").update(t).digest("hex")}function tw(t){return As.posix.join(`${wd()}`,`${t}`)}async function JIe(t,{folder:e,cloneInfo:n},r,i,o){var f;await e1(t);let{containerId:s,shellServer:a,remoteContainersEnv:u}=await ZIe(t,r,i,e,o,t.configProvider,n),{config:c}=await ePe(t,r,e,o,a),l=(f=r.gitUrlHandler)==null?void 0:f.installExtension();return{repository:r,volumeName:i,containerId:s,shellServer:a,remoteContainersEnv:u,config:c,preInstalledExtensions:l?[l]:[]}}async function ZIe(t,e,n,r,i,o,s){let{common:a}=t,{output:u,loadNativeModule:c}=a,l=e.fullRepositoryName,f,d,p,m;t.common.progress(1);let h=JL(e,n,r,t.buildContainerRunArgs);r?(u.write(`Cloning Github repository: ${l} into ${e.workspaceFolder(r)}
\r`),f=`fatal: destination path '${e.workspaceFolder(r)}' already exists`,m=e.workspaceFolder(r),p=`Repository '${l}' was already cloned into '${e.workspaceFolder(r)}'.
\r`):(u.write(`Cloning Github repository: ${l} into volume ${n}
\r`),f=`fatal: destination path '${l}' already exists`,m=`${l}`,p=`Repository '${l}' was already cloned into volume.`);let g=e.gitUrlHandler;if(!g)throw new ge({description:gl.t("Could not analyze the URL.")});s?d=g.cloneOptions(s):d={url:e.repositoryPath};let{stdout:v}=await ke(t,...h),x=v.toString().trim(),y=Rs(t,x,"root"),w=await Bn(y,u),_=await PS(a,{remoteExec:y,user:"root",nodeExecutable:"node",shellServer:w,launchRootShellServer:async()=>w}),T=_.remoteContainersCLI,P=_.remoteEnv,E=_.ready,C=_.mrpcExec,S=await Ca(t,x,"root",c),I=ao("container",m,{},await C||y,S,()=>{throw new Error("not implemented")},void 0,u);try{t.common.isCopyGitConfigEnabled&&await dS(t.common,{homeFolder:"/root",shellServer:w},{}),await JS({shellServer:w,nodeExecutable:"node"},T,u,"global"),await Sx(t.common,{homeFolder:"/root",shellServer:w},[".ssh","known_hosts"],"ssh"),await E;let D=YY(a),A=await s8(a,I,m,{...d,env:{...P,...d.env}},u,D.output);if(await A.gitClone,A.gitUnshallow&&(a.backgroundTasks.push(A.gitUnshallow.then(()=>{})),A.gitUnshallow.then(D.flush,D.flush)),A.gitClone&&s)try{await g.postClone(s,I,m,u)}catch{return r1(t,x,gl.t("Failed to checkout the repository {0}.",s.urlToClone))}}catch(D){let A=D&&(D.cmdOutput||D.stack||D.message)||String(D);if(A=A.replace(Du,""),A.replace(/[\r\n]+/gm,"").includes(f))u.write(p),e.alreadyCloned=!0;else return r1(t,x,gl.t("Git clone failed. {0}",A))}let{configRaw:R}=await h9(t,e,r,i,w);if(!m0(R)&&o){u.write(`Repository ${l} has no dev container files.
\r`);let D=!0;for(;D;){let A=await o.createConfiguration(m,I);if(A)D=!1;else{let N=gl.t("Select Configuration");if(A=await o.showError(gl.t("You must select a container configuration since the repository does not contain a dev container configuration. Without a dev container configuration the container cannot be started."),N),A!==N)return r1(t,x,gl.t("Cancelled container configuration selection."),{closeRemote:!0})}}}return{containerId:x,shellServer:w,remoteContainersEnv:P}}function JL(t,e,n,r=[]){let i=n?t.volumeDestination:t.fullRepositoryName;return ZL(e,i,r)}function ZL(t,e,n=[]){return["run","-d","--mount",`type=volume,src=${t},dst=${e}`,"-v","/var/run/docker.sock:/var/run/docker.sock",...n,`${v9}`,"sleep","infinity"]}function r1(t,e,n,r){throw e&&ke(t,"rm","-f",e),new ge({description:n,data:r})}async function h9(t,e,n,r,i){let o,s;if(n?s=e.workspaceFolder(n):s=`${g9(e.repositoryPath)}`,r)return o=(await i.exec(`cat ${r.path} 2>/dev/null`,{logOutput:!1})).stdout,{configRaw:o&&Ye(o),configFile:r,workspaceFolder:s};if(r=await XL([e.repositoryPath],t.userRepositoryConfigurationPaths),r&&(o=(await st(r.fsPath)).toString()),!r)for(let a of Eh(As.posix,s))try{o=(await i.exec(`cat ${a} 2>/dev/null`,{logOutput:!1})).stdout,r=xe.from({scheme:"vscode-remote",path:a});break}catch{}return{configRaw:o&&Ye(o),configFile:r,workspaceFolder:s}}async function ePe(t,e,n,r,i){let{configRaw:o,configFile:s,workspaceFolder:a}=await h9(t,e,n,r,i);if(!s||!o)throw new ge({description:gl.t("The repository does not have a 'devcontainer.json' configuration file.")});let{common:u,configUpdater:c}=t,{cliHost:l,output:f}=u,d=Xx({...o}),p=d;c&&(d.configFilePath=s,p=c(d),delete p.configFilePath);let m=zS({platform:l.platform,configFile:s,env:l.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:a},p);return m.configFilePath=s,("workspaceMount"in m||"workspaceFolder"in m)&&f.write("The options 'workspaceMount' or 'workspaceFolder' are ignored when cloning a repository into a volume."),{workspaceFolder:a,config:m}}function g9(t){return`/workspaces/${As.posix.basename(s1(t))}`}var v9="vsc-volume-bootstrap";var i1="bootstrap.Dockerfile",tPe="volume.Dockerfile";async function e1(t,e,n,r){let{cliHost:i,output:o}="cliHost"in t?t:t.common;"cliHost"in t||(e=t.common.extensionPath,n=t.common.package.version,r=t.development);let s=i.path.join(await f1(i),"bootstrap-image",r?`${n}-dev-${Date.now()}`:n),a=i.path.join(s,i1),u=i.path.join(s,".vscode-remote-containers","dist",`dev-containers-cli-${n}`),c=i.path.join(u,"dist","spec-node","devContainersSpecCLI.js"),l=!await i.isFolder(s);if(!l&&!(await i.isFile(a)&&await i.isFile(c))){let d="Removing incomplete bootstrap-image folder.",p=o.start(d),m=`${s}-${vl.randomUUID()}`;await i.rename(s,m),await i.rm(m,{recursive:!0,force:!0}),l=!await i.isFolder(s),o.stop(d,p)}if(l){let d=`${s}-${vl.randomUUID()}`,p=i.path.join(d,".vscode-remote-containers","dist",`dev-containers-cli-${n}`);await i.mkdirp(i.path.join(p,"dist","spec-node")),await i.writeFile(i.path.join(d,i1),await st(As.join(e,"scripts",i1))),await i.writeFile(i.path.join(p,"package.json"),await st(As.join(e,"package.json"))),await i.writeFile(i.path.join(p,"dist","spec-node","devContainersSpecCLI.js"),await st(As.join(e,"dist","spec-node","devContainersSpecCLI.js"))),await i.mkdirp(i.path.join(p,"scripts")),await i.writeFile(i.path.join(p,"scripts","updateUID.Dockerfile"),await st(As.join(e,"scripts","updateUID.Dockerfile")));let m=d0(e),h=i.path.join(p,"dist","node_modules","vscode-dev-containers","container-features");await yd(m,i,h,o),await i.rename(d,s)}await GK(t,...["build","-f",a,"-t",v9,s])}async function o9(t){let{common:e}=t,{cliHost:n,output:r}=e,i=await nPe(t),o=n.path.join(i,tPe),s=!await n.isFolder(i);if(!s&&!await n.isFile(o)){let a="Removing incomplete inspect-volume folder.",u=r.start(a),c=`${i}-${vl.randomUUID()}`;await n.rename(i,c),await n.rm(c,{recursive:!0,force:!0}),s=!await n.isFolder(i),r.stop(a,u)}if(s){let a=`${i}-${vl.randomUUID()}`;await yd(As.join(e.extensionPath,"scripts","inspect-volume"),n,a,r),await n.rename(a,i)}return i}async function nPe(t){let{common:e,development:n}=t,{cliHost:r}=e,i=e.package.version;return r.path.join(await f1(r),"inspect-volume",n?`${i}-dev-${Date.now()}`:i)}async function s9(t,e,n){let r=[`${o1}=${e.repositoryPath}`];!n||n===Wo?r.push("vsch.local.repository.unique=true"):r.push("vsch.local.repository.unique=false"),e.gitUrlInfo.ref&&r.push(`vsch.local.repository.branch=${e.gitUrlInfo.ref}`),e.gitUrlInfo.pullRequestId&&r.push(`vsch.local.repository.pullRequestId=${e.gitUrlInfo.pullRequestId}`);let i=await Di(t),o=c1(e,n,i);return i.indexOf(o)===-1&&await _h(t,o,r),o}function c1(t,e,n){return e?e===Wo&&(n.indexOf(t.uniqueVolumeName)!==-1||n.indexOf(t.legacyUniqueVolumeName)===-1?e=t.uniqueVolumeName:e=t.legacyUniqueVolumeName):n.indexOf(t.uniqueVolumeName)!==-1||n.indexOf(t.oldVolumeName)===-1?e=t.uniqueVolumeName:e=t.oldVolumeName,e}var Rh="vsch.local.repository",u1="vsch.local.repository.volume",l1="vsch.local.repository.folder";function a9(t,e,n,r){return n?{labels:[`${Rh}=${e}`,`${u1}=${r}`,`${l1}=${n}`],remoteWorkspaceFolder:t.workspaceFolder(n)}:{labels:[`${Rh}=${e}`],remoteWorkspaceFolder:t.getOldWorkspacePath(e)}}async function c9(t,e,n,r){let{loadNativeModule:i,output:o}=t.common,s=Rs(t,e,"root"),a=await Ca(t,e,"root",i),u=ao("container",r,n,s,a,()=>{throw new Error("not implemented")},"node",o);return{cliHost:u,dockerCLI:"docker",dockerComposeCLI:Ta({exec:u.exec,env:n,output:o},"docker","docker-compose"),dockerComposePath:"docker-compose",env:n,output:o}}var y9=B(Pr()),nw="devcontainer.local_folder",zL="devcontainer.config_file",Ih="vsch.local.volume",T0="/volume",I0="vsch.quality",rw="vsch.local.folder";async function u9(t,e,n,r,i,o,s,a,u,c,l,f,d,p){let{common:m}=t,h;try{let g=!u,v={...e.env,...yn(e.env)},x={cliHost:e.cliHost,dockerPath:e.dockerCLI,dockerComposePath:e.dockerComposePath,env:v,extensionPath:m.extensionPath,appRoot:m.appRoot,package:m.package,output:m.postCreate.output},{mergedConfiguration:y}=await pl(x,o,f,m.getLogLevel(),p,l,s.Id,d),w=y.remoteUser;h=await Ch(t,s.Id,r.workspaceFolder,w),c&&u&&r.workspaceFolder&&h.user!=="root"&&(h.launchRootShellServer?await i0(h,h.launchRootShellServer,r.workspaceFolder,n.configFilePath.path):m.output.write("NOTE: Cannot run as root. Therefore cannot chown repository files."));let _=await E9(m,u,r,h);return await iPe(s,a,t,e,h,n,y,g,i,o,l,f,d,_)}catch(g){throw rPe(g,s,t,h,n)}}function rPe(t,e,n,r,i){let o=t instanceof ge?t:new ge({description:y9.t("An error occurred setting up the container."),originalError:t});return e&&(o.manageContainer=!0,o.params=n.common,o.containerId=e.Id,o.dockerParams=n),r&&(o.containerProperties=r),i&&(o.config=i),o}async function iPe(t,e,n,r,i,o,s,a,u,c,l,f,d,p){var S,I;let{common:m}=n,h=ir(r.cliHost,i.shellServer);a||await v0(n.configurationTracking,r.cliHost,h,o,m.output);let g=s.shutdownAction;g==="stopCompose"&&(g="stopContainer");let v={cwd:u,dockerCLI:n.dockerCLI,env:m.env,containerId:t.Id,user:i.user,sessionId:m.sessionId,shutdownAction:g,logLevel:m.getLogLevel(),delay:1e4},{shutdownArgs:x,doneWithDocuments:y}=await b0(n,r.cliHost,h,"singleContainer",v,a?o:void 0);m.backgroundTasks.push(y);let w=((I=(((S=s.customizations)==null?void 0:S.vscode)||[]).slice().reverse().find(R=>typeof R.devPort=="number"))==null?void 0:I.devPort)||md,{hostOrContainerPort:_,hostPortServer:T,connectionToken:P,remoteEnv:E,serverDownloaded:C}=await ol(m,i,o,s,w,Sh(n,r,i,c,l,t.Id,e,f,d),p);return x.hostPortServer=T,{params:m,properties:i,config:o,resolvedAuthority:{host:dl,port:_,connectionToken:P,extensionHostEnv:E},tunnelInformation:m.isLocalContainer?bh(t):{},dockerParams:n,dockerContainerId:t.Id,serverDownloaded:C}}function yl(t){let e=t.Config.Labels||{},n=e[nw]||e[rw];return n||void 0}function qc(t){let e=(t.Config.Labels||{})[Rh];return e||void 0}function O0(t){let e=(t.Config.Labels||{})[u1];return e||void 0}function x9(t){let e=(t.Config.Labels||{})[Ih];return e||void 0}function w9(t){let e=(t.Config.Labels||{})[l1];return e||void 0}function l9(t,e){throw t.write(pt(e)),new Error(e)}function jc(t){return!!(t!=null&&t.startsWith("tunnel+"))}function _9(t){let e=/^tunnel\+(.*)$/.exec(t);return e?{tunnelName:e[1]}:void 0}var b9=B(require("path"));async function C9(t,e,n,r,i,o){let s,a=new Promise(m=>s=m),u=new y0,c=[],l=await $K("vscode-remote-containers",async(m,h)=>{let g=await BK(m),v=[];if(g.type==="poll")try{v=await u.dequeue(6e4)}catch{}else if(g.type==="reply"){let x=c[g.sequence];x&&(x(g.reply),delete c[g.sequence])}else g.type==="done"&&s?s():g.type==="log"&&r.event(g.event);h.write(JSON.stringify(v)),h.end()});l.server.unref();let f=b9.join(n,"dist","shutdown","shutdownMonitorProcess"),d=[l.ipcHandlePath,t,xi[e],i||"",o.getTime().toString()];r.write(`Forking shutdown monitor: ${f} ${d.join(" ")}\r
`);let p=zY(f,d,{stdio:["ignore","ignore","ignore","ipc"],detached:!0,execArgv:[]});return p.on("error",m=>{console.error(m)}),p.unref(),{queue:u,sequence:0,replies:c,done:a}}async function N0(t,e,n){let r=t.sequence++,i=new Promise(s=>t.replies[r]=s);return t.queue.push({type:"configure",sequence:r,options:e}),await i}async function S9({queue:t,done:e}){t.push({type:"cleanup"}),await e}var T9=require("util");var Wo="__UNIQUE__",dl="127.0.0.1";async function P0(t,e){if(t.scheme==="file"&&e.type==="wsl"){let{stdout:n}=await ae({exec:e.exec,cmd:"wslpath",args:["-u",t.fsPath],output:Re});return n.toString().trim()}return we(t,e.platform)}function Dh(t,e){let n=t.platform==="win32"&&!t.env.SSH_AUTH_SOCK?SS:t.type==="wsl"?t.env.SSH_AUTH_SOCK:void 0,r={DOCKER_CONTEXT:"default"};return e&&("context"in e?r.DOCKER_CONTEXT=e.context:(e.host&&(e.host.startsWith("ssh://")&&t.type==="remote"?r.VSCODE_DOCKER_HOST=e.host:r.DOCKER_HOST=e.host),e.certPath&&(r.DOCKER_CERT_PATH=e.certPath),e.tlsVerify&&(r.DOCKER_TLS_VERIFY=e.tlsVerify))),n&&(r.SSH_AUTH_SOCK=n),r}function sr(t){let e;if(t.DOCKER_CONTEXT&&t.DOCKER_CONTEXT!=="default")e={context:t.DOCKER_CONTEXT};else{e={};let n=t.VSCODE_DOCKER_HOST||t.DOCKER_HOST;n&&(e.host=n),t.DOCKER_CERT_PATH&&(e.certPath=t.DOCKER_CERT_PATH),t.DOCKER_TLS_VERIFY&&(e.tlsVerify=t.DOCKER_TLS_VERIFY),Object.keys(e).length||(e=void 0)}return e}function L0(t,{parentAuthority:e,settings:n}){e&&t.write(`Host authority: ${e}\r
`),n&&("context"in n&&n.context&&t.write(`Context: ${n.context}\r
`),"host"in n&&n.host&&t.write(`Host: ${n.host}\r
`),"certPath"in n&&n.certPath&&t.write(`CertPath: ${n.certPath}\r
`),"tlsVerify"in n&&n.tlsVerify&&t.write(`TLSVerify: ${n.tlsVerify}\r
`))}function F0(t,e){return(!t||t.startsWith("wsl+"))&&!e.VSCODE_DOCKER_HOST&&!e.DOCKER_HOST&&(!e.DOCKER_CONTEXT||e.DOCKER_CONTEXT==="default")}function Ph(t,e){var r,i;let n;return jc(t)?n=(r=_9(t))==null?void 0:r.tunnelName:nl(t)?n=(i=jS(t))==null?void 0:i.hostName:e&&("context"in e||e.host)&&(n="context"in e?e.context:e.host),n?` @ ${n}`:""}async function co(t,e){try{return await Ai(t,e)}catch{return}}async function M0(t){let{common:e}=t,{output:n}=e,r="Check Docker is running",i=n.start(r);try{let{stdout:o}=await ke(t,"version","--format","{{.Server.APIVersion}}"),s=o.toString();if(s.toLowerCase().indexOf("cannot connect")!==-1)throw new Error(s);n.write(`Server API version: ${s.trim()}`)}catch(o){console.error(o);let s=o&&(o.stderr?o.stderr.toString():o.message)||"";s&&n.write(pt(s));let a=Ah.t("Docker returned an error. Make sure the Docker daemon is running and select an option how to proceed."),u=o&&(o.stderr?o.stderr.toString().toLowerCase():o.message)||"";throw u.indexOf("permission denied")!==-1?u.indexOf("ssh")!==-1?a=Ah.t("Cannot connect to Docker daemon using 'ssh'. Make sure public/private keys are set up for connecting without keyboard interaction."):a=Ah.t("Current user does not have permission to run 'docker'. Try adding the user to the 'docker' group."):u.indexOf("ENOENT")!==-1&&(a=Ah.t("The 'docker' command was not found. Make sure Docker is installed.")),new ge({description:a,originalError:`Docker returned an error code ${o.code}, message: ${o.message}`})}finally{n.stop(r,i)}}function kn(t){return t.hostPath!==void 0}function ni(t){return t.repositoryPath!==void 0}function Mc(t){return!ni(t)&&!!t.folder}function iw(t){return!ni(t)&&!Mc(t)&&t.volumeName!==void 0}function ri(t){let e=P9("dev-container",t);if(e)return"unparsedConfig"in e?{parentAuthority:e.parentAuthority,hostPath:e.unparsedConfig}:"repositoryPath"in e?e.dockerHost?{parentAuthority:e.parentAuthority,repositoryPath:e.repositoryPath,settings:{host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`},cloneInfo:e.cloneInfo}:e:("hostPath"in e&&e.configFile&&(e.configFile=xe.revive(e.configFile)),"hostPath"in e&&e.dockerHost?{parentAuthority:e.parentAuthority,hostPath:e.hostPath,settings:{host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`}}:e)}function cw(t,e,n,r,i,o){t=d1(t);let s=r||o?JSON.stringify({hostPath:e,localDocker:i,settings:r,configFile:o}):e;return`vscode-remote://dev-container+${Buffer.from(s,"utf8").toString("hex")}${t?`@${t}`:""}${n}`}function Ds(t,e,n,r,i,o,s){if(t=d1(t),e){let u=uo(e);if(!n){let l=JSON.stringify({repositoryPath:e,settings:o,cloneInfo:s,inspectVolume:i});return`vscode-remote://dev-container+${Buffer.from(l,"utf8").toString("hex")}${t?`@${t}`:""}${u.getOldWorkspacePath(e)}`}let c=JSON.stringify({repositoryPath:e,volumeName:n,folder:r,settings:o,cloneInfo:s,inspectVolume:i});return`vscode-remote://dev-container+${Buffer.from(c,"utf8").toString("hex")}${t?`@${t}`:""}${u.workspaceFolder(r)}`}if(r){let u={volumeName:n,folder:r,settings:o};return`vscode-remote://dev-container+${Buffer.from(JSON.stringify(u),"utf8").toString("hex")}${t?`@${t}`:""}${tw(r)}`}let a=JSON.stringify({volumeName:n,settings:o});return`vscode-remote://dev-container+${Buffer.from(a,"utf8").toString("hex")}${t?`@${t}`:""}${T0}`}function Ed(t){let e=P9("attached-container",t);if(e)return"unparsedConfig"in e?{parentAuthority:e.parentAuthority,containerId:e.unparsedConfig}:(e.dockerHost&&(e.settings={host:`tcp://${e.dockerHost.host}:${e.dockerHost.port}`},delete e.dockerHost),e)}function I9(t,e,n,r){t=d1(t);let i=JSON.stringify({containerName:e,settings:n,cwd:r});return`attached-container+${Buffer.from(i,"utf8").toString("hex")}${t?`@${t}`:""}`}function P9(t,e){try{let n=e.match(/^(?<prefix>[^@+]+)\+(?<encodedConfig>[^@]+)(?:@(?<parentAuthority>.*))?$/);if(!n)return;let{prefix:r,encodedConfig:i,parentAuthority:o}=n.groups,s=r===t&&i?Buffer.from(i,"hex").toString("utf8"):void 0;if(!s)return;if(!s.startsWith("{"))return{parentAuthority:o,unparsedConfig:s};let a=JSON.parse(s);return a.parentAuthority=o,a}catch(n){console.warn(n);return}}function xl(t,e){return or(e.startsWith("/")?"linux":"win32",xe.parse(`vscode-remote://${t}`),e)}function d1(t){if(t&&(jc(t)||nl(t)))return t}async function R9(t,e,n){return await Cx(t,e,n)||e}function A9(t,e,n){let r=t.path.relative(t.path.dirname(e),n);return`/workspaces/${t.platform==="win32"?r.replace(/\\/g,"/"):r}`}function D9(t,e,n){if(t==="win32")return e;let r=`${oPe(n,"/")}/`;return(t==="linux"?e.startsWith(r):e.toLowerCase().startsWith(r.toLowerCase()))&&(e=`~/${e.substr(r.length)}`),e}function oPe(t,e){if(e.length===0)return t;for(;t.endsWith(e);)t=t.substr(0,t.length-e.length);return t}function qK(t,e){return t.with({path:aw.posix.resolve(t.path,e)})}async function b0(t,e,n,r,i,o){let{common:s,onRemoveOnShutdownChanged:a}=t,u=s.output.start("Setup shutdown monitor"),c=await C9(r,s.getLogLevel(),s.extensionPath,s.output,s.logFilePath?aw.dirname(s.logFilePath):void 0,s.sessionStart);N0(c,i,s.output).catch(p=>console.error(p)),a&&a(async p=>{i.rebuild=!!p,i.delay=0,await N0(c,i,s.output)}),s.onDidChangeLogLevel(async p=>{i.logLevel=p,await N0(c,i,s.output)});let l={},f=async()=>{let p=S9(c);l.hostPortServer&&await(0,T9.promisify)(l.hostPortServer.close.bind(l.hostPortServer))(),await p};s.shutdowns.push(f);let d=o?g0(t.configurationTracking,e,n,o).catch(console.error):Promise.resolve();return s.output.stop("Setup shutdown monitor",u),{monitor:c,shutdownArgs:l,doneWithDocuments:d}}function bh(t){return{environmentTunnels:t.Ports.filter(e=>!!e.PublicPort).map(e=>({remoteAddress:{port:e.PrivatePort,host:e.IP},localAddress:e.IP+":"+e.PublicPort}))}}async function Ch(t,e,n,r,i){var w;let{common:o}=t,s="Inspecting container",a=o.output.start(s),u=await Ai(t,e);o.output.stop(s,a);let c=r||u.Config.User||"root",[,l,,f]=/([^:]*)(:(.*))?/.exec(c),d=sPe(u.Config.Env),p=Rs(t,e,c),m=await Ca(t,e,c,o.loadNativeModule),h=Rs(t,e,"root"),g=u.Mounts.find(_=>_.Type==="volume"&&_.Name==="vscode"),v=u.Mounts.find(_=>_.Type==="bind"&&_.Source===o.localCacheFolder),x=g&&aw.posix.join(g.Destination,/^\.*(.*)$/.exec(o.product.serverDataFolderName)[1])||(v==null?void 0:v.Destination),y=(w=u.Mounts.find(_=>_.Type==="bind"&&_.Destination.startsWith("/tmp/vscode-wayland-")))==null?void 0:w.Destination;return t0({params:o,createdAt:u.Created,startedAt:u.State.StartedAt,sharedDataFolder:x,sharedDataFolderIsLocalCacheFolder:!g&&!!v,remoteWorkspaceFolder:n,containerUser:l==="0"?"root":l,containerGroup:f,containerEnv:d,remoteExec:p,remotePtyExec:m,remoteExecAsRoot:h,rootShellServer:i,remoteWaylandSocket:y})}function sPe(t){return(t||[]).reduce((e,n)=>{let r=n.indexOf("=");return r!==-1&&(e[n.substr(0,r)]=n.substr(r+1)),e},{})}async function f1(t){return t.path.join(await t.tmpdir(),t.platform==="linux"?`vsch-${await t.getUsername()}`:"vsch")}async function k9(t){let{common:e,dockerCLI:n,dockerComposeCLI:r,dockerComposePath:i,dockerEnv:o}=t,{cliHost:s,output:a}=e;return{cliHost:s,dockerCLI:n,dockerComposeCLI:r,dockerComposePath:i,env:o,output:a}}async function O9(t,e){return t.type==="local"&&e?t.path.join(e,"data"):t.path.join(await t.homedir(),".vscode-remote-containers","data")}function Sh(t,e,n,r,i,o,s,a,u){let c=!s;return async(l,f,d,p,m)=>{let{common:h}=t,{cliHost:g}=e,{dotfilesConfiguration:v}=h,x=p.getDotfileConfiguration("dotfiles.repository")||v.repository,y=p.getDotfileConfiguration("dotfiles.installCommand")||v.installCommand,w=p.getDotfileConfiguration("dotfiles.targetPath")||v.targetPath;c&&x&&(c=!1,await _7(n));let _={...e.env,...yn(e.env)},T={cliHost:e.cliHost,dockerPath:e.dockerCLI,dockerComposePath:e.dockerComposePath,env:_,extensionPath:h.extensionPath,appRoot:h.appRoot,package:h.package,postCreate:h.postCreate,output:h.postCreate.output},P=h.postCreate.output.dimensions||h.output.dimensions,E=await Vo(T,["run-user-commands",...e.cliHost.type==="local"&&h.persistedFolder?["--user-data-folder",h.persistedFolder]:[],...e.dockerCLI!=="docker"?["--docker-path",e.dockerCLI]:[],...e.dockerComposePath!=="docker-compose"?["--docker-compose-path",e.dockerComposePath]:[],...h.containerSessionDataFolder?["--container-session-data-folder",h.containerSessionDataFolder]:[],...s?["--container-data-folder",wa(t.common.product.serverDataFolderName)]:[],...s?["--container-system-data-folder",r0(t.common.product.serverDataFolderName)]:[],...r?["--workspace-folder",r]:[],...(i||[]).map(C=>["--id-label",C]).flat(),"--container-id",o,"--log-level",Ro(h.getLogLevel()),"--log-format","json",...a?["--config",we(a,g.platform)]:[],...u?["--override-config",we(u,g.platform)]:[],"--default-user-env-probe",h.defaultUserEnvProbe,"--skip-non-blocking-commands",String(l),...h.skipPostAttach?["--skip-post-attach"]:[],"--prebuild",String(d),"--stop-for-personalization",String(f),...[].concat(...Object.keys(m).map(C=>["--remote-env",`${C}=${m[C]}`])),"--mount-workspace-git-root",...P?["--terminal-columns",String(P.columns),"--terminal-rows",String(P.rows)]:[],...x?["--dotfiles-repository",x]:[],...y?["--dotfiles-install-command",y]:[],...w?["--dotfiles-target-path",w]:[]]);if((E==null?void 0:E.outcome)!=="success")throw new ge({description:Ah.t("devcontainer command failed: {0}",JSON.stringify(E))});return E.result}}async function pl(t,e,n,r,i,o,s,a){let{cliHost:u,output:c}=t,l=await Vo(t,["read-configuration",...t.dockerPath!=="docker"?["--docker-path",t.dockerPath]:[],...t.dockerComposePath!=="docker-compose"?["--docker-compose-path",t.dockerComposePath]:[],...e?["--workspace-folder",e]:[],...(o||[]).map(f=>["--id-label",f]).flat(),...s?["--container-id",s]:[],"--log-level",Ro(r),"--log-format","json",...n?["--config",we(n,u.platform)]:[],...a?["--override-config",we(a,u.platform)]:[],"--include-merged-configuration","--mount-workspace-git-root",...c.dimensions?["--terminal-columns",String(c.dimensions.columns),"--terminal-rows",String(c.dimensions.rows)]:[],...Object.keys(i).length>0?["--additional-features",JSON.stringify(i)]:[]]);return l.configuration.configFilePath=l.configuration.configFilePath&&xe.revive(l.configuration.configFilePath).with({scheme:u.type==="local"?"file":ft.scheme}),l}async function E9(t,e,n,r){if(e&&n.workspaceMount)try{let i=kK(n.workspaceMount);if(i.type==="bind")return await r.shellServer.exec(`command -v git >/dev/null 2>&1 && cd '${i.target}' && test -d .git && test "$(stat -c %u .)" != "$(id -u)"`),t.cliHost.platform==="win32"?await ae({exec:t.cliHost.exec,cmd:"powershell",args:["-NoProfile","-NonInteractive","-Command",'if (-not (Get-Acl . | foreach { $_.Owner }).Equals("$env:UserDomain\\$env:UserName")) { exit 1 }'],cwd:i.source,output:t.output}):await ae({exec:t.cliHost.exec,cmd:"/bin/sh",args:["-c",`cd '${i.source}' && test "$(stat -${t.cliHost.platform==="darwin"?"f":"c"} %u .)" = "$(id -u)"`],output:t.output}),async()=>{await r.shellServer.exec(`git config --global --add safe.directory '${i.target}'`)}}catch{}}var Bt=B(require("vscode")),So=require("vscode");var K=B(require("vscode")),Gv=B(require("path"));var kh=B(require("vscode")),U0=B(require("path")),L9=require("stream");var aPe=_S();async function ki(t,e,n,r,i,o,s,a,u,c,l){return t?cPe(t,n,s,a,u,c):jY(e,n,r,i,o,s,a,u,c,l)}async function cPe({server:t,authority:e},n,r,i,o,s){var T,P,E,C,S,I,R,D;let a=await t.env(),u=uPe(t,void 0),c=a.osPlatform,l=await Bn(u,o,void 0,c,"Host"),f=(await l.exec({posix:"echo ~",win32:"echo $env:userprofile"})).stdout.trim().split(`
`)[0],d=await Vn(c,{async posix(){let A=await ld(l,await ud(l)),N=(A==null?void 0:A.shell)||"/bin/sh";return dd({defaultUserEnvProbe:"loginInteractiveShell",allowSystemConfigChange:!1,output:o},{shell:N,remoteExec:u})},async win32(){return a.env}})(),p=async A=>u({...A,env:{...d,...A.env}}),m=async A=>{if(!t.fs){let N=await t.fsStat(A);return N.exists&&N.type==="file"}try{return(await t.fs.stat(A)).type===kh.FileType.File}catch(N){if((N==null?void 0:N.code)==="FileNotFound"||(N==null?void 0:N.code)==="FileNotADirectory"||N!=null&&N.message.toLowerCase().includes("file not found"))return!1;throw N}},h=a.osPlatform==="win32",g=h?U0.win32:U0.posix,v=g.join(f,".vscode-remote-containers"),x=await H7({localCacheFolder:r,output:o,alternateDownload:s,exec:p,env:d,isFile:m,userDataFolder:v,homeFolder:f,product:i,platform:c}),y=RY(x,p,o),w=n||f,_;return{type:"remote",authority:e,platform:c,exec:p,ptyExec:WY(p),cwd:w,env:d,path:g,async homedir(){return f},tmpdir:Vn(c,{posix:async()=>d.TMPDIR||"/tmp",win32:async()=>d.TEMP}),isFile:m,isFolder:async A=>{if(!t.fs){let N=await t.fsStat(A);return N.exists&&N.type==="dir"}try{return(await t.fs.stat(A)).type===kh.FileType.Directory}catch(N){if((N==null?void 0:N.code)==="FileNotFound"||(N==null?void 0:N.code)==="FileNotADirectory"||N!=null&&N.message.toLowerCase().includes("file not found"))return!1;throw N}},isSocket:async A=>{if(h)return!1;try{return await ae({exec:p,cmd:"test",args:["-S",A],output:Re}),!0}catch(N){if((N==null?void 0:N.code)!==1)throw N;return!1}},readFile:(T=t.fs)!=null&&T.read?async A=>{let N=await t.fs.read(A),O=[];return N.onDidReceiveMessage(M=>O.push(M)),await N.onEnd,Buffer.concat(O)}:A=>LY(p,c,x,A,Re),writeFile:(P=t.fs)!=null&&P.write?async(A,N)=>{let{stream:O,done:M}=await t.fs.write(A);O.write(N),O.end(),await M}:(A,N)=>FY(p,c,x,A,N,Re),rename:(E=t.fs)!=null&&E.rename?async(A,N)=>t.fs.rename(A,N):(A,N)=>LS(p,c,A,N,Re),rm:(C=t.fs)!=null&&C.rm?async A=>t.fs.rm(A):(A,N)=>FS(p,c,A,N,Re),mkdirp:(S=t.fs)!=null&&S.mkdirp?async A=>t.fs.mkdirp(A):A=>MS(p,c,A,Re),readDir:(I=t.fs)!=null&&I.readdir?async A=>(await t.fs.readdir(A)).map(O=>O.name):A=>MY(p,c,A,Re),readDirWithTypes:(R=t.fs)!=null&&R.readdir?async A=>(await t.fs.readdir(A)).map(O=>{let M=0;return O.type&kh.FileType.File&&(M|=1),O.type&kh.FileType.Directory&&(M|=2),O.type&kh.FileType.SymbolicLink&&(M|=64),[O.name,M]}):Vn(c,{posix:async A=>{let N={f:1,"*":1,"/":2,"@":64};return(await ae({exec:p,cmd:"ls",args:["-aF",A],output:Re})).stdout.toString().trim().split(`
`).map(O=>"/*@=%|>".indexOf(O[O.length-1])!==-1?[O.substr(0,O.length-1),O[O.length-1]]:[O,"f"]).filter(([O])=>O!=="."&&O!=="..").map(([O,M])=>[O,N[M]||0])},win32:void 0}),getUsername:async()=>(_===void 0&&(_=await Vn(c,{posix:async()=>(await ae({exec:p,cmd:"id",args:["-u","-n"],output:Re})).stdout.toString().trim(),win32:async()=>d.USERNAME})()),_),toCommonURI:()=>Promise.resolve(void 0),connect:sh((D=t.fs)!=null&&D.connect?A=>{if("port"in A)return y(A);let N=(async()=>{let{stream:O}=await t.fs.connect(A.socketPath);return aPe.duplex(p1(O,O))})();return{sink:O=>{N.then(M=>M.sink(O),M=>O(M,()=>{})).catch(M=>o.write(`Connection forwarding to sink error: ${(M==null?void 0:M.stack)||(M==null?void 0:M.message)||String(M)}`))},source:(O,M)=>{N.then(j=>j.source(O,M),j=>M(j)).catch(j=>o.write(`Connection forwarding to source error: ${(j==null?void 0:j.stack)||(j==null?void 0:j.message)||String(j)}`))}}}:y,"Exec Server",o),nodeExecutable:x}}function uPe(t,e){return async function(n){let{cmd:r,args:i,output:o}=n,s=`Run: ${r} ${(i||[]).join(" ").replace(/\n.*/g,"")}`,a=o.start(s),u=n.cwd||e,c=await t.env(),l=n.env?{...c.env,...n.env}:c.env,f=await t.spawn(r,i||[],{cwd:u,env:l});return{stdin:lPe(f.stdin),stdout:N9(f.stdout),stderr:N9(f.stderr),exit:Promise.all([f.onExit,f.stdout.onEnd,f.stderr.onEnd]).then(([{status:d}])=>(o.stop(s,a),{code:d,signal:null})).catch(d=>{throw o.stop(s,a),d!=null&&d.message.includes("NotFound")&&(d.code="ENOENT"),d}),async terminate(){}}}}function N9(t){return p1(void 0,t)}function lPe(t){return p1(t,void 0)}function p1(t,e){let n=new L9.Stream,r=!1;if(t&&(n.writable=!0,n.write=function(i,o,s){s=Array.from(arguments).find(u=>typeof u=="function");let a;try{t.write(i)}catch(u){a=u,setImmediate(()=>n.emit("error",u))}return s&&s(a),!0},n.end=function(i,o,s){s=Array.from(arguments).find(a=>typeof a=="function"),typeof i=="function"&&(i=void 0);try{i&&t.write(i),r=!0,t.end()}catch(a){setImmediate(()=>n.emit("error",a))}return s&&s(),this}),e){let u=function(){for(;o.length&&!n.paused;)n.emit("data",o.shift());!n.paused&&i&&n.emit("end")},i=!1;n.readable=!0,n.paused=!0;let o=[];(e.onDidReceiveMessage||e.onData)(c=>{let l=Buffer.from(c);n.paused?o.push(l):n.emit("data",l)}),e.onEnd.then(()=>{i=!0,n.paused||n.emit("end")});let s=n.on.bind(n);n.on=(c,l)=>{let f=s(c,l);return c==="data"&&n.paused&&setImmediate(n.resume.bind(n)),f};let a=n.pipe.bind(n);n.pipe=function(c,l){let f=a(c,l);return n.paused&&n.resume(),f},n.pause=function(){return n.paused=!0,n},n.resume=function(){return n.paused=!1,u(),n}}return n.destroy=function(i){return t&&!r&&(r=!0,n.end()),i&&n.emit("error",i),n.emit("close"),this},n}var nde=B(gle()),_f=B(Gfe());var zfe=B(require("vscode"));function Qn(t){let e=zfe.workspace.getConfiguration(),n=Rc(t),r=e.get(n),i=Ju(t),o=e.get(i);if(o!=null&&o!==r){let s=e.inspect(n);if(!s||s.globalValue===void 0&&s.workspaceValue===void 0&&s.workspaceFolderValue===void 0)return o}return r}function k$(t,e){return t.affectsConfiguration(Rc(e))||t.affectsConfiguration(Ju(e))}var Bv=B(require("path"));var Ki=B(require("vscode")),Kp=require("vscode");async function AA(){await Ki.window.showInformationMessage(Kp.l10n.t("You need to first save your workspace in a folder containing all its workspace folders."),{modal:!0})}var L_="{.devcontainer.json,.devcontainer/devcontainer.json,.devcontainer/*/devcontainer.json}";async function Yfe(){return Ki.workspace.findFiles(L_)}async function Xp(t,e,n){let r;if(e.length>1){let i=Ki.window.createQuickPick();i.placeholder=Kp.l10n.t("Select a devcontainer.json file."),i.busy=!0,i.enabled=!1,i.show(),i.items=(await Promise.all(e.map(async s=>{let a=we(s,t.platform),u=Ye((await t.readFile(a)).toString()),c,l,f=t.path.dirname(a),d=t.path.dirname(f);return t.path.basename(f)===".devcontainer"?(c=Kp.l10n.t("Main"),l=d):t.path.basename(d)===".devcontainer"?(c=t.path.basename(f),l=t.path.dirname(d)):(c=Kp.l10n.t("Project Root"),l=f),{label:u.name||c,description:t.path.relative(l,a)+(s.toString()===(n==null?void 0:n.toString())?` ${Kp.l10n.t(" (Current)")}`:""),uri:s,buttons:[{iconPath:new Ki.ThemeIcon("go-to-file"),tooltip:Kp.l10n.t("Open File")}]}}))).sort((s,a)=>{let u=Bv.posix.dirname(s.uri.path),c=Bv.posix.dirname(a.uri.path);return u!==c?u.localeCompare(c):s.label.localeCompare(a.label)}),i.busy=!1,i.enabled=!0;let o=await new Promise(s=>{i.onDidAccept(()=>s(i.selectedItems[0])),i.onDidHide(()=>s(void 0)),i.onDidTriggerItemButton(({item:a})=>{Ki.commands.executeCommand("vscode.open",a.uri),s(void 0)})});i.dispose(),r=o?xe.from(o.uri):"cancelled"}else e.length===1&&(r=e[0]);return r}function Vv(t,e){let n=Ki.workspace.fs;return{platform:t,path:t==="win32"?Bv.win32:Bv.posix,async isFile(r){try{return((await n.stat(or(t,e,r))).type&Ki.FileType.File)!==0}catch(i){if((i==null?void 0:i.code)==="FileNotFound"||(i==null?void 0:i.code)==="FileNotADirectory")return!1;throw i}},async readFile(r){try{let i=await n.readFile(or(t,e,r));return Buffer.from(i)}catch(i){if((i==null?void 0:i.code)==="FileNotFound"){let o=new Error(`Could not read file: ${r}`);throw o.originalError=i,o.code="ENOENT",o}throw i}},async rename(r,i){try{let o=or(t,e,r),s=or(t,e,r);await n.rename(o,s)}catch(o){if((o==null?void 0:o.code)==="FileNotFound"){let s=new Error(`Could not rename  ${r} -> ${i}`);throw s.originalError=o,s.code="ENOENT",s}throw o}},async writeFile(r,i){await n.writeFile(or(t,e,r),i)},async readDir(r){return(await n.readDirectory(or(t,e,r))).map(o=>o[0])},async readDirWithTypes(r){return n.readDirectory(or(t,e,r))},async mkdirp(r){await n.createDirectory(or(t,e,r))},async toCommonURI(r){return or(t,e,r)}}}var N_=class{async readDocument(e){try{let n=await Ki.workspace.fs.readFile(e);return Buffer.from(n).toString()}catch{return}}async applyEdits(e,n,r){let i=yi(r,n);await Ki.workspace.fs.writeFile(e,Buffer.from(i))}};var $e=require("vscode");var F_=B(Pr());var DA=B(hm()),Kfe=B(require("url"));function kA(t,e){return new Promise((n,r)=>{let i=new Kfe.URL(t.url),o={hostname:i.hostname,port:i.port,path:i.pathname+i.search,method:t.type,headers:t.headers},s=(i.protocol==="https:"?DA.https:DA.http).request(o,a=>{if(a.statusCode<200||a.statusCode>299)r(new Error(`HTTP ${a.statusCode}: ${a.statusMessage}`)),e&&e.write(`HTTP request failed with status code ${a.statusCode}: : ${a.statusMessage}`,5);else{a.on("error",r);let u=[];a.on("data",c=>u.push(c)),a.on("end",()=>n(Buffer.concat(u)))}});s.on("error",r),t.data&&s.write(t.data),s.end()})}async function Wv(t,e,n,r){var u;let i=await dBe(e,t.output),o=Object.keys(n.features||{}).map(c=>{let l=lBe(i,c);return l?{configFeatureId:c,disallowedFeatureEntry:l}:void 0}).filter(Boolean);if(!o.length)return;let s=!1;if(r){let c=await Th(t,r);((u=c==null?void 0:c.State)==null?void 0:u.Status)==="running"&&(await ke(t,"stop","-t","0",c.Id),s=!0)}let a=o[0];throw new ge({description:s?F_.t("Cannot use the '{0}' feature since it was reported to be problematic. The existing dev container was stopped.",a.configFeatureId):F_.t("Cannot use the '{0}' feature since it was reported to be problematic.",a.configFeatureId),detail:F_.t("Please remove this feature from your devcontainer.json and rebuild the dev container before continuing."),data:{learnMoreUrl:a.disallowedFeatureEntry.documentationURL,reload:!1}})}function lBe(t,e){return t.disallowedFeatures.find(n=>e.startsWith(n.featureIdPrefix)&&(e.length===n.featureIdPrefix.length||"/:@".indexOf(e[n.featureIdPrefix.length])!==-1))}var Xfe="devcontainers.controlManifest",fBe=5*60*1e3;async function dBe(t,e){let n=t.get(Xfe);return n&&Date.parse(n.timestamp)+fBe>Date.now()?n.manifest:pBe(t,n==null?void 0:n.manifest,e)}async function pBe(t,e,n){let r;try{r=await mBe()}catch(i){n.write(F_.t("Failed to fetch control manifest: {0}",i.message)),r=e||{disallowedFeatures:[]}}return t.update(Xfe,{timestamp:new Date().toISOString(),manifest:r}),r}async function mBe(){let t=await kA({type:"GET",url:"https://containers.dev/static/devcontainer-control-manifest.json",headers:{"user-agent":"devcontainers-vscode",accept:"application/json"}}),e=Ye(t.toString())||{};return Array.isArray(e.disallowedFeatures)?e.disallowedFeatures=e.disallowedFeatures.filter(n=>typeof n.featureIdPrefix=="string"):e.disallowedFeatures=[],e}var $t="remote-containers.revealLogTerminal",q$="remote-containers.revealPostCreateTerminal",Jp="remote-containers.openDevContainerFile",rde="remote-containers.openRepositoryInVolume",NA="remote-containers.openRepositoryInUniqueVolume",ide="remote-containers.openRepositoryFromRemoteHubWithEditSession",ode="remote-containers.openRepositoryFromGitWithEditSession",sde="remote-containers.openPullRequestInVolume",Zp=K.Uri.parse("https://aka.ms/vscode-remote/containers/folder-setup"),em=K.Uri.parse("https://aka.ms/vscode-dev-containers"),Qfe=new gb,hi={onRemoveOnShutdownChangedEmitter:Qfe,onRemoveOnShutdownChanged:Qfe.event,results:new Map},Qp,zr=t=>mh(t,K.env.appRoot);function LA(t,e,n,r,i){return async(o,s)=>{K.commands.executeCommand("setContext","forwardedPortsViewEnabled",!0);let a=K.env.remoteAuthority;if(s.resolveAttempt>1){let u=n.get(a);if(!u)throw new Error("Reconnect attempt without old result.");let c=$e.l10n.t("Reconnection attempt {0}",s.resolveAttempt-1),l=t.log.start(c),{cliHost:f}=u.params;if(f.reconnect)try{await f.reconnect()}catch(d){throw t.log.write(pt(String(d&&(d.stack||d.message)||d))),K.RemoteAuthorityResolverError.TemporarilyNotAvailable($e.l10n.t("Cannot reconnect to remote host."))}if(u.dockerContainerId){let d=await co(u.dockerParams,u.dockerContainerId);if(!d)throw K.RemoteAuthorityResolverError.NotAvailable($e.l10n.t("Container no longer exists."));if(d.State.Status==="paused")throw K.RemoteAuthorityResolverError.TemporarilyNotAvailable($e.l10n.t("Container is paused."));if(d.State.Status!=="running")throw K.RemoteAuthorityResolverError.NotAvailable($e.l10n.t("Container is no longer running."))}return t.log.stop(c,l),{...u.resolvedAuthority,isTrusted:u.isTrusted}}else{let u=$e.l10n.t("Resolving Remote"),c=t.log.start(u),l=await i(a,s,t,e);return hBe(l.params,l.properties).catch(f=>{}),n.set(a,l),r(),t.log.stop(u,c),K.window.withProgress({location:K.ProgressLocation.Window,title:LBe,cancellable:!1},async f=>{await j7(l.params.backgroundTasks)}).then(void 0,f=>{t.log.write(pt(String(f&&(f.stack||f.message)||f)))}),{...l.resolvedAuthority,...l.tunnelInformation,isTrusted:l.isTrusted}}}}async function hBe(t,e){if(!e.nodeExecutable)return;let n=await st(Gv.join(t.extensionPath,"dist","node","remoteCloudGuesser.js"),{encoding:"utf8"}),{stdout:r}=await Oc(t,e,[e.nodeExecutable,"-e",n],void 0,{silent:!0}),i=r.toString().trim();t.sendTelemetryEvent("extraInfo",{remoteCloud:i})}var O$;async function FA(t){return O$||(O$=_a(Gv.join(__dirname,"..",".."),Su,t)),O$}var M_={};async function Su(t,e=!0){var n;if(t.counter&&((n=M_[t.prompt])==null?void 0:n.from)===t.counter&&delete M_[t.prompt],!M_[t.prompt]){if(!e)return"";M_[t.prompt]={result:Promise.resolve(K.window.showInputBox({prompt:t.prompt||$e.l10n.t("Enter password"),password:!0,ignoreFocusOut:!0}).then(r=>r||"")),from:t.counter}}return M_[t.prompt].result}async function rt(t,e,n,r=!0,i=FA(e),o=!0){var x;let s=!n;if(s){if(hi.results.size){let y=[...hi.results.values()].filter(w=>w.dockerParams)[0];return k9(y.dockerParams)}if(Qp)return Qp}n&&typeof n!="string"&&"scheme"in n&&(n.scheme==="file"?n=n.fsPath:n=uh(n));let a,u;if(!n){let y=(K.workspace.workspaceFolders||[])[0];if(K.env.remoteName==="wsl")y?n=uh(y.uri):n={wslDistro:OS(K.env.remoteAuthority),wslPath:"/"};else if(K.env.remoteName==="ssh-remote"){if(u=await K.workspace.getRemoteExecServer(K.env.remoteAuthority),!u){let w=jS(K.env.remoteAuthority);if(w){let{user:_,hostName:T,port:P}=w;a={host:`ssh://${_?`${_}@`:""}${T}${P?`:${P}`:""}`}}}(u||a)&&(y?n=y.uri.path:n="/")}else K.env.remoteName==="tunnel"?(u=await K.workspace.getRemoteExecServer(K.env.remoteAuthority),y?n=y.uri.path:n="/"):K.env.remoteName==="attached-container"?a=(x=Ed(K.env.remoteAuthority))==null?void 0:x.settings:(y==null?void 0:y.uri.scheme)==="file"&&(n=y.uri.fsPath);n||(n=process.cwd())}let c=a&&"host"in a&&a.host||void 0,l=r?Ja():{executeInWSL:"never",defaultDistro:void 0},f=await Tx(K.env.appRoot),d=ki(u?{server:u,authority:K.env.remoteAuthority}:void 0,c,n,zr,l,t.extensionPath,await Ri(),f,e,aa,{sshAskpassEnv:i,settings:Yv()});o&&!await Promise.race([d,$o(1e3)])&&await K.window.withProgress({location:K.ProgressLocation.Notification,title:`[${$e.l10n.t("Setting up Dev Containers (show log)")}](command:${$t} "${$e.l10n.t("Show details in terminal")}")`,cancellable:!1},async()=>{await d});let p=await d,m=sa(),h=Qa();if(!a){let y=K.workspace.getConfiguration("docker"),w=y.get("environment")||{},_=w.DOCKER_CONTEXT||y.get("context")||p.env.DOCKER_CONTEXT;if(!_){let T={cliHost:p,dockerCLI:m,dockerComposeCLI:Ta({exec:p.exec,env:{},output:Re},m,h),dockerComposePath:h,env:{},output:Re};_=await BL(T)||"default"}_&&_!=="default"?a={context:_}:(a={...sr(p.env),...["host","certPath","tlsVerify"].reduce((T,P)=>gBe(T,y,P),{}),...sr(w)},Object.keys(a).length||(a=void 0))}let g={...await i,...Dh(p,a)},v={cliHost:p,dockerCLI:m,dockerComposeCLI:Ta({exec:p.exec,env:g,output:e},m,h),dockerComposePath:h,env:g,output:e};return s&&(Qp=v,j$(t,f)),v}async function ade(){if(!K.env.remoteName||K.env.remoteName==="test")return process.platform;if(K.env.remoteName==="ssh-remote"||K.env.remoteName==="tunnel"){let t=await K.workspace.getRemoteExecServer(K.env.remoteAuthority);if(t)return(await t.env()).osPlatform}return"linux"}var OA;function j$(t,e){if(OA)return OA;let n=xBe(t,e);return t.subscriptions.push(n),t.subscriptions.push(n.event(()=>{let r=Qp==null?void 0:Qp.cliHost;Qp=void 0,r!=null&&r.terminate&&r.terminate()})),OA=n.event,OA}function gBe(t,e,n){let r=e.get(n);return r&&(t[n]=r),t}var vBe=["docker.context","docker.host","docker.certPath","docker.tlsVerify","docker.environment"],yBe=["dockerComposePath","executeInWSL","executeInWSLDistro"];function xBe(t,e){let n=new K.EventEmitter,r=K.workspace.onDidChangeConfiguration(async c=>{(vBe.some(l=>c.affectsConfiguration(l))||yBe.some(l=>k$(c,l)))&&n.fire()}),i,o,s,a=()=>{(async()=>{o||(o=await ki(void 0,void 0,process.cwd(),zr,Ja(),t.extensionPath,await Ri(),e,Re,aa));let c={cliHost:o,dockerCLI:sa(),dockerComposeCLI:Ta({exec:o.exec,env:{},output:Re},sa(),Qa()),dockerComposePath:Qa(),env:{},output:Re},l=await BL(c);l===void 0?s=setTimeout(a,2*60*1e3):(l!==i&&(i!==void 0&&n.fire(),i=l),s=setTimeout(a,2*1e3))})().catch(console.error)};a();let u=n.dispose;return n.dispose=()=>{r.dispose(),s&&clearTimeout(s),u.call(n)},n}function tm(){let t=K.workspace.workspaceFolders;if((t==null?void 0:t.length)===1){let e=t[0].uri;return H$(e)}return null}function H$(t){if(t&&t.scheme==="vscode-remote"&&/dev-container\+(.*)/.exec(t.authority)){let n=ri(t.authority);if(kn(n))return null;if(ni(n)&&n.inspectVolume&&n.inspectVolume===!0)return n}return null}function MA(t){return{getConfigurationState:()=>t.get("configurationState"),updateConfigurationState:async e=>t.update("configurationState",e),containerOutdated:wBe}}async function wBe(t){let e="Rebuild",n="Ignore",r=await K.window.showInformationMessage($e.l10n.t("Configuration file(s) changed: {0}. The container might need to be rebuilt to apply the changes.",t.join(", ")),e,n);if(r===e)return K.commands.executeCommand("remote-containers.rebuildContainer");if(r===n)return"ignore"}async function EBe(t){return t?Jfe():Array.from(new Set([...Qn("defaultExtensions")||[],...Jfe()]))}function cde(){return Qn("defaultFeatures")||{}}function Jfe(){let t=K.env.language,e=t.indexOf("-"),n=Zfe(t)||(e!==-1?Zfe(t.substr(0,e)):void 0);return n?[n]:[]}function Zfe(t){let e=t.toLowerCase();return K.extensions.all.filter(n=>{var i;let r=n.packageJSON&&n.packageJSON.contributes;return(i=r==null?void 0:r.localizations)!=null&&i.length?!!r.localizations.find(o=>{var s;return((s=o==null?void 0:o.languageId)==null?void 0:s.toLowerCase())===e}):!1}).map(n=>n.id)[0]}function ede(){return!!K.workspace.getConfiguration().get("workbench.enableExperiments")}function _Be(){return!!Qn("enableWebAccess")}function UA(){return Qn("workspaceMountConsistency")||"cached"}function qA(){return Qn("cacheVolume")??!0}function bBe(){let t=Qn("copyGitConfig");return typeof t=="boolean"?t:!0}function CBe(){return Qn("gitCredentialHelperConfigLocation")||"global"}function SBe(){let t=Qn("dockerCredentialHelper");return typeof t=="boolean"?t:!0}function TBe(){let t=Qn("mountWaylandSocket");return typeof t=="boolean"?t:!0}function sa(){return Qn("dockerPath")||"docker"}function Ja(){return{executeInWSL:$$(),defaultDistro:B$()}}function $$(){return process.platform!=="win32"?"never":Qn("executeInWSL")?"always":"forWSLPath"}function B$(){if(process.platform==="win32")return Qn("executeInWSLDistro")||void 0}function Qa(){return Qn("dockerComposePath")||"docker-compose"}function jA(){return Qn("experimentalLockfile")||!1}function zv(){let t=Qn("logLevel")||"debug";return yb(t)}var IBe=t=>K.workspace.onDidChangeConfiguration(e=>{k$(e,"logLevel")&&t(zv())});function PBe(){let t=K.workspace.getConfiguration(),e=n=>(t.get(Ju(n),"")||t.get(n,"")).trim();return{repository:e("dotfiles.repository")||void 0,installCommand:e("dotfiles.installCommand")||void 0,targetPath:e("dotfiles.targetPath")||"~/dotfiles"}}function Yv(){let t=K.workspace.getConfiguration();return{executablePath:t.get("remote.SSH.path"),executableArgs:zv()===1?["-v"]:void 0,configFilePath:t.get("remote.SSH.configFile")}}function Tu(t,e,n,r,i,o,s,a,u){var d,p;let c={resolver:e,outcome:n};if(i){c.hostType=i.cliHost.type;let m=i.cliHost.authority;if(m){let h=m.indexOf("+");h!==-1&&(c.hostAuthority=m.substring(0,h))}}if(o){c.configProperties=JSON.stringify(Object.keys(o)),c.configExtensions=JSON.stringify(((p=(d=o.customizations)==null?void 0:d.vscode)==null?void 0:p.extensions)||[]);let m="ghcr.io/devcontainers/features/";c.configFeatures=JSON.stringify(Object.keys(o.features||{}).map(h=>h.startsWith(m)?`devcontainers-features:${h.substring(m.length)}`:h)),"image"in o?c.configType="image":jr(o)?c.configType="dockerfile":"dockerComposeFile"in o&&(c.configType="dockerCompose")}s&&(c.configLocation=s),a&&(c.hardwareId=a.osRelease.hardware,c.osReleaseId=a.osRelease.id,c.osReleaseVersion=a.osRelease.version);let l=u&&u.originalError,f=l&&(l.stack||l.message||String(l))||u&&u.description;f&&(c.errorMessage=f),u!=null&&u.step&&(c.step=u.step),t.sendTelemetryEvent("resolver",c,{sessionTimeInMs:Date.now()-r.getTime()})}var N$=class{constructor(e){this.onClose=e;this.writeEmitter=new K.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.inputEmitter=new K.EventEmitter;this.onDidInput=this.inputEmitter.event;this.queue=[];this.ready=!1}open(){this.ready=!0,this.queue.forEach(e=>this.writeEmitter.fire(e))}close(){this.ready=!1,this.onClose()}write(e){this.queue.push(e),this.ready&&this.writeEmitter.fire(e)}handleInput(e){this.inputEmitter.fire(e)}},U_=class{constructor(e,n,r=void 0){this.sessionStart=n;this.outputTerminal=new N$(()=>this._terminal=void 0);this.onDidInput=this.outputTerminal.onDidInput;this._name=$e.l10n.t("Dev Containers");this._revealOnNextOutput=!1;let i=o=>{this.outputTerminal.write(o),this.revealOnNextOutput&&(this.revealOnNextOutput=!1,this.show())};this.logFilePath=e?Gv.join(e,`remoteContainers-${n.toISOString().replace(/:/g,"-")}.log`):void 0,this.log=RBe(i,zv,this.logFilePath,n,r),Object.defineProperty(this.log,"dimensions",{get:()=>{var o;return(o=this._terminal)==null?void 0:o.dimensions}}),this.log.onDidChangeDimensions=o=>K.window.onDidChangeTerminalDimensions(s=>{s.terminal===this._terminal&&o(s.dimensions)})}get name(){return this._name}set name(e){this._name=e}get revealOnNextOutput(){return this._revealOnNextOutput}set revealOnNextOutput(e){this._revealOnNextOutput=e}show(){this._terminal||(this._terminal=K.window.createTerminal({name:this.name,pty:this.outputTerminal})),this._terminal.show()}dispose(){this._terminal&&this._terminal.dispose()}get shown(){return!!this._terminal}};function RBe(t,e,n,r,i=void 0){let o=[];return n&&o.push(uV(n,()=>Math.min(2,e()))),o.push(lV(t,e,r)),o.push(ABe()),Xr(cV(o,i))}function ABe(){return{event(t){t.type==="notification"&&K.window.showInformationMessage(t.message,$e.l10n.t("Dismiss"))}}}async function V$(t,e){let n=await co(t,e.Id);if(n&&n.State.Status==="running")try{await ke(t,"stop",n.Id)}catch(r){K.window.showErrorMessage($e.l10n.t("Error stopping container: {0}",r.message))}}async function HA(t,e){let n=await co(t,e.Id);if(n&&n.State.Status!=="running")try{await ke(t,"start",n.Id)}catch(r){K.window.showErrorMessage($e.l10n.t("Error starting container: {0}",r.message))}}async function ude(t,e){try{await ke(t,"rm",e)}catch(n){K.window.showErrorMessage($e.l10n.t("Error removing container: {0}",n.message))}}async function W$(t,e){try{await ke(t,"volume","rm","--force",e)}catch(n){K.window.showErrorMessage($e.l10n.t("Error removing volume: {0}",n.message))}}function DBe(){return K.env.sessionId!=="someValue.sessionId"?K.env.sessionId:`${K.env.sessionId}_${Date.now()}`}function kBe(t,e){let n=K.workspace.registerResourceLabelFormatter({scheme:"vscode-remote",authority:t.authority,formatting:{label:"${path}",separator:"/",workspaceSuffix:e,tildify:!0}});t.shutdowns.push(n.dispose.bind(n))}async function lde(t,e){if(t.globalState.get("removeOnStartup")===e)return await t.globalState.update("removeOnStartup",null),!0;let n=t.workspaceState.get("removeOnStartup",!1);return n&&await t.workspaceState.update("removeOnStartup",null),n}async function fde(t,e){await t.workspaceState.update("removeOnStartup",e)}async function G$(t,e){await t.globalState.update("removeOnStartup",e)}async function dde(t,e){return t.globalState.get("buildNoCache")===e?(await t.globalState.update("buildNoCache",null),!0):!1}async function q_(t,e){await t.globalState.update("buildNoCache",e)}async function Kv(t,e,n,r,i){await t.globalState.update("openEditorsOnStartup",{workspaceFolder:e,fileWithError:n==null?void 0:n.toString(),logFile:r,openLog:i})}async function pde(t){var n;let e=t.globalState.get("openEditorsOnStartup");if(e){await t.globalState.update("openEditorsOnStartup",void 0);let r=(n=K.workspace.workspaceFolders)==null?void 0:n.some(o=>o.uri.fsPath===e.workspaceFolder||o.uri.path===e.workspaceFolder),i=await tm();if(r||i&&i.repositoryPath===e.workspaceFolder&&(r=!0),r){let o=e.fileWithError?xe.parse(e.fileWithError):void 0;if(e.openLog==="onTheSide"&&await tde(o),e.openLog&&e.logFile){let s={viewColumn:e.openLog==="onTheSide"?K.ViewColumn.Beside:K.ViewColumn.One,preserveFocus:!0},a=await K.window.showTextDocument(K.Uri.file(e.logFile),s),u=new K.Position(a.document.lineCount-1,0);a.selection=new K.Selection(u,u),a.revealRange(a.selection)}return e.openLog!=="onTheSide"&&await tde(o),!0}}return!1}function mde(t){return[`vscode-remote:/workspaces/${t}/.devcontainer/devcontainer.json`,`vscode-remote:/workspaces/${t}/.devcontainer.json`]}async function tde(t){return t?K.commands.executeCommand("vscode.open",K.Uri.parse(t.toString()),{viewColumn:K.ViewColumn.One}):K.commands.executeCommand("remote-containers.openDevContainerFile",void 0,{viewColumn:K.ViewColumn.One})}async function $A(){return hi.results.size?[...hi.results.values()].filter(t=>t.config).map(t=>t.config.configFilePath):K.workspace.findFiles(L_)}function bf(){return Qn("repositoryConfigurationPaths")||[]}async function OBe(t,e,n="localhost"){await K.workspace.openTunnel({remoteAddress:{host:n,port:e}})}function hde(t,e){let n=new U_(void 0,e);n.name=$e.l10n.t("Configuring..."),n.revealOnNextOutput=!0;let r=!1;n.onDidInput(()=>{r&&(r=!1,n.dispose())});let i,o={enabled:!0,skipNonBlocking:!1,output:KY(n.log,"postCreate",t),onDidInput:n.onDidInput,done:()=>{n.shown&&(n.log.raw(`\x1B[1m${$e.l10n.t("Done. Press any key to close the terminal.")}\x1B[0m`),r=!0),i()},promise:new Promise(s=>i=s)};return{channel:n,postCreate:o}}async function Xv(t){let{authority:e,extensionContext:n,sessionStart:r,progress:i,cliHost:o,env:s,cwd:a,wslSettings:u,isLocalContainer:c,telemetry:l,output:f,logFilePath:d,allowSystemConfigChange:p,postCreate:m}=t,h=_Be(),g=DBe(),v=await Ri(),x;if(o.type!=="wsl"&&process.platform==="win32")try{x=await NS(void 0,u,n.extensionPath,v,l.product,zr,f,aa)}catch(w){f.write("Could not connect to WSL."),f.write((w==null?void 0:w.message)||String(w)),w!=null&&w.stdout&&f.write(w.stdout.toString()),w!=null&&w.stderr&&f.write(w.stderr.toString())}let y={computeExtensionHostEnv:!0,...l,appRoot:K.env.appRoot,localCacheFolder:v,containerSessionDataFolder:Gv.posix.join("/tmp",`devcontainers-${g}`),extensionPath:n.extensionPath,sessionId:g,sessionStart:r,authority:e,cliHost:o,env:s,cwd:a,isLocalContainer:c,getAdditionalExtensionsToInstall:EBe,additionalFeaturesToInstall:cde(),isCopyGitConfigEnabled:bBe(),credentialHelperConfigLocation:CBe(),isDockerCredentialHelperEnabled:SBe(),dotfilesConfiguration:PBe(),progress:UBe(i),output:f,logFilePath:d,allowSystemConfigChange:p,defaultUserEnvProbe:"loginInteractiveShell",postCreate:m,getTelemetryLevel:()=>l.getTelemetryLevel(),forwardServerPort:!0,web:h,getLogLevel:zv,onDidChangeLogLevel:IBe,loadNativeModule:zr,shutdowns:[],forwardedPorts:new Set,backgroundTasks:[],setWorkspaceName:w=>kBe(y,w),openTunnel:OBe,getTunnels:()=>Promise.resolve(K.workspace.tunnels),onAdoptProcess:K.window.onDidOpenTerminal,persistedFolder:await O9(o,n.globalStoragePath),alternateDownload:aa,skipPostAttach:!1,wslCLIHost:x,localWaylandSocket:c?await NBe(o,x,f):void 0,globalState:n.globalState};return y}async function NBe(t,e,n){if(!TBe())return;let r=await eL(t);if(r)return r;let i=e&&await eL(e);if(i)return NY(e,i,n)}async function aa(t,e){let n=await K.commands.executeCommand("_workbench.downloadResource",K.Uri.parse(t));if(!n)throw new ge({description:$e.l10n.t("Downloading the VS Code Server failed. Please try again later.")});await oc(n.fsPath,e)}var Qv=`[${$e.l10n.t("Starting Dev Container (show log)")}](command:${$t} "${$e.l10n.t("Show details in terminal")}")`,LBe=`[${$e.l10n.t("Configuring Dev Container (show log)")}](command:${q$} "${$e.l10n.t("Show details in terminal")}")`,FBe=`[${$e.l10n.t("Reading Dev Container Configuration (show log)")}](command:${$t} "${$e.l10n.t("Show details in terminal")}")`,MBe={[0]:"",[1]:$e.l10n.t("Cloning Repository"),[2]:$e.l10n.t("Building image"),[3]:$e.l10n.t("Starting container"),[4]:$e.l10n.t("Installing server"),[5]:$e.l10n.t("Starting server"),[6]:""};function UBe(t){let e=0;return n=>{let r=6-n,i=(100-e)/(r+1);t.report({message:MBe[n],increment:i}),e+=i}}function gde(t,e,n){let{name:r,publisher:i,version:o,aiKey:s}=e;if(!s)return rV(e,n);let a=i?`${i}.${r}`:r,u=new nde.default(s);t.subscriptions.push(u);let c=new L$(u),l=qBe(n),f=ede()?(0,_f.getExperimentationService)(a,o,l,c,t.globalState):void 0;return{sendTelemetryEvent:c.sendTelemetryEvent.bind(c),isCachedFlightEnabled:async d=>f&&ede()?f.isCachedFlightEnabled(d):!1,product:n,package:e,getTelemetryLevel:()=>u.telemetryLevel}}var L$=class{constructor(e){this.baseReporter=e;this.sharedProperties={}}sendTelemetryEvent(e,n,r){this.baseReporter.sendTelemetryEvent(e,{...this.sharedProperties,...n},r)}setSharedProperty(e,n){this.sharedProperties[e]=n}postEvent(e,n){let r={};for(let[i,o]of n)r[i]=o;this.sendTelemetryEvent(e,r)}};function qBe(t){switch(t.quality){case"stable":return _f.TargetPopulation.Public;case"insider":return _f.TargetPopulation.Insiders;case"exploration":return _f.TargetPopulation.Internal;case void 0:return _f.TargetPopulation.Team;default:return _f.TargetPopulation.Public}}var j_=$e.l10n.t("Opening a folder in a Dev Container may execute arbitrary code both inside and outside the container."),F$="userConfirmedCloneRepositoryInDevContainerRequiresTrust";async function H_(t,e){if(e!=null&&e.toLowerCase().startsWith("https://github.com/microsoft/vscode-remote-try-")||t.globalState.get(F$))return!0;let n=$e.l10n.t("Got It"),r=$e.l10n.t("Learn More"),i=await K.window.showWarningMessage($e.l10n.t("Cloning a repository in a Dev Container may execute arbitrary code."),{modal:!0,detail:$e.l10n.t("Only clone a repository in a Dev Container if you trust its authors.")},n,r);return i===n?(await t.globalState.update(F$,!0),!0):(i===r&&K.env.openExternal(K.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}var M$="userConfirmedAttachToContainerRequiresTrust";async function Cf(t){if(t.globalState.get(M$))return!0;let e=$e.l10n.t("Got It"),n=$e.l10n.t("Learn More"),r=await K.window.showWarningMessage($e.l10n.t("Attaching to a container may execute arbitrary code."),{modal:!0,detail:$e.l10n.t("Only attach to a container if you trust its origin.")},e,n);return r===e?(await t.globalState.update(M$,!0),!0):(r===n&&K.env.openExternal(K.Uri.parse("https://aka.ms/vscode-remote-containers-trust")),!1)}function vde(t){t.globalState.setKeysForSync([F$,M$,U$])}function yde(){let t=process.env.PATH||"";process.platform==="darwin"&&!/(^|:)\/usr\/local\/bin(:|$)/i.test(t)&&(process.env.PATH=`${t}:/usr/local/bin`)}var U$="updatedToPreRelease2",jBe="2022-01-19T05:14:31.474Z";async function xde(t,e){try{e.quality==="insider"&&e.date&&e.date.localeCompare(jBe)>=0&&!t.globalState.get(U$,!1)&&(await t.globalState.update(U$,!0),await K.commands.executeCommand("workbench.extensions.installExtension","ms-vscode-remote.remote-containers",{installPreReleaseVersion:!0}))}catch(n){console.error(n)}}async function $_(t,e,n,r){try{return Zx(t,e,n,zv(),void 0,void 0,r)}catch{return}}async function z$(t,e,n,r){let i=(async()=>{try{return pl(t,e,n,zv(),cde(),void 0,void 0,r)}catch{return}})(),o=await Promise.race([i,new Promise(s=>setTimeout(()=>s("timeout"),1e3))]);return o!=="timeout"?o:K.window.withProgress({location:K.ProgressLocation.Notification,title:FBe,cancellable:!0},async(s,a)=>Promise.race([i,new Promise(u=>{let c=a.onCancellationRequested(()=>{c.dispose(),u("canceled")})})]))}async function nm(t){return K.commands.executeCommand("_workbench.addToRecentlyOpened",t)}async function wde(t,e,n,r){try{return await Wv(e,t.globalState,n,r),!0}catch(i){if(!(i instanceof ge))throw i;let o=$e.l10n.t("Learn More");return await K.window.showWarningMessage(i.description,{modal:!0,detail:i.detail},...i.data.learnMoreUrl?[o]:[])===o&&await K.env.openExternal(K.Uri.parse(i.data.learnMoreUrl)),!1}}var rm={id:"openDocumentation",title:So.l10n.t("Open Documentation"),isLastAction:!1,applicable:(t,e)=>!e,execute:async t=>{await Bt.env.openExternal(Bt.Uri.parse("https://aka.ms/vscode-remote/container/resolve-failed"))}},im={id:"reloadWindow",title:So.l10n.t("Reload Window"),isLastAction:!0,applicable:(t,e)=>!e&&t.data.reload!==!1,execute:async t=>{t.manageContainer&&t.dockerParams&&t.containerId&&await ke(t.dockerParams,"stop","-t","0",t.containerId),await Bt.commands.executeCommand("workbench.action.reloadWindow")}},_de={id:"rebuildContainer",title:So.l10n.t("Rebuild Container"),isLastAction:!0,applicable:(t,e)=>t.manageContainer&&!!t.dockerParams&&!!t.containerId&&!e,execute:async t=>{await ke(t.dockerParams,"rm","-f",t.containerId),await Bt.commands.executeCommand("workbench.action.reloadWindow")}},Jv={id:"openRecent",title:So.l10n.t("Open Recent..."),isLastAction:!0,applicable:(t,e)=>!e,execute:async t=>{await Bt.commands.executeCommand("workbench.action.openRecent")}},bde={id:"startContainer",title:So.l10n.t("Start Container"),isLastAction:!0,applicable:t=>!!t.dockerParams&&!!t.containerId&&t.data.start===!0,execute:async t=>{await ke(t.dockerParams,"start",t.containerId),await Bt.commands.executeCommand("workbench.action.reloadWindow")}},Cde={id:"chooseContainer",title:So.l10n.t("Choose Container"),isLastAction:!0,applicable:t=>t.data.attach===!0,execute:async()=>{await Bt.commands.executeCommand("remote-containers.attachToRunningContainer")}},Sf={id:"closeRemote",title:So.l10n.t("Close Remote"),isLastAction:!0,applicable:(t,e)=>{if(!e)return!1;let n=Bt.workspace.workspaceFile;return!(n&&n.scheme==="untitled"||Bt.workspace.textDocuments.some(i=>i.isDirty))},execute:async t=>{await Bt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null})}},Zv=[{id:"retry",title:So.l10n.t("Retry"),isLastAction:!0,applicable:(t,e)=>e&&t.data.reload!==!1,execute:im.execute},{id:"moreActions",title:So.l10n.t("More Actions..."),isCloseAffordance:!0,isLastAction:!1,applicable:(t,e)=>e,execute:async t=>{}},{id:"learnMore",title:So.l10n.t("Learn More"),isLastAction:!1,applicable:(t,e)=>e&&!!t.data.learnMoreUrl,async execute(t){await Bt.env.openExternal(Bt.Uri.parse(t.data.learnMoreUrl))}}];async function Tf(t,e,n,r=!1,i){var p,m,h,g,v,x;let o=t instanceof ge?t:new ge({description:So.l10n.t("An error occurred setting up the container."),originalError:t});Bt.commands.executeCommand($t);let s=o.originalError&&(o.originalError.stack||o.originalError.message)||o.originalError;if(s!==void 0){i.write(pt(String(s)));let y=(m=(p=o.originalError)==null?void 0:p.stdout)==null?void 0:m.toString().trim();y&&i.write(y);let w=(g=(h=o.originalError)==null?void 0:h.stderr)==null?void 0:g.toString().trim();w&&i.write(pt(w)),(v=o.originalError)!=null&&v.code&&i.write(`Exit code ${(x=o.originalError)==null?void 0:x.code}`)}if(o.data.closeRemote)throw await Bt.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),Bt.RemoteAuthorityResolverError.NotAvailable(void 0,!1);let a=o.actions;a.length||(a=[rm]);let u=await a.reduce(async(y,w)=>await w.applicable(o,!0)?[...await y,w]:y,Promise.resolve([])),c=await Bt.window.showErrorMessage(o.description,{modal:!0,detail:o.detail},...u);if(c&&(Ede(n,e,c.id),await c.execute(o)),c&&c.isLastAction){if(r)throw Bt.RemoteAuthorityResolverError.NotAvailable(void 0,!0);return}let l=await a.reduce(async(y,w)=>await w.applicable(o,!1)?[...await y,w]:y,Promise.resolve([])),f=l.map(y=>({label:y.title,action:y}));async function d(){let w=await(l.length?Bt.window.showQuickPick(f,{ignoreFocusOut:!0,placeHolder:So.l10n.t("Pick an action to help resolve the problem.")}):Promise.resolve(void 0));w&&(Ede(n,e,w.action.id),w.action.execute(o).catch(console.error),w.action.isLastAction||await d())}if(d().catch(console.error),r)throw Bt.RemoteAuthorityResolverError.NotAvailable(void 0,!0)}function Ede(t,e,n){t.sendTelemetryEvent("errorAction",{resolver:e,action:n})}var Io=B(require("vscode")),Yr=require("vscode"),ec=B(require("path"));var ue=B(require("vscode")),an=require("vscode");var Lde=B(HO());var ry=B(require("path"));async function If(t){let r=await kA({type:"GET",url:"https://containers.dev/static/devcontainer-index.json",headers:{"user-agent":"devcontainers-vscode",Accept:"application/json"}},t),i=Ye(r.toString());if(i.collections.length===0||i.collections[0].features.length===0){t.write("No container features retrieved from index.",5);return}return i}var sn=B(require("vscode")),Jn=require("vscode"),X$=B(require("os"));var V_=B(require("path"));var Tn=B(require("vscode")),Sn=require("vscode");var Sde=Sn.l10n.t("Keep Defaults"),HBe=Sn.l10n.t("Configure Options"),B_={iconPath:new Tn.ThemeIcon("check-all"),tooltip:Sn.l10n.t("Finish")},Y$=["devcontainers","microsoft","github"];async function ey(t,e,n,r=[],i=!0,o=!1){if(!e.length)return{};let s={iconPath:new Tn.ThemeIcon("info"),tooltip:Sn.l10n.t("Open Documentation")},a=t.quickPick.onDidTriggerItemButton(v=>{let x=v.item.feature.documentationURL;Tn.env.openExternal(Tn.Uri.parse(x))}),u=e.map(v=>{let x=r.indexOf(v)!==-1,y;if(x)y=Sn.l10n.t("$(lock) Feature is included in base image and cannot be removed");else if(v.owner){let w=v.owner==="devcontainers"?"$(verified)":"";y=`${v.owner||Sn.l10n.t("Unknown Publisher")} ${w}`}else y=void 0;return{label:v.name,detail:v.description,description:y,picked:n.indexOf(v)!==-1,buttons:v.documentationURL?[s]:void 0,feature:v,isAlreadyInstalledViaBaseImage:x,kind:Tn.QuickPickItemKind.Default}}).sort((v,x)=>v.label.localeCompare(x.label)).sort((v,x)=>v.isAlreadyInstalledViaBaseImage===x.isAlreadyInstalledViaBaseImage?0:v.isAlreadyInstalledViaBaseImage?1:-1),c,l=t.quickPick,{matchOnDetail:f}=l;try{l.matchOnDetail=!0;let v=[];o&&v.push(Tn.QuickInputButtons.Back),i&&v.push(B_),c=await To(l,u,Sn.l10n.t("Select additional features to install"),Sn.l10n.t("Select Features"),!0,v)}finally{l.matchOnDetail=f}if(a.dispose(),!c)return;if(c.button===Tn.QuickInputButtons.Back)return"back";let d=c.pick.filter(v=>!v.isAlreadyInstalledViaBaseImage).map(v=>v.feature),p={};if(!d.length)return p;let m=[];for(let v of e){let x=d.indexOf(v)!==-1;p[v.id]=x?{}:!1,x&&Y$.indexOf(v.owner)===-1&&m.push(v)}if(t.askForTrust&&m.length){let v=[...new Set(m.map(E=>E.owner))].sort().map(E=>`@${E}`),x=v.length===1?v[0]:`${v.slice(0,-1).join(", ")} and ${v[v.length-1]}`,y={label:Sn.l10n.t("Trust {0}",x),description:Sn.l10n.t("from GitHub"),buttons:[{iconPath:new Tn.ThemeIcon("info"),tooltip:Sn.l10n.t("Open Documentation")}]},w={label:Sn.l10n.t("Back")},_={label:Sn.l10n.t("Cancel")},T=l.onDidTriggerItemButton(()=>{for(let E of m)Tn.env.openExternal(Tn.Uri.parse(E.documentationURL))}),P=await To(l,[y,w,_],Sn.l10n.t("Some features are from the {0} GitHub owner/organization(s).",x),void 0,void 0,!0);if(T.dispose(),!P||P===_)return;if(P==="back"||P===w)return ey(t,e,n,r,i,o)}return c.button===B_||!i||!d.some(v=>{let x=v.options;return x&&Object.keys(x).some(y=>{let w=x[y];return w.type==="boolean"||w.type==="string"&&("enum"in w&&(w.enum||[]).length>1||"proposals"in w&&(w.proposals||[]).length>1)})})||await Tn.window.showQuickPick([Sde,HBe],{title:Sn.l10n.t("Keep Feature defaults or configure options?"),canPickMany:!1})===Sde?p:$Be(t,p,d,()=>ey(t,e,n,r))}async function $Be(t,e,n,r){return async function i(o,s,a){if(!s.length)return o;let u=s[0],c=o;if(!(u!=null&&u.options))return i(c,s.slice(1),a);let l,f;return l=await BBe(t,c,u),l&&(f=await VBe(t,l,u,a)),!l||!f?await a():i(f,s.slice(1),a)}(e,n,r)}async function BBe(t,e,n){let r=n==null?void 0:n.options;if(!r)return e;let o=Object.keys(r).filter(c=>{var l;return((l=r[c])==null?void 0:l.type)==="boolean"}).map(c=>{let l=r[c];return{label:c,description:l.description,key:c,value:!0,picked:!!(l!=null&&l.default)}});if(!o.length)return e;let s=n.id,a=n.name||s,u=await To(t.quickPick,o,Sn.l10n.t("Select boolean options for {0}",a),Sn.l10n.t("Select boolean options for '{0}'",a),!0,[Tn.QuickInputButtons.Back,B_]);if(!(!u||u.button===Tn.QuickInputButtons.Back))return u.pick.reduce((c,l)=>({...c,[s]:{...c==null?void 0:c[s],[l.key]:l.value}}),e)}async function VBe(t,e,n,r){let i=n==null?void 0:n.options;if(!i)return e;let o=n.id,s=n.name||o;return async function a(u,c,l){if(!c.length)return u;let f=c[0],d=i[f],p=("enum"in d&&d.enum||"proposals"in d&&d.proposals||[]).map(g=>({label:String(g),value:g,description:d.default===g?Sn.l10n.t("(default)"):void 0,picked:!1}));if(p.length===0)return a(u,c.slice(1),l);let m=p.length===1?{pick:p[0],button:"ok"}:await To(t.quickPick,p,d.description||Sn.l10n.t("Select a value"),Sn.l10n.t("Select options for '{0}'",s),void 0,[Tn.QuickInputButtons.Back,B_]);if(!m||m.button===Tn.QuickInputButtons.Back)return;let h={...u,[o]:{...u==null?void 0:u[o],[f]:m.pick.value}};return m.button===B_?h:a(h,c.slice(1),l)}(e,Object.keys(i).filter(a=>{var u;return((u=i[a])==null?void 0:u.type)==="string"}),r)}var WBe=["png","md","json","txt","map"],GBe=["node_modules",".git","bin","out","dist",".vscode-test"],zBe=[{tag:"function.json",pattern:/^function\.json$/i},{tag:"package.json",pattern:/^package\.json$/i},{tag:"sln",pattern:/^.+\.sln$/i},{tag:"project.json",pattern:/^project\.json$/i},{tag:"csproj",pattern:/^.+\.csproj$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"amlignore",pattern:/^.+\.amlignore$/i},{tag:"azureml",pattern:/^.+\.azureml$/i},{tag:"environment.yml",pattern:/^environment\.yml$/i},{tag:"_config.yml",pattern:/^_config\.yml$/i},{tag:"_config.toml",pattern:/^_config\.toml$/i},{tag:"server.xml",pattern:/^server\.xml$/i},{tag:"web.xml",pattern:/^web\.xml$/i}],Tde={"Node.js":["package.json"],".NET Core":["sln","project.json","csproj"],"Azure Functions":["function.json"],"Azure Machine Learning":["azureml","amlignore"],Anaconda:["environment.yml"],Jekyll:["_config.yml","_config.toml"],Tomcat:["server.xml","web.xml"],Dapr:[]},Ide={"C#":["cs"],"C++":["cpp","cxx",".cc","c++"],"F#":["fs"],JavaScript:["js"],TypeScript:["ts"],Java:["java"],Elm:["elm"],Go:["go"],Python:["py","ipynb"],Ruby:["rb"],Perl:["pl"],PHP:["php"],R:["r"],PowerShell:["ps1"],Dart:["dart"],Rust:["rs"],Swift:["swift"],ReasonML:["re"],TerraForm:["tf"]},YBe=["ghcr.io/devcontainers/templates/docker-existing-docker-compose","ghcr.io/devcontainers/templates/docker-existing-dockerfile","ghcr.io/devcontainers/templates/codespaces-linux"];function Pde(t,e){let n=new Map;for(let r of e)if(r.platforms){if(YBe.indexOf(r.id)>-1)continue;let i=0,o=0,s=r.platforms;if(s[0]==="Any")i+=5;else for(let a of s)if(Ide[a]){let u=Ide[a];for(let c of u)t.fileTypes.get(c.toLowerCase())&&(i+=10),t.mostPopularFileType===c&&(i+=10)}else if(Tde[a]){let u=Tde[a],c=!1;for(let l of u)t.configFiles.get(l)&&(c=!0,o+=20);c||(o-=20)}n.set(r,i+(o<0?-4:o))}return n}async function Rde(t,e){return KBe(t,e.rootFolderPath,GBe,WBe)}async function KBe(t,e,n,r){let i=new Map,o=new Map,s=500;function a(p,m,h,g){let v=[];(t.readDirWithTypes||t.readDir)(p).then(y=>{if(h.count>=s)return h.count+=y.length,h.maxReached=!0,g(v);let w=y.length;if(w===0)return g(v);let _=y;h.count+y.length>s&&(h.maxReached=!0,w=s-h.count,_=y.slice(0,w)),h.count+=y.length;for(let T of _){let P=Array.isArray(T)?T[0]:T;(Array.isArray(T)?Promise.resolve((T[1]&1)!==0):t.isFile(t.path.join(p,P))).then(C=>{C?(v.push(P),--w===0&&g(v)):m.indexOf(P)===-1?a(t.path.join(p,P),m,h,S=>{if(v=v.concat(S),--w===0)return g(v)}):--w===0&&g(v)},()=>{if(--w===0)return g(v)})}},()=>g(v))}let u=p=>{i.has(p)?i.set(p,i.get(p)+1):i.set(p,1)},c=p=>{for(let m of zBe)m.pattern.test(p)&&(o.has(m.tag)?o.set(m.tag,o.get(m.tag)+1):o.set(m.tag,1))},l=p=>{if(p.lastIndexOf(".")>=0){let m=p.split(".").pop();m&&!r.includes(m)&&u(m.toLowerCase())}c(p)},f=p=>[...p.entries()].reduce((m,h)=>h[1]>m[1]?h:m,["",0])[0],d={count:0,maxReached:!1};return new Promise((p,m)=>{a(e,n,d,async h=>{h.forEach(l),p({configFiles:o,fileTypes:i,fileCount:d.count,mostPopularFileType:f(i)})})})}var K$=V_.default.join(__dirname,"..",".."),Ade=sn.env.appRoot,XBe=t=>mh(t,Ade);async function ty(t){let{fileHost:e,output:n}=t;n.write(" -- CREATEDEVCONTAINER v2");let r=await Nde();if(r){let i=we(r,e.platform),o=kt(e.path,i),s=await cS(e,o);if(s){let u=Jn.l10n.t("Continue");if(await sn.window.showInformationMessage(Jn.l10n.t("The workspace could fail to open in a container: {0}",s),{modal:!0},u)!==u)return!1}let a=await Z$(t,o);if(a){let u=await e.toCommonURI(a);u&&sn.window.showTextDocument(sn.Uri.parse(u.toString()))}return!!a}return!1}async function BA(t,e,n,r,i=(o,s)=>s){return sn.window.withProgress({location:sn.ProgressLocation.Notification,title:Jn.l10n.t("Adding Dev Container Configuration Files..."),cancellable:!1},async()=>J$(t,e,n,r,i))}async function J$(t,e,n,r,i=(o,s)=>s){let{output:o}=t,s=V_.default.join(X$.tmpdir(),`tmp-output-dir-${Date.now()}`),a=V_.default.join(X$.tmpdir(),`tmp-dir-${Date.now()}`);t.quickPick.busy=!0,t.quickPick.enabled=!1;let u={executeInWSL:"forWSLPath",defaultDistro:void 0},c=await Ri(),l=process.cwd(),d={cliHost:await ki(void 0,void 0,l,XBe,u,K$,c,t.telemetry.product,o,void 0,void 0),dockerPath:"",dockerComposePath:"",extensionPath:K$,appRoot:Ade,output:o,package:await Fr(K$)},p;try{p=await Vo(d,["templates","apply","--workspace-folder",s,"--template-id",r.id,"--template-args",r.options?JSON.stringify(r.options):"{}","--features",r.features?JSON.stringify(r.features):"[]","--tmp-dir",a])}catch{let g=Jn.l10n.t("Show Log");await sn.window.showErrorMessage(Jn.l10n.t("Application of the template failed."),{modal:!0},...t.showLogCommandId?[g]:[])===g&&sn.commands.executeCommand(t.showLogCommandId);return}let m=Jn.l10n.t("Skip"),h;for(let g of p.files){let v=e.path.join(n.configFolderPath,g);if(await e.isFile(v)){let w=await sn.window.showInformationMessage(Jn.l10n.t("File '{0}' already exists, overwrite?",g),{modal:!0},m,Jn.l10n.t("Overwrite"));if(!w)return;if(w===m)continue}await e.mkdirp(e.path.dirname(v));let x=await st(V_.default.join(s,g)),y=i(g,x);await e.writeFile(v,y),!h&&zx(e.path,g)&&(h=v)}return await Au(s,{recursive:!0,force:!0}),await Au(a,{recursive:!0,force:!0}),t.quickPick.busy=!1,t.quickPick.enabled=!0,h}async function Z$(t,e,n){let{fileHost:r,telemetry:i}=t,o=await WA(r,e);if(o){Za(await i,"exists");let u=we(o.uri,r.platform);if(!await sn.window.showWarningMessage(Jn.l10n.t("Dev Container configuration '{0}' file already exists.",r.path.relative(e.configFolderPath,u)),{modal:!0},Jn.l10n.t("Continue"))){let l=await r.toCommonURI(u);l&&sn.window.showTextDocument(sn.Uri.parse(l.toString()));return}}let s=await eB(t,n,!1),a=await W_(s,r,e,tB);return s.quickPick.hide(),a}async function eB(t,e,n){let r=sn.window.createQuickPick();r.ignoreFocusOut=!0,e&&(r.title=e);let i=await If(t.output);return{...t,quickPick:r,replaceExistingConfig:!0,existingConfig:void 0,telemetry:await t.telemetry,index:i,skipOptions:n}}async function tB(t,e,n,r){if(!t.index)return;let o=await VA(t,e,n);if(o)return o==="back"?r?r():void 0:BA(t,e,n,o)}var Dde=["ghcr.io/devcontainers/templates/docker-existing-docker-compose","ghcr.io/devcontainers/templates/docker-existing-dockerfile"];async function VA(t,e,n){let{index:r,predefinedDefinitionsLearnMoreLink:i}=t,o=((r==null?void 0:r.collections.map(c=>c.templates).flat())||[]).filter(c=>!Dde.includes(c.id));if(!(o!=null&&o.length))return;let s=()=>VA(t,e,n),a=await QBe(t,e,n,o);if(!(a!=null&&a.length))return Q$(t,[],o,s);let u=[{label:Jn.l10n.t("Show All Definitions..."),detail:Jn.l10n.t("Show all available predefined container definitions."),alwaysShow:!0,type:"showAll"},...i?[nB]:[]];return Q$(t,u,a,s)}async function QBe(t,e,n,r){r=r.filter(a=>a.owner==="devcontainers");let i=t.stats||e&&n&&(t.stats=await Rde(e,n));if(!(i!=null&&i.mostPopularFileType.length))return;let o=Pde(i,r);return r.filter(a=>(o.get(a)||0)>0).sort(JBe.bind(null,o))}function JBe(t,e,n){let r=t.get(n)||0,i=t.get(e)||0;return r-i}async function Q$(t,e,n,r){let{index:i,predefinedDefinitionsLearnMoreLink:o,telemetry:s}=t,a={iconPath:new sn.ThemeIcon("info"),tooltip:Jn.l10n.t("Open Documentation")},u=t.quickPick.onDidTriggerItemButton(f=>{let d=f.item.template.documentationURL;sn.env.openExternal(sn.Uri.parse(d))}),c=n.map(f=>{let d;if(f.owner){let p=(f==null?void 0:f.owner)==="devcontainers"?"$(verified)":"";d=`${((f==null?void 0:f.owner)==="microsoft"&&f.id.includes("microsoft/vscode-dev-containers")?Jn.l10n.t("community"):f==null?void 0:f.owner)||Jn.l10n.t("Unknown Publisher")} ${p}`}return{label:f.name,picked:n.indexOf(f)!==-1,detail:f==null?void 0:f.description,description:d,buttons:[a],template:f}}).sort((f,d)=>f.label.localeCompare(d.label)),l=await To(t.quickPick,[...e,...c],Jn.l10n.t("Select a container configuration template"),void 0,void 0,!1);if(u.dispose(),!l){Za(s,"canceled");return}if(l.type==="help"){Za(s,"help"),sn.env.openExternal(o);return}if(l.type==="showAll"){let f=((i==null?void 0:i.collections.map(d=>d.templates).flat())||[]).filter(d=>!Dde.includes(d.id));return Q$(t,[],f,r)}if(l.template)return ny(t,l.template,r)}async function ny(t,e,n){let r={id:`${e.id}:latest`,options:{},features:[],metadata:{template:e,features:[]}};if(t.skipOptions)return r;if(!e.options){let u=await Ode(t,r,n);return u?u==="back"?n():u:void 0}let i=e.options,o=[],s=[];for(let u in i){let c=i[u];c.name=u,c.type==="boolean"?o.push(c):c.type==="string"&&s.push(c)}let a=await ZBe(t,s,r,async()=>"back",(u,c)=>kde(t,o,e.name,u,c));if(a==="back")return n();if(a)return a}async function ZBe(t,e,n,r,i){let o=e.map(s=>{let a=[];s.proposals&&s.proposals.length>0?a=s.proposals:s.enum&&s.enum.length>0&&(a=s.enum);let u=s.default,c=a.map(f=>({label:f,description:f===u?Jn.l10n.t("(default)"):void 0,value:f})),l=c.findIndex(f=>f.value===u);return l!==-1&&c.unshift(...c.splice(l,1)),{placeholder:s.description||s.name,name:s.name,default:s.default,items:c}});return async function s(a,u,c){if(!a.length)return i(u,c);let l=a[0],f=await To(t.quickPick,l.items,l.placeholder,void 0,void 0,!0);if(!f)return;if(f==="back")return c();let d={...u.options};return d[l.name]=f.value,u.options={...d},s(a.slice(1),u,()=>s(a,u,c))}(o,n,r)}async function kde(t,e,n,r,i){let o=r,s=e.map(c=>{let l=c.default==="true";return{label:c.description||c.name,picked:l,name:c.name,default:l}}),a=s.length?await To(t.quickPick,s,Jn.l10n.t("Select the options for the '{0}' dev container",n),void 0,!0,!0):[];if(!a)return r;if(a==="back")return i();for(let c of s){let l=a.indexOf(c)!==-1,f={...r.options};f[c.name]=l.toString(),r.options={...f}}let u=await Ode(t,r,()=>e.length>0?kde(t,e,n,o,i):i());if(u)return u==="back"?i():u}async function Ode(t,e,n){let{quickPick:r,telemetry:i,output:o,index:s,askForTrust:a}=t,u=s==null?void 0:s.collections.reduce((p,m)=>p.concat(m.features),[]).filter(p=>!p.deprecated);if(!(u!=null&&u.length))return e;let l=await ey({quickPick:r,askForTrust:a,telemetry:i,output:o},u,[],[],!0,!0);if(!l)return;if(l==="back")return n();let f=[],d=[];for(let p in l)if(l[p]){let m=u.find(h=>h.id===p);if(m){d.push(m);let h=m.majorVersion||"latest",g={id:`${p}:${h}`,options:l[p]};f.push(g)}}return e.features=f,e.metadata.features=d,e}function Fde(t){return{provideCompletionItems(e,n,r){let i=JB(e.getText(),e.offsetAt(n)),o=e.getWordRangeAtPosition(n)||new ue.Range(n,n);if(i.path[0]==="extensions"||i.path[0]==="vscode"&&i.path[1]==="extensions"){let s=Ye(e.getText());return s.configFilePath=e.uri,eVe(s,o)}if(i.path[0]==="features"){let s=Ye(e.getText());s.configFilePath=e.uri;try{return tVe(t,s,i,o)}catch(a){console.error(a)}}return[]}}}function eVe(t,e){var r,i;let n=((t==null?void 0:t.extensions)||[]).concat(((i=(r=t==null?void 0:t.customizations)==null?void 0:r.vscode)==null?void 0:i.extensions)||[]);if(Array.isArray(n)){let o=ue.extensions.all.filter(s=>!(s.id.startsWith("vscode.")||s.id==="Microsoft.vscode-markdown"||n.indexOf(s.id)>-1));if(o.length)return o.map(s=>{let a=new ue.CompletionItem(s.id),u=`"${s.id}"`;return a.kind=ue.CompletionItemKind.Value,a.insertText=u,a.range=e,a.filterText=u,a})}}async function tVe(t,e,n,r){var o;let i=e&&e.features||{};if(typeof i=="object"){if(e.configFilePath.scheme==="vscode-remote"&&t.fileHost.type==="local"){e={...e,configFilePath:e.configFilePath.with({scheme:ft.scheme,authority:""})};let u=ue.env.remoteName&&ue.env.remoteName!=="test"?"linux":process.platform,c=((o=(ue.workspace.workspaceFolders||[])[0])==null?void 0:o.uri)||xe.file(process.cwd());t={...t,fileHost:await Vv(u,c)}}let s=await If(t.output),a=(s==null?void 0:s.collections.map(u=>u.features).flat().filter(u=>!u.deprecated))||[];if(n.path.length===2)if(n.isAtPropertyKey){let u=a.filter(c=>!(c.id in i));if(u.length)return u.map(c=>{let l=new ue.CompletionItem(c.id),f=`"${c.id}": `;return l.kind=ue.CompletionItemKind.Property,l.insertText=f,l.range=r,l.filterText=f,l})}else{let u=n.path[1],c=a.find(l=>l.id===u);if(c){let l=OK(c),f=l&&(c.options||{})[l]||{type:"boolean",description:an.l10n.t("Set to true to install.")},d=(f.type==="string"?("enum"in f&&f.enum||"proposals"in f&&f.proposals||[""]).map(p=>`"${p}"`):["true","false"]).map(p=>({label:p,text:p}));return d.push({label:"{}",text:new ue.SnippetString(`{
	$1
}$0`)}),d.map(({label:p,text:m},h)=>{let g=new ue.CompletionItem(p);return g.kind=ue.CompletionItemKind.Value,g.insertText=m,g.range=r,g.sortText=`${h}_${p}`,g})}}else if(n.path.length===3){let u=n.path[1],c=a.find(l=>l.id===u);if(c){let l=c.options||{};if(n.isAtPropertyKey)return Object.keys(l).filter(f=>!(f in(i[u]||{}))).map(f=>{let d=new ue.CompletionItem(f),p=`"${f}": `;return d.kind=ue.CompletionItemKind.Property,d.insertText=p,d.range=r,d.filterText=p,d.detail=l[f].description,d});{let f=n.path[2],d=l[f];if(d)return(d.type==="string"?("enum"in d&&d.enum||"proposals"in d&&d.proposals||[""]).map(m=>`"${m}"`):["true","false"]).map((m,h)=>{let g=new ue.CompletionItem(m),v=m;return g.kind=ue.CompletionItemKind.Value,g.insertText=v,g.range=r,g.filterText=v,g.sortText=`${h}_${m}`,g})}}}}}async function Mde(t){let e=await iB(t);if((e==null?void 0:e.scheme)===ft.scheme){let n=we(e,t.fileHost.platform);e=await t.fileHost.toCommonURI(n)}e&&await ue.window.showTextDocument(ue.Uri.parse(e.toString()))}async function iB(t){let e=await t.findDevContainerFiles();if(!e.length){let r=an.l10n.t("Add Files...");await ue.window.showInformationMessage(an.l10n.t("No container configuration file found."),{modal:!0},r)===r&&await ty(t)&&(e=await t.findDevContainerFiles())}let n=await Xp(t.fileHost,e);return n!=="cancelled"?n:void 0}async function Ude(t,e){var r,i,o,s,a,u,c;let n=await iB(t);if(n){let l=ir(t.fileHost);n.scheme==="file"&&!await fr(n.fsPath)?await Bo(Is,n,[],Lc):n.scheme==="vscode-remote"&&(l=new N_);let f=await l.readDocument(n);if(f){let d=!/\.?devcontainer\.json/.test(ry.default.posix.basename(n.path)),p=Ye(f),m=!d&&(((i=(r=p.customizations)==null?void 0:r.vscode)==null?void 0:i.extensions)||!p.extensions),h=(m?(s=(o=p.customizations)==null?void 0:o.vscode)==null?void 0:s.extensions:p.extensions)||[],g=t.openConfigurationCommandId?`[${an.l10n.t("Dev Container configuration")}](command:${t.openConfigurationCommandId})`:an.l10n.t("Dev Container configuration");if((p.extensions||[]).concat(((u=(a=p.customizations)==null?void 0:a.vscode)==null?void 0:u.extensions)||[]).indexOf(e)===-1){h.push(e);let v;m?(c=p.customizations)!=null&&c.vscode?v=Pn(f,["customizations","vscode","extensions"],h,{formattingOptions:{}}):p.customizations?v=Pn(f,["customizations","vscode"],{extensions:h},{formattingOptions:{}}):v=Pn(f,["customizations"],{vscode:{extensions:h}},{formattingOptions:{}}):v=Pn(f,["extensions"],h,{formattingOptions:{}}),await l.applyEdits(n,v,f),await ue.window.showInformationMessage(an.l10n.t("Extension has been added to the {0}.",g))}else await ue.window.showInformationMessage(an.l10n.t("Extension is already included in the {0}.",g))}}}async function qde(t,e){let n=await ue.commands.executeCommand("remote.tunnel.label",e);if(n===void 0)return;let r=n.label,i=n.port,o=await iB(t);if(o){let s=ir(t.fileHost);o.scheme==="file"&&!await fr(o.fsPath)?await Bo(Is,o,[],Lc):o.scheme==="vscode-remote"&&(s=new N_);let a=await s.readDocument(o);if(a){let c=Ye(a).portsAttributes??{},l=c[`${i}`]??{},f=t.openConfigurationCommandId?`[${an.l10n.t("Dev Container configuration")}](command:${t.openConfigurationCommandId})`:an.l10n.t("Dev Container configuration");if(c&&l&&l.label===r)await ue.window.showInformationMessage(an.l10n.t("Port attributes are already included in the {0}.",f));else{l.label=r,c[`${i}`]=l;let d=Pn(a,["portsAttributes"],c,{formattingOptions:{}});await s.applyEdits(o,d,a),await ue.window.showInformationMessage(an.l10n.t("Port attributes have been added to the {0}.",f))}}}}function jde(t,e){let n=ue.languages.createDiagnosticCollection("devcontainer"),r=ue.window.activeTextEditor;r&&rB(r.document,n,e.output),t.subscriptions.push(ue.workspace.onDidChangeTextDocument(async i=>{rB(i.document,n,e.output)})),t.subscriptions.push(ue.workspace.onDidOpenTextDocument(async i=>{rB(i,n,e.output)})),t.subscriptions.push(ue.workspace.onDidCreateFiles(async i=>{await Promise.all(i.files.filter(o=>/\.?devcontainer\.json/.test(ry.default.posix.basename(o.path))).map(o=>ue.workspace.openTextDocument(o)))})),t.subscriptions.push(ue.workspace.onDidDeleteFiles(i=>{i.files.forEach(o=>n.forEach(s=>{s.toString().startsWith(o.toString())&&n.delete(s)}))})),t.subscriptions.push(ue.workspace.onDidRenameFiles(async i=>{i.files.forEach(o=>n.forEach(s=>{s.toString().startsWith(o.oldUri.toString())&&n.delete(s)})),await Promise.all(i.files.filter(o=>/\.?devcontainer\.json/.test(ry.default.posix.basename(o.newUri.path))).map(o=>ue.workspace.openTextDocument(o.newUri)))})),(async()=>{let i=await Yfe().catch(o=>[]);await Promise.all(i.map(o=>ue.workspace.openTextDocument(o)))})().catch(i=>{e.output.write(`Error opening dev container configurations: ${(i==null?void 0:i.stack)||(i==null?void 0:i.message)||String(i)}`)}),t.subscriptions.push(n)}function Hde(t,e,n){let r=async(s,a,u)=>{let c=ry.default.basename(s.uri.fsPath);if(/\.?devcontainer\.json/.test(c)){let l=Df(s.getText());if(!l)return;if((mb(l)||{}).features){let d=s.getText(s.getWordRangeAtPosition(a,/"[^"]*"/)).replace(/"/g,""),p=rVe(d,e.output,await n());if(p)return{contents:[p],range:s.getWordRangeAtPosition(a,/"[^"]*"/)}}}},i=ue.languages.registerHoverProvider({pattern:"**/devcontainer.json"},{provideHover:r}),o=ue.languages.registerHoverProvider({pattern:"**/.devcontainer.json"},{provideHover:r});return t.subscriptions.push(i),t.subscriptions.push(o),[i,o]}function rB(t,e,n){let r=ry.default.basename(t.uri.fsPath);if(/\.?devcontainer\.json/.test(r)){let i=Df(t.getText());if(!i)return;let o=[...iVe(t,i,n),...oVe(i,t)];e.set(t.uri,o)}}function nVe(t,e){let n=new RegExp("^[a-zA-Z0-9_-]*$");if(!t)return{type:void 0,tooltip:an.l10n.t("Empty feature id")};let r={};if(!t.includes("/")&&!t.includes("\\")&&n.test(t)){let s=["fish","homebrew"].indexOf(t)>-1;return{...r,type:"local-cache",isLegacy:!0,tooltip:s?an.l10n.t("Legacy feature will be removed in the future. Please check https://containers.dev/features for replacements."):void 0,code:s?{target:ue.Uri.parse("https://containers.dev/features"),value:"legacy-feature"}:void 0,level:ue.DiagnosticSeverity.Warning}}if(t.startsWith("http://"))return{...r,type:void 0,tooltip:an.l10n.t("Direct tarball references must be served over HTTPS."),level:ue.DiagnosticSeverity.Error};if(t.startsWith("https://"))try{return ue.Uri.parse(t,!0).scheme==="https"?{...r,type:"direct-tarball",level:void 0}:{...r,type:void 0,level:ue.DiagnosticSeverity.Error,tooltip:an.l10n.t("Failed to parse scheme of URI")}}catch{return{...r,type:void 0,level:ue.DiagnosticSeverity.Error,tooltip:an.l10n.t("Invalid URI")}}if(t.startsWith("/"))return{...r,type:void 0,tooltip:an.l10n.t("Absolute file paths are not allowed.  Local file path must be indicated relative to the devcontainer.json."),level:ue.DiagnosticSeverity.Error};if(t.startsWith("./")||t.startsWith("../"))return{...r,type:"file-path"};if(t.split("/").length===3&&t.length>=5&&!t.includes("."))return new RegExp("^[a-zA-Z0-9_/@-]*$").test(t)?{...r,type:"github-repo",isLegacy:!0,level:ue.DiagnosticSeverity.Warning}:{...r,type:void 0,tooltip:an.l10n.t("GitHub release feature id contains invalid characters"),level:ue.DiagnosticSeverity.Error};let o=t.split("/");return t.includes(".")&&o.length>1&&o[1].length>=1?new RegExp("^[a-zA-Z0-9_/:.-]*$").test(t)?{...r,type:"oci"}:{...r,type:void 0,level:ue.DiagnosticSeverity.Error,tooltip:an.l10n.t("OCI Feature id contains invalid characters")}:{...r,type:void 0,level:ue.DiagnosticSeverity.Error,tooltip:an.l10n.t("Failed to parse feature identifier.")}}function rVe(t,e,n){var o;if(!n){e.write("No index found.",5);return}let i=(n==null?void 0:n.collections.map(s=>s.features).flat()).find(s=>t===s.id||t.startsWith(`${s.id}:`));if(i){let s=`${i.name}
`??"",a=i.description?`
${i.description}
`:"",u=i.documentationURL?`
${i.documentationURL}
`:"",c="";if(i.majorVersion){let l=t.split(":");if(l.length===2){let f=l[1];if(f&&f!=="latest")try{let d=(o=Lde.parse(f,{loose:!0}))==null?void 0:o.major,p=Number.parseInt(i.majorVersion),m=`
${an.l10n.t("New major version '{0}' published.",p)}
`;if(d&&d<p)c=m;else{let h=Number.parseInt(f);h!==void 0&&h<p&&(c=m)}}catch{}}}return new ue.MarkdownString(`${s}${a}${u}${c}`)}}function iVe(t,e,n){var o;let r=gs(e,["features"]),i=[];for(let s of(r==null?void 0:r.children)||[])if(s.type==="property"){let a=(o=s.children)==null?void 0:o[0].value,u=nVe(a,n);if(u.hint){let c=t.positionAt(s.offset),l=t.positionAt(s.offset+s.length),f=new ue.Diagnostic(new ue.Range(c,l),u.hint,ue.DiagnosticSeverity.Hint);i.push(f)}if(u.level!==void 0&&u.tooltip){let c=t.positionAt(s.offset),l=t.positionAt(s.offset+s.length),f=new ue.Diagnostic(new ue.Range(c,l),u.tooltip,u.level);f.code=u.code||{target:ue.Uri.parse("https://containers.dev/implementors/features/#referencing-a-feature"),value:"referencing-a-feature"},i.push(f)}}return i}function oVe(t,e){return["extensions","settings","devPort"].filter(n=>gs(t,[n])&&gs(t,["vscode",n])).map(n=>{var s,a;let r=(((a=(s=gs(t,[n]))==null?void 0:s.parent)==null?void 0:a.children)||[])[0],i=e.positionAt(r.offset),o=e.positionAt(r.offset+r.length);return new ue.Diagnostic(new ue.Range(i,o),an.l10n.t('Legacy "{0}" property when "{0}" property under "vscode" is also present.',n),ue.DiagnosticSeverity.Warning)})}var iy=B(require("vscode")),oB=require("vscode");async function $de(t,e){let n=await sVe(t);if(!n)return t.output.write("Failed to find configuration.  Cannot configure container features.",5),!1;let r=await aVe(t,n,(e==null?void 0:e.preInstalledInBaseImageFeatureIds)||[]);if(!r)return!1;let i=await t.fileHost.toCommonURI(r);return i&&iy.window.showTextDocument(iy.Uri.parse(i.toString())),!!i}async function sVe(t){let e=await t.findDevContainerFiles();if(e.length){let n=await Xp(t.fileHost,e);if(!n||n==="cancelled")return;let r=n.scheme==="file"?Vv(process.platform,cl(n)):t.fileHost,i=r.path.dirname(we(n,r.platform)),o=r.path.basename(i)===".devcontainer"?r.path.dirname(i):i,s=kt(r.path,o),a=await WA(r,s,n);if(a)return{fileHost:r,workspace:s,config:a}}else{let n=oB.l10n.t("Add Files...");await iy.window.showInformationMessage(oB.l10n.t("No container configuration file found."),{modal:!0},n)===n&&await ty(t)}}async function aVe(t,e,n){var p;let{fileHost:r,workspace:i,config:o}=e,s=iy.window.createQuickPick();s.ignoreFocusOut=!0;let a={workspace:i,quickPick:s,telemetry:await t.telemetry,output:t.output},u=await If(t.output);if(!u)return;let c=u.collections.reduce((m,h)=>m.concat(h.features),[]).filter(m=>!m.deprecated),l=c.filter(m=>n.includes(m.id)),f=[];if(o.object.features&&Object.entries(o.object.features).length>0){let m=Object.keys(o.object.features);f=c.filter(h=>m.some(g=>g.split(":")[0]===h.id))}let d=await ey(a,c,f,l,!0,!1);if(d)try{let m=o.text,h=o.text;for(let g of c){let v=[],x=g.majorVersion?`${g.id}:${g.majorVersion}`:g.id,y=["features",x];if(!d[g.id]&&((p=o.object.features)!=null&&p[x]))v=v.concat(Pn(h,y,void 0,{formattingOptions:{}}));else if(d[g.id]){let _=d[g.id];v=v.concat(Pn(h,y,_,{formattingOptions:{}}))}v.length&&(h=yi(h,v))}return m!==h&&await ir(r,r).applyEdits(o.uri,[{content:h,offset:0,length:o.text.length}],o.text),s.dispose(),we(o.uri,r.platform)}catch(m){t.output.write(`Error in selecting dev container features: ${m}`,5),console.log("Error in selecting dev container features: ",m),s.dispose();return}}var jn=B(require("vscode")),Vde=B(require("crypto")),GA=B(require("path")),sB=require("vscode");var Bde={features:{}};function Wde(t,e){let n=new Set,r=Promise.resolve(Bde),i,o="remote-containers.editDevContainerJSON",s="codespaces.editDevContainerJSON",a=e.codespaces?s:o;t.subscriptions.push(jn.commands.registerCommand(a,async l=>l()),jn.languages.registerCodeLensProvider([{pattern:"**/devcontainer.json"},{pattern:"**/.devcontainer.json"}],{async provideCodeLenses(l,f){var m;let d=Object.keys(((m=Ye(l.getText()))==null?void 0:m.features)||{}).sort();d.some(h=>!n.has(h))&&(n=new Set(d),r=u(l,d));let p=await r;if(!f.isCancellationRequested)return c(l,p)}}));async function u(l,f){i||(i=await lVe(t,e));let d=l.uri;if(d.scheme!=="file"){let p=i.path.join(await i.tmpdir(),`dev-container-tmp-${Vde.randomUUID()}`);await i.mkdirp(p);let m=i.path.join(p,".devcontainer.json");await i.writeFile(m,Buffer.from(JSON.stringify({features:f.reduce((v,x)=>(v[x]={},v),{})})));let h=GA.posix.basename(d.path)===".devcontainer.json",g=d.with({path:GA.posix.join(GA.posix.dirname(d.path),h?".devcontainer-lock.json":"devcontainer-lock.json")});try{let v=await jn.workspace.fs.readFile(g),x=i.path.join(p,".devcontainer-lock.json");await i.writeFile(x,Buffer.from(v))}catch(v){if((v==null?void 0:v.code)!=="FileNotFound")throw v}d=jn.Uri.file(m)}try{return fVe(t,i,i.cwd,d,e.output)}catch(p){return e.output.write(`Error fetching version info: ${(p==null?void 0:p.message)||p}`),Bde}}function c(l,f){let d=Df(l.getText());if(!d)return;let p=gs(d,["features"]);if(!(p!=null&&p.children)||p.type!=="object")return;let m=[];for(let h of p.children)if(h.type==="property"&&h.children){let _=function(T,P){return async()=>{let E=g.value.substring(0,x.length)+T;n.add(E),P&&!f.features[E]&&(f.features[E]=P);let C=jn.window.activeTextEditor;await(C==null?void 0:C.edit(S=>{S.replace(new jn.Range(C.document.positionAt(y),C.document.positionAt(y+w)),T)}))}},g=h.children[0],v=f.features[g.value],x=uVe(g.value),y=g.offset+1+x.length,w=g.length-2-x.length;if(v!=null&&v.wanted&&v.current!==v.wanted){let T=new jn.CodeLens(new jn.Range(l.positionAt(g.offset),l.positionAt(g.offset+g.length)),{title:sB.l10n.t("Update to {0}",v.wanted),command:a,arguments:[_(`:${v.wanted}`,{current:v.wanted,wanted:v.wanted,latest:v.latest})]});m.push(T)}if(v!=null&&v.latest&&v.current!==v.latest){let T=new jn.CodeLens(new jn.Range(l.positionAt(g.offset),l.positionAt(g.offset+g.length)),{title:sB.l10n.t("Update to latest {0}",v.latest),command:a,arguments:[_(`:${v.latest}`)]});m.push(T)}}return m}}var cVe=/[:@][^/]*$/;function uVe(t){let e=cVe.exec(t);return e?t.substring(0,e.index):t}async function lVe(t,e){let n={executeInWSL:"forWSLPath",defaultDistro:void 0},r=await Ri(),i=process.cwd();return ki(void 0,void 0,i,s=>mh(s,jn.env.appRoot),n,t.extensionPath,r,(await e.telemetry).product,e.output,void 0,void 0)}async function fVe(t,e,n,r,i){let o={cliHost:e,dockerPath:"",dockerComposePath:"",extensionPath:t.extensionPath,appRoot:jn.env.appRoot,output:i,package:await Fr(t.extensionPath)};return await Vo(o,["outdated","--workspace-folder",n,...r?["--config",we(r,e.platform)]:[],"--output-format","json","--log-level",Ro(dVe()),"--log-format","json",...i.dimensions?["--terminal-columns",String(i.dimensions.columns),"--terminal-rows",String(i.dimensions.rows)]:[]])}function dVe(){let t=Qn("logLevel")||"debug";return yb(t)}function zde(t,e){let n,r=()=>n||(n=If(e.output));return jde(t,e),Hde(t,e,r),Wde(t,e),{async openConfiguration(){return Mde(e)},async createConfiguration(i){return ty(e)},async addExtensionToConfiguration(i){return Ude(e,i)},async addPortLabelToConfiguration(i){return qde(e,i)},async configureContainerFeatures(i){return $de(e,i)},createCompletionItemProvider(){return Fde(e)}}}async function Nde(){let t=Io.workspace.workspaceFile,e=Io.workspace.workspaceFolders,n;if(t){if(t.scheme==="untitled"){await AA();return}n=t}else if(e&&e.length)if(e.length>1){let r=await Io.window.showWorkspaceFolderPick({placeHolder:Yr.l10n.t("Select a folder to create a container configuration for")});r&&(n=r.uri)}else n=e[0].uri;return n}function To(t,e,n,r,i,o,s){if(t.value="",t.title=r||t.title||Yr.l10n.t("Add Dev Container Configuration Files"),t.placeholder=n,t.canSelectMany=!!i,Array.isArray(e))if(t.items=e,i)t.selectedItems=e.filter(d=>d.picked);else{let d=e.find(p=>p.picked);d&&(t.activeItems=[d])}t.buttons=o?Array.isArray(o)?o:[Io.QuickInputButtons.Back]:[];let a=[],u=t.items,c=u.filter(d=>d.isAlreadyInstalledViaBaseImage===!0),l={kind:Io.QuickPickItemKind.Separator,label:Yr.l10n.t("pre-installed features")};c.length&&(t.items=t.items.slice(0,u.length-c.length).concat(l).concat(t.items.slice(u.length-c.length)));let f=new Promise((d,p)=>{if(Array.isArray(e)||(t.busy=!0,e.then(m=>{if(t.busy=!1,t.items=m,i)t.selectedItems=m.filter(h=>h.picked);else{let h=m.find(g=>g.picked);h&&(t.activeItems=[h])}},m=>{t.busy=!1,p(m)})),a.push(t.onDidAccept(()=>{let m=i?t.selectedItems.slice():t.selectedItems[0];d(Array.isArray(o)?{pick:m,button:"ok"}:m),a.forEach(h=>h.dispose())})),a.push(t.onDidChangeSelection(m=>{if(!i)return;let h=c.filter(g=>!t.selectedItems.includes(g));h.length&&(t.selectedItems=t.selectedItems.concat(h))})),t.buttons.length&&a.push(t.onDidTriggerButton(m=>{let h=i?t.selectedItems.slice():t.activeItems[0];d(o===!0?"back":{pick:h,button:m}),a.forEach(g=>g.dispose())})),a.push(t.onDidHide(()=>{a.forEach(m=>m.dispose()),t.dispose(),d(void 0)})),s){let m;a.push(t.onDidChangeValue(h=>{let g=h.trim().toLowerCase(),v=!g||t.items.find(x=>x.label.toLowerCase()===g);if(v&&m)t.items=t.items.filter(x=>x!==m),m=void 0;else if(!v){let x=t.items.filter(y=>y!==m);x.push(m={label:Yr.l10n.t("Other: {0}",h),value:h}),t.items=x}}))}});return t.show(),f}var nB={label:Yr.l10n.t("Learn More"),description:Yr.l10n.t("Documentation on predefined container definitions"),alwaysShow:!0,type:"help"};async function zA(t,e,n){return Z$(t,e,n)}async function W_(t,e,n,r=tB){let{telemetry:i,existingFilesLearnMoreLink:o,index:s}=t,a=s==null?void 0:s.collections.find(x=>x.sourceInformation.ociReference==="ghcr.io/devcontainers/templates"),u=a==null?void 0:a.templates.find(x=>x.id==="ghcr.io/devcontainers/templates/docker-existing-docker-compose"),c=a==null?void 0:a.templates.find(x=>x.id==="ghcr.io/devcontainers/templates/docker-existing-dockerfile"),l=await e.readDir(n.rootFolderPath),f=u?l.filter(x=>/(docker.*)?compose.*\.ya?ml$/i.test(x)).map(x=>e.path.join(n.rootFolderPath,x)):[],d=c?l.filter(x=>/dockerfile/i.test(x)).map(x=>e.path.join(n.rootFolderPath,x)):[],p=d.map(x=>{let y=e.path.basename(x);return{label:Yr.l10n.t("From '{0}'",y),description:Gde(e,x),dockerfile:y,dockerfilePath:x,detail:Yr.l10n.t("Refer to the existing '{0}' in the container configuration",y),type:"dockerfile"}}),m=f.map(x=>{let y=e.path.basename(x);return{label:Yr.l10n.t("From '{0}'",y),description:Gde(e,x),dockerComposeFile:y,dockerComposePath:x,detail:Yr.l10n.t("Refer to the existing '{0}' in the container configuration",y),type:"dockerComposeFile"}});if(!(d.length>0||f.length>0))return r(t,e,n,void 0);let g={label:Yr.l10n.t("From a predefined container configuration definition..."),detail:Yr.l10n.t("Use a base configuration from the container definition registry"),alwaysShow:!0,type:"predefined"},v=await To(t.quickPick,[g,...p,...m,...o?[nB]:[]],Yr.l10n.t("How would you like to create your container configuration?"));if(!v){Za(i,"canceled");return}if(v.type==="help"){Za(i,"help"),Io.env.openExternal(o);return}if(v.type==="predefined")return r(t,e,n,()=>W_(t,e,n));if(v.type==="dockerComposeFile")return mVe(t,e,n,v.dockerComposePath,u,()=>W_(t,e,n));if(v.type==="dockerfile")return pVe(t,e,n,v.dockerfilePath,c,()=>W_(t,e,n))}function Gde(t,e){let n=Io.workspace.workspaceFolders||[];if(n.length<2)return;let r=n.find(i=>t.platform==="win32"?e.toLowerCase().startsWith(i.uri.fsPath.toLowerCase()):e.startsWith(i.uri.fsPath));return r&&r.name}async function pVe(t,e,n,r,i,o){let{telemetry:s}=t,a=await ny(t,i,async()=>{});if(!a){Za(s,"canceled");return}if(a==="back")return o();let u=await BA(t,e,n,a,(c,l)=>{if(!zx(e.path,c))return l;let f=e.path.sep!==ec.sep?c.replace(ec.sep===ec.win32.sep?/\\/g:/\//g,e.path.sep):c,d=e.path.resolve(n.configFolderPath,f),p=e.path.relative(e.path.dirname(d),r),m=e.platform==="win32"?p.replace(/\\/g,"/"):p,h=l.toString(),g="dockerFile"in Ye(h)?["dockerFile"]:["build","dockerfile"],v=Pn(h,g,m,{formattingOptions:{}}),x=yi(h,v);return Buffer.from(x)});return u&&Za(s,"dockerFile"),u}async function mVe(t,e,n,r,i,o){let{telemetry:s}=t,a=(await e.readFile(r)).toString(),u=Wx(a);if(!u){await Io.window.showErrorMessage(Yr.l10n.t("Invalid docker-compose file '{0}'",r),{modal:!0});return}let c=u.version,l=Object.keys(u&&u.services||{}),f=l.length<2?l[0]||"":await To(t.quickPick,l.map(h=>({label:h,type:"service"})),Yr.l10n.t("Select a service"),void 0,void 0,!0);if(f==="back")return o();if(f===void 0){Za(s,"canceled");return}let d=typeof f=="string"?f:f.label,p=await ny(t,i,async()=>{});if(!p)return;if(p==="back")return o();let m=await BA(t,e,n,p,(h,g)=>{if(zx(e.path,h)){let v=e.path.sep!==ec.sep?h.replace(ec.sep===ec.win32.sep?/\\/g:/\//g,e.path.sep):h,x=e.path.resolve(n.configFolderPath,v),y=e.path.relative(e.path.dirname(x),r),w=e.platform==="win32"?y.replace(/\\/g,"/"):y,_=g.toString(),T=Ye(_).dockerComposeFile,P=Array.isArray(T)?T.slice(1):[],E=[w,...P],C=Pn(_,["dockerComposeFile"],E,{formattingOptions:{}}),S=yi(_,C),I=Pn(S,["service"],d,{formattingOptions:{}}),R=yi(S,I);return Buffer.from(R)}if(/compose.*\.ya?ml$/.test(ec.posix.basename(h))){let v=g.toString(),x=Wx(v);x.version&&c&&x.version!==c&&(v=v.replace(new RegExp(`^(version:.*)(${lh(x.version)})`,"m"),`$1${c}`));let y=Object.keys(x&&x.services||{});return y.length&&(v=v.replace(new RegExp(`\\b${y[0]}\\b`),d)),Buffer.from(v)}return g});return m&&Za(s,"dockerComposeFile"),m}function Za(t,e,n){let r={outcome:e};n&&(r.definitionName=n),t.sendTelemetryEvent("createConfiguration",r)}async function WA(t,e,n){if(n||(n=await f0(t,e.configFolderPath)),!n)return;let r=await ir(t,t).readDocument(n);if(!r)return;let i=Ye(r);return{uri:n,text:r,object:i}}async function Yde(t,e,n,r,i,o,s){let a=ri(n);if(kn(a)&&!await Ue.workspace.requestWorkspaceTrust({message:j_}))return Mr(a.hostPath)?(await Ue.window.showInformationMessage(Tr.l10n.t("The WSL folder is currently not trusted."),{modal:!0,detail:Tr.l10n.t("Trust is required to build a dev container from it. The folder will now reopen in WSL.")}),await Ue.commands.executeCommand("remote-containers.reopenInWSL")):(await Ue.window.showInformationMessage(Tr.l10n.t("The local folder is currently not trusted."),{modal:!0,detail:Tr.l10n.t("Trust is required to build a dev container from it. The folder will now reopen locally.")}),await Ue.commands.executeCommand("remote-containers.reopenLocally")),new Promise(()=>{});let u=ni(a);if(u&&!await H_(t,a.repositoryPath))return await Ue.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{});let c=Mc(a);return{...await hVe(a,t,o,s,e,n,r,i),isTrusted:u||c||void 0}}async function hVe(t,e,n,r,i,o,s,a){let{log:u,logFilePath:c}=n,l="hostPath"in t&&Mr(t.hostPath)&&!!Ue.extensions.getExtension("ms-vscode-remote.remote-wsl");l&&Ue.commands.executeCommand("setContext","canReopenInWSL",!0);let f=t.settings,d="localDocker"in t&&t.localDocker,p=nl(t.parentAuthority)||tl(f)&&!d,m=p&&(!!Ue.extensions.getExtension("ms-vscode-remote.remote-ssh")||!!Ue.extensions.getExtension("ms-vscode-remote.remote-ssh-nightly"));m&&Ue.commands.executeCommand("setContext","canReopenInSSH",!0);let h=jc(t.parentAuthority)&&!!Ue.extensions.getExtension("ms-vscode.remote-server");h&&Ue.commands.executeCommand("setContext","canReopenInTunnel",!0);let g=!p&&!jc(t.parentAuthority);g&&Ue.commands.executeCommand("setContext","canReopenLocally",!0);let v;return Ue.window.withProgress({location:Ue.ProgressLocation.Notification,title:Qv,cancellable:!1},async x=>{let y=Ja(),w=_a(e.extensionPath,Su,u),{cliHost:_,originalCwd:T}=await gVe(s.execServer,t,y,e.extensionPath,await Ri(),w,i.product,u),P={...await w,...Dh(_,t.settings)},E={..._.env,...P},C=await Xv({authority:o,extensionContext:e,sessionStart:n.sessionStart,progress:x,cliHost:_,env:E,cwd:_.cwd,wslSettings:y,isLocalContainer:F0(t.parentAuthority,P),telemetry:i,output:u,logFilePath:c,allowSystemConfigChange:!0,postCreate:r}),S={async createConfiguration(I,R){return zA({fileHost:R,telemetry:i,output:u,existingFilesLearnMoreLink:Zp,predefinedDefinitionsLearnMoreLink:em,openConfigurationCommandId:Jp,showLogCommandId:$t},kt(G_.posix,I))},async showError(I,...R){return await Ue.window.showErrorMessage(I,{modal:!0},...R)}};return v={common:C,parsedAuthority:t,dockerCLI:sa(),dockerComposePath:Qa(),dockerComposeCLI:Ta({exec:C.cliHost.exec,env:{...P,...yn(P)},output:C.output},sa(),Qa()),dockerEnv:P,workspaceMountConsistencyDefault:UA(),cacheMount:qA()?"volume":"none",configurationTracking:MA(e.workspaceState),removeOnStartup:await lde(e,o),buildNoCache:await dde(e,o),onRemoveOnShutdownChanged:a,userRepositoryConfigurationPaths:bf(),originalCwd:T,configProvider:S,development:e.extensionMode===Ue.ExtensionMode.Development,watch:async(I,R)=>{let D=Ue.workspace.createFileSystemWatcher(new Ue.RelativePattern(I,"*"));return D.onDidChange(R),D.onDidCreate(R),D.onDidDelete(R),D},ensureNoDisallowedFeatures:(I,R,D)=>Wv(I,e.globalState,R,D),useExperimentalLockfile:jA()},await M0(v),e9(v)}).then(x=>(a(async y=>{await fde(e,y&&x.dockerContainerId||!1),await q_(e,y==="rebuildNoCache"?o:!1)}),Tu(i,aB(t),"success",n.sessionStart,v==null?void 0:v.common,x.config,x.configLocation,x.properties),x),x=>{var S;let y=x instanceof ge?x:new ge({description:Tr.l10n.t("An error occurred setting up the container."),originalError:x});ni(t)&&(y.volumeName=t.volumeName,y.repositoryPath=t.repositoryPath,y.folderPath=t.folder),Tu(i,aB(t),"failure",n.sessionStart,v==null?void 0:v.common,y.config,void 0,y.containerProperties,y);let w="onTheSide",_=(S=y.data)==null?void 0:S.fileWithError;!_&&(v!=null&&v.parsedAuthority)&&kn(v.parsedAuthority)&&v.parsedAuthority.configFile&&(_=we(v.parsedAuthority.configFile,v.common.cliHost.platform));let T=_&&(v==null?void 0:v.common.cliHost.path.basename(_))||"devcontainer.json",P=kn(t)?[{id:"openFileWithErrorLocally",title:Tr.l10n.t("Edit {0} Locally",T),isLastAction:!0,applicable:async(I,R)=>g&&!(R&&l),async execute(){let I=v==null?void 0:v.common.cliHost,R=_?I.type==="wsl"?await I.toCommonURI(_):xe.file(_):void 0;await Kv(e,t.hostPath,R,c,w);let D=Ue.Uri.file(t.hostPath);await Ue.commands.executeCommand("vscode.openFolder",D)}},{id:"openFileWithErrorinWSL",title:Tr.l10n.t("Edit {0} in WSL",T),isLastAction:!0,applicable:async()=>l,async execute(){let I=Ue.Uri.parse((await ch(t.hostPath,u)).toString()),R=_?or(_.startsWith("/")?"linux":"win32",I,_):void 0;await Kv(e,I.path,R,c,w),await Ue.commands.executeCommand("vscode.openFolder",I)}},{id:"openFileWithErrorinSSH",title:Tr.l10n.t("Edit {0} in SSH",T),isLastAction:!0,applicable:async()=>m,async execute(){let I=t.settings,R=tl(I)?Mx(I.host,t.hostPath):xl(t.parentAuthority,t.hostPath),D=Ue.Uri.parse(R.toString()),A=_?or(_.startsWith("/")?"linux":"win32",D,_):void 0;await Kv(e,D.path,A,c,w),await Ue.commands.executeCommand("vscode.openFolder",D)}},{id:"openFileWithErrorinTunnel",title:Tr.l10n.t("Edit {0} in Tunnel",T),isLastAction:!0,applicable:async()=>h,async execute(){let I=Ue.Uri.parse(xl(t.parentAuthority,t.hostPath).toString()),R=_?or(_.startsWith("/")?"linux":"win32",I,_):void 0;await Kv(e,I.path,R,c,w),await Ue.commands.executeCommand("vscode.openFolder",I)}}]:[],E=ni(t)?t.inspectVolume?[Sf]:[{id:"reopenInRecoveryContainer",title:Tr.l10n.t("Edit {0} in Recovery Container",T),isLastAction:!0,applicable:(I,R)=>!0,execute:async I=>{await Kv(e,t.repositoryPath,_?xe.file(_).with({scheme:"vscode-remote"}):void 0,c,w);let R=uo(I.repositoryPath),D=await Di(v),A=c1(R,I.volumeName,D);await Ue.commands.executeCommand("remote-containers.inspectVolume",A,I.repositoryPath,I.folderPath)}},Sf,{id:"openRepository",title:Tr.l10n.t("Open Repository"),isLastAction:!1,applicable:(I,R)=>!R,async execute(){Ue.env.openExternal(Ue.Uri.parse(t.repositoryPath))}}]:[],C=iw(t)?[Sf]:[];return y.actions=[...Zv,im,_de,...P,...E,...C,Jv,rm],vVe(y),Tf(y,aB(t),i,!0,n.log)})}async function gVe(t,e,n,r,i,o,s,a){let{settings:u}=e,c=u&&"host"in u&&u.host||void 0;if(kn(e)){let l=kt(G_,e.hostPath),f=l.rootFolderPath,d=await ki(t?{server:t,authority:e.parentAuthority}:void 0,c,l.rootFolderPath,zr,n,r,i,s,a,aa,{sshAskpassEnv:o,settings:Yv(),localDocker:e.localDocker});return d.cwd!==l.rootFolderPath&&(l=kt(d.path,l.isWorkspaceFile?d.path.join(d.cwd,G_.basename(e.hostPath)):d.cwd)),a.write(`Setting up container for folder or workspace: ${l.workspaceOrFolderPath}\r
`),L0(a,e),e.localDocker&&a.write(`Local Docker: ${e.localDocker}\r
`),{cliHost:d,originalCwd:f}}else{let l=await ki(t?{server:t,authority:e.parentAuthority}:void 0,c,void 0,zr,n,r,i,s,a,aa,{sshAskpassEnv:o,settings:Yv()});return{cliHost:l,originalCwd:await l.homedir()}}}function aB(t){return kn(t)?"config":ni(t)?t.inspectVolume?"volume":"repository":"volume"}function vVe(t){let e=(t.originalError&&(t.originalError.cmdOutput||t.originalError.message)||"").toLowerCase();e&&e.indexOf("drive has not been shared")!==-1?t.description=Tr.l10n.t("The drive of the workspace folder is not shared. Share it in the Docker settings first."):e&&(e.indexOf("port is already allocated")!==-1||e.indexOf("address already in use")!==-1)?t.description=Tr.l10n.t("A port the container is setup to bind to is already in use. See the Dev Containers terminal for details."):e&&e.indexOf('invalid mount config for type "bind"')!==-1?t.description=Tr.l10n.t("A mount config is invalid. Make sure it has the right format and a source folder that exists on the machine where the Docker daemon is running."):e&&e.indexOf("deb.debian.org/debian/dists/jessie-updates")!==-1&&(t.description=Tr.l10n.t("The base image references the obsolete Debian 8 update repository."),t.actions.push({id:"learnMore",title:Tr.l10n.t("Learn More"),isLastAction:!1,applicable:(n,r)=>r,async execute(){Ue.env.openExternal(Ue.Uri.parse("https://aka.ms/vscode-remote/containers/troubleshooting/jessie"))}}))}var nc=B(require("vscode")),oy=require("vscode");var YA=B(Pr());var Xde=require("util");var tc=B(require("path")),Qde=B(require("crypto"));async function Jde(t,e,n,r){var m,h;let{dockerCLI:i,dockerComposeCLI:o,dockerComposePath:s,common:a}=t,{cliHost:u,extensionPath:c,appRoot:l,postCreate:f,output:d}=a,p;try{let{commit:g}=a.product;if(!g)throw new ge({description:YA.t("Cannot attach without commit id for the remote extension host.")});let v=r?n.configFilePath:void 0;if((v==null?void 0:v.scheme)==="file"&&u.type!=="local"){let O=u.path.join(await u.tmpdir(),`devcontainer-config-${Qde.randomUUID()}.json`);await u.writeFile(O,await st(v.fsPath)),v=xe.from({scheme:ft.scheme,path:O})}let x={...a.env,...yn(a.env)},y={cliHost:u,dockerPath:i,dockerComposePath:s,env:x,extensionPath:c,appRoot:l,package:a.package,postCreate:f,output:d},w=a.postCreate.output.dimensions||d.dimensions,_=await Vo(y,["set-up","--container-id",e.Id,...u.type==="local"&&a.persistedFolder?["--user-data-folder",a.persistedFolder]:[],...t.dockerCLI!=="docker"?["--docker-path",t.dockerCLI]:[],...a.containerSessionDataFolder?["--container-session-data-folder",a.containerSessionDataFolder]:[],"--log-level",Ro(a.getLogLevel()),"--log-format","json",...v?["--config",we(v,u.platform)]:[],"--default-user-env-probe",a.defaultUserEnvProbe,"--skip-post-create",...w?["--terminal-columns",String(w.columns),"--terminal-rows",String(w.rows)]:[]]);if((_==null?void 0:_.outcome)!=="success")throw new ge({description:YA.t("devcontainer command failed: {0}",JSON.stringify(_))});let{mergedConfiguration:T}=await pl(y,void 0,v,a.getLogLevel(),{},[],e.Id,void 0),P=T.remoteUser;p=await Ch(t,e.Id,T.workspaceFolder,P);let E={cliHost:u,dockerCLI:i,dockerComposeCLI:o,dockerComposePath:s,env:x,output:f.output},C=((h=(((m=T.customizations)==null?void 0:m.vscode)||[]).slice().reverse().find(O=>typeof O.devPort=="number"))==null?void 0:h.devPort)||md,{hostOrContainerPort:S,hostPortServer:I,connectionToken:R,remoteEnv:D,serverDownloaded:A}=await ol(a,p,n,T,C,Sh(t,E,p,void 0,void 0,e.Id,!1,v,void 0)),N=ir(a.cliHost,p.shellServer);if(yVe(a,p,N,n.configFilePath),wVe(a,p,N,n.configFilePath),I){let O=async()=>{await(0,Xde.promisify)(I.close.bind(I))()};a.shutdowns.push(O)}return{params:a,properties:p,config:n,resolvedAuthority:{host:dl,port:S,connectionToken:R,extensionHostEnv:D},tunnelInformation:a.isLocalContainer?bh(e):{},dockerParams:t,dockerContainerId:e.Id,serverDownloaded:A}}catch(g){let v=g instanceof ge?g:new ge({description:YA.t("An error occurred attaching to the container."),originalError:g});throw e&&(v.manageContainer=!1,v.params=t.common,v.containerId=e.Id,v.dockerParams=t),p&&(v.containerProperties=p),v.config=n,v}}function yVe(t,e,n,r){e.installFolder&&Zde(t,e,n,r).catch(console.error)}async function Zde(t,e,n,r){try{await Oc(t,e,["/bin/sh","-c",`# Watch installed extensions
			trap "exit 0" 15
			old=\`ls -A --full-time\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],A7(e),{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await xVe(t,e,n,r):(i==null?void 0:i.code)!==2&&await $o(6e4)}return Zde(t,e,n,r)}async function xVe(t,e,n,r){let i=await D7(t,e);await OL(r,async()=>{var s,a;let o=await KA(t.cliHost,n,r,e.remoteWorkspaceFolder);if(!_Ve(((a=(s=o.config.customizations)==null?void 0:s.vscode)==null?void 0:a.extensions)||[],i)){let u=Pn(o.text,["extensions"],i,{formattingOptions:{}});await Bo(n,r,u,o.text)}})}function wVe(t,e,n,r){epe(t,e,n,r).catch(console.error)}async function epe(t,e,n,r){try{let i=n0(e),o=tc.posix.dirname(i),s=tc.posix.basename(i);await Oc(t,e,["/bin/sh","-c",`# Watch machine settings
			trap "exit 0" 15
			old=\`ls -A --full-time ${s} 2>/dev/null || true\`
			counter=0
			while [ $counter -lt 60 ]
			do
				sleep 1
				new=\`ls -A --full-time ${s} 2>/dev/null || true\`
				if [ "$new" != "$old" ]
				then
					exit 1
				fi
				counter=\`expr $counter + 1\`
			done
			exit 2
		`],o,{print:"off"});return}catch(i){(i==null?void 0:i.code)===1?await EVe(t.cliHost,e,n,r):(i==null?void 0:i.code)!==2&&await $o(6e4)}return epe(t,e,n,r)}async function EVe(t,e,n,r){let{stdout:i}=await e.shellServer.exec(`cat ${n0(e)}`),o=Ye(i)||{};await OL(r,async()=>{var a,u;let s=await KA(t,n,r,e.remoteWorkspaceFolder);if(JSON.stringify(((u=(a=s.config.customizations)==null?void 0:a.vscode)==null?void 0:u.settings)||{})!==JSON.stringify(o)){let c=Pn(s.text,["settings"],o,{formattingOptions:{}});await Bo(n,r,c,s.text)}})}function _Ve(t,e){let n=new Set(t),r=new Set(e);return n.size===r.size&&t.every(i=>r.has(i))}async function tpe(t,e){let n=QA(t,e.Name),r=await Kde(n);return r||(n=ipe(t,e.Config.Image),r=await Kde(n)),r}async function npe(t,e,n,r,i){let o=xe.file(QA(n,r.Name)),s=await KA(t,e,o,i);return s.exists||(o=xe.file(ipe(n,r.Config.Image)),s=await KA(t,e,o,i)),s}function XA(t){return tc.join(t,"nameConfigs")}function QA(t,e){let n=e.startsWith("/")?e.substr(1):e;return tc.join(XA(t),`${spe(n)}.json`)}async function rpe(t){try{let e=XA(t);return(await Ru(e)).filter(r=>r.endsWith(".json")).map(r=>({name:ape(r.substr(0,r.length-5)),uri:xe.file(tc.join(e,r))}))}catch(e){if(e&&e.code==="ENOENT")return[];throw e}}function JA(t){return tc.join(t,"imageConfigs")}function ipe(t,e){return tc.join(JA(t),`${spe(e)}.json`)}async function ope(t){try{let e=JA(t);return(await Ru(e)).filter(r=>r.endsWith(".json")).map(r=>({image:ape(r.substr(0,r.length-5)),uri:xe.file(tc.join(e,r))}))}catch(e){if(e&&e.code==="ENOENT")return[];throw e}}function spe(t){return t.replace(/[:/%]/g,e=>`%${e.charCodeAt(0).toString(16)}`)}function ape(t){return t.replace(/%([0-9a-f]{2})/g,(e,n)=>String.fromCharCode(parseInt(n,16)))}async function Kde(t){if(!await fr(t))return;let e=await st(t),n=Ye(e.toString())||{},r=Xx(n);return r.configFilePath=xe.file(t),r}async function KA(t,e,n,r){let i=await e.readDocument(n),o=i||Lc,s=Ye(o)||{},a=Xx(s),u=zS({platform:t.platform,configFile:n,env:t.env,localWorkspaceFolder:void 0,containerWorkspaceFolder:r},a);return u.configFilePath=n,{exists:!!i,text:o,config:u}}async function cpe(t,e,n,r,i,o){return await Cf(t)?{...await bVe(t,e,n,r,i,o),isTrusted:!0}:(await nc.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function bVe(t,e,n,r,i,o){let s,a;return nc.window.withProgress({location:nc.ProgressLocation.Notification,title:Qv,cancellable:!1},async u=>{var c,l;try{let f=Ed(n),{settings:d}=f,p="containerName"in f?f.containerName:f.containerId;i.log.write(`Setting up container: ${p}\r
`),L0(i.log,f);let m=d&&"host"in d&&d.host||void 0,h=Ja(),g=_a(t.extensionPath,Su,i.log),v=await ki(r.execServer?{server:r.execServer,authority:f.parentAuthority}:void 0,m,f.cwd,zr,h,t.extensionPath,await Ri(),e.product,i.log,aa,{sshAskpassEnv:g,settings:Yv()}),x=sa(),y={...await g,...Dh(v,d)},w=Ta({exec:v.exec,env:{...y,...yn(y)},output:i.log},sa(),Qa()),_={...v.env,...y},T=await co({cliHost:v,dockerCLI:x,dockerComposeCLI:w,dockerComposePath:Qa(),env:_,output:i.log},"containerName"in f?f.containerName:f.containerId);if(!T)throw new ge({description:oy.l10n.t("Cannot attach to the container with name/id {0}, it no longer exists.",p),data:{reload:!1,attach:!0}});let P=(l=(c=(nc.workspace.workspaceFolders||[void 0])[0])==null?void 0:c.uri)==null?void 0:l.path,E=await npe(v,Is,t.globalStoragePath,T,P);if(P&&E.config.workspaceFolder!==P){let R=Pn(E.text,["workspaceFolder"],P,{formattingOptions:{}});await Bo(Is,E.config.configFilePath,R,E.text)}s={common:await Xv({authority:n,extensionContext:t,sessionStart:i.sessionStart,progress:u,cliHost:v,env:_,cwd:f.cwd||await v.homedir(),wslSettings:h,isLocalContainer:F0(f.parentAuthority,y),telemetry:e,output:i.log,logFilePath:i.logFilePath,allowSystemConfigChange:!1,postCreate:o}),parsedAuthority:f,dockerCLI:x,dockerComposePath:Qa(),dockerComposeCLI:w,dockerEnv:y,workspaceMountConsistencyDefault:UA(),cacheMount:qA()?"volume":"none",configurationTracking:MA(t.workspaceState),userRepositoryConfigurationPaths:[],development:t.extensionMode===nc.ExtensionMode.Development,ensureNoDisallowedFeatures:(R,D,A)=>Wv(R,t.globalState,D,A),useExperimentalLockfile:jA()},await M0(s);let C=Ph(f.parentAuthority,d),S=T.Name.startsWith("/")?T.Name.substr(1):T.Name,I=oy.l10n.t("Container {0} ({1}){2}",T.Config.Image,S,C);if(s.common.setWorkspaceName(I),T.State.Status!=="running")throw new ge({description:oy.l10n.t("Cannot attach to the container {0} ({1}){2}, it is not running.",T.Config.Image,S,C),params:s.common,containerId:T.Id,dockerParams:s,data:{reload:!1,start:!0}});return await Jde(s,T,E.config,E.exists)}catch(f){let d=f instanceof ge?f:new ge({description:oy.l10n.t("An error occurred attaching to the container."),originalError:f});throw d.actions=[bde,Cde,...Zv,im,Sf,Jv,rm],d}}).then(u=>(Tu(e,"attach","success",i.sessionStart,s==null?void 0:s.common,a,void 0,u.properties),u),u=>{let c=u instanceof ge?u:new ge({description:oy.l10n.t("An error occurred attaching to the container."),originalError:u});return Tu(e,"attach","failure",i.sessionStart,s==null?void 0:s.common,a,void 0,c.containerProperties,c),Tf(c,"attach",e,!0,i.log)})}var vt=B(require("vscode")),qe=require("vscode");var cn=B(require("vscode")),rc=require("vscode"),lpe=B(require("path")),om=B(require("os")),z_=B(require("fs")),fpe=B(require("child_process")),dpe=B(require("crypto")),ppe=B(hm());async function eD(t){TVe()?await new cB().downloadAndInstallDocker(t):mpe()?await new uB().downloadAndInstallDocker(t):await cn.env.openExternal(cn.Uri.parse("https://aka.ms/download-docker-linux-vscode"))}var ZA=class{async downloadAndInstallDocker(e){if(await this.preInstallCheck(e)){let r=rc.l10n.t("Downloading Docker installer..."),i=rc.l10n.t("The Docker Desktop installation is started. Complete the installation and then start Docker Desktop."),o;try{o=await cn.window.withProgress({location:cn.ProgressLocation.Notification,title:r},async()=>this.downloadInstaller())}catch(a){let u=rc.l10n.t("Downloading the Docker Desktop installer failed. Do you want to manually download and install?"),c=rc.l10n.t("Download");throw this.handleError(u,c,this.downloadUrl),a}let s=this.getInstallCommand(o);cn.window.showInformationMessage(i);try{await this.install(o,s,e)}catch(a){let u=rc.l10n.t("Docker Desktop installation failed. ({0})",String(a==null?void 0:a.message)),c=rc.l10n.t("Install Instruction");throw this.handleError(u,c,"https://aka.ms/AA37qtj"),a}}}async preInstallCheck(e){let n=!0;if(await new lB(e).isDockerInstalledRealTimeCheck()){let r=rc.l10n.t("Docker Desktop is already installed. Would you like to reinstall?"),i=rc.l10n.t("Reinstall");n=await cn.window.showInformationMessage(r,{modal:!0},i)!==void 0}return n}async downloadInstaller(){let e=`${SVe()}.${this.fileExtension}`;return await PVe(this.downloadUrl,e),e}handleError(e,n,r){cn.window.showErrorMessage(e,{title:n}).then(i=>{i&&cn.env.openExternal(cn.Uri.parse(r))})}},cB=class extends ZA{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-windows-vscode";this.fileExtension="exe"}getInstallCommand(n){return`"${n}"`}async install(n,r,i){try{i.write(`Executing command ${r}`),await hpe(r,i)}finally{try{await z_.promises.stat(n),await z_.promises.unlink(n)}catch{}}}},uB=class extends ZA{constructor(){super(...arguments);this.downloadUrl="https://aka.ms/download-docker-mac-vscode";this.fileExtension="dmg"}getInstallCommand(n){return`chmod +x '${n}' && open '${n}'`}async install(n){let r=rc.l10n.t("Docker Install"),i=this.getInstallCommand(n);await IVe(i,r,{addDockerEnv:!1})}},CVe=0;function SVe(){return lpe.join(om.tmpdir(),`${cn.env.sessionId}-${CVe++}.tmp`)}function TVe(){return om.platform()==="win32"}function mpe(){return om.platform()==="darwin"}async function IVe(t,e,n){var a,u;let r;n=n??{},n.addDockerEnv&&(r={});let i=new cn.Task({type:"shell"},n.workspaceFolder??cn.TaskScope.Workspace,e,"Docker",new cn.ShellExecution(t,{cwd:n.cwd||((u=(a=n.workspaceFolder)==null?void 0:a.uri)==null?void 0:u.fsPath)||om.homedir(),env:r}),[]);n.alwaysRunNew&&(i.definition.idRandomizer=dpe.randomUUID()),n.focus&&(i.presentationOptions={focus:!0});let o=await cn.tasks.executeTask(i);return new Promise((c,l)=>{let f=cn.tasks.onDidEndTaskProcess(d=>{d.execution===o&&(f.dispose(),d.exitCode&&n.rejectOnError&&l(d.exitCode),c())})})}var lB=class{constructor(e){this.output=e;this.maxCacheTime=3e4;this.isDockerInstalledLazy=new dB(async()=>{let n=await this.isDockerInstalledRealTimeCheck();return n&&this.isDockerInstalledLazy.cacheForever(),n},this.maxCacheTime)}async isDockerInstalled(){return await this.isDockerInstalledLazy.getValue()}async isDockerInstalledRealTimeCheck(){try{let e=await qo("docker");return await hpe(`${e} -v`,this.output),!0}catch{return!1}}};async function PVe(t,e){await new Promise((n,r)=>{let i=z_.createWriteStream(e);ppe.https.get(t,s=>{if(s.statusCode<200||s.statusCode>299){r(new Error(`Failed to download Docker (${t}): HTTP ${s.statusCode} - ${s.statusMessage}`));return}s.on("error",r),s.pipe(i),s.on("end",n)}).on("error",r)})}var upe=10*1024;async function hpe(t,e,n,r){let i=Buffer.alloc(n&&n.maxBuffer||upe),o=Buffer.alloc(n&&n.maxBuffer||upe);return await RVe(t,e,n,r,i,r,o),{stdout:fB(i),stderr:fB(o)}}async function RVe(t,e,n,r,i,o,s,a){return await new Promise((u,c)=>{let l,f=0,d=0;n=n||{},n.shell=!0,AVe(n,e);let p=fpe.spawn(t,n);p.on("error",m=>(l&&(l.dispose(),l=void 0),c(m))),p.on("close",(m,h)=>{if(l&&(l.dispose(),l=void 0),a&&a.isCancellationRequested)return c(new Error("User canceled"));if(m){let g=`Process '${t.length>50?`${t.substring(0,50)}...`:t}' exited with code ${m}`;s&&(g+=`
Error: ${fB(s)}`);let v=new Error(g);return v.code=m,v.signal=h,v.stdErrHandled=o!==null,c(v)}return u()}),n!=null&&n.stdin&&(p.stdin.write(n.stdin),p.stdin.end()),(r||i)&&p.stdout.on("data",m=>{let h=m.toString();r&&r(h,p),i&&(f+=i.write(h,f))}),(o||s)&&p.stderr.on("data",m=>{let h=m.toString();o&&o(h,p),s&&(d+=s.write(h,d))}),a&&(l=a.onCancellationRequested(()=>{p.kill()}))})}function AVe(t,e){var n;mpe()&&(/(?<=^|:)\/usr\/local\/bin(?=$|:)/i.test(((n=t==null?void 0:t.env)==null?void 0:n.PATH)||process.env.PATH||"")||(t=t??{},t.env=t.env??{...process.env},e.write("WARNING: Adding '/usr/local/bin' to the PATH because it is missing."),t.env.PATH=`${t.env.PATH}:/usr/local/bin`))}function fB(t){return t.toString().replace(/[\x00-\x09\x0B-\x0C\x0E-\x1F]|\r?\n$/g,"")}var dB=class{constructor(e,n){this.valueFactory=e;this._valueLifetime=n;this._isValueCreated=!1}get isValueCreated(){return this._isValueCreated}cacheForever(){this._valueLifetime=void 0}clear(){this._isValueCreated=!1,this._valuePromise=void 0}async getValue(){if(this._isValueCreated)return this._value;let e=this._valuePromise===void 0;e&&(this._valuePromise=this.valueFactory());let n=await this._valuePromise;if(e&&(this._value=n,this._valuePromise=void 0,this._isValueCreated=!0),this._valueLifetime&&e){let r=setTimeout(()=>{this._valueLifetime&&this._valuePromise===void 0&&(this._isValueCreated=!1,this._value=void 0),clearTimeout(r)},this._valueLifetime)}return n}};var gpe=B(require("os")),vpe=B(require("crypto")),Hn=B(require("vscode")),Zn=require("vscode");var ype="done";async function nD(t,e,n){return Hn.commands.executeCommand($t),Hn.window.withProgress({location:Hn.ProgressLocation.Notification,title:"Installing Docker in WSL"},async r=>{let i={},o={};try{await DVe(t,e,r,i,o)}catch(s){i.outcome="error",i.errorMessage=s==null?void 0:s.message}finally{n.sendTelemetryEvent("installDockerInWSL",i,o)}return i.outcome===ype})}async function xpe(t){if(process.platform!=="win32")return!1;let e=Epe();if(t.write(`Windows build number: ${e}`),e<Y_)return t.write(`WSL version 2 is required to run Docker and that is only available since Windows build ${Y_}.`),!1;let n=await Ss(process.cwd(),zr,t);return!await tD(n,e,t)&&e<wpe?(t.write(`WSL is not installed and can only be installed automatically since Windows build ${Y_}.`),!1):!0}async function DVe(t,e,n,r,i){let o=Epe();if(t.write(`Windows build number: ${o}`),o<Y_)return r.outcome="wsl2NotAvailableForWindowsBuild",Hn.window.showInformationMessage(Zn.l10n.t(`WSL version 2 is required to run Docker and that is only available since Windows build ${Y_}.`),{modal:!0});let s=await Ss(process.cwd(),zr,t);if(n.report({message:Zn.l10n.t("Checking if WSL is installed.")}),!await tD(s,o,t)){if(o<wpe)return r.outcome="wslInstallerNotAvailableWithWindowsBuild",Hn.window.showInformationMessage(Zn.l10n.t("WSL is not installed. Please install WSL manually and retry."),{modal:!0});if(n.report({message:Zn.l10n.t("Installing WSL.")}),await OVe(s,t,e),!await tD(s,o,t)&&(await new Promise(_=>setTimeout(_,3e3)),!await tD(s,o,t)))return r.outcome="wslNotFoundAfterInstall",Hn.window.showInformationMessage(Zn.l10n.t("WSL not found after install."),{modal:!0})}n.report({message:Zn.l10n.t("Checking WSL version.")}),r.wslVersion=await NVe(s,t),n.report({message:Zn.l10n.t("Listing installed WSL distributions.")});let u=await pB(s,t);if(!u.length&&(n.report({message:Zn.l10n.t("Installing WSL distribution.")}),await FVe(s,t,e),u=await pB(s,t),!u.length&&(await new Promise(y=>setTimeout(y,3e3)),u=await pB(s,t),!u.length)))return r.outcome="noDistroAfterInstall",Hn.window.showInformationMessage(Zn.l10n.t("No WSL distro found after install."),{modal:!0});i.wslDistros=u.length;let c=u.find(y=>y.isDefault);if(!c&&u.length===1&&(c=u[0]),!c)return r.outcome="noDefaultDistro",Hn.window.showInformationMessage(Zn.l10n.t("No default WSL distro found."),{modal:!0});if(r.isDefaultDistro=String(c.isDefault),c.version!=="2")return r.outcome="defaultDistroNotVersion2",Hn.window.showInformationMessage(Zn.l10n.t("Default distro is not using WSL version 2."),{modal:!0});n.report({message:Zn.l10n.t("Reading distribution information.")});let l=kc("wsl",["-u","root","-e"],void 0),f=await Bn(l,t,void 0,"linux","Host"),{stdout:d}=await f.exec("cat /etc/os-release || cat /usr/lib/os-release || true"),p=MVe(d);if(r.distro=p.ID,p.ID!=="debian"&&p.ID!=="ubuntu")return r.outcome="distroNotSupported",Hn.window.showInformationMessage(p.NAME?Zn.l10n.t("Unsupported WSL distribution: {0}",p.NAME):Zn.l10n.t("Unsupported WSL distribution."),{modal:!0});let m=kc("wsl",["-e"],void 0),h=await Bn(m,t,void 0,"linux","Host"),g=await ud(h);if(g==="root")return r.outcome="defaultUserIsRoot",Hn.window.showInformationMessage(Zn.l10n.t("Default user in WSL is root, requiring a regular user."),{modal:!0});let v=await mB(h,"docker")||await mB(f,"docker")||await mB(f,"dockerd");if(v&&await Hn.window.showInformationMessage(Zn.l10n.t("Docker is already installed in WSL."),{modal:!0,detail:v},"Ignore")!=="Ignore"){r.outcome="dockerAlreadyInstalled";return}n.report({message:Zn.l10n.t("Installing Docker.")}),await f.exec("export DEBIAN_FRONTEND=noninteractive"),await f.exec("apt update && apt -y install --no-install-recommends apt-transport-https ca-certificates curl gnupg2"),await f.exec(`curl -fsSL https://download.docker.com/linux/${p.ID}/gpg | tee /etc/apt/trusted.gpg.d/docker.asc`),await f.exec(`echo "deb [arch=$(dpkg --print-architecture)] https://download.docker.com/linux/${p.ID} ${p.VERSION_CODENAME} stable" | tee /etc/apt/sources.list.d/docker.list`),await f.exec("apt update && apt -y install --no-install-recommends docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin"),await f.exec(`usermod -aG docker ${g}`),n.report({message:Zn.l10n.t("Updating Settings.")});let x=Hn.workspace.getConfiguration();await x.update(Rc("executeInWSL"),!0,Hn.ConfigurationTarget.Global),await x.update(Rc("executeInWSLDistro"),c.isDefault?void 0:c.name,Hn.ConfigurationTarget.Global),r.outcome=ype}var Y_=18917,wpe=20262;function Epe(){let t=gpe.release(),e=process.platform==="win32"&&t&&/(\d+)\.(\d+)\.(\d+)/g.exec(t);return e&&e.length===4?parseInt(e[3]):0}async function tD(t,e,n){if(t.platform!=="win32")return!1;if(e>=22e3)try{return await ae({exec:t.exec,cmd:"wsl",args:["--status"],output:n,print:"continuous"}),!0}catch{return n.write("WSL feature installed: false (wsl --status failed)"),!1}else{let r=kVe(t);if(r){let i=await t.isFile(r);return n.write(`WSL feature installed: ${i} (dll path: ${r})`),i}return n.write("WSL feature installed: false (no dll path)"),!1}}function kVe(t){let e=t.env.SystemRoot;if(e){let n=t.env.PROCESSOR_ARCHITEW6432;return t.path.join(e,n?"Sysnative":"System32","lxss","LxssManager.dll")}}async function OVe(t,e,n){let{wrappedOutput:r,wrappedInput:i}=_pe(e,n);try{await Pc({ptyExec:t.ptyExec,cmd:"powershell.exe",args:["Start-Process","-FilePath","cmd","-ArgumentList",`'/c "wsl --install & pause"'`,"-Verb","RunAs","-Wait"],output:r,onDidInput:i.event})}finally{i.dispose()}}async function NVe(t,e){try{let{stdout:n}=await ae({exec:t.exec,cmd:"wsl",args:["--version"],output:e,print:"continuous"});return n.toString("utf16le").match(/^.*$/m)[0]}catch{return"unknown"}}async function pB(t,e){try{let{stdout:n}=await ae({exec:t.exec,cmd:"wsl",args:["-l","-v"],output:e,print:"continuous"});return LVe(n.toString("utf16le"))}catch{return[]}}function LVe(t){let e=/\r\n/.test(t)?`\r
`:`
`,n=t.split(e),r=/^(?<default>\*|\s)\s*(?<name>[a-zA-Z0-9\.\-_]+)\s+(?<state>\w+)\s+(?<version>\d)/,i=[];for(let o=1;o<n.length;o++){let s=r.exec(n[o]);if(s!=null&&s.groups){let a=s.groups.name,u=s.groups.version,c=o===1;i.push({name:a,isDefault:c,version:u})}}return i}async function FVe(t,e,n){await ae({exec:t.exec,cmd:"wsl",args:["--set-default-version","2"],output:e,print:"continuous"});let{wrappedOutput:r,wrappedInput:i}=_pe(e,n);try{await Pc({ptyExec:t.ptyExec,cmd:"wsl",args:["--install","-d","Ubuntu"],output:r,onDidInput:i.event})}finally{i.dispose()}}function _pe(t,e){let n=e(a=>r.fire(a)),r=new fa(n),i="",o=vpe.randomUUID();return{wrappedOutput:Xr({...t,get dimensions(){return t.dimensions},event:a=>{if(t.event(a),a.type==="text"||a.type==="raw"){i+=a.text;let u=i.replace(Du,"");/Enter new UNIX username:\s*$/.test(u)?r.fire("devcontainers\r"):/(New|Retype new) password:\s*$/.test(u)?r.fire(`${o}\r`):/Installation successful!/.test(u)&&r.fire("exit\r")}}}),wrappedInput:r}}function MVe(t){return t.split(`
`).reduce((e,n)=>{let r=n.indexOf("=");return r!==-1&&(e[n.substring(0,r)]=n.substring(r+1)),e},{})}async function mB(t,e){try{let{stdout:n}=await t.exec(`command -v ${e}`);return n.trim()}catch{return}}var UVe={reopenInContainer:qe.l10n.t("Do you want to continue with reopening the folder in a container?"),openInContainer:qe.l10n.t("Do you want to continue with opening a folder in a container?"),cloneInVolume:qe.l10n.t("Do you want to continue with cloning a repository in a Docker volume?"),attachToContainer:qe.l10n.t("Do you want to continue with attaching to a container?"),checkoutPRInVolume:qe.l10n.t("Do you want to continue with checking out a pull-request in a Docker volume?"),createDevContainer:qe.l10n.t("Do you want to continue with creating a Dev Container?"),inspectVolume:qe.l10n.t("Do you want to continue with inspecting a Docker volume?"),trySample:qe.l10n.t("Do you want to continue with trying a sample Dev Container?")};async function Kr(t,e,n,r,i,o){var u;let s=(u=(vt.workspace.workspaceFolders||[])[0])==null?void 0:u.uri;s&&(s.scheme==="file"&&Mr(s.fsPath)||uh(s))&&(e=await rt(t,e.output,s));let a=await X_(e,r);if(a==="permission")return await vt.window.showErrorMessage(qe.l10n.t("Current user does not have permission to run 'docker'."),{modal:!0,detail:qe.l10n.t("Try adding the user to the 'docker' group.")},qe.l10n.t("Documentation"))&&vt.env.openExternal(vt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079224")),!1;if(a==="ssh")return await vt.window.showErrorMessage(qe.l10n.t("Cannot connect to Docker daemon using 'ssh'."),{modal:!0,detail:qe.l10n.t("Make sure public/private keys are set up for connecting without keyboard interaction.")},qe.l10n.t("Show Log"))&&vt.commands.executeCommand($t),!1;if(a==="daemon")return await vt.window.showErrorMessage(qe.l10n.t("Docker returned an error."),{modal:!0,detail:qe.l10n.t("Make sure the Docker daemon is running.")},qe.l10n.t("Show Log"))&&vt.commands.executeCommand($t),!1;if(a==="cwd")return await vt.window.showErrorMessage(qe.l10n.t("Workspace folder does not exist.",e.cliHost.cwd),{modal:!0,detail:e.cliHost.cwd},qe.l10n.t("Show Log"))&&vt.commands.executeCommand($t),!1;if(a==="command"&&(e.cliHost.type==="local"||e.cliHost.type==="wsl")&&await xpe(e.output)){o&&o();let c=qe.l10n.t("Install");if(await vt.window.showInformationMessage(qe.l10n.t("Dev Containers require Docker to run."),{modal:!0,detail:qe.l10n.t("Do you want to install Docker in WSL?")},c)===c){if(Pf(r,"installInWSL","install"),await nD(e.output,n,r)){let d=qe.l10n.t("Continue");return await vt.window.showInformationMessage(qe.l10n.t("Docker has been installed. {0}",UVe[i]),d)===d?(Pf(r,"continueAfterInstall","continue"),!0):(Pf(r,"continueAfterInstall","cancel"),!1)}return!1}return Pf(r,"installInWSL","cancel"),!1}if(!a||a==="command"){if(e.cliHost.type==="wsl")await vt.window.showErrorMessage(qe.l10n.t("Docker Desktop WSL 2 backend required."),{modal:!0},qe.l10n.t("Read more on docker.com"))&&vt.env.openExternal(vt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl"));else{let c=qe.l10n.t("Install"),l=qe.l10n.t("License"),f=qe.l10n.t("Ignore"),d=[],p=[];a==="command"&&e.dockerCLI!=="docker"&&p.push(qe.l10n.t("Command not found: '{0}'.",e.dockerCLI)),e.cliHost.type==="local"&&(d.push(c,l),p.push(qe.l10n.t("Check the license for details."))),a===!1&&d.push(f);let m=p.join(" "),h=e.cliHost.type==="remote"?qe.l10n.t("Docker version 17.12.0 or later required on remote host."):qe.l10n.t("Docker version 17.12.0 or later required."),g=await vt.window.showErrorMessage(h,{modal:!0,detail:m},...d);if(g===c)return eD(e.output).then(console.error),Pf(r,"dockerDesktop","install"),!1;if(g===l)return vt.env.openExternal(vt.Uri.parse("https://aka.ms/docker-subscription-service-agreement")),Pf(r,"dockerDesktop","license"),!1;if(g===f)return Pf(r,"dockerDesktop","ignore"),!0;Pf(r,"dockerDesktop","cancel")}return!1}return a==="wsl1"?(await vt.window.showErrorMessage(qe.l10n.t("WSL 2 distro required."),{modal:!0,detail:qe.l10n.t("The WSL distro is running with WSL 1.")},qe.l10n.t("Read more on docker.com"))&&vt.env.openExternal(vt.Uri.parse("https://docs.docker.com/docker-for-windows/wsl")),!1):!0}function Pf(t,e,n){t.sendTelemetryEvent("dockerVersionUserChoice",{dialog:e,choice:n})}async function X_(t,e){var s,a,u,c;let n;try{let l=await ke(t,"version","--format","{{.Server.APIVersion}}");n=l.stdout.toString(),t.output.write(n);let f=l.stderr.toString();f&&t.output.write(pt(f))}catch(l){console.error(l);let f=(s=l==null?void 0:l.stdout)==null?void 0:s.toString();f&&t.output.write(f);let d=l&&(l.stderr?l.stderr.toString():l.message)||"";d&&t.output.write(pt(d)),K_(e,"error",void 0,d);let p=d.toLowerCase();return p.indexOf("permission denied")!==-1?p.indexOf("ssh")!==-1?"ssh":"permission":p.indexOf("enoent")!==-1||p.indexOf("not found")!==-1||p.indexOf("notfound")!==-1?await t.cliHost.isFolder(t.cliHost.cwd)?(t.output.write(`CLI host's PATH: ${t.cliHost.env.PATH}`),"command"):"cwd":t.cliHost.type==="wsl"&&((c=(u=(a=l==null?void 0:l.stdout)==null?void 0:a.toString())==null?void 0:u.toLowerCase())==null?void 0:c.indexOf("wsl 1"))!==-1?"wsl1":"daemon"}let r=n.trim(),i=dh(r);if(!i&&r.toLowerCase().indexOf("error during connect")!==-1)return K_(e,"error",void 0,r),"daemon";if(!i)return K_(e,"unparsed",r),!0;let o=!ph(i,[1,35]);return!o&&await VL(t)?(K_(e,"podman",r),!0):(K_(e,o?"success":"failure",r),o)}function K_(t,e,n,r){let i={outcome:e};n&&(i.version=n),r&&(i.errorMessage=r),t.sendTelemetryEvent("dockerVersion",i)}async function bpe(t){try{let e=Sa(t,await t.dockerComposeCLI());return await Jx({...e,print:!0},"version","--short"),!0}catch(e){return(e==null?void 0:e.code)==="ENOENT"?await vt.window.showErrorMessage(qe.l10n.t("Docker Compose required"),{modal:!0,detail:t.dockerComposePath!=="docker-compose"?qe.l10n.t("Command not found: '{0}'.",t.dockerComposePath):void 0},qe.l10n.t("Documentation"))&&vt.env.openExternal(vt.Uri.parse("https://go.microsoft.com/fwlink/?linkid=2079610")):await vt.window.showErrorMessage(qe.l10n.t("Docker Compose returned an error."),{modal:!0},qe.l10n.t("Show Log"))&&vt.commands.executeCommand($t),!1}}var sy=B(require("vscode"));var rD=class{constructor(e){this.fileHost=e}async provideDocumentLinks(e,n){let r=[],i=Df(e.getText());if(!i)return r;let o=mb(i)||{};return o.configFilePath=e.uri,jr(o)&&this._linksForDockerfile(r,o,i,e),"dockerComposeFile"in o&&await this._linksForDockerCompose(r,o,i,e),r}_tryAddDocumentLinkToBucket(e,n,r,i,o){let s=e.positionAt(n),a=e.positionAt(r);s.compareTo(a)!==0&&o.push(new sy.DocumentLink(new sy.Range(s,a),i))}_linksForDockerfile(e,n,r,i){let o=gs(r,["build","dockerfile"])||gs(r,["dockerFile"]);o&&o.type==="string"&&this._tryAddDocumentLinkToBucket(i,o.offset+1,o.offset+o.length-1,ul(this.fileHost,n),e)}async _linksForDockerCompose(e,n,r,i){let s=(await ll(this.fileHost,n)).map(u=>sy.Uri.file(u).path),a=gs(r,["dockerComposeFile"]);if(s.length>0&&a)if(a.type==="array"&&a.children)for(let u=0;u<a.children.length;u++)this._tryAddDocumentLinkToBucket(i,a.children[u].offset+1,a.children[u].offset+a.children[u].length-1,i.uri.with({path:s[u]}),e);else a.type==="string"&&this._tryAddDocumentLinkToBucket(i,a.offset+1,a.offset+a.length-1,i.uri.with({path:s[0]}),e)}};var Y=B(require("vscode")),be=require("vscode"),uy=B(require("path"));var ay=require("vscode"),Cpe=B(require("path"));function iD(t){let e=yl(t);if(e)return`${Cpe.basename(e)}`;{let n=_0(t);if(n)return n;let r=qc(t);if(r)return a1(r);let i=hl(t);return i?i.volumeName:t.Config.Image}}function oD(t,e=!1){let n=t.Name.substring(1);return e?`${n} (${hB(t)})`:n}function hB(t){let e="",n=t.State.Status,r=new Date(t.State.StartedAt),i=new Date(t.State.FinishedAt);if(r.getFullYear()>1&&i.getFullYear()>1){let o=new Date,s=new Date(r>i?t.State.StartedAt:t.State.FinishedAt);e=` ${yB(o,s)}`+(n.endsWith("ing")?"":" ago")}return`${n.charAt(0).toUpperCase()+n.slice(1)}`+e}function sD(t){let e=t.Name;if(t.Labels&&cy(t)){let r=cD(t);r&&r.gitUrlInfo.repository!=="unknown"&&(e=r.gitUrlInfo.fullRepositoryName)}return e}function aD(t){let e="";if(t.Labels&&cy(t)){let r=cD(t);if(r&&r.gitUrlInfo.repository!=="unknown"){let i=gB(t),o=vB(t);o?e=`#${o}`:i&&(e=`${i}`)}}return e}function cy(t){let e=t.Labels;if(e){let n=e["vsch.local.repository.unique"];if(n&&n==="true")return!0}return!1}function gB(t){let e=t.Labels;if(e&&cy(t)&&e["vsch.local.repository.branch"])return e["vsch.local.repository.branch"]}function vB(t){let e=t.Labels;if(e&&cy(t)&&e["vsch.local.repository.pullRequestId"])return e["vsch.local.repository.pullRequestId"]}function cD(t){let e=t.Labels;if(e){let n=e["vsch.local.repository.unique"];if(n&&n==="true"){let r=e["vsch.local.repository"];return uo(r)}}}var Spe=1e3,Tpe=Spe*60,Ipe=Tpe*60,Ppe=Ipe*24,qVe=Ppe*365;function yB(t,e){let n,r=t.getTime()-e.getTime();return(n=Math.round(r/qVe))>0?n===1?"1 year":ay.l10n.t("{0} years",n):(n=Math.round(r/Ppe))>0?n===1?"1 day":ay.l10n.t("{0} days",n):(n=Math.round(r/Ipe))>0?n===1?"1 hour":ay.l10n.t("{0} hours",n):(n=Math.round(r/Tpe))>0?n===1?"1 minute":ay.l10n.t("{0} minutes",n):(n=Math.round(r/Spe),n===1?"1 second":ay.l10n.t("{0} seconds",n))}var Q_=B(require("vscode")),J_=require("vscode");async function Rpe(t){let e=(await Promise.all([nw,rw,Rh,Ih,S0].map(async i=>{let{stdout:o}=await ke(t,"ps","-a","-q","--filter","status=exited","--filter",`label=${i}`);return o.toString().split(/\r?\n/).filter(s=>!!s)}))).flat(),n;if(e.length){let o=(await ba(t,e)).map(a=>({label:iD(a),description:oD(a,!0),container:a}));o.sort((a,u)=>a.label.localeCompare(u.label));let s=await Q_.window.showQuickPick(o,{canPickMany:!0,placeHolder:J_.l10n.t("Select stopped dev containers to delete")});if(!s)return;s.length&&(n=new Set(await fl(t)),await ke(t,"rm",...s.map(a=>a.container.Id)))}let r=await Dpe(t,n);(!e.length||r==="none")&&await Q_.window.showInformationMessage(J_.l10n.t("There are no stopped dev containers or unused dev volumes to delete."),{modal:!0})}async function Ape(t){await Dpe(t)==="none"&&await Q_.window.showInformationMessage(J_.l10n.t("There are no unused dev volumes to delete."),{modal:!0})}async function Dpe(t,e){let n=[...new Set([...e?(await fl(t)).filter(r=>!e.has(r)&&r!=="vscode"):[],...await fl(t,[o1]),...await fl(t,[k0])])];if(n.length){let i=(await xd(t,n)).map(s=>({label:sD(s),description:aD(s),volume:s}));i.sort((s,a)=>s.label.localeCompare(a.label));let o=await Q_.window.showQuickPick(i,{canPickMany:!0,placeHolder:J_.l10n.t("Select unused dev volumes to delete")});if(!o)return"cancel";o.length&&await ke(t,"volume","rm",...o.map(s=>s.volume.Name))}return n.length?"done":"none"}var kpe=be.l10n.t("Stop Container"),Ope=be.l10n.t("Reopen Folder locally"),Npe=be.l10n.t("Close Workspace");var ur=class{static isGroupItem(e){return!!e&&e.type==="Group"}static isContainerItem(e){return!!e&&e.type==="Container"}static isFolderItem(e){return!!e&&e.type==="Folder"}};var uD=class extends ur{constructor(n,r){super();this.label=n;this.groupType=r;this.type="Group"}async asTreeItem(n,r,i,o){return new Y.TreeItem(this.label,Y.TreeItemCollapsibleState.Expanded)}},ly=class extends ur{constructor(n,r=[],i,o=!1){super();this.container=n;this.folders=r;this.parent=i;this.isDevContainer=o;this.type="Container";this._alreadyCheckedRepository=!1}async asTreeItem(n,r,i,o){let s=new Y.TreeItem(this.getContainerLabel(),this.getCollapsibleState());s.description=oD(this.container);let a=this.getContextBase();s.iconPath=fD(r,BVe),s.contextValue="exited"+a;let u=!1;return i&&this.container.Id===i.Id?(s.iconPath=fD(r,$Ve),s.contextValue="active"+a,u=!0):n&&await this.setTreeItemIconAndContext(n,a,s),s.tooltip=this.getHover(u,s.iconPath instanceof Y.ThemeIcon?s.iconPath:new Y.ThemeIcon("vm"),s.label),this.folders.length===1&&this.isDevContainer&&(s.contextValue+="Folder"),s}getContextBase(){return(this.isDevContainer?"Dev":"")+"Container"}getCollapsibleState(){return this.folders.length>1?Y.TreeItemCollapsibleState.Expanded:Y.TreeItemCollapsibleState.None}async setTreeItemIconAndContext(n,r,i){switch(this.container.State.Status){case"created":{i.iconPath=new Y.ThemeIcon("vm"),i.contextValue="exited"+r;break}case"paused":{i.iconPath=new Y.ThemeIcon("vm-outline"),i.contextValue="running"+r;break}case"restarting":{i.iconPath=new Y.ThemeIcon("vm-outline"),i.contextValue="exited"+r;break}case"exited":{i.iconPath=new Y.ThemeIcon("vm"),i.contextValue="exited"+r;break}case"running":{i.iconPath=new Y.ThemeIcon("vm-running"),i.contextValue="running"+r;break}}}getTimeElapsed(n){return n?hB(n):""}getContainerLabel(){return iD(this.container)}getHover(n,r,i){let o=new Y.MarkdownString(void 0,!0);if(o.appendMarkdown(`$(${r.id}) ${i} (${this.container.Name.substr(1)})  
`),this.repository){let a=this.repository.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)";o.appendMarkdown(`${a} [${this.repository.fullRepositoryName}](${this.repository.gitUrlInfo.repositoryUrl})  
`)}let s=O0(this.container);return s&&o.appendMarkdown(`$(file-symlink-directory) ${s}  
`),n?o.appendMarkdown(be.l10n.t("$(remote) Connected")):o.appendMarkdown(`$(history) ${this.getTimeElapsed(this.container)}`),o}get repository(){if(!this._alreadyCheckedRepository){let n=qc(this.container);n&&(this._repository=uo(n)),this._alreadyCheckedRepository=!0}return this._repository}inspect(n){return Ai(n,this.container.Id)}},Iu=class extends ur{constructor(n,r,i){super();this.container=n;this.folder=r;this.isDevContainer=i;this.type="Folder"}async asTreeItem(n,r,i,o){let s=new Y.TreeItem(uy.basename(this.folder.path),Y.TreeItemCollapsibleState.None);return s.description=this.folder.path,s.iconPath=fD(r,WVe),s.contextValue="attachedFolder",this.isDevContainer&&!qc(this.container)&&!hl(this.container)&&(s.contextValue="devFolder"),i&&this.container.Id===i.Id&&o===this.folder.path&&(s.iconPath=fD(r,VVe),s.tooltip=be.l10n.t("Active Folder {0}",String(s.label)),s.contextValue=`active${s.contextValue}`),s}};function jVe(t,e,n,r){if(!(!Y.env.remoteName||Y.env.remoteName!=="attached-container"&&Y.env.remoteName!=="dev-container"))return Lpe(t,e,n,r)}function Lpe(t,e,n,r){Y.commands.executeCommand("setContext","remote-containers:showDetails",!0);let i=new bB(t,e,r,e.output),o=Y.window.createTreeView("detailsContainers",{treeDataProvider:i});return i.setTitle=s=>{o.title=s},t.subscriptions.push(n.onDidChangeActiveContainer(s=>i.refresh(s))),i}function HVe(t,e){let n=[kpe];return t&&t.Id===e.Id&&Y.workspace.workspaceFolders&&Y.workspace.workspaceFolders.length>0&&(n.push(Npe),Y.workspace.workspaceFolders[0].uri.authority.startsWith("dev-container")&&n.push(Ope)),n}var xB=class{constructor(e,n){this.dockerParams=e;this.containerId=n;this.writeEmitter=new Y.EventEmitter;this.onDidWrite=this.writeEmitter.event;this.destroyables=[]}open(){let{cliHost:e,env:n,output:r}=this.dockerParams;e.exec({cmd:sa(),args:["logs","-f",this.containerId],env:n,output:r}).then(i=>{this.destroyables.push(i.stdout.on("data",o=>{this.write(o.toString())})),this.destroyables.push(i.stderr.on("data",o=>{this.write(o.toString())}))}).catch(console.error)}close(){this.writeEmitter.dispose(),this.destroyables.forEach(e=>{e.destroy()})}write(e){this.writeEmitter.fire(e.replace(/\n/g,`\r
`))}},lD=class{constructor(e,n,r,i,o,s){this.targetsTreeData=e;this.detailsTreeData=n;this.devVolumesTreeData=r;this.dockerParams=i;this.context=o;this.telemetry=s}updateDockerParameters(e){this.dockerParams=e}registerCommands(){let e=[];return e.push(Y.commands.registerCommand("remote-containers.stopContainer",this.commandStopContainer,this)),e.push(Y.commands.registerCommand("remote-containers.removeContainer",this.commandRemoveContainer,this)),e.push(Y.commands.registerCommand("remote-containers.startContainer",this.commandStartContainer,this)),e.push(Y.commands.registerCommand("remote-containers.removeRecentFolder",this.commandRemoveRecentFolder,this)),e.push(Y.commands.registerCommand("remote-containers.showDetails",this.commandShowDetails,this)),e.push(Y.commands.registerCommand("remote-containers.explorerDetailsRefresh",this.commandExplorerDetailsRefresh,this)),e.push(Y.commands.registerCommand("remote-containers.attachToContainerInCurrentWindow",this.commandAttachToContainerInCurrentWindow,this)),e.push(Y.commands.registerCommand("remote-containers.attachToContainerInNewWindow",this.commandAttachToContainerInNewWindow,this)),e.push(Y.commands.registerCommand("remote-containers.inspectDockerResource",this.commandInspectDockerResource,this)),e.push(Y.commands.registerCommand("remote-containers.openInformationAboutMountPerformance",this.openInformationAboutMountPerformance,this)),e.push(Y.commands.registerCommand("remote-containers.inspectInBasicDevContainer",this.commandInspectInBasicDevContainer,this)),e.push(Y.commands.registerCommand("remote-containers.cloneInVolume",this.commandCloneInVolume,this)),e.push(Y.commands.registerCommand("remote-containers.removeVolume",this.commandRemoveVolume,this)),e.push(Y.commands.registerCommand("remote-containers.explorerVolumesRefresh",this.commandExplorerVolumesRefresh,this)),e.push(Y.commands.registerCommand("remote-containers.openFolderInContainerInCurrentWindow",n=>this.commandStartAndOpenFolder(n,{forceReuseWindow:!0}),this)),e.push(Y.commands.registerCommand("remote-containers.openFolderInContainerInNewWindow",n=>this.commandStartAndOpenFolder(n,{forceNewWindow:!0}),this)),e.push(Y.commands.registerCommand("remote-containers.showContainerLog",this.commandShowContainerLog,this)),e}async commandStopContainer(e){if(!ur.isContainerItem(e))return;let n=this.targetsTreeData.currentContainer&&this.targetsTreeData.currentContainer.Id===e.container.Id?be.l10n.t("Stop active container? This will disconnect your current window."):be.l10n.t("Stop {0}?",e.getContainerLabel()),r=await Y.window.showWarningMessage(n,{modal:!0},...HVe(this.targetsTreeData.currentContainer,e.container));await this.targetsTreeData.withProgress(e,async()=>{switch(r){case kpe:{await V$(this.dockerParams,e.container),e.container=await Ai(this.dockerParams,e.container.Id);break}case Npe:{await Y.commands.executeCommand("workbench.action.closeFolder");break}case Ope:{await Y.commands.executeCommand("remote-containers.reopenLocally");break}}})}async commandRemoveContainer(e){if(!ur.isContainerItem(e))return;let n=await co(this.dockerParams,e.container.Id);if(!n)return;let r=be.l10n.t("Remove"),i=await Y.window.showWarningMessage(be.l10n.t("Remove this container?"),{modal:!0,detail:be.l10n.t("This action is not reversible and deletes the container permanently.")},r);await this.targetsTreeData.withProgress(e.parent,async()=>{i===r&&(await V$(this.dockerParams,e.container),await ude(this.dockerParams,n.Id),this.detailsTreeData&&await this.detailsTreeData.refresh(void 0),await this.tryRemoveVolume(e.container))})}async tryRemoveVolume(e){let n=O0(e);if(n||(n=x9(e)),n){let r=await x0(this.dockerParams,n);if((await fl(this.dockerParams)).indexOf(n)>=0){let s;r!=null&&r.Labels&&r.Labels["vsch.local.repository.unique"]==="true"?s=be.l10n.t("The container is using a volume with a cloned repository."):s=be.l10n.t("This is the last container using '{0}'.",n);let a=be.l10n.t("Remove");await Y.window.showInformationMessage(s,{modal:!0,detail:be.l10n.t("Do you want to remove the volume and the data it contains?")},a)===a&&await W$(this.dockerParams,n)}}}async commandExplorerVolumesRefresh(e){return await this.devVolumesTreeData.getDockerParams(),this.devVolumesTreeData.refresh(void 0)}async commandStartContainer(e){ur.isContainerItem(e)&&await this.targetsTreeData.withProgress(e,async()=>{await HA(this.dockerParams,e.container),e.container=await Ai(this.dockerParams,e.container.Id)})}async commandRemoveRecentFolder(e){ur.isFolderItem(e)&&(await Y.commands.executeCommand("vscode.removeFromRecentlyOpened",e.folder.toString()),await this.targetsTreeData.refresh(void 0))}async commandShowDetails(e){ur.isContainerItem(e)&&(this.detailsTreeData||(this.detailsTreeData=Lpe(this.context,this.dockerParams,this.targetsTreeData,this.telemetry)),await this.detailsTreeData.refresh(e))}async commandExplorerDetailsRefresh(){this.detailsTreeData&&await this.detailsTreeData.refresh(void 0)}async commandStartAndOpenFolder(e,n){let r,i;ur.isFolderItem(e)?(i=e,r=e.container):ly.isContainerItem(e)&&(i=e.folders[0],r=e.container),r&&(await HA(this.dockerParams,r),i&&Ed(i.folder.authority)?await Z_(this.dockerParams,r,this.context,!!(n!=null&&n.forceNewWindow),i.folder.path):await Y.commands.executeCommand("remote-containers.openFolder",i,n))}async commandAttachToContainerInCurrentWindow(e){return this.attachToContainerInternal(e,!1)}async commandAttachToContainerInNewWindow(e){return this.attachToContainerInternal(e,!0)}async attachToContainerInternal(e,n){let r;ur.isContainerItem(e)?r=e.container:this.detailsTreeData&&(r=this.detailsTreeData.container),r&&(await HA(this.dockerParams,r),await Z_(this.dockerParams,r,this.context,n))}async commandInspectDockerResource(e){let n;(ur.isContainerItem(e)||Pu.isImageItem(e)||Pu.isVolume(e)||Pu.isDevVolume(e))&&(n=await e.inspect(this.dockerParams)),n&&Y.window.showTextDocument(await Y.workspace.openTextDocument({language:"json",content:JSON.stringify(n,null,"	")}))}async openInformationAboutMountPerformance(){await Y.env.openExternal(Y.Uri.parse("https://aka.ms/vscode-remote/containers/open-repo"))}async commandInspectInBasicDevContainer(e){Pu.isDevVolume(e)&&await e.inspectInBasicDevContainer()}async commandCloneInVolume(e){Pu.isDevVolume(e)&&await e.cloneRepositoryInVolume()}async commandRemoveVolume(e){Pu.isDevVolume(e)&&await e.removeVolume(this.dockerParams)}static async commandNewContainer(){var r;let e=[...(r=Y.workspace.workspaceFolders)!=null&&r.length?[{label:be.l10n.t("Open Current Folder in Container"),command:"remote-containers.reopenInContainer"}]:[],{label:be.l10n.t("Open Folder in Container..."),command:"remote-containers.openFolder"},{label:be.l10n.t("Open Workspace in Container..."),command:"remote-containers.openWorkspace"},{label:be.l10n.t("New Dev Container..."),command:"remote-containers.createDevContainer"},{label:be.l10n.t("Clone Repository in Container Volume..."),command:"remote-containers.openRepositoryInVolume"},{label:be.l10n.t("Clone GitHub Pull Request in Container Volume..."),command:"remote-containers.openPullRequestInVolume"},{label:be.l10n.t("Try a Sample..."),command:"remote-containers.trySample"}],n=await Y.window.showQuickPick(e,{placeHolder:be.l10n.t("Select an action to create a dev container")});if(n)return Y.commands.executeCommand(n.command)}async commandShowContainerLog(e){if(!ur.isContainerItem(e))return;let n=new xB(this.dockerParams,e.container.Id);Y.window.createTerminal({name:e.container.Config.Image,pty:n}).show()}};function Fpe(t,e,n,r){Y.commands.executeCommand("setContext","remote-containers:showDetails",!1);let i=new wB(t,e,s,n,r),o=Y.window.createTreeView("targetsContainers",{treeDataProvider:i});i.setMessage=a=>o.message=a,t.subscriptions.push(Y.commands.registerCommand("remote-containers.explorerTargetsRefresh",async()=>(await i.getDockerParams(!0),i.refresh(void 0)))),t.subscriptions.push(Y.commands.registerCommand("remote-containers.newContainer",lD.commandNewContainer)),t.subscriptions.push(Y.commands.registerCommand("remote-containers.pruneVolumes",async()=>{let a=await i.getDockerParams(!0);a&&await Ape(a)}));function s(a){let u=jVe(t,a,i,n),c=new SB(t,n,r),l=Y.window.createTreeView("devVolumes",{treeDataProvider:c});t.subscriptions.push(l);let f=new lD(i,u,c,a,t,n);t.subscriptions.push(...f.registerCommands()),t.subscriptions.push(j$(t,n.product)(async()=>{i.refresh(void 0),c.refresh(void 0);let d=await rt(t,r);u&&u.updateDockerParameters(d),f.updateDockerParameters(d)}))}}var wB=class{constructor(e,n,r,i,o){this.context=e;this.resolverResults=n;this.onFirstReveal=r;this.telemetry=i;this.output=o;this._onDidChangeTreeData=new Y.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this._onDidChangeActiveContainer=new Y.EventEmitter;this.onDidChangeActiveContainer=this._onDidChangeActiveContainer.event;this.refreshDockerParams=!1;this.needsSSHCredentials=!1;this.setTreeMessage=()=>{};this.devContainers=[];this.attachContainers=[];this.otherContainers=[];this.recentAttachEntries=new Map;this.recentAttachDevContainerEntries=new Map;this.recentDevComposeEntries=new Map;this.containerItems=new Map;this.action=Promise.resolve();this.needsDockerStartOrInstallContext=void 0;this.hasContainersContext=void 0}set setMessage(e){this.setTreeMessage=e}get currentContainer(){return this._currentContainer}async getDockerParams(e=!1){if(!this.dockerParams){this.passiveSSHAskpassEnv||(this.passiveSSHAskpassEnv=_a(this.context.extensionPath,async n=>(this.needsSSHCredentials=!0,Su(n,!1)),this.output));try{this.dockerParams=await rt(this.context,this.output,void 0,void 0,e?void 0:this.passiveSSHAskpassEnv,!1),await X_(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)}catch(n){if(!this.needsSSHCredentials)throw n}}return this.dockerParams}handleDockerEvent(e){try{let n=JSON.parse(e.toString());if(!n.Action)return;let r="exec_create: /root/.vscode-server";if(n.Action==="die"||n.Action==="destroy"||n.Action==="create")this._onDidChangeTreeData.fire();else if(!n.Action.startsWith("exec_create")&&n.Actor&&n.Actor.ID&&this.containerItems.has(n.Actor.ID)){let i=this.containerItems.get(n.Actor.ID);this.dockerParams&&i?(async()=>(i.container=await Ai(this.dockerParams,i.container.Id),this._onDidChangeTreeData.fire(i)))():this._onDidChangeTreeData.fire(i);return}else if(n.Action.startsWith(r)){this._onDidChangeTreeData.fire();return}}catch{}}async tryEnsureDocker(){let e=await this.getDockerParams();if(e)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await $L(e,{event:["create","destroy","die","health-status","kill","pause","rename","resize","restart","start","stop","unpause","update","exec_create"]}),this.eventsProcess.stdout.on("data",n=>{this.handleDockerEvent(n)})}catch(n){n.code!=="ENOENT"&&console.log(n),this.dockerParams=void 0}}async getTreeItem(e){return e.asTreeItem(this.dockerParams,this.context,this._currentContainer,this.currentFolder)}async setDockerStartOrInstallContext(e){(this.needsDockerStartOrInstallContext===void 0||this.needsDockerStartOrInstallContext!==e)&&(this.needsDockerStartOrInstallContext=e,!this.needsDockerStartOrInstallContext&&this.hasContainersContext===!1&&this.setHasContainersContext(!0),await Y.commands.executeCommand("setContext","remote-containers:needsDockerStartOrInstall",!this.needsDockerStartOrInstallContext&&!this.needsSSHCredentials),await Y.commands.executeCommand("setContext","remote-containers:needsSSHCredentials",!this.needsDockerStartOrInstallContext&&this.needsSSHCredentials))}async setHasContainersContext(e){if(this.hasContainersContext===void 0||this.hasContainersContext!==e){this.hasContainersContext=e;let n=Y.workspace.workspaceFolders&&Y.workspace.workspaceFolders.length>0?"remote-containers:noContainersWithFolder":"remote-containers:noContainersWithoutFolder";await Y.commands.executeCommand("setContext",n,!this.hasContainersContext)}}async getDockerOrShowMessage(e){return this.refreshDockerParams&&(this.refreshDockerParams=!1,this.dockerParams=void 0),!this.dockerParams&&(e===void 0&&await this.tryEnsureDocker(),!this.dockerParams)?(this.setDockerStartOrInstallContext(!1),this._onDidChangeActiveContainer.fire(void 0),!1):(this.setDockerStartOrInstallContext(!0),!0)}async getChildGroups(e){this.containerItems.clear(),await this.setCurrents(),await this.setContainerTypes(e);let n=[];return(this.devContainers.length>0||this.attachContainers.length>0)&&n.push(new uD(be.l10n.t("Dev Containers"),0)),this.otherContainers.length>0&&n.push(new uD(be.l10n.t("Other Containers"),2)),n}async getChildDevContainer(e,n){let r=await this.getWorkspaceFolderFromContainer(e),i=r?[new Iu(e,r,!0)]:[],o=yl(e);o&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Iu(e,a,!1))):o&&this.recentAttachEntries.has(e.Id)?i.push(...this.recentAttachEntries.get(e.Id).map(a=>new Iu(e,a,!1))):(o=qc(e))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Iu(e,a,!1))):(o=QL(hl(e)))&&this.recentAttachDevContainerEntries.has(o)?i.push(...this.recentAttachDevContainerEntries.get(o).map(a=>new Iu(e,a,!1))):o===void 0&&this.recentDevComposeEntries.has(e.Id)&&i.push(...this.recentDevComposeEntries.get(e.Id).map(a=>new Iu(e,a,!1)));let s=new ly(e,i,n,!0);return this.setContainerItems(s),s}setContainerItems(e){this.containerItems.set(e.container.Id,e),this._currentContainer&&e.container.Id===this._currentContainer.Id&&this._onDidChangeActiveContainer.fire(e)}async getChildContainers(e){let n;if(e.groupType===0){let r=this.devContainers.map(async i=>this.getChildDevContainer(i,e));r.push(...this.attachContainers.map(async i=>{let o=new ly(i,this.recentAttachEntries.get(i.Id).map(s=>new Iu(i,s,!1)),e);return this.setContainerItems(o),o})),n=await Promise.all(r)}else n=this.otherContainers.map(r=>{let i=new ly(r,[],e);return this.setContainerItems(i),i});return n.sort((r,i)=>r.getContainerLabel().localeCompare(i.getContainerLabel()))}getChildFolders(e){return e.folders&&e.folders.length>1?e.folders:[]}async getChildItems(e){if(e===void 0){let n=await Fc(this.dockerParams,!0);if(await this.setHasContainersContext(n.length>0),n.length===0)return[];let r=await ba(this.dockerParams,n);return this.getChildGroups(r)}else{if(ur.isGroupItem(e))return this.getChildContainers(e);if(ur.isContainerItem(e))return this.getChildFolders(e)}return[]}async getChildren(e){return await this.action,await this.getDockerOrShowMessage(e)?(this.onFirstReveal&&(this.onFirstReveal(this.dockerParams),this.onFirstReveal=void 0),this.setTreeMessage(void 0),this.getChildItems(e)):[]}async refresh(e){e===void 0&&(this.refreshDockerParams=!0),this._onDidChangeTreeData.fire(e)}async setCurrents(){let e=Y.workspace.workspaceFolders,n;if(this.dockerParams){if(e&&e.length>0){let r=this.resolverResults.get(e[0].uri.authority);r&&r.dockerContainerId&&(n=await co(this.dockerParams,r.dockerContainerId),this.currentFolder=e[0].uri.path)}else if(this.resolverResults.size>0){let r=[...this.resolverResults.values()][0].dockerContainerId;r&&(n=await co(this.dockerParams,r))}}n!==this._currentContainer&&(this._currentContainer=n)}addContainerToMap(e){if(yl(e)){this.devContainers.push(e);return}else if(qc(e)){this.devContainers.push(e);return}else if(hl(e)){this.devContainers.push(e);return}else if(_0(e)&&this.recentDevComposeEntries.has(e.Id)){this.devContainers.push(e);return}else if(this.recentAttachEntries.has(e.Id)){this.attachContainers.push(e);return}this.otherContainers.push(e)}async setContainerTypes(e){return await this.setRecentEntries(e),this.devContainers.length=0,this.attachContainers.length=0,this.otherContainers.length=0,e.forEach(n=>{this.addContainerToMap(n)}),{hasDev:this.devContainers.length>0,hasAttach:this.attachContainers.length>0}}async getWorkspaceFolderFromHostWorkspace(e){let{cliHost:n,dockerCLI:r,dockerComposePath:i}=this.dockerParams,o=kt(n.path,e),s=await ew(n,o,bf()),a={cliHost:n,dockerPath:r,dockerComposePath:i,appRoot:Y.env.appRoot,extensionPath:this.context.extensionPath,package:await Fr(this.context.extensionPath),output:this.output},u=s&&await $_(a,o.rootFolderPath,s);if(u&&jr(u.configuration)){let c=sr(this.dockerParams.env);return Y.Uri.parse(cw(n.authority,e,u.workspace.workspaceFolder,c),!0)}}async getWorkspaceFolderFromContainer(e){let n=yl(e);if(n)return this.getWorkspaceFolderFromHostWorkspace(n);{let r=qc(e),i=O0(e),o=w9(e),s=this.dockerParams;if(r){let u=sr(s.env);return Y.Uri.parse(Ds(s.cliHost.authority,r,i,o,!1,u,void 0))}let a=hl(e);if(a){let u=sr(s.env);return Y.Uri.parse(Ds(s.cliHost.authority,void 0,a.volumeName,a.folder,!1,u,void 0))}}}async getWorkspaceFolderFromHostPath(e){let n=this.dockerParams.cliHost,r=await R9(n,e,this.output),i=A9(n,r,e),o=sr(this.dockerParams.env);return Y.Uri.parse(cw(n.authority,e,i,o),!0)}getWorkspaceFolderFromRepository(e,n,r){let i=this.dockerParams,o=sr(i.env);return Y.Uri.parse(Ds(i.cliHost.authority,e,n,r,!1,o,void 0),!0)}getWorkspaceFolderFromDevContainerInVolume(e,n){let r=this.dockerParams,i=sr(r.env);return Y.Uri.parse(Ds(r.cliHost.authority,void 0,e,n,!1,i,void 0),!0)}async findComposeTargetContainer(e,n){var r;return(r=n.find(i=>yl(i)===e))==null?void 0:r.Id}trySetEntryWithAttachAuthority(e,n,r){let i;if("containerName"in n){let o=r.find(s=>s.Name===n.containerName);o&&(i=o.Id)}else i=n.containerId;i&&(this.recentAttachEntries.has(i)?this.recentAttachEntries.get(i).push(e):this.recentAttachEntries.set(i,[e]))}async trySetEntryWithDevAuthority(e,n,r,i){let o=n.hostPath,s=i[o];if(s||(s=await this.getWorkspaceFolderFromHostPath(n.hostPath),i[o]=s),s.path!==e.path){this.recentAttachDevContainerEntries.has(n.hostPath)?this.recentAttachDevContainerEntries.get(n.hostPath).push(e):this.recentAttachDevContainerEntries.set(n.hostPath,[e]);let a=await this.findComposeTargetContainer(n.hostPath,r);a&&this.recentDevComposeEntries.has(a)?this.recentDevComposeEntries.get(a).push(e):a&&this.recentDevComposeEntries.set(a,[e])}}trySetEntryWithRepoAuthority(e,n){this.getWorkspaceFolderFromRepository(n.repositoryPath,n.volumeName,n.folder).path!==e.path&&(this.recentAttachDevContainerEntries.has(n.repositoryPath)?this.recentAttachDevContainerEntries.get(n.repositoryPath).push(e):this.recentAttachDevContainerEntries.set(n.repositoryPath,[e]))}trySetEntryWithDevContainerInVolumeAuthority(e,n){if(this.getWorkspaceFolderFromDevContainerInVolume(n.volumeName,n.folder).path!==e.path){let i=QL(n);this.recentAttachDevContainerEntries.has(i)?this.recentAttachDevContainerEntries.get(i).push(e):this.recentAttachDevContainerEntries.set(i,[e])}}trySetEntryWithVolumeAuthority(e,n){let r=n.volumeName;r&&(this.recentAttachEntries.has(r)?this.recentAttachEntries.get(r).push(e):this.recentAttachEntries.set(r,[e]))}async trySetEntry(e,n,r){if(!e||!e.folderUri&&!e.workspace.configPath)return;let i=e.folderUri??e.workspace.configPath,o=Ed(i.authority);if(o)this.trySetEntryWithAttachAuthority(i,o,n);else{let s=ri(i.authority);s&&(kn(s)?await this.trySetEntryWithDevAuthority(i,s,n,r):ni(s)?this.trySetEntryWithRepoAuthority(i,s):Mc(s)?this.trySetEntryWithDevContainerInVolumeAuthority(i,s):this.trySetEntryWithVolumeAuthority(i,s))}}async setRecentEntries(e){this.recentAttachEntries.clear(),this.recentAttachDevContainerEntries.clear(),this.recentDevComposeEntries.clear();let n=await Y.commands.executeCommand("_workbench.getRecentlyOpened");if(n&&n.workspaces){let r={};for(let i of n.workspaces)await this.trySetEntry(i,e,r)}}withProgress(e,n){return this.action=this.action.then(()=>n()),this.refresh(e)}};var Pu=class{constructor(e){this.label=e;this.type="Default"}static isDetailItem(e){return!!e&&e.label!==void 0&&e.type!==void 0}static isImageItem(e){return!!e&&e.type==="Image"}static isVolume(e){return!!e&&e.type==="Volume"}static isDevVolume(e){return!!e&&e.type==="DevVolume"}},EB=class{constructor(e){this.detail=e;this.type="Image";this.context="image";this.label=be.l10n.t("Image")}inspect(e){return WK(e,this.detail)}},_B=class{constructor(e,n,r){this.label=e;this.detail=n;this.volumeDetails=r;this.type="Volume";this.context="volume"}async inspect(e){return x0(e,this.volumeDetails)}},bB=class{constructor(e,n,r,i){this.context=e;this.dockerParams=n;this.telemetry=r;this.output=i;this._onDidChangeTreeData=new Y.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event;this.setTreeTitle=()=>{}}updateDockerParameters(e){this.dockerParams=e}set setTitle(e){this.setTreeTitle=e}get container(){return this._container?this._container.container:void 0}getTreeItem(e){let n=new Y.TreeItem(e.label,Array.isArray(e.detail)&&e.detail.length>0?Y.TreeItemCollapsibleState.Expanded:Y.TreeItemCollapsibleState.None);return n.tooltip=e.label,e.detail&&!Array.isArray(e.detail)&&(n.description=e.detail,n.tooltip+=` ${n.description}`),n.contextValue=e.context,n.command=e.command,n}async getAttributes(e,n,r){let i=[];n&&i.push({label:be.l10n.t("Workspace"),detail:n});let o=qc(e.container);o&&i.push({label:be.l10n.t("Repository"),detail:o});let s=hl(e.container);return s&&(i.push({label:be.l10n.t("Volume"),detail:s.volumeName}),i.push({label:be.l10n.t("Folder"),detail:s.folder})),i.push({label:be.l10n.t("Name"),detail:e.container.Name}),i.push(new EB(e.container.Config.Image)),r&&i.push({label:be.l10n.t("Configuration"),detail:r,command:{title:be.l10n.t("Open Dev Container File"),command:"remote-containers.openDevContainerFile",arguments:[r]},context:"devContainer"}),i}async getMounts(e){let n=[];return e&&e.Mounts.forEach(r=>{if(r.Type==="volume"){let i=r.Name,o=new _B(be.l10n.t("Volume"),i,i),s={label:be.l10n.t("Destination"),detail:r.Destination};n.push({label:be.l10n.t("Volume mount"),detail:[o,s]})}else if(r.Type==="bind"){let i={label:be.l10n.t("Source"),detail:r.Source},o={label:be.l10n.t("Destination"),detail:r.Destination},s=this.dockerParams&&["win32","darwin"].includes(this.dockerParams.cliHost.platform)?[{label:be.l10n.t("I/O performance"),detail:be.l10n.t("reduced by bridging OSes"),context:"mountPerformanceInfo",command:{command:"remote-containers.openInformationAboutMountPerformance"}}]:[];n.push({label:be.l10n.t("Bind mount"),detail:[i,o,...s]})}}),n}async getChildrenFromRoot(e){let n=[],r=yl(e.container),i;if(this.dockerParams&&r){let a=await ew(this.dockerParams.cliHost,kt(this.dockerParams.cliHost.path,r),bf());a&&(i=we(a,this.dockerParams.cliHost.platform))}n.push({label:be.l10n.t("Attributes"),detail:await this.getAttributes(e,r,i),type:"Title"});let o;this.dockerParams&&(o=await Ai(this.dockerParams,e.container.Id));let s=await this.getMounts(o);return s.length>0&&n.push({label:be.l10n.t("Mounts"),detail:s,type:"Title"}),n}async testContainer(){let e=!0;try{(this.dockerParams?await Ai(this.dockerParams,this._container.container.Id):void 0)===void 0&&(e=!1)}catch{e=!1}return e||(this._container=void 0,this.setTreeTitle(be.l10n.t("Details (Containers)"))),e}async getChildren(e){if(this._container===void 0)return[];let n=[];return e===void 0?await this.testContainer()&&(this.setTreeTitle(this._container.getContainerLabel()),n=await this.getChildrenFromRoot(this._container)):Array.isArray(e.detail)&&n.push(...e.detail),n}async refresh(e){this.dockerParams=await rt(this.context,this.output),await X_(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0,this._container=void 0),this._container=e||this._container,this._onDidChangeTreeData.fire(void 0)}},CB=class extends Pu{constructor(n){super(n.Name);this.type="DevVolume";this.volumeDetails=n,this.createdAt=void 0}async asTreeItem(){let n=this.getLabel(),r=new Y.TreeItem(n,Y.TreeItemCollapsibleState.None);return r.iconPath=this.iconPath,r.description=this.getDescription(),this.isUniqueVolume()?r.contextValue="uniqueDevVolume":r.contextValue="devVolume",r}isUniqueVolume(){return cy(this.volumeDetails)}getLabel(){return sD(this.volumeDetails)}getDescription(){return aD(this.volumeDetails)}getBranchName(){return gB(this.volumeDetails)}getPullRequestId(){return vB(this.volumeDetails)}getRepository(){return cD(this.volumeDetails)}get iconPath(){return new Y.ThemeIcon("file-symlink-directory")}getTimeElapsed(){if(this.createdAt)return this.createdAt;let n="";if(new Date(this.volumeDetails.CreatedAt).getFullYear()>1){let i=new Date,o=new Date(this.volumeDetails.CreatedAt);n=be.l10n.t("{0} ago",yB(i,o))}return this.createdAt=n,n}async inspect(n){return x0(n,this.volumeDetails.Name)}async inspectInBasicDevContainer(){await Y.commands.executeCommand("remote-containers.inspectVolume",this.volumeDetails.Name)}async cloneRepositoryInVolume(){await Y.commands.executeCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",this.volumeDetails.Name)}async removeVolume(n){if(!((await fl(n)).indexOf(this.volumeDetails.Name)>=0)){await Y.window.showInformationMessage(be.l10n.t("Volume '{0}' is in use and cannot be removed.",this.volumeDetails.Name),{modal:!0});return}let o=be.l10n.t("Remove");await Y.window.showInformationMessage(be.l10n.t("Are you sure you want to remove volume '{0}'?",this.volumeDetails.Name),{modal:!0},o)===o&&await W$(n,this.volumeDetails.Name)}},SB=class{constructor(e,n,r){this.context=e;this.telemetry=n;this.output=r;this._onDidChangeTreeData=new Y.EventEmitter;this.onDidChangeTreeData=this._onDidChangeTreeData.event}async getTreeItem(e){return e.asTreeItem()}async getDockerParams(){return this.dockerParams||(this.dockerParams=await rt(this.context,this.output,void 0,void 0),await X_(this.dockerParams,this.telemetry)!==!0&&(this.dockerParams=void 0)),this.dockerParams}async setHasVolumesContext(e){await Y.commands.executeCommand("setContext","remote-containers:noDevVolumes",e)}async getDockerOrShowMessage(e){return!(!this.dockerParams&&(e===void 0&&await this.tryEnsureDocker(),!this.dockerParams))}async getChildren(e){if(!await this.getDockerOrShowMessage(e))return[];let n=await rt(this.context,this.output),r=await Di(n),i=await xd(n,r),o=a=>!(a.Name==="vscode"||a.Name.length===64&&/^[0-9a-fA-F]+$/.test(a.Name)),s=i.filter(o);return await this.setHasVolumesContext(s.length===0),s.sort((a,u)=>{let c=new Date(a.CreatedAt);return new Date(u.CreatedAt).getTime()-c.getTime()}),s.map(a=>new CB(a))}async resolveTreeItem(e,n){let r=await rt(this.context,this.output),i=await this.getAssociatedContainers(r,n),o=n.getLabel(),s=n.getRepository(),a=n.getBranchName(),u=n.getPullRequestId(),c=n.getTimeElapsed();return i.length>0?e.tooltip=this.renderMarkdown(o,s,a,u,c,i.join(", ")):e.tooltip=this.renderMarkdown(o,s,a,u,c,be.l10n.t("None")),e}async getAssociatedContainers(e,n){let r=[],i=await Fc(e,!0),o=await ba(e,i);for(let s of o)for(let a of s.Mounts)a.Type==="volume"&&a.Name===n.volumeDetails.Name&&r.push(s.Name.substring(1));return r}renderMarkdown(e,n,r,i,o,s){let a=new Y.MarkdownString(void 0,!0);if(n){let u=n.gitUrlInfo.repository==="github"?"$(github)":"$(source-control)",c=n.gitUrlInfo.repositoryUrl;c.startsWith("http")?(c=n.gitUrlInfo.repositoryUrl.replace(".git",""),a.appendMarkdown(`${u} [${c}](${c})
`)):a.appendMarkdown(`${u} ${c})
`),a.appendMarkdown(`&nbsp;  
`),r&&(n.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-compare) [${r}](${c}/tree/${r})
`):a.appendMarkdown(`$(git-compare) ${r}
`),a.appendMarkdown(`&nbsp;  
`)),i&&(n.gitUrlInfo.repository==="github"?a.appendMarkdown(`$(git-pull-request-create) [#${i}](${c}/pull/${i})
`):a.appendMarkdown(`$(git-pull-request-create) #${i}
`),a.appendMarkdown(`&nbsp;  
`)),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`)}else a.appendMarkdown(`$(file-symlink-directory) ${e}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(history) ${o}
`),a.appendMarkdown(`&nbsp;  
`),a.appendMarkdown(`$(vm) ${s}`);return a}handleDockerEvent(e){try{let n=JSON.parse(e.toString());if(!n.Action)return;(n.Action==="die"||n.Action==="destroy"||n.Action==="create"||n.Action==="prune")&&this._onDidChangeTreeData.fire()}catch{}}async tryEnsureDocker(){let e=await this.getDockerParams();if(e)try{this.eventsProcess&&this.eventsProcess.terminate(),this.eventsProcess=await $L(e,{event:["destroy","die","kill","create","rename","resize","restart","start","stop","unpause","prune"]}),this.eventsProcess.stdout.on("data",n=>{this.handleDockerEvent(n)})}catch(n){n.code!=="ENOENT"&&console.log(n),this.dockerParams=void 0}}async refresh(e){e===void 0&&(this.dockerParams=void 0),this._onDidChangeTreeData.fire(e)}},$Ve="vm-active",BVe="vm-default",VVe="folder-active",WVe="folder";function fD(t,e){let n=`${e}.svg`;return{light:Y.Uri.file(t.asAbsolutePath(uy.join("resources","light",n))),dark:Y.Uri.file(t.asAbsolutePath(uy.join("resources","dark",n))),highContrast:Y.Uri.file(t.asAbsolutePath(uy.join("resources","highContrast",n)))}}var LB=require("util");var ms=B(require("vscode")),Rf=require("vscode");async function Mpe(t,e,n={},r={}){let i=kc(e[0],e.slice(1),void 0),o=await GY(e[0],e.slice(1),void 0,t.loadNativeModule),s=await t0({params:t,createdAt:void 0,startedAt:void 0,sharedDataFolderIsLocalCacheFolder:!1,sharedDataFolder:void 0,remoteWorkspaceFolder:"/",containerUser:void 0,containerGroup:void 0,containerEnv:void 0,remoteExec:i,remotePtyExec:o,remoteExecAsRoot:void 0,rootShellServer:void 0,remoteWaylandSocket:void 0}),{hostOrContainerPort:a,connectionToken:u,remoteEnv:c,serverDownloaded:l}=await ol(t,s,n,r);return{params:t,properties:s,config:void 0,resolvedAuthority:{host:dl,port:a,connectionToken:u,extensionHostEnv:c},tunnelInformation:{},dockerParams:void 0,dockerContainerId:void 0,serverDownloaded:l}}async function Upe(t,e,n){var r,i,o;if(await Cf(t))if(n&&n.name){let s=["get","pod",n.name,"-o","json"];n.namespace&&s.push("--namespace",n.namespace);let{cliHost:a,env:u,output:c}=e,l=(await ae({exec:a.exec,cmd:"kubectl",args:["config","current-context"],env:u,output:c})).stdout.toString().trim(),d=(await ae({exec:a.exec,cmd:"kubectl",args:s,env:u,output:c})).stdout.toString(),p=JSON.parse(d),m=((r=p.spec)==null?void 0:r.containers)||[];if(!m.length){e.output.write(`No containers found. Pod details:
${d}`),await ms.window.showErrorMessage(Rf.l10n.t("No containers found."),{modal:!0},Rf.l10n.t("Show Log"))&&ms.commands.executeCommand($t);return}let h=m.length>1?(i=await ms.window.showQuickPick(m.map(g=>({label:g.name,detail:g.image,container:g})),{placeHolder:Rf.l10n.t("Select container")}))==null?void 0:i.container:m[0];if(h){let g=((o=p.metadata)==null?void 0:o.namespace)||n.namespace,v={remoteAuthority:zVe({context:l,podname:n.name,namespace:g,name:h.name,image:h.image})};/\d$/.test(t.extensionPath)||(v.reuseWindow=!0),await ms.commands.executeCommand("vscode.newWindow",v)}}else e.output.write(`No Pod name found. Pod object:
${JSON.stringify(n,void 0,"  ")}`),await ms.window.showErrorMessage(Rf.l10n.t("No Pod name found."),{modal:!0},Rf.l10n.t("Show Log"))&&ms.commands.executeCommand($t)}async function qpe(t,e,n,r,i,o){return await Cf(t)?{...await GVe(t,e,n,r,i,o),isTrusted:!0}:(await ms.commands.executeCommand("vscode.newWindow",{reuseWindow:!0,remoteAuthority:null}),new Promise(()=>{}))}async function GVe(t,e,n,r,i,o){let s;return ms.window.withProgress({location:ms.ProgressLocation.Notification,title:Qv,cancellable:!1},async a=>{try{let u=YVe(n),c=process.cwd(),l=Ja(),f=await ki(void 0,void 0,c,zr,l,t.extensionPath,await Ri(),e.product,i.log,aa);s=await Xv({authority:n,extensionContext:t,sessionStart:i.sessionStart,progress:a,cliHost:f,env:f.env,cwd:c,wslSettings:l,isLocalContainer:!0,telemetry:e,output:i.log,logFilePath:i.logFilePath,allowSystemConfigChange:!1,postCreate:o}),s.setWorkspaceName(`${u.name} in ${u.podname} (${u.image})`);let d=["kubectl","exec","-it",u.podname];return u.context&&d.push("--context",u.context),u.namespace&&d.push("--namespace",u.namespace),d.push("--container",u.name,"--"),await Mpe(s,d)}catch(u){let c=u instanceof ge?u:new ge({description:Rf.l10n.t("An error occurred attaching to the container."),originalError:u});throw c.actions=[...Zv,im,Sf,Jv,rm],c}}).then(a=>(Tu(e,"k8s-container","success",i.sessionStart,s,void 0,void 0,a.properties),a),a=>{let u=a instanceof ge?a:new ge({description:Rf.l10n.t("An error occurred attaching to the container."),originalError:a});return Tu(e,"k8s-container","failure",i.sessionStart,s,void 0,void 0,u.containerProperties,u),Tf(u,"k8s-container",e,!0,i.log)})}function zVe(t){let e=[];for(let n in t){let r=t[n];r&&e.push(`${n}=${encodeURIComponent(r)}`)}return`k8s-container+${e.join("+")}`}function YVe(t){return t.substr(t.indexOf("+")+1).split("+").reduce((e,n)=>{let r=n.indexOf("=");return r!==-1&&(e[n.substr(0,r)]=decodeURIComponent(n.substr(r+1))),e},{})}var At=B(require("vscode")),Ut=require("vscode"),am=B(require("fs")),fy=B(require("os")),sm=B(require("path")),dD=require("child_process"),dy=require("util");function pD(t){switch(t.quality){case"stable":return"";case"insider":return"-insiders";default:return`-${t.quality}`}}async function jpe(t,e){let n=t.globalStorageUri,r=oo.joinPath(n,"cli-bin");await At.workspace.fs.createDirectory(r);let i="";try{i=(await At.workspace.fs.readFile(oo.joinPath(r,"remote-containers-path"))).toString()}catch(c){if((c==null?void 0:c.code)!=="FileNotFound")return}if(i===t.extensionPath)return;let o=oo.joinPath(t.extensionUri,"dev-containers-user-cli","bin"),s=pD(e),a=`devcontainer${s}`,u=[{source:"devcontainer",destination:a},{source:"devcontainer.cmd",destination:`devcontainer${s}.cmd`}];for(let c of u)await At.workspace.fs.copy(oo.joinPath(o,c.source),oo.joinPath(r,c.destination),{overwrite:!0});process.platform!=="win32"&&await am.promises.chmod(oo.joinPath(r,a).fsPath,493),await At.workspace.fs.writeFile(oo.joinPath(r,"vscode-app-root"),Buffer.from(At.env.appRoot,"utf-8")),await At.workspace.fs.writeFile(oo.joinPath(r,"vscode-path"),Buffer.from(process.execPath,"utf-8")),await At.workspace.fs.writeFile(oo.joinPath(r,"vscode-quality"),Buffer.from(e.quality??"","utf-8")),await At.workspace.fs.writeFile(oo.joinPath(r,"vscode-machine-id"),Buffer.from(At.env.machineId,"utf-8")),await At.workspace.fs.writeFile(oo.joinPath(r,"remote-containers-path"),Buffer.from(t.extensionPath,"utf-8"))}async function KVe(t,e){let n=pD(e),r="";try{let i=await qo("powershell.exe");if(r=(await(0,dy.promisify)(dD.exec)(`"${i}" -NoProfile -NonInteractive -Command "[System.Environment]::GetEnvironmentVariable('PATH', 'User')"`)).stdout.toString().trim(),r.indexOf(t)>=0)return await At.window.showInformationMessage(Ut.l10n.t("The devcontainer CLI is already in your PATH"),{modal:!0,detail:Ut.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${n}`)}),!0;let s=Ut.l10n.t("Add"),a=Ut.l10n.t("Copy CLI Path");switch(await At.window.showInformationMessage(Ut.l10n.t("The devcontainer CLI needs to be added to your PATH"),{modal:!0},s,a)){case s:let c=(0,dy.promisify)(dD.exec)(`"${i}"  -NoProfile -NonInteractive -Command "[System.Environment]::SetEnvironmentVariable('PATH', '${r};${t}', 'User')`),l=At.window.showInformationMessage(Ut.l10n.t("The devcontainer CLI has been added to your PATH"),{modal:!0,detail:Ut.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${n}`)});await Promise.all([c,l]);break;case a:await At.env.clipboard.writeText(t),await At.window.showInformationMessage(Ut.l10n.t("The devcontainer CLI path has been copied to the clipboard"),{modal:!0,detail:Ut.l10n.t(`After adding to your PATH, try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${n}`)});break}return!0}catch{return!1}}async function XVe(t,e){let r=(process.env.PATH??"").split(":"),i=[sm.join(fy.homedir(),"bin"),sm.join(fy.homedir(),".local/bin")],o="/usr/local/bin";fy.platform()==="darwin"&&i.push(o);let s=(0,dy.promisify)(am.stat);for(let a of i){if(r.findIndex(m=>m===a)<0)continue;try{await s(a)}catch{continue}let u=pD(e),c=sm.join(a,`devcontainer${u}`);try{let m=await s(c);return console.log(m),await At.window.showInformationMessage(Ut.l10n.t("The devcontainer CLI is already symlinked in {0}",a),{modal:!0,detail:Ut.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${u}`)}),!0}catch(m){if((m==null?void 0:m.code)!=="ENOENT")return!1}let l=Ut.l10n.t("Create"),f=Ut.l10n.t("Copy CLI Path"),d=await At.window.showInformationMessage(Ut.l10n.t("The devcontainer CLI needs to be in your PATH"),{detail:Ut.l10n.t("Create a symlink in {0}?",a),modal:!0},l,f),p=sm.join(t,`devcontainer${u}`);switch(d){case l:if(a===o){if(!await QVe(p,c))break}else await(0,dy.promisify)(am.symlink)(p,c);await At.window.showInformationMessage(Ut.l10n.t("The devcontainer CLI has been symlinked in {0}",a),{modal:!0,detail:Ut.l10n.t(`Try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${u}`)});break;case f:await At.env.clipboard.writeText(t),await At.window.showInformationMessage(Ut.l10n.t("The devcontainer CLI path has been copied to the clipboard"),{modal:!0,detail:Ut.l10n.t(`After adding to your PATH, try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${u}`)});break}return!0}return!1}async function QVe(t,e){try{return await am.promises.symlink(t,e),!0}catch(n){if(n.code!=="EACCES"&&n.code!=="ENOENT")throw n;let r=Ut.l10n.t("OK");if(await At.window.showInformationMessage(Ut.l10n.t("This will now prompt with 'osascript' for Administrator privileges to install the shell command."),{modal:!0},r)===r){let s=`"${await qo("osascript")}" -e "do shell script \\"mkdir -p ${sm.dirname(e)} && ln -sf '${t}' '${e}'\\" with administrator privileges"`;return await(0,dy.promisify)(dD.exec)(s),!0}return!1}}async function Hpe(t,e){let n=t.globalStorageUri,r=oo.joinPath(n,"cli-bin").fsPath;switch(fy.platform()){case"win32":if(await KVe(r,e))return;break;case"darwin":case"linux":if(await XVe(r,e))return;break}let i=Ut.l10n.t("Copy CLI Path");if(await At.window.showInformationMessage(Ut.l10n.t("The devcontainer CLI needs to be included your PATH"),{modal:!0},i)===i){await At.env.clipboard.writeText(r);let s=pD(e);await At.window.showInformationMessage(Ut.l10n.t("The devcontainer CLI path has been copied to the clipboard"),{modal:!0,detail:Ut.l10n.t(`After adding to your PATH, try running '{0} --help'
Note: you may need to restart your shell for PATH changes to take effect`,`devcontainer${s}`)})}}var gi=B(require("vscode")),Ir=require("vscode"),TB=B(require("path"));var JVe=Ir.l10n.t("Select Dev Container Configuration"),ZVe=Ir.l10n.t('[Creating Dev Container (show log)](command:remote-containers.revealLogTerminal "Show details in terminal")'),$pe="alpine:3.16.3";async function Bpe(t,e,n){let r=await eWe(t,e,n);if(!r)return;let{volumeAndFolderName:i}=r,o=sr(e.env),s=gi.Uri.parse(Ds(e.cliHost.authority,void 0,i,i,!1,o,void 0));await nm({uri:s,type:"folder",label:Ir.l10n.t("{0} [Dev Container]",i)}),await gi.commands.executeCommand("vscode.openFolder",s)}async function eWe(t,e,n){let{output:r}=e;ke(e,"pull",$pe);let i=await eB({telemetry:n,output:r,existingFilesLearnMoreLink:Zp,predefinedDefinitionsLearnMoreLink:em,openConfigurationCommandId:Jp,showLogCommandId:$t},JVe,!0);i.askForTrust=!0;let o=await Di(e),s=async()=>{i.skipOptions=!0;let l=await VA(i,void 0,void 0);if(l==="back"||!l)return;let f=l.metadata.template;if(Y$.indexOf(f.owner)===-1){let d=`@${f.owner}`,p={label:Ir.l10n.t("Trust {0}",d),description:Ir.l10n.t("from GitHub"),buttons:[{iconPath:new gi.ThemeIcon("info"),tooltip:Ir.l10n.t("Open Documentation")}]},m={label:Ir.l10n.t("Back")},h={label:Ir.l10n.t("Cancel")},g=i.quickPick.onDidTriggerItemButton(()=>{gi.env.openExternal(gi.Uri.parse(f.documentationURL))}),v=await To(i.quickPick,[p,m,h],Ir.l10n.t("The {0} is from the {1} GitHub owner/organization.",f.name,d),void 0,void 0,!0);if(g.dispose(),!v||v===h)return;if(v==="back"||v===m)return s()}return Vpe(i,l,o,tWe(l.id,o),s)},a=await s();if(!a){i.quickPick.dispose();return}let{selectedTemplate:u,volumeName:c}=a;return gi.window.withProgress({location:gi.ProgressLocation.Notification,title:ZVe,cancellable:!1},async()=>{let l;try{await _h(e,c,[`${k0}=true`]);let{stdout:f}=await ke(e,...nWe(c,wd()));l=f.toString().trim();let d=TB.posix.join(wd(),c),p=Rs(e,l,"root"),m=await Ca(e,l,"root",zr),h=ao("container",d,{},p,m,()=>{throw new Error("not implemented")},"node",r);await h.mkdirp(d);let g=kt(TB.posix,d),v=await J$(i,h,g,u);return i.quickPick.hide(),v?{volumeAndFolderName:c}:void 0}finally{if(l)try{await ke(e,"rm","-f",l)}catch{}}})}function tWe(t,e){let n,r=(/([^/:]+)(:[^/:]+)?$/.exec(t)||[])[1]||"devcontainer",i=0;do n=`${r}${i++?`-${i}`:""}`;while(e.indexOf(n)!==-1);return n}async function Vpe(t,e,n,r,i){let{quickPick:o}=t;o.placeholder=Ir.l10n.t("Dev container name"),o.selectedItems=[],o.value=r,o.buttons=[gi.QuickInputButtons.Back];let s={label:Ir.l10n.t("Additional Options..."),alwaysShow:!0},a=!1;function u(){a=!1,o.items=[{label:Ir.l10n.t("Create Dev Container"),description:o.value,alwaysShow:!0},s]}function c(p){a=!0,o.items=[{label:p,alwaysShow:!0}]}u();let l=[],f=await new Promise(p=>{l=[o.onDidAccept(()=>{o.value?a||p({volumeName:o.value,options:o.selectedItems[0]===s}):c(Ir.l10n.t("The name cannot be empty."))}),o.onDidHide(()=>p(void 0)),o.onDidChangeValue(m=>{n.indexOf(m)!==-1?c(Ir.l10n.t("A Docker volume with this name already exists.")):m&&!/^[a-zA-Z0-9]/.test(m)?c(Ir.l10n.t("Only alphanumeric characters are allowed as the first character.")):m&&!/^[a-zA-Z0-9][a-zA-Z0-9_.-]*$/.test(m)?c(Ir.l10n.t("Only alphanumeric characters, periods, underscores and hyphens are allowed.")):u()}),o.onDidTriggerButton(()=>p("back"))]});if(l.forEach(p=>p.dispose()),!f)return;if(f==="back")return i();let{volumeName:d}=f;if(f.options){let m=await(async()=>{t.skipOptions=!1;let h=await ny(t,e.metadata.template,async()=>{let g=await Vpe(t,e,n,d,i);if(g)return d=g.volumeName,g.selectedTemplate});if(!(h==="back"||!h))return h})();if(!m)return;e=m}return o.busy=!0,o.enabled=!1,{volumeName:d,selectedTemplate:e}}function nWe(t,e){return["run","-d","--mount",`type=volume,src=${t},dst=${e}`,$pe,"sleep","infinity"]}F.l10n.bundle&&Kpe.config({contents:F.l10n.bundle});var AB=class{constructor(e,n,r){this.context=e;this.output=n;this.telemetry=r}handleUri(e){switch(e.path){case"/cloneInVolume":this.cloneInVolume(e)}}async cloneInVolume(e){let n=Qpe.parse(e.query);if(!n.url){F.window.showErrorMessage(te.l10n.t("Failed to handle the URI '{0}' expected a 'url' query parameter.",e.toString()),{modal:!0});return}let r;Array.isArray(n.url)?r=n.url[0]:r=n.url;let i=await rt(this.context,this.output.log);if(!await Kr(this.context,i,this.output.onDidInput,this.telemetry,"cloneInVolume"))return;if(await AN(i.cliHost,r,await FA(this.output.log),this.output.log)===!1){F.commands.executeCommand($t),await F.window.showErrorMessage(te.l10n.t("Cannot access the repository '{0}'.",r),{modal:!0});return}await F.commands.executeCommand(NA,n.url)}};async function iWe(t){var P;yde();let e=new Date;vde(t);let n=await Fr(t.extensionPath),r=await Tx(F.env.appRoot);xde(t,r);let i=gde(t,n,r),o=`Dev Containers ${n.version} in VS Code ${F.version} (${r.commit||"out-of-source"}).`,s=new U_(t.logPath,e,o);t.subscriptions.push(F.commands.registerCommand($t,()=>s.show()));let{channel:a,postCreate:u}=hde(s.log,e);t.subscriptions.push(F.commands.registerCommand(q$,()=>a.show()));let c,l=new Promise(E=>c=E);t.subscriptions.push(F.workspace.registerRemoteAuthorityResolver("dev-container",{resolve:LA(s,u,hi.results,c,async(E,C,S,I)=>Yde(t,i,E,C,hi.onRemoveOnShutdownChanged,S,I)),async getCanonicalURI(E){let C=ri(E.authority);if(C&&kn(C)){let{hostPath:S,settings:I}=C;return Mr(S)?ch(S,s.log):tl(I)?Mx(I.host,S):nl(C.parentAuthority)?S.startsWith("/")?xl(C.parentAuthority,S):E:jc(C.parentAuthority)?S.startsWith("/")?xl(C.parentAuthority,S):E:F.Uri.file(S)}return E}}),F.workspace.registerRemoteAuthorityResolver("attached-container",{resolve:LA(s,u,hi.results,c,async(E,C,S,I)=>cpe(t,i,E,C,S,I))}),F.workspace.registerRemoteAuthorityResolver("k8s-container",{resolve:LA(s,u,hi.results,c,async(E,C,S,I)=>qpe(t,i,E,C,S,I))}),F.window.registerUriHandler(new AB(t,s,i)));let f=async(E,C,S)=>{let I=await rt(t,s.log);if(!await Kr(t,I,s.onDidInput,i,"openInContainer"))return;let R;if(ur.isFolderItem(E)?R=E.folder:R=E,R.scheme==="vscode-remote"&&R.authority.startsWith("dev-container+"))return F.commands.executeCommand("vscode.openFolder",R,S);{let D=kt(I.cliHost.path,we(R,I.cliHost.platform));return eb(t,D,I,s.onDidInput,i,C,S)}};t.subscriptions.push(F.commands.registerCommand("remote-containers.openFolder",async(E,C)=>E?f(E,!1,C):IB(t,!0,i,!1,s.log,s.onDidInput))),t.subscriptions.push(F.commands.registerCommand("remote-containers.openWorkspace",async(E,C)=>E?f(E,!1,C):IB(t,!1,i,!1,s.log,s.onDidInput))),t.subscriptions.push(F.commands.registerCommand(rde,async E=>py(t,i,s.log,s.onDidInput,E))),t.subscriptions.push(F.commands.registerCommand(NA,async E=>py(t,i,s.log,s.onDidInput,E,Wo))),t.subscriptions.push(F.commands.registerCommand(ode,async()=>{var A,N,O;let C=(await((A=F.extensions.getExtension("vscode.git"))==null?void 0:A.activate())).getAPI(1);if(C.repositories.length===0)return;let S=C.repositories.reduce((M,j)=>{let W=j.state.remotes.find(L=>{var H,$;return L.name===(($=(H=j.state.HEAD)==null?void 0:H.upstream)==null?void 0:$.remote)});return W!=null&&W.pushUrl&&M.push({repository:j,label:W.pushUrl}),M},[]),I=S[0];if(S.length>1){let M=await F.window.showQuickPick(S,{canPickMany:!1,placeHolder:te.l10n.t("Choose which repository to clone")});if(M===void 0)return;I=M}let R=I.label,D=(O=(N=I.repository.state.HEAD)==null?void 0:N.upstream)==null?void 0:O.name;return py(t,i,s.log,s.onDidInput,{url:R,branch:D},Wo)})),t.subscriptions.push(F.commands.registerCommand(ide,async()=>{var D;let E=F.workspace.workspaceFolders;if(!E)return;let C=E[0].uri;if(E.length>1){let A=await F.window.showOpenDialog({canSelectFolders:!0,canSelectFiles:!1,canSelectMany:!1,title:te.l10n.t("Choose a repository to clone in a Container Volume")});C=A==null?void 0:A[0]}let S,I;try{let A=await F.commands.executeCommand("remoteHub.api.getRepositoryContext",C);if(!A)throw new Error("Unable to get active repository context.");S=A.name,I=A.ref}catch{let O=await(await((D=F.extensions.getExtension("ms-vscode.remote-repositories"))==null?void 0:D.activate())).getMetadata(C);if(!O)throw new Error("Unable to get active repository context.");S=`${O.repo.owner}/${O.repo.name}`,I=(await O.getRevision()).name}let R=`https://github.com/${S}`;return I&&(R=`${R}/tree/${I}`),py(t,i,s.log,s.onDidInput,R,Wo)})),t.subscriptions.push(F.commands.registerCommand(sde,async E=>mWe(t,i,s.log,s.onDidInput,E,Wo))),t.subscriptions.push(F.commands.registerCommand("remote-containers.inspectVolume",async(E,C,S)=>tme(t,E,C,S,i,s.log,s.onDidInput))),t.subscriptions.push(F.commands.registerCommand("remote-containers.inspectVolumeFromViewlet",async E=>hWe(t,E,i,s.log,s.onDidInput))),t.subscriptions.push(F.commands.registerCommand("remote-containers.cloneRepositoryInVolumeFromViewlet",async E=>py(t,i,s.log,s.onDidInput,void 0,E))),t.subscriptions.push(F.commands.registerCommand("remote-containers.reopenInContainer",()=>d(!1))),t.subscriptions.push(F.commands.registerCommand("remote-containers.rebuildAndReopenInContainer",()=>d(!0))),t.subscriptions.push(F.commands.registerCommand("remote-containers.rebuildNoCacheAndReopenInContainer",()=>d("rebuildNoCache")));let d=async E=>{if(!await F.workspace.requestWorkspaceTrust({message:j_}))return;let S=await rt(t,s.log);if(!await Kr(t,S,s.onDidInput,i,"reopenInContainer"))return;let I=F.workspace.workspaceFile;if(I&&I.scheme==="untitled"){await AA();return}let R=F.workspace.workspaceFolders;if(!I&&R&&R.length){let A=R.length>1?await F.window.showWorkspaceFolderPick({placeHolder:te.l10n.t("Pick a folder to reopen in a container.")}):R[0];A&&(I=A.uri)}let D=H$(I);if(D){await tb(t,D.repositoryPath,D.volumeName,D.folder,S);return}if(I){let A;if(S.cliHost.type==="wsl"&&I.scheme==="file"){let O=we(I,process.platform),M=ah(O)||B$()||await kS(S.output)||(()=>{throw new Error("No default WSL distro found.")})();A=await fd(M,O,S.output)}else A=we(I,S.cliHost.platform);let N=kt(S.cliHost.path,A);await eb(t,N,S,s.onDidInput,i,E,{forceReuseWindow:!0})}else return IB(t,!0,i,E,s.log,s.onDidInput)};t.subscriptions.push(F.commands.registerCommand("remote-containers.reopenLocally",async()=>{let E=F.workspace.workspaceFolders,C=F.workspace.workspaceFile||E&&E.length&&E[0].uri;if(C&&C.scheme==="vscode-remote"){let S=ri(C.authority);if(S&&kn(S)){let I=F.Uri.file(S.hostPath),R={forceReuseWindow:!0};await F.commands.executeCommand("vscode.openFolder",I,R)}else F.window.showInformationMessage(te.l10n.t("'Reopen Locally' not possible in current context."))}})),t.subscriptions.push(F.commands.registerCommand("remote-containers.reopenInWSL",async()=>{let E=F.workspace.workspaceFolders,C=F.workspace.workspaceFile||E&&E.length&&E[0].uri;if(C&&C.scheme==="vscode-remote"){let S=ri(C.authority);if(S&&kn(S)&&Mr(S.hostPath)){let I=F.Uri.parse((await ch(S.hostPath,s.log)).toString()),R={forceReuseWindow:!0};await F.commands.executeCommand("vscode.openFolder",I,R)}else F.window.showInformationMessage(te.l10n.t("'Reopen in WSL' not possible in current context."))}})),t.subscriptions.push(F.commands.registerCommand("remote-containers.reopenInSSH",async()=>{let E=F.workspace.workspaceFolders,C=F.workspace.workspaceFile||E&&E.length&&E[0].uri;if(C&&C.scheme==="vscode-remote"){let S=ri(C.authority),I=S==null?void 0:S.settings;if(S&&kn(S)&&(nl(S.parentAuthority)||tl(I))){let R=tl(I)?Mx(I.host,S.hostPath):xl(S.parentAuthority,S.hostPath),D={forceReuseWindow:!0};await F.commands.executeCommand("vscode.openFolder",F.Uri.parse(R.toString()),D)}else F.window.showInformationMessage(te.l10n.t("'Reopen in SSH' not possible in current context."))}})),t.subscriptions.push(F.commands.registerCommand("remote-containers.reopenInTunnel",async()=>{let E=F.workspace.workspaceFolders,C=F.workspace.workspaceFile||E&&E.length&&E[0].uri;if(C&&C.scheme==="vscode-remote"){let S=ri(C.authority);if(S&&kn(S)&&jc(S.parentAuthority)){let I=F.Uri.parse(xl(S.parentAuthority,S.hostPath).toString()),R={forceReuseWindow:!0};await F.commands.executeCommand("vscode.openFolder",I,R)}else F.window.showInformationMessage(te.l10n.t("'Reopen in Tunnel' not possible in current context."))}}));let p,m=async E=>{var D;if(!await Cf(t))return;let C,S=typeof E=="string"?E:(D=E==null?void 0:E.containerDesc)==null?void 0:D.Id;if(S){let A=await rt(t,s.log);if(!await Kr(t,A,s.onDidInput,i,"attachToContainer"))return;C=await Ai(A,S)}else{let A=!1;p||(p=_a(t.extensionPath,async M=>(A=!0,Su(M)),s.log));let N=await rt(t,s.log,void 0,void 0,p),O=Kr(t,N,s.onDidInput,i,"attachToContainer",()=>A=!0);if(C=await bWe(N,O,()=>A),!C)return}let I=await rt(t,s.log),R=t.extensionMode===F.ExtensionMode.Development;Z_(I,C,t,!R)};t.subscriptions.push(F.commands.registerCommand("remote-containers.attachToRunningContainer",m)),t.subscriptions.push(F.commands.registerCommand("remote-containers.attachToRunningContainerFromViewlet",m)),t.subscriptions.push(F.commands.registerCommand("remote-containers.attachToK8sContainerFromViewlet",async E=>Upe(t,await rt(t,s.log),E)));let h=async E=>{var I;let C=await rt(t,s.log);if(!await Kr(t,C,s.onDidInput,i,"checkoutPRInVolume"))return;let S=(I=E==null?void 0:E.pullRequestModel)==null?void 0:I.html_url;py(t,i,s.log,S,Wo)};t.subscriptions.push(F.commands.registerCommand("remote-containers.checkoutPRInVolume",h)),t.subscriptions.push(F.commands.registerCommand("remote-containers.switchContainer",async()=>{let E=await rt(t,s.log),C=kt(E.cliHost.path,E.cliHost.cwd);if((await Zpe(E.cliHost,C)).length<2){await F.window.showInformationMessage(te.l10n.t("No other Dev Container configurations found in folder. Did you mean to open another folder in a container?"),{modal:!0},te.l10n.t("Open Folder in Container..."))&&F.commands.executeCommand("remote-containers.openFolder");return}await eb(t,C,E,s.onDidInput,i,!1)})),t.subscriptions.push(F.commands.registerCommand("remote-containers.rebuildContainer",async()=>{let E=tm();if(E){let C=await rt(t,s.log);await tb(t,E.repositoryPath,E.volumeName,E.folder,C,!0);return}return await Promise.all(hi.onRemoveOnShutdownChangedEmitter.fire(!0)),F.commands.executeCommand("workbench.action.reloadWindow")})),t.subscriptions.push(F.commands.registerCommand("remote-containers.rebuildContainerNoCache",async()=>{let E=tm();if(E){let C=await rt(t,s.log);await tb(t,E.repositoryPath,E.volumeName,E.folder,C,"rebuildNoCache");return}return await Promise.all(hi.onRemoveOnShutdownChangedEmitter.fire("rebuildNoCache")),F.commands.executeCommand("workbench.action.reloadWindow")}));let g=ade(),v=((P=(F.workspace.workspaceFolders||[])[0])==null?void 0:P.uri)||xe.file(process.cwd()),x=g.then(E=>Vv(E,v)),y=x.then(E=>zde(t,{fileHost:E,findDevContainerFiles:$A,telemetry:i,output:s.log,existingFilesLearnMoreLink:Zp,predefinedDefinitionsLearnMoreLink:em,openConfigurationCommandId:Jp,showLogCommandId:$t}));t.subscriptions.push(F.commands.registerCommand("remote-containers.createDevContainerFile",async()=>{if(!F.workspace.workspaceFolders){await F.window.showInformationMessage(te.l10n.t("Open a folder to create the configuration files in first."),{modal:!0},te.l10n.t("Open Folder"))&&await F.commands.executeCommand(process.platform==="darwin"?"workbench.action.files.openFileFolder":"workbench.action.files.openFolder");return}await RB(t,await x,await y,i,s.log,s.onDidInput)})),t.subscriptions.push(F.commands.registerCommand("remote-containers.createDevContainer",async()=>{let E=await rt(t,s.log);await Kr(t,E,s.onDidInput,i,"createDevContainer")&&await Bpe(t,E,i)})),t.subscriptions.push(F.commands.registerCommand("remote-containers.openDevContainerFile",async(E,C)=>{let S,I=await rt(t,s.log),R;if(typeof E=="string"?S=[xe.file(E)]:(R=await $A(),S=(await Promise.all(R.map(D=>D.scheme==="file"||D.scheme==="vscode-remote"?D:I.cliHost.toCommonURI(we(D,I.cliHost.platform))))).filter(D=>!!D)),S.length){let D=await Xp(I.cliHost,S);if(!D||D==="cancelled")return;let A=tm();if(A){let N=mde(A.folder);for(let O of N){try{await F.workspace.openTextDocument(F.Uri.parse(O.toString()))}catch{continue}await F.commands.executeCommand("vscode.open",F.Uri.parse(O.toString()),C);return}return}if(D){if(D.scheme==="file"&&await fr(D.fsPath))return await F.commands.executeCommand("vscode.open",F.Uri.parse(D.toString()),C);if(D.scheme==="file"&&hi.results.size)return await Bo(Is,D,[],Lc),await F.commands.executeCommand("vscode.open",F.Uri.parse(D.toString()),C);if(D.scheme==="vscode-remote")return await F.commands.executeCommand("vscode.open",F.Uri.parse(D.toString()),C);if(E===void 0)return await RB(t,await x,await y,i,s.log,s.onDidInput)}}else if(E===void 0&&!(R!=null&&R.length))return await RB(t,await x,await y,i,s.log,s.onDidInput)})),t.subscriptions.push(F.commands.registerCommand("remote-containers.openAttachConfigByNameFile",async()=>{let{dockerContainerId:E,dockerParams:C}=[...hi.results.values()][0];if(!E||!C)return F.window.showInformationMessage(te.l10n.t("Named configurations are only available for Docker containers."),{modal:!0});let S=await Ai(C,E),I=QA(t.globalStoragePath,S.Name),R=F.Uri.file(I);return await fr(I)?F.commands.executeCommand("vscode.open",R):(await Bo(Is,R,[],Lc),F.commands.executeCommand("vscode.open",R))})),t.subscriptions.push(F.commands.registerCommand("remote-containers.openAttachDevContainerFile",async()=>{let E=[...(await rpe(t.globalStoragePath)).map(S=>({label:S.name,...S})).sort((S,I)=>S.label.localeCompare(I.label)),...(await ope(t.globalStoragePath)).map(S=>({label:S.image,...S})).sort((S,I)=>S.label.localeCompare(I.label))],C=await F.window.showQuickPick(E.length?E:[{label:te.l10n.t("No configuration found.")}],{placeHolder:te.l10n.t("Choose a configuration file")});if(C&&"uri"in C)return F.commands.executeCommand("vscode.open",F.Uri.parse(C.uri.toString()))})),t.subscriptions.push(F.commands.registerCommand("remote-containers.settings",async()=>F.commands.executeCommand("workbench.action.openSettings",`@ext:${zpe()}`))),t.subscriptions.push(F.commands.registerCommand("remote-containers.getHelp",async()=>F.env.openExternal(F.Uri.parse("https://aka.ms/vscode-remote/containers")))),t.subscriptions.push(F.commands.registerCommand("remote-containers.getStarted",async()=>F.env.openExternal(F.Uri.parse("https://aka.ms/vscode-remote/containers/getting-started")))),t.subscriptions.push(F.commands.registerCommand("remote-containers.reportIssue",async()=>{let E={extensionId:zpe(),issueBody:te.l10n.t("For bug reports please include the complete log output. (In the VS Code window: `F1` > `Dev Containers: Show Container Log`.)")};return F.commands.executeCommand("vscode.openIssueReporter",E)})),t.subscriptions.push(F.commands.registerCommand("remote-containers.provideFeedback",async()=>F.env.openExternal(F.Uri.parse("https://aka.ms/vscode-remote/containers/provide-feedback")))),x.then(E=>{t.subscriptions.push(F.languages.registerDocumentLinkProvider([{pattern:"**/devcontainer.json",language:"jsonc"},{pattern:"**/.devcontainer.json",language:"jsonc"}],new rD(E)))}),t.subscriptions.push(F.commands.registerCommand("remote-containers.trySample",()=>AWe(t,s,i))),t.subscriptions.push(F.commands.registerCommand("remote-containers.openLogFile",()=>DWe(t))),t.subscriptions.push(F.commands.registerCommand("remote-containers.openLastLogFile",()=>kWe(t,"remoteContainers",s.logFilePath))),t.subscriptions.push(F.commands.registerCommand("remote-containers.showReopenInContainerNotificationReset",()=>TWe(t))),t.subscriptions.push(F.commands.registerCommand("remote-containers.showRecoveryContainerNotificationReset",()=>sWe(t))),t.subscriptions.push(F.commands.registerCommand("remote-containers.installDocker",()=>eD(s.log))),t.subscriptions.push(F.commands.registerCommand("remote-containers.installDockerInWSL",()=>nD(s.log,s.onDidInput,i))),t.subscriptions.push(F.commands.registerCommand("remote-containers.cleanUpDevContainers",async()=>Rpe(await rt(t,s.log)))),Fpe(t,hi.results,i,s.log),jpe(t,r).catch(E=>{s.log.write(`Error ensuring user CLI is configured: ${(E==null?void 0:E.stack)||(E==null?void 0:E.message)||String(E)}`)}),t.subscriptions.push(F.commands.registerCommand("remote-containers.installUserCLI",()=>Hpe(t,r))),(async()=>{let E=F.env.remoteAuthority,C=E&&ri(E);C&&(ni(C)||Mc(C))&&C.inspectVolume&&await l,await pde(t)||await nme(t,await x,i,s.log,s.onDidInput)})().catch(console.error),aWe(t);let w=F.env.remoteName,_=!w||["dev-container","attached-container","wsl","ssh-remote","tunnel","exec","k8s-container","codespaces"].indexOf(w)!==-1?[{pattern:"**/.devcontainer.json"},{pattern:"**/devcontainer.json"}]:[];y.then(E=>{t.subscriptions.push(F.languages.registerCompletionItemProvider([..._,{pattern:mn.join(JA(t.globalStoragePath),"*.json")},{pattern:mn.join(XA(t.globalStoragePath),"*.json")}],E.createCompletionItemProvider()))}),t.subscriptions.push(F.commands.registerCommand("remote-containers.addExtensionToConfig",async E=>(await y).addExtensionToConfiguration(E)),F.commands.registerCommand("remote-containers.configureContainerFeatures",async()=>(await y).configureContainerFeatures()),F.commands.registerCommand("remote-containers.labelPortAndUpdateConfig",async E=>(await y).addPortLabelToConfiguration(E))),tm()&&F.commands.executeCommand("setContext","isRecoveryContainer",!0)}var Gpe="showRecoveryContainerNotification",Jpe="showReopenInContainerNotificationReset",oWe=5e3;function sWe(t){return t.globalState.update(Jpe,Date.now())}async function aWe(t){setTimeout(async()=>{let e=t.globalState.get(Jpe);if(NB(t.globalState.get(Gpe),e))return;if(tm()){let r=te.l10n.t("This is a recovery container that allows you to edit your Dockerfile. Use 'Reopen in Container' to retry."),i=te.l10n.t("Reopen in Container"),o=te.l10n.t("Don't Show Again"),s=await F.window.showInformationMessage(r,i,o);s===i?F.commands.executeCommand("remote-containers.reopenInContainer"):s===o&&await t.globalState.update(Gpe,Date.now())}},oWe)}async function cWe(){await Promise.all([...hi.results.values()].map(t=>Promise.all(t.params.shutdowns.map(e=>{try{e()}catch(n){console.error(n)}}))))}function zpe(){let{name:t,publisher:e}=Wpe();return`${e}.${t}`}async function IB(t,e,n,r,i,o){var d;let s=await rt(t,i);if(!await Kr(t,s,o,n,"openInContainer"))return;let a,u=F.workspace.workspaceFolders;if(u&&u[0]){let p=u[0].uri;if(p.scheme==="vscode-remote"){let m=ri(p.authority);if(m&&kn(m)){let h=kt(s.cliHost.path,m.hostPath);a=F.Uri.file(h.rootFolderPath)}else/^(wsl|ssh-remote|tunnel)\+/.test(p.authority)&&(a=p)}else p.scheme==="file"&&(a=p)}a||((d=F.env.remoteName)!=null&&d.match(/^(wsl|ssh-remote|tunnel)$/)?a=F.Uri.from({scheme:"vscode-remote",authority:F.env.remoteAuthority,path:await s.cliHost.homedir()}):a=F.Uri.file(Xpe.homedir()));let c=e?{defaultUri:a,canSelectFiles:!1,canSelectFolders:!0,canSelectMany:!1,openLabel:te.l10n.t("Open")}:{defaultUri:a,canSelectFiles:!0,canSelectFolders:!1,canSelectMany:!1,filters:{[te.l10n.t("Code Workspace")]:["code-workspace"]},openLabel:te.l10n.t("Open")},l=await F.window.showOpenDialog(c),f=l&&l[0];if(f){let p=e?f:f.with({path:mn.posix.dirname(f.path)}),m=await rt(t,s.output,p,$$()==="always"),h=we(f,m.cliHost.platform),g=kt(m.cliHost.path,h);await eb(t,g,m,o,n,r)}}async function eb(t,e,n,r,i,o,s){try{await uWe(t,e,n,r,i,o,s)}catch(a){await Tf(a,"ui",i,!1,n.output)}}async function uWe(t,e,n,r,i,o,s){var E;let{cliHost:a}=n;if(Mr(e.rootFolderPath)){if(n=await rt(t,n.output,e.rootFolderPath),a=n.cliHost,!await Kr(t,n,r,i,"openInContainer"))return;e=kt(a.path,e.isWorkspaceFile?a.path.join(a.cwd,mn.basename(e.workspaceOrFolderPath)):a.cwd)}let u=await cS(a,e);if(u){let C=te.l10n.t("Continue");if(await F.window.showInformationMessage(te.l10n.t("The workspace could fail to open in a container: {0}",u),{modal:!0},C)!==C)return}let c=await lWe(a,e);if(c==="cancelled")return;let l=c||await ew(a,e,bf(),!0,n.output),f=l&&(l.scheme==="file"?await st(l.fsPath):await a.readFile(we(l,a.platform))).toString(),d=!!(f&&((E=Ye(f))!=null&&E.initializeCommand)),{dockerCLI:p,dockerComposePath:m}=n,h={cliHost:a,dockerPath:p,dockerComposePath:m,appRoot:F.env.appRoot,extensionPath:t.extensionPath,package:await Fr(t.extensionPath),output:n.output},g=l&&await(d?$_(h,e.rootFolderPath,l):z$(h,e.rootFolderPath,l));if(g==="canceled")return;if(!g||!m0(g.configuration)){let C=await zA({fileHost:a,telemetry:i,output:n.output,existingFilesLearnMoreLink:Zp,predefinedDefinitionsLearnMoreLink:em,openConfigurationCommandId:Jp,showLogCommandId:$t},e);if(!C||(g=await z$(h,e.rootFolderPath,xe.file(C).with({scheme:ft.scheme})),!g||g==="canceled"))return}if(!await wde(t,n,g.configuration)||!await dWe(n,"mergedConfiguration"in g?g.mergedConfiguration:g.configuration))return;let v=g.configuration,x=g.workspace.workspaceFolder;if(jr(v)){let C=ul(a,v);if(!v.initializeCommand&&!await ir(a).readDocument(C))return nb(te.l10n.t('"{0}" does not exist.',C.fsPath),a,v.configFilePath);if(v.workspaceFolder&&!mn.posix.isAbsolute(v.workspaceFolder))return nb(te.l10n.t("Workspace folder in devcontainer.json must be an absolute path."),a,v.configFilePath)}else if(!("image"in v))if("dockerComposeFile"in v){if(!await bpe(n)||!await CWe(e,n,v))return}else{let C=v.configFilePath;return nb(te.l10n.t('Configuration "{0}" not valid.',a.path.relative(e.rootFolderPath,we(C,a.platform))),a,C)}e.isWorkspaceFile&&(x=mn.posix.join(x,a.path.basename(e.workspaceOrFolderPath)));let y=sr(n.env),w=a.type==="wsl"?(await a.toCommonURI(e.workspaceOrFolderPath)).fsPath:e.workspaceOrFolderPath,_=(a.type==="local"||a.type==="wsl")&&tl(y),T=(l==null?void 0:l.scheme)===ft.scheme&&a.type==="wsl"&&!Mr(w)&&await a.toCommonURI(we(l,a.platform))||l,P=F.Uri.parse(cw(F.env.remoteAuthority,w,x,y,_,T));await nm({uri:P,type:e.isWorkspaceFile?"workspace":"folder",label:te.l10n.t("{0} [Dev Container]",`${D9(a.platform,e.workspaceOrFolderPath,await a.homedir())}${Ph(F.env.remoteAuthority,y)}`)}),await G$(t,o?P.authority:!1),await q_(t,o==="rebuildNoCache"?P.authority:!1),await F.commands.executeCommand("vscode.openFolder",P,s)}async function Zpe(t,e){let n=await fWe(t,e.rootFolderPath),r=new F.RelativePattern(n,L_);return await Promise.all((await F.workspace.findFiles(r)).map(async o=>o.scheme===Pi.scheme?xe.from({scheme:ft.scheme,path:o.path}):t.type==="wsl"&&o.scheme==="file"?xe.from({scheme:ft.scheme,path:await P0(o,t)}):o))}async function lWe(t,e){let n=await Zpe(t,e),r;if(F.env.remoteAuthority){let i=ri(F.env.remoteAuthority);i&&kn(i)&&(r=i.configFile)}return Xp(t,n,r)}function fWe(t,e){switch(t.type){case"local":return xe.file(e);case"wsl":return F.env.remoteName==="wsl"?xe.from({scheme:"vscode-remote",authority:F.env.remoteAuthority,path:e}):t.toCommonURI(e);case"remote":return F.env.remoteName==="ssh-remote"||F.env.remoteName==="tunnel"?or(t.platform,xe.from({scheme:"vscode-remote",authority:F.env.remoteAuthority}),e):void 0;default:return}}async function dWe(t,{hostRequirements:e}){var r,i;let n=e&&pWe(e);if(n&&(n.cpus||n.memory||n.gpu&&n.gpu!=="optional")){let o=await ke(t,"info","--format","{{json .}}"),s=JSON.parse(o.stdout.toString()),a=s.NCPU&&n.cpus&&n.cpus>s.NCPU,u=s.MemTotal&&n.memory&&n.memory>s.MemTotal,c=((i=(r=s.Runtimes)==null?void 0:r.nvidia)==null?void 0:i.path)==="nvidia-container-runtime";if(a||u){let l=[];s.NCPU&&l.push(te.l10n.t("CPUs {0}",s.NCPU.toLocaleString())),s.MemTotal&&l.push(te.l10n.t("RAM {0}",PB(s.MemTotal))),c&&l.push(te.l10n.t("GPU"));let f=[];n.cpus&&f.push(te.l10n.t("CPUs {0}",n.cpus.toLocaleString())),n.memory&&f.push(te.l10n.t("RAM {0}",PB(n.memory))),n.storage&&f.push(te.l10n.t("disk {0}",PB(n.storage))),n.gpu&&n.gpu!=="optional"&&f.push(te.l10n.t("GPU"));let d=te.l10n.t(`Docker daemon: {0}
devcontainer.json: {0}`,l.join(", "),f.join(", "));if(!await F.window.showInformationMessage(te.l10n.t("Not all host requirements in devcontainer.json are met by the Docker daemon."),{modal:!0,detail:d},te.l10n.t("Continue")))return!1}}return!0}function pWe(t){return{cpus:t.cpus||0,memory:Ype(t.memory||"0"),storage:Ype(t.storage||"0"),gpu:t.gpu}}function Ype(t){let e=/^(\d+)([tgmk]b)?$/.exec(t);if(e){let[,n,r]=e,i=parseInt(n,10),o=r&&{t:2**40,g:2**30,m:2**20,k:2**10}[r[0]]||1;return i*o}return 0}function PB(t){let e=Math.min(Math.floor(Math.log2(Math.max(Math.abs(t),1))/10),4),n=t/Math.pow(2,10*e),r=Math.max(Math.pow(10,2-Math.floor(Math.log10(Math.max(Math.abs(n),1)))),1),i=Math.round(n*r)/r,o=[" bytes","kb","mb","gb","tb"][e];return`${i.toLocaleString()}${o}`}async function py(t,e,n,r,i,o){if(!await H_(t))return;let s=await rt(t,n),a=null;if(await Kr(t,s,r,e,"cloneInVolume")){if(typeof i=="string")a=i;else{let u;if(i!==void 0?u=i:u=await F.commands.executeCommand("git-base.api.getRemoteSources",{providerLabel:c=>te.l10n.t("Clone a repository from {0} in a Container Volume",c.name),urlLabel:te.l10n.t("Clone git repository from URL"),branch:!0}),u){a=(typeof u=="string"?u:u.url).trim(),a.split("/").length===2&&a.indexOf(":")===-1&&(a=`https://github.com/${a}`);let c=Pa(a);if(await AN(s.cliHost,c.repositoryUrl,await FA(s.output),s.output)===!1){F.commands.executeCommand($t),await F.window.showInformationMessage(te.l10n.t("Cannot access the repository '{0}'.",c.repositoryUrl),{modal:!0});return}typeof u!="string"&&u.branch&&(a=`${a}/tree/${u.branch}`)}}a&&await eme(t,s,a,o)}}async function eme(t,e,n,r){if(r||(r=await vWe(e)),r){let i=FB(n);r!==Wo&&(i=await xWe(n)),i&&await tb(t,n,r,i,e)}}async function mWe(t,e,n,r,i,o){if(!await H_(t))return;let s=await rt(t,n),a=/^(?:(?:https:\/\/)?github.com\/)?([^/]+)\/([^/]+?)(?:\/(?:pull\/([0-9]+)))?(?:\/|$)/i;if(!await Kr(t,s,r,e,"checkoutPRInVolume"))return;let u={placeHolder:te.l10n.t("e.g. https://github.com/microsoft/vscode/pull/123"),prompt:te.l10n.t("Enter a GitHub pull request url"),validateInput:f=>a.test(f)?void 0:te.l10n.t("Invalid pull request url")},c;if(i?c=i:c=await F.window.showInputBox(u),!c)return;let l=Pa(c);if(l.repository==="unknown"||!l.pullRequestId){await F.window.showInformationMessage(te.l10n.t("Invalid pull request URL '{0}'.",c),{modal:!0});return}await eme(t,s,c,o)}async function tme(t,e,n,r,i,o,s){let a=await rt(t,o);await Kr(t,a,s,i,"inspectVolume")&&(e||(e=await gWe(a)),e&&(n&&r?await _We(e,n,r,a):await EWe(e,a)))}async function hWe(t,e,n,r,i){let o=await rt(t,r);await Kr(t,o,i,n,"inspectVolume")&&e&&e.volumeName&&await tme(t,e.volumeName,void 0,void 0,n,r,i)}var rb=class{get detail(){return""}},DB=class extends rb{get label(){return te.l10n.t("$(plus) Create a new volume...")}get description(){return""}get volumeName(){return""}get detail(){return te.l10n.t("Use this volume to store several cloned repositories.")}get alwaysShow(){return!0}},kB=class extends rb{constructor(n){super();this.volume=n}get label(){return te.l10n.t("$(folder) {0}",this.volume.Name)}get description(){let n=new Date(this.volume.CreatedAt);return te.l10n.t("created at {0}",n.toDateString())}get volumeName(){return this.volume.Name}},OB=class extends rb{constructor(n){super();this.volume=n}get label(){return te.l10n.t("$(folder) {0}",this.volume.Name)}get description(){let n=new Date(this.volume.CreatedAt);return te.l10n.t("created at {0}",n.toDateString())}get volumeName(){return this.volume.Name}};async function gWe(t){let e=await Di(t),r=(await xd(t,e)).map(a=>new OB(a)),i=te.l10n.t("Select the volume to inspect with Visual Studio Code"),o=F.window.createQuickPick();o.items=r,o.placeholder=i,o.show();let s=await new Promise(a=>{o.onDidAccept(()=>a(o.activeItems[0])),o.onDidHide(()=>a(void 0))});return o.hide(),s?s.volume.Name:null}async function vWe(t){let e=await Di(t,["vsch.local.repository.unique=false"]),r=(await xd(t,e)).map(l=>new kB(l)),i=new DB,o=[i,...r],s=te.l10n.t("Select the volume for the cloned repository"),a=F.window.createQuickPick();a.items=o,a.placeholder=s,a.ignoreFocusOut=!0,a.show();let u=await new Promise(l=>{a.onDidAccept(()=>l(a.activeItems[0])),a.onDidHide(()=>l(void 0))});if(a.hide(),!u)return null;let c=null;return u===i?c=await yWe(t):c=u.volumeName,c}async function yWe(t){let e="",n="vsc-remote-containers",r=await Di(t);r.find(s=>s===n)||(e=n);let i={prompt:te.l10n.t("Enter the volume name."),value:e,ignoreFocusOut:!0,validateInput:s=>/^[a-zA-Z0-9][a-zA-Z0-9_.-]+$/i.test(s)?null:s.length<2?te.l10n.t("Volume names should be at least two characters and the first character must be alphanumeric."):te.l10n.t("Only [a-zA-Z0-9_.-] are allowed and the first character must be alphanumeric.")},o=await F.window.showInputBox(i);return o?r.find(s=>s===o)?(await F.window.showErrorMessage(te.l10n.t("Volume already exists"),{modal:!0}),null):o:null}async function xWe(t){let e={prompt:te.l10n.t("Enter the target folder name."),value:FB(t),ignoreFocusOut:!0},n=await F.window.showInputBox(e);return n||null}function FB(t){return uo(t).repositoryName}async function wWe(){return(await F.authentication.getSession("github",["repo"],{createIfNone:!0})).accessToken}async function tb(t,e,n,r,i,o=!1){let s=sr(i.env),a=D0(e),u;try{u=await a.parseUrl(void 0)}catch(l){if(l instanceof ow){F.window.showErrorMessage(l.description);return}let f=await wWe();try{u=await a.parseUrl(f)}catch{F.window.showErrorMessage(te.l10n.t("Cannot access '{0}'.",e),{modal:!0});return}}let c=F.Uri.parse(Ds(i.cliHost.authority,e,n,r,!1,s,u));n===Wo&&(n=te.l10n.t("a unique volume")),await nm({uri:c,type:"folder",label:te.l10n.t("{0} in {1} [Dev Container]",r,n)}),await G$(t,o?c.authority:!1),await q_(t,o==="rebuildNoCache"?c.authority:!1),await F.commands.executeCommand("vscode.openFolder",c)}async function EWe(t,e){let n=sr(e.env),r=F.Uri.parse(Ds(e.cliHost.authority,void 0,t,void 0,!0,n,void 0));await nm({uri:r,type:"folder",label:te.l10n.t("Volume {0} [Dev Container]",t)}),await F.commands.executeCommand("vscode.openFolder",r)}async function _We(t,e,n,r){let i=sr(r.env),o=F.Uri.parse(Ds(r.cliHost.authority,e,t,n,!0,i,void 0));await nm({uri:o,type:"folder",label:te.l10n.t("{0} in {1} [Inspect Dev Container]",n,t)}),await F.commands.executeCommand("vscode.openFolder",o)}async function Z_(t,e,n,r,i){var u;if(!await Cf(n))return;let o,s=t.cliHost;if(s.type==="wsl"){let c=await s.toCommonURI(s.cwd);c&&c.scheme==="file"&&(o=c.fsPath)}let a=I9(t.cliHost.authority,e.Name,sr(t.env),o);if(i=i||((u=await tpe(n.globalStoragePath,e))==null?void 0:u.workspaceFolder),i){let c=F.Uri.parse(`vscode-remote://${a}${i}`),l={};r?l.forceNewWindow=!0:l.forceReuseWindow=!0,await F.commands.executeCommand("vscode.openFolder",c,l)}else{let c={remoteAuthority:a};r||(c.reuseWindow=!0),await F.commands.executeCommand("vscode.newWindow",c)}}async function bWe(t,e,n){let r=(async()=>{if(!await e)throw new Error("cancel");let i=await Fc(t),o=await ba(t,i),s=[];if(o.forEach(a=>{a.State.Status==="running"&&s.push({label:a.Name,description:`${a.Config.Image} ${a.Id}`,containerInfo:a})}),s.length===0)throw F.window.showErrorMessage(te.l10n.t("There are no running containers to attach to."),{modal:!0}),new Error("cancel");return s})();try{let i={placeHolder:te.l10n.t("Select the container to attach VS Code")},o=await F.window.showQuickPick(r,i);if(!o&&n()){if(!await e)throw new Error("cancel");o=await F.window.showQuickPick(r,i)}return o?o.containerInfo:void 0}catch(i){if(i&&i.message==="cancel")return;throw i}}async function CWe(t,e,n){if(!n.workspaceFolder)return nb(te.l10n.t("Workspace folder not specified in devcontainer.json."),e.cliHost,n.configFilePath),!1;if(!mn.posix.isAbsolute(n.workspaceFolder))return nb(te.l10n.t("Workspace folder in devcontainer.json must be an absolute path."),e.cliHost,n.configFilePath),!1;let r=await ll(e.cliHost,n,e.cliHost.env,e.cliHost.cwd),i=await WL(e,t,r),o=await ZK(e,i,n.service);return!(o&&await Ai(e,o)&&!await SWe(e.cliHost,r))}async function SWe(t,e){let n=[];for(let r=0;r<e.length;r++)await t.isFile(e[r])||n.push(e[r]);return n.length>0?(F.window.showErrorMessage(te.l10n.t("The following referenced docker compose files do not exist: {0}",n.join(", ")),{modal:!0}),!1):!0}async function nb(t,e,n){if(await F.window.showErrorMessage(t,{modal:!0},te.l10n.t("Open devcontainer.json"))){let i=we(n,e.platform),o=await e.toCommonURI(i);o&&F.window.showTextDocument(F.Uri.parse(o.toString()))}}async function RB(t,e,n,r,i,o){await n.createConfiguration()&&await nme(t,e,r,i,o)}async function nme(t,e,n,r,i){if([void 0,"wsl","ssh-remote","tunnel"].indexOf(F.env.remoteName)===-1)return;let o=F.workspace.workspaceFile,s=F.workspace.workspaceFolders,a=o||s&&s.length&&s[0].uri||void 0;if(a&&a.scheme!=="vscode-vfs"){let u=we(a,e.platform),c=kt(e.path,u),l=await C0(e,c,bf());if(!l){let f=await $A();f.length&&(l={uri:f[0],location:"workspace"})}l&&await IWe(t,l,c,e,n,r,i)}}var mD="showReopenInContainerNotification",rme="showReopenInContainerNotificationReset";function TWe(t){return t.globalState.update(rme,Date.now())}async function IWe(t,e,n,r,i,o,s){let a=t.globalState.get(rme);if(NB(t.globalState.get(mD),a)||NB(t.workspaceState.get(mD),a))return;let u=r9(r,n,e.uri),c,l="";if(r.platform!=="linux"&&F.env.remoteName!=="wsl"&&!(r.platform==="win32"&&Mr(n.rootFolderPath))&&F.env.remoteName!=="ssh-remote"){let y=await rt(t,o);if(c=await n8(y.cliHost,n,y.output),c&&u){let w=await Cx(y.cliHost,n.rootFolderPath,y.output);w&&await o8(y.cliHost,n,y.cliHost.path.relative(w,we(e.uri,y.cliHost.platform)),y.output)||(c=void 0)}if(c){let{cliHost:w,dockerCLI:_,dockerComposePath:T}=y,P={cliHost:w,dockerPath:_,dockerComposePath:T,appRoot:F.env.appRoot,extensionPath:t.extensionPath,package:await Fr(t.extensionPath),output:o},E=await $_(P,n.rootFolderPath,e.uri);(!E||!jr(E.configuration)&&!("image"in E.configuration))&&(c=void 0)}c&&(l=te.l10n.t(" Or: Clone repository in Docker volume for [better I/O performance](https://aka.ms/vscode-remote/containers/open-repo)."))}let f;u?n.isWorkspaceFile?f=te.l10n.t("Workspace contains a Dev Container configuration file."):f=te.l10n.t("Folder contains a Dev Container configuration file."):f=te.l10n.t("There is a [Dev Container configuration](command:remote-containers.openDevContainerFile) available for this repository.");let d=te.l10n.t("Reopen in Container"),p=te.l10n.t("Clone in Volume"),m=te.l10n.t("Don't Show Again..."),h=n.isWorkspaceFile?te.l10n.t("{0} Reopen workspace to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).{1}",f,l):te.l10n.t("{0} Reopen folder to develop in a container ([learn more](https://aka.ms/vscode-remote/docker)).{1}",f,l),g=c?[d,p,m]:[d,m];PWe(i,e.location);let v=await F.window.showInformationMessage(h,...g);if(RWe(i,v===d?"reopen":v===p?"openRepository":v===m?"dontShowAgain":"cancel",e.location),v===d){if(!await F.workspace.requestWorkspaceTrust({message:j_}))return;let w=await rt(t,o);if(!await Kr(t,w,s,i,"reopenInContainer"))return;if(w.cliHost.type==="wsl"&&r.platform==="win32"){let{cwd:_}=await iL(n.workspaceOrFolderPath,Ja(),o);n=kt(w.cliHost.path,_)}await eb(t,n,w,s,i,!1,{forceReuseWindow:!0})}else if(v===p){let y=await rt(t,o),w=await i8(y.cliHost,n,y.output),_=te.l10n.t("OK"),T=te.l10n.t("Cancel");(!w||_===await F.window.showInformationMessage(te.l10n.t("Local changes not pushed to the Git remote will not be available in the Docker volume."),_,T))&&await F.window.withProgress({location:F.ProgressLocation.Notification,title:te.l10n.t("Clone in Volume")},async(P,E)=>{P.report({message:te.l10n.t("Follow the prompts at the top of the window.")}),await F.commands.executeCommand(NA,c)})}else if(v===m){let y=n.isWorkspaceFile?te.l10n.t("Any Workspace"):te.l10n.t("Any Folder"),w=n.isWorkspaceFile?te.l10n.t("Current Workspace"):te.l10n.t("Current Folder"),_=n.isWorkspaceFile?te.l10n.t("Don't show again for the current workspace or for any workspace?"):te.l10n.t("Don't show again for the current folder or for any folder?"),T=await F.window.showInformationMessage(_,y,w);T===y?await t.globalState.update(mD,Date.now()):T===w&&await t.workspaceState.update(mD,Date.now())}}function PWe(t,e){t.sendTelemetryEvent("reopenNotificationOpen",{location:e})}function RWe(t,e,n){t.sendTelemetryEvent("reopenNotificationResult",{result:e,location:n})}function NB(t,e){return t===!1?t=1:t===void 0&&(t=-1),e===void 0&&(e=0),e<t}async function AWe(t,e,n){let r=await rt(t,e.log);if(!await Kr(t,r,e.onDidInput,n,"trySample"))return;let i=[{label:"C++",detail:"https://github.com/Microsoft/vscode-remote-try-cpp"},{label:"Go",detail:"https://github.com/Microsoft/vscode-remote-try-go"},{label:"Java",detail:"https://github.com/Microsoft/vscode-remote-try-java"},{label:".NET",detail:"https://github.com/Microsoft/vscode-remote-try-dotnet"},{label:"Node",detail:"https://github.com/Microsoft/vscode-remote-try-node"},{label:"PHP",detail:"https://github.com/Microsoft/vscode-remote-try-php"},{label:"Python",detail:"https://github.com/Microsoft/vscode-remote-try-python"},{label:"Rust",detail:"https://github.com/Microsoft/vscode-remote-try-rust"}],o={placeHolder:te.l10n.t("Select a sample repository to clone in a container volume")},s=await F.window.showQuickPick(i,o);s&&s.detail&&await tb(t,s.detail,Wo,FB(s.detail),r)}async function DWe(t){let e=await Promise.all((await ime(t)).map(async r=>{let i=await(0,LB.promisify)(gD.stat)(r.path),o=r.time;return{label:r.prefix,description:`${my(o.getFullYear())}-${my(o.getMonth()+1)}-${my(o.getDate())} ${my(o.getHours())}:${my(o.getMinutes())}:${my(o.getSeconds())} - ${i.size} bytes`,path:r.path}}));e.length||e.push({label:te.l10n.t("No log files found.")});let n=await F.window.showQuickPick(e,{placeHolder:te.l10n.t("Choose a log file")});n&&n.path&&await F.window.showTextDocument(F.Uri.file(n.path))}function my(t,e=2){return t.toString().padStart(e,"0")}async function kWe(t,e,n){let r=(await ime(t)).find(i=>i.name.startsWith(e)&&i.path!==n);r?await F.window.showTextDocument(F.Uri.file(r.path)):await F.window.showInformationMessage(te.l10n.t("No previous log file found."),{modal:!0})}async function ime(t){let e=[],n=mn.basename(t.logPath),r=mn.dirname(mn.dirname(mn.dirname(t.logPath))),i=/(\d\d\d\d)(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)/;i.test(mn.basename(r))&&(r=mn.dirname(r));for(let o of(await hD(r)).sort().reverse()){let s=i.exec(o);if(s){let a=mn.join(r,o);for(let u of await hD(a)){let c=mn.join(a,u),l=u.startsWith("window");for(let f of l?await hD(c):[u]){let d=mn.join(l?c:a,f),p=mn.join(d,n);for(let m of(await hD(p)).sort()){let h=mn.join(p,m),g=/(\d\d\d\d)-(\d\d)-(\d\d)T(\d\d)[:\-](\d\d)[:\-](\d\d)\.(\d\d\d)Z/.exec(m),v=g?new Date(`${g[1]}-${g[2]}-${g[3]}T${g[4]}:${g[5]}:${g[6]}.${g[7]}Z`):new Date(`${s[1]}-${s[2]}-${s[3]}T${s[4]}:${s[5]}:${s[6]}Z`);e.push({name:m,path:h,time:v,prefix:g?m.substr(0,g.index-1):m.substr(0,m.length-4)})}}}}}return e.sort((o,s)=>o.time>s.time?-1:o.time<s.time?1:o.path.localeCompare(s.path)),e}async function hD(t){try{return await(0,LB.promisify)(gD.readdir)(t)}catch{return[]}}0&&(module.exports={activate,attachToContainer,deactivate});
/*! Bundled license information:

@microsoft/dynamicproto-js/lib/dist/esm/dynamicproto-js.js:
  (*!
   * Microsoft Dynamic Proto Utility, 1.1.7
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

@microsoft/applicationinsights-web-snippet/dist/esm/applicationinsights-web-snippet.js:
  (*!
   * Application Insights JavaScript SDK - Web Snippet, 1.0.1
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)

mime-db/index.js:
  (*!
   * mime-db
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015-2022 Douglas Christopher Wilson
   * MIT Licensed
   *)

mime-types/index.js:
  (*!
   * mime-types
   * Copyright(c) 2014 Jonathan Ong
   * Copyright(c) 2015 Douglas Christopher Wilson
   * MIT Licensed
   *)

js-yaml/dist/js-yaml.mjs:
  (*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT *)
*/
//# sourceMappingURL=extension.js.map
